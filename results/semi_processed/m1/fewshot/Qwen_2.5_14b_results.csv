id,question,true_query,result,generated_sql
110b301bfc80d9c150556b92,What was measured as patient 10007795's weight during the last check in 05/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',chartevents.charttime) = '05' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) AND chartevents.charttime LIKE '2022-05%' ORDER BY chartevents.charttime DESC LIMIT 1
8304664f47f63bb4e4aedbc5,Count the current patients who are in the 40s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 40 AND 49,,SELECT COUNT(*) FROM patients WHERE patients.dob <= '1970-01-01' AND patients.dob >= '1979-12-31'
44b000c0c7e63ce369e8fcb0,Can you tell me if patient 10039997 is male or female?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10039997,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10039997
fb08961df2b632f9644c112c,When was patient 10015860's last hospital discharge?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10015860 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2193-11-27 21:58:00'}],SELECT admittime FROM admissions WHERE subject_id = 10015860 ORDER BY admittime DESC LIMIT 1
2977de037421f92addee92ab,What is the total volume of patient 10021487's input on 12/22/this year?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '12-22'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.subject_id = 10021487 AND chartevents.charttime LIKE '12/22/%' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Total Volume of Input' )
a903f7427fcbfe8c1598e7c7,What was the name of the last specimen test which patient 10027602 has received since 02/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'URINE'}],"SELECT s.specimen_id, s.collection_time, d_items.label FROM chartevents c JOIN specimens s ON s.specimen_id = c.specimen_id JOIN d_items ON d_items.itemid = c.itemid WHERE c.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND s.collection_time >= '02/2100' ORDER BY s.collection_time DESC LIMIT 1"
d53217eec061327cdf9bf36c,Prazosin - How much does it cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'prazosin' ),,
d5e1e8e66d78933ac955b076,When did patient 10021487 have the last respiratory rate observed to be less than 14.0 since 09/07/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 14.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-09-07' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 14.0 AND chartevents.charttime > '09/07/2100' ORDER BY chartevents.charttime DESC LIMIT 1
11c93be39a2819fec36e2a6b,Does patient 65759 have a record of hypotension nec in his / her family?,,,
f14d33079f86bdf9032e4b84,What is the recently prescribed medication for patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.drug, prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 DAY) ORDER BY prescriptions.startdate DESC LIMIT 1,1"
f41dd60cef49db205a9a109e,What was the name of the drug that was last prescribed for patient 10027445 since 06/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Potassium Chloride'}],SELECT medications_miv.text FROM medications_miv WHERE medications_miv.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND medications_miv.charttime >= '2100-06-01' ORDER BY medications_miv.charttime DESC LIMIT 1
00fbe516569113decea8de73,When was patient 10013049's last microbiological examination on their first hospital visit?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'charttime': '2114-06-20 11:09:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' ) ORDER BY chartevents.charttime DESC LIMIT 1
d711ad001701aaf7a999ff6f,"How many patients had extirpation of matter from left femoral vein, percutaneous approach done during this year?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
f224a6e013d318ebe61083f8,What was the drug first prescribed to patient 10039708 in 11/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10039708 AND prescriptions.startdate BETWEEN '11/01/2100' AND '11/30/2100' ORDER BY prescriptions.startdate ASC LIMIT 1
5f14e8eaef40b6633ce2e6dc,How was patient 10020944 admitted to the hospital in terms of admission type for the first time?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10020944 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime ASC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime ASC LIMIT 1
39cc7a512a66650e91459e27,When did patient 10005348 get the microbiology test for the last time since 07/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2130-10-27 17:02:00'}],SELECT microbiologyevents.chartdate FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND datetime(microbiologyevents.chartdate) >= datetime('07/2100') ORDER BY microbiologyevents.chartdate DESC LIMIT 1
5a47ea8047b87b5f311738fc,How many times was a excision of dental lesion of jaw procedure done in 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) AND YEAR(procedures_icd.chartdate) = 2100
812b9c3cb24eb55cbd0989b6,What was the procedure conducted on patient 10020740 two or more times in 04/this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '04' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT procedures_icd.icd_code FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND procedures_icd.chartdate >= '2022-04-01' AND procedures_icd.chartdate < '2022-05-01' GROUP BY procedures_icd.icd_code HAVING COUNT(*) >= 2 )
814f6690d0bc9410fa12b9f4,What was the total dose of aspirin patient 10017492 had been prescribed during the last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'aspirin',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdr.dose_val_rx) FROM prescriptions AS cdr INNER JOIN admissions AS adm ON cdr.hadm_id = adm.hadm_id WHERE adm.subject_id = 10017492 AND adm.admittime = ( SELECT adm.admittime FROM admissions AS adm INNER JOIN prescriptions AS cdr ON adm.hadm_id = cdr.hadm_id WHERE adm.subject_id = 10017492 ORDER BY adm.admittime DESC LIMIT 1 ) AND cdr.greedydrug LIKE '%aspirin%'
caa992eaae720918e04f0b4d,Which are the five most common specimens tested throughout this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE YEAR(chartevents.charttime) = YEAR(CURDATE()) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
9d89c1083e101a847c24df5f,What is the percentile of 96.0 for a po2 test given the same age as patient 10003400 on their last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'po2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10003400 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 96.0",,
5ea4690a08942372011bee45,"Of the patients of age 50s since 1 year ago, what were the top four most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) FROM diagnoses_icd JOIN patients ON diagnoses_icd.subject_id = patients.subject_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE patients.dob >= DATE_SUB(CURDATE(), INTERVAL 55 YEAR) AND patients.dob < DATE_SUB(CURDATE(), INTERVAL 50 YEAR) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) GROUP BY diagnoses_icd.icd_code ORDER BY COUNT(*) DESC LIMIT 4"
86ab734fd86c4c14b393eecc,Tell me about the three most common specimens tested in 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],"SELECT chartevents.itemid , COUNT(*) AS frequency FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2021-10-01' AND '2021-10-31' ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
5f4091b20b6ccfd4e72a8f1f,Please tell me the sex of patient 10018328.,SELECT patients.gender FROM patients WHERE patients.subject_id = 10018328,[{'gender': 'F'}],SELECT gender FROM patients WHERE subject_id = 10018328
7a5650e936855a3fa424dc59,Find out the number of hospital visits patient 10014078 had in the last year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10014078 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
2bc23738094540fb7b4e565e,Can you provide me the monthly maximum amount of dextrose 50% that patient 10020944 received during the first hospital visit?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 50%' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m',inputevents.starttime)",[],"SELECT EXTRACT(MONTH FROM chartevents.charttime) as month, MAX(chartevents.amount) as max_amount FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime LIMIT 1) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'D50W') GROUP BY month"
a4b29cbfbb96679f14e6eac0,How many patients were diagnosed with unspecified essential hypertension during the same hospital visit after the previous diagnosis with aortic valve disorders?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'aortic valve disorders' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd AS d1 ON admissions.hadm_id = d1.hadm_id JOIN diagnoses_icd AS d2 ON admissions.hadm_id = d2.hadm_id WHERE d1.icd_code LIKE 'I70%' AND d2.icd_code = '4019'
0eec887f694582394cfc6f10,How many patients in 2100 received open and other cecectomy within 2 months after being diagnosed with pure hypercholesterolemia?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pure hypercholesterolemia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'open and other cecectomy' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM admissions AS a JOIN diagnoses_icd AS d ON a.hadm_id = d.hadm_id JOIN icd9_dcm AS icd9 ON d.icd9_code = icd9.icd9 JOIN procedures_icd AS p ON a.hadm_id = p.hadm_id JOIN icd9_dcm AS icd9_p ON p.icd_code = icd9_p.icd9 JOIN patients AS pt ON a.subject_id = pt.subject_id WHERE icd9.description = 'pure hypercholesterolemia' AND icd9_p.description LIKE '%open and other cecectomy%' AND p.chartdate BETWEEN a.admittime AND DATEADD(a.admittime, INTERVAL 2 MONTH) AND a.hospital_expire_flag = 2100"
11e07c7cfecad5cb89401830,Give a count of the number of ICU visits of patient 10025612 in the first hospital visit.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ORDER BY admissions.admittime LIMIT 1 )
1d4b0f83e48e3a972b624537,Work out the total amount of input patient 10016742 received on 08/04/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '08-04'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.input) FROM chartevents WHERE chartevents.subject_id = 10016742 AND chartevents.charttime BETWEEN '08/04/this year 00:00:00' AND '08/04/this year 23:59:59'
74758a7e91cabecd02edc1c8,"What was the name of the drug patient 10021118 was prescribed with within 2 days after having received a performance of cardiac output, continuous procedure in this month?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT d_cpt.cpt_system, d_cpt.cpt_code, d_cpt.long_title FROM procedures_icd AS p INNER JOIN d_icd_procedures AS d ON p.icd_code = d.icd_code INNER JOIN d_cpt AS d_cpt ON d.cpt_cd = d_cpt.cpt_code WHERE p.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND d_cpt.long_title = 'performance of cardiac output, continuous' AND p.chartdate >= current_date - 2 AND p.chartdate <= current_date AND EXISTS ( SELECT admittime FROM admissions WHERE admittime >= current_date - 2 AND admittime <= current_date AND subject_id = 10021118 ) AND EXISTS ( SELECT charttime FROM chartevents WHERE chartevents.hadm_id = p.hadm_id AND chartevents.charttime >= p.charttime AND chartevents.charttime <= p.charttime + INTERVAL 2 DAY AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' OR label LIKE '%drug%' OR description LIKE '%drug%' OR category LIKE '%medications%' ) )"
d6a0bcd1249a8b5f2385ac6b,When had patient 10018501 first been prescribed for omeprazole and phenobarbital alcohol withdrawal dose taper (days 2-7) at the same time in 08/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'omeprazole' AND admissions.subject_id = 10018501 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'phenobarbital alcohol withdrawal dose taper (days 2-7)' AND admissions.subject_id = 10018501 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10018501 AND prescriptions.drug IN ('omeprazole', 'phenobarbital alcohol withdrawal dose taper') AND prescriptions.startdate LIKE '2023-08%' AND prescriptions.stoptime IS NULL"
975c987c6333e4a188a0a375,When was patient 10016150 prescribed with a drug via the oral route for the last time?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND prescriptions.route = 'oral' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT orderitems.order_time FROM orderitems WHERE orderitems.subject_id = 10016150 AND orderitems.status = 'Final' AND orderitems.route = 'Oral' ORDER BY orderitems.order_time DESC LIMIT 1
85c4cb07f011b2641b16c688,"What are the four most common diagnoses for patients who previously had the dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic procedure within 2 months since 1 year ago?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diagnosis_icd.icd_code, diagnosis_icd.short_title, COUNT(*) AS count FROM diagnosis_icd JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND procedures_icd.chartdate <= DATE_SUB(CURDATE(), INTERVAL 10 MONTH) ) GROUP BY diagnosis_icd.icd_code ORDER BY count DESC LIMIT 4"
e530d92c14e1178895ca7c89,When was the last time that patient 10020740 has been prescribed lidocaine 1% and heparin flush (10 units/ml) at the same time in 04/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'lidocaine 1%' AND admissions.subject_id = 10020740 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'heparin flush (10 units/ml)' AND admissions.subject_id = 10020740 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10020740 AND prescriptions.drug = 'lidocaine 1%' AND prescriptions.order_category = 'heparin flush (10 units/ml)' AND prescriptions.startdate BETWEEN '2022-04-01' AND '2022-04-30' ORDER BY prescriptions.startdate DESC LIMIT 1
07a08dc4b74589ad11ceabfd,Can you show me the top four frequent output events?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.valuenum IS NOT NULL GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
8567ab1c50977e5114c864e1,When was the first time since 06/05/2100 that patient 10007818's mean blood pressure was measured greater than 72.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 72.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-06-05' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' ) AND chartevents.valuenum > 72.0 AND datetime(chartevents.charttime) > '2100-05-06' ORDER BY chartevents.charttime ASC LIMIT 1
8a4a4c79371999b9915a2ef3,How much does acute on chronic diastolic heart failure cost to get diagnosed?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute on chronic diastolic heart failure' ) ),,
4483be10999dcd201f1ef4fe,What was the first time patient 10036156 was prescribed a medication using the po/ng route in 07/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10036156 AND prescriptions.route = 'PO/NG' AND prescriptions.startdate BETWEEN '2007-01-01' AND '2007-12-31' ORDER BY prescriptions.startdate ASC LIMIT 1
ae2b2591d8e2e64d87cd4240,List the single rooms that are available now?,,,
99ba97a4365a81e47395a5e1,Has patient 10026255 experienced any surgeries since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN surgery ON icustays.stay_id = surgery.stay_id WHERE admissions.subject_id = 10026255 AND surgery.starttime > '2100-01-01'
8fd77ab450ceaf3df06b0177,How many hyposmolality and/or hyponatremia patients were diagnosed within 2 months after being diagnosed with cachexia?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cachexia' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyposmolality and/or hyponatremia' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(DISTINCT p1.subject_id) FROM diagnoses_icd d1 JOIN diagnoses_icd d2 ON d1.hadm_id = d2.hadm_id AND d1.seq_num <> d2.seq_num JOIN patients p1 ON d1.subject_id = p1.subject_id WHERE d1.icd_code IN ('264.0') AND d2.icd_code IN ('E87.3','E87.4') AND date(d2.admittime) - date(d1.admittime) BETWEEN 0 AND 60"
1dea8e8367ea15758b8ca92e,Calculate the number of patients prescribed insulin.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'insulin' ),[{'COUNT( DISTINCT admissions.subject_id )': 21}],SELECT COUNT(DISTINCT adm.subject_id) FROM admissions adm JOIN admissions ad ON ad.hadm_id = adm.hadm_id JOIN prescriptions pre ON pre.hadm_id = ad.hadm_id WHERE pre.drug = 'insulin'
c616ccb02a7104766a7ca4e7,"What's the cost of a procedure called excision of left saphenous vein, percutaneous endoscopic approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left saphenous vein, percutaneous endoscopic approach' ) )",,
7363a00d1729eca1fc81049b,"How much is the minimum total hospital bill for a visit that involves a bicarbonate, urine test since 1 year ago?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate, urine' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(ceil(((SUM(item_amount) + SUM(item_charge)) * 1.0825))) AS minimum_total_bill FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN finance.cci_labels ON admissions.hadm_id = finance.cci_labels.hadm_id JOIN finance.cci_item_label ON finance.cci_labels.label_id = finance.cci_item_label.label_id JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE finance.cci_item_label.name = 'bicarbonate, urine' AND chartevents.charttime >= now() - interval 1 year"
c247847fea9d213094a3045f,What are the five most frequently administered procedures for patients aged 40s since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
cdba77ccb92d5b91ada3a6dc,When will patient 31854 be next seen by the hospital?,,,
762190765b6e9b306ee94b34,What is the earliest visit of patient 97834 to other departments?,,,SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 97834
7418b9331c35714137e940b5,When did patient 10023117 receive a mcv lab test on the first occasion?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'MCV' ) ORDER BY labevents.charttime ASC LIMIT 1
f0a44b72608f1fb8a8a9bebc,Calculate the number of patients with other alteration of consciousness who were diagnosed since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other alteration of consciousness' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
7615134b4fa7ff6ddf73b525,Tell me the total number of patients who were discharged from the hospital in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE discharge_year = 2100
03e018e5065829295de0817f,When was patient 10022041 prescribed for the first time since 04/2100 a medication via sc route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND prescriptions.route = 'sc' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10022041 AND prescriptions.route = 'SC' AND prescriptions.startdate >= '04/2100' ORDER BY prescriptions.startdate ASC LIMIT 1
0c0b7b1acba7c1472c2ffd97,"How many patients were diagnosed with abdominal pain, other specified site in 2100 after previously being diagnosed with unspecified essential hypertension within 2 months?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abdominal pain, other specified site' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd AS dx1 ON admissions.hadm_id = dx1.hadm_id JOIN diagnoses_icd AS dx2 ON admissions.hadm_id = dx2.hadm_id WHERE dx1.icd_code LIKE 'I10%' AND dx2.icd_code = '78949' AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' AND JULIANDAY(dx2.admittime) - JULIANDAY(dx1.admittime) BETWEEN 0 AND 60
42caec4ca4a8bdfb2bf0e159,How many patients were given a creatinine lab test in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT labevents.subject_id) FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_labitems.test_name = 'creatinine' AND YEAR(labevents.charttime) = 2100
2b2a1cb7c1f3e55513ccdcd8,"Since 2100, what was the top five most frequent diagnoses patients were diagnosed with during the same month after receiving extracorporeal circulation auxiliary to open heart surgery?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT surgery.subject_id FROM surgery WHERE surgery.icd9_code = '39.61' AND surgery.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' ) ) ) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 5"
04d6acb457c7debd55705e51,Is the value of respiratory rate of patient 10010471 second measured on the last ICU visit greater than the value first measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (MAX(CASE WHEN row_number() OVER (PARTITION BY icustays.stay_id ORDER BY chartevents.charttime) = 2 THEN chartevents.valuenum ELSE NULL END) > MIN(CASE WHEN row_number() OVER (PARTITION BY icustays.stay_id ORDER BY chartevents.charttime) = 1 THEN chartevents.valuenum ELSE NULL END)) AS is_greater FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate') AND icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471)
cc628d6e0b5a259cf31aa0cf,When has patient 10029291 had the last input on 02/28/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '02-28' ORDER BY inputevents.starttime DESC LIMIT 1",[],SELECT inputevents_mv.charttime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND inputevents_mv.charttime >= '02/01/this year' AND inputevents_mv.charttime <= '02/28/this year' ORDER BY inputevents_mv.charttime DESC LIMIT 1
989ff39a5fc2d15ff9d12bef,Could you tell me the sex of patient 10007928?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10007928,[{'gender': 'F'}],"SELECT admissions.subject_id, admissions.gender FROM admissions WHERE admissions.subject_id = 10007928"
37e1a7e88398803e5188be91,How many patients stayed on cardiac vascular intensive care unit (cvicu) during the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'cardiac vascular intensive care unit (cvicu)' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT patients.subject_id) AS count FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN icd9 WHERE icustays.unitstay_id = icd9.unitstay_id AND admissions.admittime >= datetime(current_time,'-1 year') AND icustays.first_careunit = 'cvicu'"
c673226d59266c9f24c1559d,Does patient 70206 have a traveling history abroad?,,,
1e9722d883ec34d867a344f9,How much was the difference in respiratory rate of patient 10004422 measured at 2100-01-25 18:00:00 compared to the value measured at 2100-01-25 17:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-25 18:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-25 17:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-25 18:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-25 17:00:00' )"": None}]",SELECT abs(t1.valuenum - t2.valuenum) AS diff FROM chartevents t1 JOIN chartevents t2 ON t1.hadm_id = t2.hadm_id WHERE t1.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' AND d_items.linksto = 'chartevents' ) AND t2.itemid = t1.itemid AND t1.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND t1.charttime = '2100-01-25 18:00:00' AND t2.charttime = '2100-01-25 17:00:00'
9e7aa17566ee6e70df48c838,How many insertion of drug-eluting coronary artery stent(s) treatments were executed?,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of drug-eluting coronary artery stent(s)' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'insertion of drug eluting coronary artery stent')
decffce701731474c7a1532f,What are the single rooms which are now available?,,,
a3ca87a1ecbcd3145068f456,How much octreotide acetate has patient 10007818 been prescribed on the last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'octreotide acetate',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(prescriptions.dose) FROM prescriptions WHERE prescriptions.subject_id = 10007818 AND prescriptions.drug_name = 'octreotide acetate' AND prescriptions.hadm_id IN ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10007818 )
4464d8ca9583f59be4160810,What were the top five frequent laboratory tests that patients had after they were diagnosed with intermediate coronary syndrome during the same hospital visit in this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'intermediate coronary syndrome' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.diagnosis LIKE '%intermediate coronary syndrome%' AND labevents.chartdate BETWEEN '2022-01-01' AND '2022-12-31' GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 5"
97972bbea1fe2404f8de1b69,Please calculate the total output for patient 10027602 since 12/02/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-02'",[{'SUM(outputevents.value)': 42636.0}],
04f7c8bdde444d9384216f93,Calculate the number of ICU visits of patient 10020786.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 )
eee2d17dec0a42b12da8deaa,"Since 1 year ago, how many patients were prescribed prismasate (b22 k4)?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'prismasate (b22 k4)' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND prescriptions.drug = 'prismasate (b22 k4)'"
aea39d595c762f58e94e6bc6,What was patient 10021312's first measured absolute eosinophil count since 01/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-01' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'absolute eosinophil count' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-01-01' ORDER BY chartevents.charttime LIMIT 1
53645af951b7d3f45781e59f,"In relation to others of the same age, where does a urea nitrogen value of 11.0 for patient 10023117 rank in percentiles on their last hospital encounter?","SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 11.0",,
662b2f7dbfe34ec1b9a8e485,How is disinfection performed in the quarantine room?,,,
25956b8c121a3452cf6a13da,When did the first input for patient 10004720 occur since 10/03/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-03' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2186-11-12 20:00:00'}],
6ef2183a66a1c25b6446eee9,How long did patient 18457 receive below knee amputat nec?,,,
3e53f449eb365ab960c6aa59,"For the first time since 08/2100, what specimen test did patient 10007795 get?","SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.charttime >= '08/01/2100' ORDER BY chartevents.charttime ASC LIMIT 1
13bbb7977ea8096ece5542dc,Which are the top four most frequent procedures patients had within 2 months after being diagnosed with personal history of other malignant neoplasm of skin since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of other malignant neoplasm of skin' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM d_icd_procedures INNER JOIN procedures_icd ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = '2100' ) AND procedures_icd.chartdate BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
7a9d8c4e3514be8609110241,How much does a hospital typically spend minimum on a drug named morphine sr (ms contin)?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'morphine sr (ms contin)' ) GROUP BY cost.hadm_id ) AS T1,,
b628445609db036ce56787c3,Has there been any organism present in patient 10038999's first pleural fluid microbiology test since 8 months ago?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'pleural fluid' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-8 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'Pleural fluid' AND datetime(microbiologyevents.chartdate) >= datetime(current_time,'-8 month')"
ddbe991f30c6934480e21599,How many patients were prescribed the drug diltiazem extended-release since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'diltiazem extended-release' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
0845c5b2d9f8bde33129dc7a,Can you tell me which five diagnoses have the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*)/SUM(deathflag) as mortality_rate FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.deathtime BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 3 MONTH) GROUP BY diagnoses_icd.icd9_code ORDER BY mortality_rate DESC LIMIT 5"
45cf63c5e6579e640cddd3b1,Can you tell me the last value of the alkaline phosphatase test for patient 10015931 on the first hospital encounter?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1
9def26468b7d6f3093845934,"What is the cost of dislocation of jaw, initial encounter diagnostic?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dislocation of jaw, initial encounter' ) )",,
1153c548a9a77ae4687c8846,Can you provide the total number of outputs patient 10018845 had since 03/10/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-10'",[{'SUM(outputevents.value)': 2442.0}],
0a7229f1e72f42ee2dc14404,When was the first time patient 10008287 had an maximum po2 in their first hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'po2' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10008287 ) ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'po2' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1"
ad9324e51fa0e24a795cc9c7,Tell me the difference in the systolic blood pressure value for patient 10020944 second measured on the first ICU visit compared to the first value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH first_visit AS ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1 ) , second_visit AS ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1,2 ) SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Sys BP' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = (SELECT MAX(charttime) FROM second_visit) ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.itemid = ( SELECT d_items.item"
bba4bfd7b72b61f4f0a2b01a,Has patient 10020740 been treated with a parenteral infusion of concentrated nutritional substances procedure?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'parenteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'parenteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 )
ab86f0ba83c400b1a9f9b6c3,Did patient 10003046 have an input of free water on 12/24/last year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'free water' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m-%d',inputevents.starttime) = '12-24'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND inputevents_cv.starttime LIKE '2021-12-24%' AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'free water' )
f907fb44dd458e21bcac102c,"What are the top five most common diagnoses that patients were diagnosed with during the same month after receiving bypass coronary artery, one artery from left internal mammary, open approach's this year?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, one artery from left internal mammary, open approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS count FROM diagnosis_icd JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN '2022-01-01' AND '2022-12-31' AND diagnosis_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'Coronary atherosclerosis w OTH open heart procedure' AND d_icd_diagnoses.icd9_code IN ( SELECT icd9_cm_codes.icd9_code FROM icd9_cm_codes WHERE icd9_cm_codes.long_title = 'bypass coronary atery one artery from left internal mammary open approach' ) ) GROUP BY diagnosis_icd.icd_code ORDER BY count DESC LIMIT 5"
1ed08f1aa0fe257e5b029f58,When was the last time patient 10021118 had an minimum absolute basophil count in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute basophil count' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'absolute basophil count' ) AND datetime(chartevents.charttime) >= datetime('2023-12-01') AND datetime(chartevents.charttime) <= datetime('2023-12-31') ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
ca889d0ba7397111451ebf74,Count the number of patients who underwent a d-dimer lab test since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'd-dimer' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM chartevents WHERE itemid = ( SELECT itemid FROM d_items WHERE label = 'd-dimer' ) AND charttime > '2100-01-01 00:00:00'
ae715e89afd0fb60fdd2b53c,"Currently, how many patients are in the hospital?",SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admittime <= current_time AND dischtime > current_time
7151c86b2f910d26891150a0,Can you confirm the gender of patient 10026354?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10026354,[{'gender': 'M'}],SELECT gender FROM patients WHERE subject_id = 10026354
5ec73b90a9326c7868163c73,When was the first time patient 10018081 was prescribed drugs via oral since 08/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.route = 'oral' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT orders.order_datetime FROM orders JOIN d_items ON orders.order_type = d_items.itemid JOIN d_order_type ON d_items.linksto = 'orders' WHERE d_order_type.name = 'Oral' AND orders.subject_id = 10018081 AND orders.order_datetime >= '2000-08-01' ORDER BY orders.order_datetime ASC LIMIT 1
e12e998b1f9c18fea1f85d8f,How much does it cost to purchase syringe (0.9% sodium chloride)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'syringe (0.9% sodium chloride)' ),,
72a2d6a35e2ba5c873f1a881,Has patient 10027445 had any medication prescribed since 07/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10027445 AND datetime(prescriptions.startdate) >= '07/2100'
1550fe2c0834cad1b2dbef07,What was the dose of yellow cadd cassette that was last prescribed to patient 10014729 in 03/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND prescriptions.drug = 'yellow cadd cassette' AND strftime('%Y-%m',prescriptions.starttime) = '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],
bcf8bddfe8dcd3e449454450,So how many hours has passed since patient 10021487's first traumatic hemothorax without mention of open wound into thorax diagnosis during this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'traumatic hemothorax without mention of open wound into thorax' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT J1.charttime - J2.charttime AS time_diff_hours FROM ( SELECT admissions.hadm_id, MIN(chartevents.charttime) AS charttime FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'traumatic hemothorax' ) GROUP BY admissions.hadm_id ) AS J1 JOIN ( SELECT admissions.hadm_id, MIN(chartevents.charttime) AS charttime FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.itemid NOT IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'open wound into thorax' ) GROUP BY admissions.hadm_id ) AS J2 ON J1.hadm_id = J2.hadm_id WHERE J1.charttime > J2.charttime"
c74358b1e7b5bc977788edc9,"What are the three frequently prescribed medications in the same month to the patients aged 60 or above after diagnosed with hypotension, unspecified in 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypotension, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT prescriptions.drug, COUNT(*) AS frequency FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime >= '2100-01-01' AND admissions.admittime < '2100-02-01' AND patients.dob <= '1940-01-01' AND diagnoses_icd.icd_code = 'R57.9' AND diagnoses_icd.hadm_id = admissions.hadm_id GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 3"
dcfe3d31d256b6f0069568e5,"When, since 02/2100, was the first time patient 10027445 was prescribed a medication via the nu route?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.route = 'nu' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT MIN(cptevents.charttime) FROM cptevents WHERE cptevents.subject_id = 10027445 AND cptevents.charttime >= '02/2100' AND cptevents.cpt_cd IN ( SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.modifiers LIKE '%nu%' )
122e9c77f038fff730af3012,How many patients were discharged from hospitals since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year')"
62161016f653e9cf862c97dd,"When did patient 10038999 last receive the total protein, pleural test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, pleural' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_labitems.label = 'total protein, pleural' AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ORDER BY labevents.charttime DESC LIMIT 1"
641457e48596a76706eaa733,"What is the maximum total hospital cost, which includes other acute pain since 2100?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other acute pain' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
22c001b4fbec510a6a36e644,What's the minimum monthly number of admissions for hesitancy of micturition since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hesitancy of micturition' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT MIN(monthly_admissions.admissions_count) FROM ( SELECT COUNT(*) as admissions_count, DATE_TRUNC('month', admissions.admittime) as month FROM admissions INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title = 'hesitancy of micturition' AND DATE_PART('year', admissions.admittime) >= 2100 GROUP BY month ) AS monthly_admissions"
6ddb92afc3aeb9e8294f6e45,"Tell me the name of the drug patient 10021312 was prescribed in the same hospital encounter after having received a excision of left main bronchus, via natural or artificial opening endoscopic procedure since 04/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-04' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.startdate >= '04/21/2010' AND prescriptions.stay_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic' ) ) ORDER BY prescriptions.startdate ASC LIMIT 1"
34e916a3d87884c2b17eed2f,Can you tell me the five most frequent microbiology tests this year?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],"SELECT test, COUNT(*) AS count FROM microbiologyevents WHERE chartdate BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') AND NOW() GROUP BY test ORDER BY count DESC LIMIT 5"
25d2b1ca042e80e4dec9ba6c,Has there been any pacu crystalloid intake given to patient 10008287 in 10/this year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pacu crystalloid intake' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',inputevents.starttime) = '10'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%crystalloid%' ) AND inputevents_cv.charttime >= '2022-01-01' AND inputevents_cv.charttime <= '2022-12-31'
5d325bcbd050d7d6eabfcab9,Have any procedures been performed on patient 10019568 since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND procedures_icd.chartdate >= '2100-01-01'
6857374e8a42190064459f79,"How much does a procedure known as drainage of left upper lobe bronchus, via natural or artificial opening endoscopic, diagnostic cost?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left upper lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) )",,
3bea1d4c8791561006ff719f,Can you name the procedure/treatment that patient 10015860 was given two or more times since 06/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-06' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_procedures.procedure, COUNT(procedures.hadm_id) AS frequency FROM procedures INNER JOIN d_procedures ON procedures.procedure_id = d_procedures.procedure_id WHERE procedures.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860) AND procedures.chartdate >= '2000-06-01' GROUP BY procedures.procedure_id HAVING frequency > 2"
992e5ae1a94aabac75308495,When was the first time patient 10008454 had the minimum heart rate on 12/07/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-07' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],
f9926355acee735005a5866f,What are the five most frequent procedures for patients aged 60 or above since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
30bb66210d2f8e9a6b6b709f,"Count the number of patients who received other endoscopy of small intestine within 2 months after being diagnosed with alcohol abuse, unspecified since 2100.","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alcohol abuse, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endoscopy of small intestine' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN admissions as ad2 ON admissions.subject_id = ad2.subject_id JOIN procedures_icd ON ad2.hadm_id = procedures_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'F10%' AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%other endoscopy of small intestine%' ) AND DATEDIFF(procedures_icd.chartdate, diagnoses_icd.chartdate) <= 60 AND admissions.admittime >= '2100-01-01'"
7b4a60c5a197fac6bff1cdf5,"When did patient 10027445 receive a sodium, urine lab test on the first occasion?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1"
efd5c9c44ecab92af5e496fa,In what ways can phenazopyridine be ingested?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'phenazopyridine',[{'route': 'ORAL'}],
a2cad7bd6649d8cc2f3b637d,"On the first hospital stay, did patient 10020187 visit an emergency room?",SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10020187 ) AND admissions.emergency = 'Y'
55f8f1cd25a1f682cc88512b,What is the price for the drug cyanocobalamin?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'cyanocobalamin' ),,
507c98230efbbf1d84008059,Is it patient 10003046's o2 saturation pulseoxymetry last measured on the last ICU visit greater than second to last measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (chartevents.valuenum) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id = ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ORDER BY icustays.intime DESC LIMIT 1 OFFSET 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) FROM chartevents WHERE chartevents.stay_id = ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry' ) ORDER BY chartevents.charttime DESC LIMIT 1
8ca8f566936f59b5c916eadf,"In patients who had the resection of vessel with replacement, thoracic vessels since 1 year ago, what were the three most common diagnoses that followed in the same month?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'resection of vessel with replacement, thoracic vessels' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'resection of vessel with replacement, thoracic vessels' ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) ) AND diagnoses_icd.seq_num = 1 GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 3"
0cf19476dc727db127ab20bf,What was the name of the last specimen test which patient 10018328 has received since 17 months ago?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-17 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'URINE'}],"SELECT chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-17 month') ORDER BY chartevents.charttime DESC LIMIT 1"
f1501b008c57806e4fdc437f,Can you tell me the name of the diagnosis patient 10020740 received first in their last hospital encounter?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT admittime FROM admissions WHERE subject_id = 10020740 ORDER BY admittime DESC LIMIT 1
645012622fad2129a6fe1db6,"Since 1 year ago, what was the top three most frequent diagnoses patients were diagnosed with during the same month after receiving extracorporeal circulation auxiliary to open heart surgery?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT top_diagnosis.name, COUNT(*) as freq FROM ( SELECT chartevents.hadm_id FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'extracorporeal circulation auxiliary to open heart surgery' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.hadm_id ) AS hadms, d_icd_diagnoses AS top_diagnosis WHERE hadms.hadm_id = top_diagnosis.hadm_id AND datetime(top_diagnosis.chartdate) = datetime(chartevents.charttime) GROUP BY top_diagnosis.name ORDER BY freq DESC LIMIT 3"
c7fe6ea31f9f71af4dcc0072,How many hours is it since patient 10004733 last stayed in the careunit neurology in the current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'neurology' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT (strftime('%s','now') - strftime('%s',care_units.intime)) / 3600 FROM care_units WHERE care_units.subject_id = 10004733 AND care_units.careunit = 'NEUROLOGY' AND care_units.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733) ORDER BY care_units.intime DESC LIMIT 1"
8cbc6f9057443ffd3cb11a50,How much does humalog cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'humalog' ),,
c7a759042b7285ebd4faf3f8,"What were the five most frequently diagnosed microbiology tests for patients who were diagnosed with cardiac arrest due to underlying cardiac condition before in the same hospital visit, in 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cardiac arrest due to underlying cardiac condition' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT test_name, COUNT(*) AS test_count FROM ( SELECT mtest.test_name FROM microbiologyevents mtest INNER JOIN admissions adm ON mtest.hadm_id = adm.hadm_id INNER JOIN diagnoses_icd diag ON adm.hadm_id = diag.hadm_id WHERE diag.icd_code = 'I46' AND adm.admittime >= '2100-01-01' AND adm.admittime <= '2100-12-31' GROUP BY mtest.test_name ORDER BY test_count DESC LIMIT 5 )"
b6cca58570a4d4174cb71b3e,I want to know the reimbursement standard for cerebrovascular mri.,,,
451dfc06ff9455d76225f86b,Can you point to a genetic test that patient 655 received?,,,SELECT genetic_tests.test_name FROM genetic_tests INNER JOIN patients ON genetic_tests.patient_id = patients.patient_id WHERE patients.patient_id = 655 LIMIT 1
97da967a6eec6c3d02e10772,"In 2100, how many dilation of left external iliac vein with intraluminal device, percutaneous approach procedures were there?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left external iliac vein with intraluminal device, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,
ddaecde2d7500bcb038b6060,"Tell me, was lr given to patient 10013049 on 06/23/2100?","SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lr' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-06-23'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM icu.icustay_detail WHERE icustay_detail.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND icustay_detail.item = 'LR' AND icustay_detail.charttime = '06/23/2100'
fc39ef8cc2866f09ef373bdd,Could you unfold the three most frequent outputs since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]",
d34f3b955bd78b3126293e64,When did patient 10855 last take a proper medication?,,,SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10855 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' ) ORDER BY chartevents.charttime DESC LIMIT 1
e6f3a62b65568a7ae075f4d2,List the five most frequent specimens that were tested since 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, chartevents.value FROM chartevents WHERE chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid, chartevents.value ORDER BY COUNT(*) DESC LIMIT 5"
3aab4c6e3c824c26d1f50ebe,What was the name of the output which patient 10029484 had for the last time since 04/06/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-06' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Void'}],
538445bd77fd441ff8085f91,What was the first time during their last ICU stay patient 10022281 had a maximum systolic blood pressure?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%systolic%' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
c4d75676ab4ff43eaf58b28b,When did patient 10021938 receive mrsa screen microbiology test the last time in 11/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '11' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa screen%' AND d_items.linksto = 'microbiologyevents' ) AND chartevents.charttime LIKE '2023-11%' ORDER BY chartevents.charttime DESC LIMIT 1
17086641ec84cd4ab9ebe9be,What is the cost of a diagnosis for personal history of antineoplastic chemotherapy?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of antineoplastic chemotherapy' ) ),,
2ca8e56caf706c6147547a1a,During what first time did patient 10020944 have the minimum basophils level?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'basophils' AND d_items.linksto = 'labevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
f3249c1cae12b134951c017d,What's the average total hospital cost that includes a urea nitrogen lab test in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'UREA NITROGEN' ) AND YEAR(labevents.charttime) = 2010 )
c9981e6cc2c40b04592f3206,Which medication was patient 10009035 prescribed within 2 days following the extracorporeal circulation auxiliary to open heart surgery procedure in 05/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '05' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT medications.order_time, medications.greedy_name FROM medications INNER JOIN admissions ON admissions.hadm_id = medications.hadm_id INNER JOIN procedures_icd ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10009035 AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE 'extracorporeal circulation auxiliary to open heart surgery%' ) AND medications.order_time BETWEEN procedures_icd.chartdate AND datetime(procedures_icd.chartdate, '+2 day') AND medications.order_time BETWEEN '2023-05-01' AND '2023-05-31'"
0c11df1e6368179cdb62d5ea,What were the top four most common procedures?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )","[{'long_title': 'Insertion of Infusion Device into Superior Vena Cava, Percutaneous Approach'}, {'long_title': 'Venous catheterization, not elsewhere classified'}, {'long_title': 'Central venous catheter placement with guidance'}, {'long_title': 'Other nonoperative respiratory measurements'}]","SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
99316caca8e75d93f18ba12c,When for the first time since 09/2100 was patient 10021487 prescribed 5% dextrose and sodium bicarbonate at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '5% dextrose' AND admissions.subject_id = 10021487 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'sodium bicarbonate' AND admissions.subject_id = 10021487 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT min(prescriptions.startdate) FROM prescriptions JOIN patients ON patients.subject_id = prescriptions.subject_id WHERE prescriptions.subject_id = 10021487 AND prescriptions.drug = '5% dextrose and sodium bicarbonate' AND prescriptions.startdate >= '09/2100'
561c6a4161ac2feb86d80aed,How many times phosphorus was ordered in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'phosphorus' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.hadm_id = 2100 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphorus' )
0dcdf1950d75981036938d0f,The value of hyaline casts of patient 10038992 was last measured on the last hospital visit less than first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT ( MAX(chartevents.charttime) - MIN(chartevents.charttime) ) > INTERVAL 0 DAY FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hyaline casts' AND d_items.linksto = 'chartevents' )
750b75263b3b402e66549596,Which are the four most frequent lab tests given to patients in the same month after they are diagnosed with anticoagulants causing adverse effects in therapeutic use?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anticoagulants causing adverse effects in therapeutic use' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN labevents ON icustays.stay_id = labevents.stay_id INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'E87.' AND labevents.charttime BETWEEN icustays.intime AND DATE_ADD(icustays.intime, INTERVAL 1 MONTH) GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
f46e8931e74e00facf2ddbd7,Could you tell me how many patients stayed in the neuro surgical intensive care unit (neuro sicu) careunit during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro surgical intensive care unit (neuro sicu)' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM patients WHERE patients.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.icu_stay IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.icustay_id LIKE 'neuros%' ) AND admissions.admittime >= '2023-01-01' AND admissions.admittime <= '2023-12-31' )
61d76023e4eecb1aac307c96,Count the number of hospital visits patient 10026354 had since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10026354 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],
b60a37507f5ac0a7a99bb5b2,What was the dose of clonidine patch 0.2 mg/24 hr that was first prescribed to patient 10040025 on the last hospital encounter?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'clonidine patch 0.2 mg/24 hr' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT orderitems.dose FROM orderitems JOIN orders ON orderitems.order_id = orders.order_id WHERE orders.subject_id = 10040025 AND orders.category = 'medication' AND orderitems.order_type = 'NEW ORDER' AND orderitems.status = 'COMPLETED' AND orders.stop_reason NOT LIKE 'Stopped on%' AND orderitems.greedy_item = 'Clonidine' AND orderitems.greedy_unit = 'mg/24 hr' AND orderitems.greedy_value = 0.2 ORDER BY orders.startdate DESC LIMIT 1
2fe3354da7c1d59bea4dda70,How much is the cost for the drug sodium chloride 3% inhalation soln?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'sodium chloride 3% inhalation soln' ),,
1286e054ab8b363bfd212296,How many days have elapsed since the last time patient 10021487 was diagnosed with other iatrogenic hypotension during this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other iatrogenic hypotension' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT JULIANDAY('now') - JULIANDAY(admissions.admittime) AS days_since_last_diagnosis FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '99702' ) ORDER BY admissions.admittime DESC LIMIT 1
63e6ff5237da6b07b0c8a2d7,Tell me the count of other and unspecified pneumonectomy procedures that took place since 1 year ago.,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other and unspecified pneumonectomy' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%other and unspecified pneumonectomy%' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
7b241688629b0769f326af90,Has patient 10005909 had lab testing since 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND datetime(labevents.charttime) >= datetime(2100, 'unixepoch')"
d4ffd536638a0b500dea5e1d,What was the name of the drug patient 10017492 was prescribed within the same hospital visit after having received a spinal tap procedure in 03/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'spinal tap' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT medications.greyclouds FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND medications.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND icustays.first_careunit IN ( SELECT icustays.first_careunit FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND icustays.intime BETWEEN '2023-03-01' AND '2023-03-31' ) ) AND medications.starttime > ( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'spinal tap' ) AND procedures_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 1001
6d3a86657cfb5924c8e4dbbb,When did patient 10038933 receive an input for the first time?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) ORDER BY inputevents.starttime ASC LIMIT 1,[{'starttime': '2148-09-10 13:30:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) ORDER BY chartevents.charttime ASC LIMIT 1
6dfb148b96ec46dd4baf1399,What is the minimum total hospital cost which includes a drug named phenobarbital alcohol withdrawal dose taper (days 2-7) since 1 year ago?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'phenobarbital alcohol withdrawal dose taper (days 2-7)' ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(total_cost) FROM ( SELECT icustays.hadm_id, SUM(item_cost) as total_cost FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%phenobarbital alcohol withdrawal dose taper%' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY icustays.hadm_id ) as subquery"
12fb8402b00499381bd3ff8c,What was the drug patient 10008287 was prescribed for the first time using the po/ng route since 06/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT admissions.subject_id, prescriptions.startdate, prescriptions.drug FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10008287 AND prescriptions.route = 'PO/NG' AND prescriptions.startdate >= '06/01/2010' ORDER BY prescriptions.startdate ASC LIMIT 1"
c8359c96bf05ca8e01953b73,Has patient 10004457 undergone percutaneous transluminal coronary angioplasty [ptca]?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous transluminal coronary angioplasty [ptca]' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'Percutaneous Transluminal Coronary Angioplasty' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 )
a5828bf7dab24b1221372dc4,How many people had a test for h in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'h' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 2100 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'h in')
239fa629d1e7317b24ec198e,What is the cost for the drug duloxetine?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'duloxetine' ),,
28a2d17f20583959defd0234,What is the monthly maximum value of patient 10027445's weight since 14 months ago?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT max(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= datetime(current_time,'-14 month') GROUP BY strftime('%Y-%m', chartevents.charttime)"
db0b8e8e0ddcba04c82bb7f0,What was patient 10010471's last measurement for o2 saturation pulseoxymetry on 12/17/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-17' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '12/17/%' ORDER BY chartevents.charttime DESC LIMIT 1
cac9008f4f2f7e8937a4e13a,What were the top four diagnoses with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis, COUNT(*) as mortality_count FROM ( SELECT adm_diagnosis.diagnosis, CASE WHEN icustays.died = 1 THEN 1 ELSE 0 END as died FROM adm_diagnosis INNER JOIN admissions ON adm_diagnosis.hadm_id = admissions.hadm_id INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE admissions.admittime <= icustays.intime AND icustays.intime <= admissions.dischtime AND icustays.dischtime <= DATE_ADD(admissions.admittime, INTERVAL 3 MONTH) ) AS mortality_data GROUP BY diagnosis ORDER BY mortality_count DESC LIMIT 4"
388e3fc0fa30e6c5b9011872,"Count the number of people who received introduction of nutritional substance into lower gi, via natural or artificial opening in the same month after having been diagnosed with epilepsy, unspecified, not intractable, without status epilepticus in 2100.","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'epilepsy, unspecified, not intractable, without status epilepticus' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into lower gi, via natural or artificial opening' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'EN' AND d_items.linksto = 'chartevents' ) AND diagnoses_icd.icd_code = '2100' AND EXTRACT(MONTH FROM diagnoses_icd.admittime) = EXTRACT(MONTH FROM chartevents.charttime) AND EXTRACT(YEAR FROM diagnoses_icd.admittime) = EXTRACT(YEAR FROM chartevents.charttime)
d73de23832fc51ea33bed174,What was the name of the drug that patient 10027602 was prescribed with within the same hospital visit after undergoing continuous invasive mechanical ventilation for less than 96 consecutive hours during this month?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'continuous invasive mechanical ventilation for less than 96 consecutive hours' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime, starttime, endtime, itemid, icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.intime >= datetime(current_time,'-1 month') AND icustays.intime <= datetime(current_time) AND icustays.stay_id IN ( SELECT icustays.stay_id FROM icustays JOIN procedures_icd ON icustays.stay_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%continuous invasive mechanical ventilation%' ) AND procedures_icd.chartdate <= datetime(current_time) AND procedures_icd.chartdate >= datetime(current_time,'-1 month') AND ( procedures_icd.endtime - procedures_icd.starttime ) < interval '96 hours' )"
da5f3dae68433524c0462406,"For patients diagnosed with nontraumatic subarachnoid hemorrhage from left posterior communicating artery before, what are the top four most common treatments within the same month in 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'nontraumatic subarachnoid hemorrhage from left posterior communicating artery' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,
a4ead1605ee2cae02541b57b,How many people got prescriptions for adde last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'adde' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'adde' AND datetime(prescriptions.startdate) >= datetime(current_time, '-1 year') AND datetime(prescriptions.startdate) < datetime(current_time)"
cd9b4dacacdde7494c082761,Gather the total number of times patient 10023239 visited the hospital during this year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10023239 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.admittime >= DATE_FORMAT(CURRENT_DATE, '%Y-01-01')"
77fee139a7a8698c4a12156a,Tell me the top five most frequent procedures that patients received within 2 months after being diagnosed with hyperplasia of renal artery.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperplasia of renal artery' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT p.long_title, COUNT(*) as count FROM patients p JOIN admissions a ON p.subject_id = a.subject_id JOIN procedures_icd pi ON a.hadm_id = pi.hadm_id JOIN d_icd_diagnoses d ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE '443.8%' AND pi.chartdate BETWEEN a.admittime AND DATE_ADD(a.admittime, INTERVAL 2 MONTH) GROUP BY p.long_title ORDER BY count DESC LIMIT 5"
17f65319b8a03eaeeb2840a5,What is dr. koch's outpatient treatment schedule today?,,,
7f904e1c55c930388a753052,How many patients required alteplase (catheter clearance)?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'alteplase (catheter clearance)' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'alteplase' AND prescriptions.dosage_form = 'catheter clearance'
61f9f600cf87c85106cb2efd,"Has patient 10007795 got a prescription for acetaminophen, pregabalin, or pantoprazole in 04/last year?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND prescriptions.drug IN ( 'acetaminophen', 'pregabalin', 'pantoprazole' ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.startdate >= '2021-04-01' AND prescriptions.enddate <= '2021-04-30' AND prescriptions.drug IN ('acetaminophen', 'pregabalin', 'pantoprazole')"
c26f64ab0e5b645c25c3281c,"What are the total minimum expenses for a hospital involving a laboratory test for potassium, whole blood in 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT SUM(charge) FROM charges WHERE charges.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.hospital == 2100 ) ) AND charges.icustay_id IN ( SELECT labevents.icustay_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' ) )"
7e84feafb736e70b619b4009,Calculate the total volume of input for patient 10029484 since 04/12/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-12'",[{'SUM(inputevents.totalamount)': 2540.0}],
535fb807f200d61057c1b7a0,"What was the top three most frequent diagnoses that patients were diagnosed with within 2 months after receiving inspection of tracheobronchial tree, via natural or artificial opening endoscopic?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"WITH trach_inspection AS ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) ), diagnoses AS ( SELECT hadm_id, icd_code, COUNT(*) as count FROM diagnoses_icd JOIN trach_inspection ON diagnoses_icd.hadm_id = trach_inspection.hadm_id WHERE diagnoses_icd.admittime >= trach_inspection.charttime AND diagnoses_icd.admittime <= datetime(trach_inspection.charttime,'+2 month') GROUP BY hadm_id, icd_code ) SELECT icd_code, count FROM diagnoses GROUP BY icd_code ORDER BY count DESC LIMIT 3"
94d863c5097e63e95a31ebf4,"What is the minimum total cost of the hospital visits that involve a procedure named occlusion of right vertebral artery with intraluminal device, percutaneous approach since 1 year ago?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'occlusion of right vertebral artery with intraluminal device, percutaneous approach' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT min(c.totalcharges) FROM admissions a JOIN charges c ON a.hadm_id = c.hadm_id WHERE a.hadm_id IN ( SELECT p.hadm_id FROM procedures_icd p JOIN d_icd_procedures dp ON p.icd_code = dp.icd_code WHERE dp.long_title = 'occlusion of right vertebral artery with intraluminal device, percutaneous approach' ) AND datetime(a.admittime) >= datetime(current_date,'-1 year')"
9605044db0cc93ca8e59d0be,What is the reimbursement standard for drug?,,,
33dd2e95b6eaf89b0361b109,What are the top four most common microbiology tests that patients had after the diagnosis of metabolic encephalopathy in the same month?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'metabolic encephalopathy' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_microbiology_test_results.testname, COUNT(*) AS count FROM d_microbiology_test_results INNER JOIN microbiologyevents ON microbiologyevents.microbio_id = d_microbiology_test_results.microbio_id INNER JOIN diagnoses_icd ON diagnoses_icd.hadm_id = microbiologyevents.hadm_id WHERE diagnoses_icd.icd_code = '357' AND microbiologyevents.chartdate BETWEEN diagnoses_icd.admittime AND date_add(diagnoses_icd.admittime, INTERVAL 1 MONTH) GROUP BY d_microbiology_test_results.testname ORDER BY count DESC LIMIT 4"
01c02f4b897bb8192e16bd1d,What was patient 10016742's minimum value of base excess in 07/this year?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'base excess' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '07'",[{'MIN(labevents.valuenum)': None}],SELECT min(valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'base excess' ) AND charttime >= '2022-07-01' AND charttime < '2022-08-01'
ae62f6afd4c306068c936631,Reveal the five most frequently prescribed medications in 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5",[],
c189d34efcb37085fa7b7cb4,What was the number of patients who were prescribed click change <--- to choose a base solution in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'click change <--- to choose a base solution' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
8b5709aba37b6339722a0855,What is the average rdw-sd value of patient 10022880 in 04/this year?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw-sd' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '04'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10022880 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rdw-sd' ) AND chartevents.charttime BETWEEN '2022-04-01' AND '2022-04-30'
a01e64e03c8ea6881cad8b6c,What was the name of patient 10012853's insurance during the last hospital encounter?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],"SELECT admittime, dischtime, insurance FROM admissions WHERE subject_id = 10012853 ORDER BY dischtime DESC LIMIT 1"
5b078faf4cef1188372987db,Has patient 10001217 been administered any nacl 0.9% in 12/last year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',inputevents.starttime) = '12'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.subject_id = 10001217 AND inputevents_cv.starttime >= datetime(current_date,'-1 year') AND inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE label = '0.9% NaCl' )"
7f05f81e2c4bccc575d180b8,Could you inform me of the top three most common specimen tests that were conducted?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.valueuom = 'Specimen' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
8140c1e65784238caf1362ad,Calculate the total number of medications that patient 10007818 was prescribed since 1 year ago.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 320}],"SELECT COUNT(DISTINCT pharmacy_orders.orderid) FROM pharmacy_orders INNER JOIN admissions ON pharmacy_orders.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007818 AND pharmacy_orders.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
17de3ba481cc927f60d16233,What were the top five diagnoses that had the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS mortality_count FROM diagnoses_icd AS d JOIN patients AS p ON d.subject_id = p.subject_id JOIN admissions AS a ON a.hadm_id = d.hadm_id WHERE p.dod IS NOT NULL AND a.admittime <= p.dod AND a.admittime >= datetime(p.dod, '-6 month') GROUP BY d.icd_code ORDER BY mortality_count DESC LIMIT 5"
644f9d16a15d38b492e0d147,"Has since 2100 levothyroxine sodium, acetaminophen, or polyethylene glycol been prescribed to patient 10005909?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND prescriptions.drug IN ( 'levothyroxine sodium', 'acetaminophen', 'polyethylene glycol' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10005909 AND prescriptions.drug IN ('levothyroxine sodium', 'acetaminophen', 'polyethylene glycol')"
aa7534c96dd01ae4543b138b,What's the average total cost of the hospital that involves a procedure called diagnostic ultrasound of heart since 1 year ago?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of heart' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(charge) FROM charges WHERE charges.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital = ( SELECT DISTINCT admissions.hospital FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%diagnostic ultrasound of heart%' ) ) ) ) AND datetime(charges.charttime) >= datetime(current_time,'-1 year')"
ffbd9d197177ca7b317f66cb,Can I know the total output amount for patient 10039997 since 04/16/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-16'",[{'SUM(outputevents.value)': 5735.0}],
1a0886c3a3d7dd6afb64dabb,"Tell me the minimum total cost of a hospital visit involving respiratory failure, unspecified with hypoxia since 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'respiratory failure, unspecified with hypoxia' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(admissions.total_cst) FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE icd_code LIKE 'J96%' AND icd_code LIKE '%.9' AND icd_code LIKE '%H%' ) AND admissions.admittime >= '2100-01-01'
2f795d71a3f4c1f8e411ce55,Is the anion gap level of patient 10008454 second measured on the first hospital visit greater than the first level measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (second.valuenum > first.valuenum) FROM (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'anion gap' ) AND labevents.charttime BETWEEN (SELECT MIN(charttime) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'anion gap' )) AND (SELECT MAX(charttime) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'anion gap' )) ORDER BY labevents.charttime DESC LIMIT 1) AS second, (SELECT labevents.valuenum FROM labevents WHERE labevents"
c8c5c2ee11a8da094f25c3bc,What was the last dose of ondansetron that patient 10025612 was prescribed during the first hospital visit?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'ondansetron' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions JOIN admissions ON admissions.hadm_id = prescriptions.hadm_id WHERE prescriptions.subject_id = 10025612 AND prescriptions.drug = 'ondansetron' AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE subject_id = 10025612 ) ORDER BY prescriptions.starttime DESC LIMIT 1
1990af17fa6d2e02b4b63fe9,When did patient 10009035 have the minimum body temperature for the last time since 295 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-295 day') ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Temperature' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-295 day') ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
28a983d2c071ad3739459886,Provide the count of ICU visits for patient 10004733 during this year.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(icustays.intime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT icustays.stay_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.intime >= DATE_FORMAT(NOW(),'%Y-01-01')"
644187bf34aa3678b61cb3f5,Has any organism been found in patient 10010471's last microbiological blood culture test in 08/last year?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',microbiologyevents.charttime) = '08' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND microbiologyevents.spec_type_desc = 'Blood culture' AND microbiologyevents.chartdate >= DATE_FORMAT(CURRENT_DATE, '%Y-08-01') AND microbiologyevents.chartdate < DATE_FORMAT(CURRENT_DATE, '%Y-09-01') AND microbiologyevents.org_itemid > 0 OR microbiologyevents.org_name != ''"
e55eee58f7de7acb4afa8764,How many times was patient 10022880 in the hospital throughout this year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10022880 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10022880 AND admissions.admittime BETWEEN date_trunc('year', current_date) AND current_date"
c40320a8cc992e9cf6c9c807,"What does a procedure under the name destruction of right lower lung lobe, via natural or artificial opening endoscopic cost?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right lower lung lobe, via natural or artificial opening endoscopic' ) )",,
d0c67568fc6aa214a04e3aaa,When did patient 10037928 have the minimum anion gap value the last time?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
0a32f1c36ff8b32b47e43478,"Tell me, was packed red blood cells given to patient 10007818 on 07/04/this year?","SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '07-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 AS was_given FROM transfusions WHERE transfusions.subject_id = 10007818 AND transfusions.transfusion_date = '07/04/YYYY' AND transfusions.product = 'packed red blood cells'
519ec63fd6ee4ba4f86c8048,Can you tell me when patient 10007928 had their first blood culture microbiology test in 04/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.charttime FROM microbiologyevents INNER JOIN patients ON patients.subject_id = microbiologyevents.subject_id WHERE patients.subject_id = 10007928 AND microbiologyevents.spec_itemid = 764 AND microbiologyevents.chartdate BETWEEN '2004-01-01' AND '2004-12-31' ORDER BY microbiologyevents.charttime ASC LIMIT 1
78512e3b7c9ea984222bfee1,How many tramadol prescription instances took place since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'tramadol' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 9}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= '2100-01-01'
6a3568128f729d82972746f2,When did patient 10038933 have a mchc lab test for the first time in 09/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND strftime('%Y-%m',labevents.charttime) = '2100-09' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND chartevents.charttime >= '2000-09-01' AND chartevents.charttime < '2000-10-01' ORDER BY chartevents.charttime ASC LIMIT 1
ba8da70ae7c876cdadf6d50e,What are the top three most frequent microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test, COUNT(*) AS freq FROM microbiologyevents GROUP BY test ORDER BY freq DESC LIMIT 3"
e1b0ecc193437991940016e6,"Has patient 10029484 been on glipizide xl, 0.9% sodium chloride, or insulin human regular as prescribed?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND prescriptions.drug IN ( 'glipizide xl', '0.9% sodium chloride', 'insulin human regular' )",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10029484 AND ( prescriptions.drug = 'glipizide xl' OR prescriptions.drug = '0.9% sodium chloride' OR prescriptions.drug = 'insulin human regular' )
371d12824fa1ffd7ef5e90e7,What is the dose of the prescribed opioid for patient 99647??,,,SELECT orderitems.dosevalunit FROM orderitems JOIN orders ON orderitems.order_id = orders.order_id JOIN d_items ON orders.itemid = d_items.itemid WHERE d_items.shorttitle LIKE '%opioid%' AND orders.subject_id = 99647
3a6c107da55dce7df0c5c04c,Has there been any organism detected during the first stool microbiology test of patient 10020944 on the first hospital encounter?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'stool' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.spec_itemid IN ( SELECT itemid FROM d_items WHERE label = 'stool' ) AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND microbiologyevents.chartdate = ( SELECT MIN(chartdate) FROM microbiologyevents WHERE microbiologyevents.spec_itemid IN ( SELECT itemid FROM d_items WHERE label = 'stool' ) AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND microbiologyevents.org_itemid > 0
21725d6a5831671fc4d0dc87,Has patient 10016742 come to the ER?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10016742 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10016742 AND admissions.admittime IS NOT NULL
44b3905875474271bf26457e,What are the reimbursement standards for cerebrovascular mri?,,,
9b5ab2bf426064b58719cc29,How many hours have passed since patient 10021487 last visited the careunit trauma sicu (tsicu) in the current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(transfer_events.intime), CURRENT_TIMESTAMP) AS hours_since_last_visit FROM transfer_events INNER JOIN admissions ON transfer_events.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND transfer_events.careunit = 'TSICU'"
095a491640c35f9a56195a9d,"Among patients who took central venous catheter placement with guidance since 1 year ago, what are the top three most frequent diagnoses that followed within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR ) ) AND diagnoses_icd.seq_num = 1 AND diagnoses_icd.chartdate BETWEEN procedures_icd.chartdate AND DATE_ADD(procedures_icd.chartdate, INTERVAL 2 MONTH ) GROUP BY diagnoses_icd.icd_code ORDER BY frequency DESC LIMIT 3"
7344c8361b0e586129656284,"Was there a restriction of left internal carotid artery with intraluminal device, percutaneous approach procedure performed on patient 10018328 on their last hospital encounter?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'restriction of left internal carotid artery with intraluminal device, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd AS pi JOIN admissions AS a ON pi.hadm_id = a.hadm_id WHERE pi.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'left internal carotid artery, restriction with intraluminal device, percutaneous approach' ) AND a.subject_id = 10018328 AND a.admittime = ( SELECT MAX(admittime) FROM admissions WHERE subject_id = 10018328 )"
1794f31aaf8abd01fe9c8e47,Can you tell me the five most frequent microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test_name, COUNT(*) as frequency FROM microbiologyevents WHERE datetime(charttime) >= datetime(current_time,'-1 year') GROUP BY test_name ORDER BY frequency DESC LIMIT 5"
cd6cb8495bf452c344f61955,When was the first time that on their first hospital visit patient 10026255 had the maximum of platelet count?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10026255 AND admissions.hospstay_seq = 1 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'platelet count' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
f8421512590cea257bf8a931,"Retrieve the top three most frequent medications that patients were prescribed in the same month after being diagnosed with hyperlipidemia, unspecified since 2100.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperlipidemia, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m.name, COUNT(*) AS frequency FROM patients AS p JOIN admissions AS a ON p.subject_id = a.subject_id JOIN diagnoses_icd AS d ON a.hadm_id = d.hadm_id JOIN prescriptions AS pr ON a.hadm_id = pr.hadm_id JOIN drugs AS m ON pr.drug_type = m.id WHERE d.icd_code = '272.00' AND pr.startdate BETWEEN a.admittime AND date_add(a.admittime, INTERVAL 1 MONTH) AND pr.stopped = 'DISSOLVED' GROUP BY m.name ORDER BY frequency DESC LIMIT 3"
9b0dc7c21af10bc7f1f0ef8b,How many patients were let go from hospitals in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
12a69eaacc6a1663c3d9259f,What was the last time of input for patient 10018081 since 02/25/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-02-25' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2134-08-07 14:00:00'}],
2985f06b4e11ccad87836564,What percentile is chloride 104.0 among patients of the same age as patient 10002930 in their first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10002930 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 104.0",,SELECT PERCENT_RANK() OVER (ORDER BY labevents.valuenum) FROM labevents WHERE labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 AND admissions.hadm_id IN ( SELECT MIN(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10002930 GROUP BY admissions.subject_id ) )
de4256f2df1bf1aaa0eb15bb,"Give me the top three most commonly prescribed medications during the same hospital encounter to patients aged 50s after they were diagnosed with congestive heart failure, unspecified during this year.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'congestive heart failure, unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 50 AND 59 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT prescriptions.drug, COUNT(*) AS occurrences FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.admittime >= DATE_FORMAT(NOW(),'%Y-01-01') AND admissions.d_icd_diagnoses.icd_code LIKE '428%' AND YEAR(admissions.dob) BETWEEN 1960 AND 1969 GROUP BY prescriptions.drug ORDER BY occurrences DESC LIMIT 3"
c3b20e163f22e9c64873825c,When was the last time yesterday that patient 10004733's respiratory rate was measured greater than 23.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 23.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 23.0 AND chartevents.charttime BETWEEN datetime(current_date,'-1 day') AND datetime(current_date) ORDER BY chartevents.charttime DESC LIMIT 1"
8de8d255ebcc53e5933862db,What output did patient 10011398 generate last on this month/26?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '26' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.charttime LIKE '___-%-26%' ORDER BY chartevents.charttime DESC LIMIT 1
878106bea4b63d355fcf0ef6,Count the number of patients that were discharged from the hospital.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(DISTINCT subject_id) FROM admissions WHERE discharge_location = 'HOME'
31792c8a6ad3a8418c47001b,What was the name of the drug that was prescribed to patient 10001217 during the same hospital encounter after having had a spinal tap procedure during this month?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'spinal tap' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admits.SUBJECT_ID, admits.HADM_ID, admits.ADMITTIME, admits.DISCHTIME, admits.DTL, admits.SEX, admits.DOD, admits.DOD_HOSP, admits.HOSPITAL_EXPIRE_FLAG, admits.ICD9_CODE, admits.ICD9_CODE_2, admits.ICD9_CODE_3, admits.ICD9_CODE_4, admits.ICD9_CODE_5, admits.ICD9_CODE_6, admits.ICD9_CODE_7, admits.ICD9_CODE_8, admits.ICD9_CODE_9, admits.ICD9_CODE_10, admits.ICD9_CODE_11, admits.ICD9_CODE_12, admits.ICD9_CODE_13, admits.ICD9_CODE_14, admits.ICD9_CODE_15, admits.ICD9_CODE_16, admits.ICD9_CODE_17, admits.ICD9_CODE_18, admits.ICD9_CODE_19, admits.ICD9_CODE_20 FROM admits WHERE admits.SUBJECT_ID ="
b352e9e544d9e4edbcabcb01,"Among patients diagnosed with unspecified essential hypertension since 2100, what are the top four medications prescribed within 2 months to patients in their 50s?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 50 AND 59 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT prescriptions.drug, COUNT(*) FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' AND diagnoses_icd.icd_code = '401.9' AND prescriptions.startdate BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) AND admissions.dob BETWEEN '1950-01-01' AND '1959-12-31' GROUP BY prescriptions.drug ORDER BY COUNT(*) DESC LIMIT 4"
09d05723516e1dd76fa1efe3,What is the cost of thoracoscopic lobectomy of lung?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'thoracoscopic lobectomy of lung' ) ),,
e3c9d792118d17e382f1eb65,What are the top four common diagnoses since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
2ad3296a49ba1754c226eef3,What was the overall amount of input for patient 10007818 on 07/17/this year?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '07-17'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.volume) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime LIKE '07/17/%' LIMIT 1
f8da84426c2c001652c1ea5f,When did patient 10021487 last have a maximum value of diastolic blood pressure?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'diastolic blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
44091b4ad36dad1ed6a3d8b1,What changes were made in the prescription of patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],
3dfb9565afee9c41fd63cc07,What is the percentile of 6.8 in the white blood cells lab test with the same age as patient 10009628 in their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 6.8",,
612076c066409c1c13b808e5,What is the common method for taking lidocaine 0.5%?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'lidocaine 0.5%',[],
fc8ee142c3b432f169fa7cdc,What are the five frequently ordered medications for patients diagnosed with esophageal reflux previously during the same hospital visit?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophageal reflux' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT mdr.order_num, d_items.label FROM med_orders AS mdr JOIN d_items ON d_items.itemid = mdr.itemid WHERE mdr.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '530%' ) ) GROUP BY mdr.order_num, d_items.label ORDER BY COUNT(mdr.order_num) DESC LIMIT 5"
cf07a721765b700935e376f5,How much is the difference of basophils of patient 10038992 last measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT first_value - last_value FROM (SELECT MAX(chartevents.valuenum) AS first_value, MIN(chartevents.valuenum) AS last_value FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ORDER BY admissions.admittime ASC LIMIT 1) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%Basophils%' AND d_items.linksto = 'labevents'))"
7766442f90d1794d8c97fdfb,Has patient 10023117 entered the hospital in 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10023117 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.admittime LIKE '2100%'
fdc15c3b4760871eec9eb7f4,"Show the number of patients who underwent respiratory ventilation, greater than 96 consecutive hours.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM patients WHERE hadm_id IN ( SELECT hadm_id FROM icustays WHERE stay_id IN ( SELECT stay_id FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%ventilation%' ) GROUP BY stay_id HAVING MAX(charttime) - MIN(charttime) > '96:00:00' ) )
c321346f08463a3979f09efe,What was the accumulated output for patient 10004733 since 10/26/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-26'",[{'SUM(outputevents.value)': 17410.0}],
ed782775b12829eac1c6a491,Has there been any organism found in patient 10015860's first swab microbiology test in their first hospital visit?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'swab' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'swab' AND microbiologyevents.chartdate = ( SELECT MIN(microbiologyevents.chartdate) FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'swab' ) AND microbiologyevents.org_name IS NOT NULL
5b7ca8d49d2817d537c89baa,When were patient 10021938 first prescribed for nifedipine cr and calcium acetate at the same time since 09/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'nifedipine cr' AND admissions.subject_id = 10021938 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'calcium acetate' AND admissions.subject_id = 10021938 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10021938 AND prescriptions.drug IN ('nifedipine cr', 'calcium acetate') AND prescriptions.startdate >= '2009-01-01' GROUP BY prescriptions.subject_id HAVING COUNT(DISTINCT prescriptions.drug) = 2"
0ac5e8c127eb6f8f74e5d260,Total number of patients who had arteriography of cerebral arteries in this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of cerebral arteries' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of cerebral arteries' ) AND YEAR(admissions.admittime) = YEAR(CURRENT_DATE)
f854c9821a5c5435e850b71e,Tell me the top three most frequent procedures that patients received in the same hospital encounter after being diagnosed with other forms of acute ischemic heart disease.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other forms of acute ischemic heart disease' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code INNER JOIN diagnoses_icd AS diag ON procedures_icd.hadm_id = diag.hadm_id WHERE diag.icd_code LIKE 'I20%' GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 3"
819929d03e825e64c34b20ad,Tell me about the most common five output events since 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime > '2100-01-01' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
0b6a628ddf97a2a792d52b70,How many people were given prescriptions for plasmalyte?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'plasmalyte' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'plasmalyte'
3b0b9d06060760720fcc6f1d,Has patient 10005817 been diagnosed with anything?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ),[{'COUNT(*)>0': 1}],SELECT DISTINCT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10005817
9b52e008ae7f63b3fa3eeb3d,Tell me the average total cost of a hospital visit involving hyperpotassemia since 1 year ago?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperpotassemia' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(admissions.totalcharges) FROM admissions INNER JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperpotassemia' ) AND admissions.admittime >= datetime(current_time,'-1 year')"
9d3038ee311cade2b5621bce,What are the methods for taking metformin xr (glucophage xr)?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'metformin xr (glucophage xr)',[],
7cefa5cf7a599ae5c96e8eb5,What culture was patient 10007928 last tested since 02/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'STOOL'}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Culture' ) AND datetime(chartevents.charttime) >= datetime('02/2100') ORDER BY chartevents.charttime DESC LIMIT 1
754791666185be2763502622,When has patient 10016742 last had the epithelial cells maximum value in 07/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) AND strftime('%Y-%m',labevents.charttime) = '2100-07' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'epithelial cells' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum = ( SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'epithelial cells' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2007-01%' OR chartevents.charttime LIKE '2007-02%' OR chartevents.charttime LIKE '2007-03%' OR chartevents.charttime LIKE '2007-04%' OR chartevents.charttime LIKE '2007-05%' OR chartevents.charttime LIKE '2007-06%' OR chartevents.chart
4fd17cfcc175d92c67e22fdb,When last did patient 10004422 have the maximum respiratory rate on 01/19/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '01-19' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2023-01-01 00:00:00' AND '2023-01-31 23:59:59' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
baddc58b8aca169735d88f8d,What were the total number of patients discharged from the hospital?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE admissions.dischtime IS NOT NULL
0e79ae45b54260645fa447df,Has patient 5828 had any additional catheter tip-iv test performed on him?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 5828 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'additional catheter tip-iv test' )
40c4039e5ddeb88faf4449aa,Which are the top three most frequent procedures patients had within 2 months after being diagnosed with personal history of malignant neoplasm of large intestine since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of malignant neoplasm of large intestine' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.short_title, COUNT(procedures_icd.icd_code) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE EXISTS ( SELECT * FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = admissions.hadm_id AND diagnoses_icd.icd_code LIKE 'V125%' ) AND admissions.admittime BETWEEN datetime(current_time,'-1 year') AND datetime(current_time,'-10 month') ) GROUP BY d_icd_procedures.short_title ORDER BY frequency DESC LIMIT 3"
def6d375a2be3ced2d907c6d,What are the various ways to consume 5% dextrose (excel bag)?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = '5% dextrose (excel bag)',[],
aa5ad9ebeb0fafd7b1afae6f,What was the name of the organism at the last sputum test of patient 10038081?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.textvalue FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sputum culture' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
3fa74c4fb1defa83dd97682b,What was an insurance plan for patient 10005866 in their last hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicaid'}],SELECT insurance.planname FROM insurance WHERE insurance.subject_id = 10005866 ORDER BY insurance.charttime DESC LIMIT 1
64dfb6c9030d4565fdcadb6f,When patient 10010471 was first discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10010471 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2155-05-10 18:55:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10010471 ORDER BY admissions.admittime ASC LIMIT 1
c90f896b24cab48d06c88f3d,Tell me the total input for patient 10007818 since 01/12/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-01-12'",[{'SUM(inputevents.totalamount)': 162565.80000305176}],
8dc67c242df7f0e88cce307e,What was the first drug that patient 10007818 had been prescribed via the pr route since 05/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.route = 'pr' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.drug, prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10007818 AND prescriptions.route = 'PR' AND prescriptions.startdate >= '2005-01-01' ORDER BY prescriptions.startdate ASC LIMIT 1"
bc7ad8b3ef9492deca744662,"Since 1 year ago, what was patient 10008287 diagnosed with for the last time?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT admissions.diagnosis FROM admissions WHERE admissions.subject_id = 10008287 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime DESC LIMIT 1"
a4da025718f83d20130260ea,When was patient 10004235's first discharge from the hospital?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10004235 ORDER BY admissions.dischtime ASC LIMIT 1,[{'dischtime': '2196-03-04 14:02:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10004235 ORDER BY admissions.admittime ASC LIMIT 1
fa51b74dc317c3f8478a0ff5,List the top five most frequently tested specimens in 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospstay_seq = 2100 ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
e51c2dd489fa0ebf1c2b7700,What is the protocol used for the anticancer drugs?,,,
7346582042d3b9bcee31329c,How many hours has it been since the first time patient 10021487 visited careunit trauma sicu (tsicu) in the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT cast(julianday('now') - julianday(min(chartevents.charttime)) as integer) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.careunit = 'TSICU'
ad15992e182e0964c4084195,What is the opioid dosage prescribed for patient 7107?,,,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 7107 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.label LIKE '%Opioid%' )
333df3a7ec5a12c84b0e951e,What was the total of zolpidem tartrate patient 10021487 had been prescribed in 12/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.drug = 'zolpidem tartrate' AND strftime('%Y-%m',prescriptions.starttime) = '2100-12'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cpoeprofile.quantity) FROM cpoeprofile WHERE cpoeprofile.subject_id = 10021487 AND cpoeprofile.order_type = 'medication' AND cpoeprofile.enddate >= '2010-12-01' AND cpoeprofile.enddate <= '2010-12-31' AND cpoeprofile.drug = 'zolpidem tartrate'
b04265d8d305b0cccc5d7d67,Did patient 10025463 undergo a chloride test during the last hospital encounter?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' )
0822c127d758cb84c86208ab,How old was patient 10023117 during their first hospital encounter?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT admissions.admittime, patients.dob, timestampdiff(YEAR,patients.dob,admissions.admittime) AS age FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10023117 ORDER BY admissions.admittime LIMIT 1"
b14e62dc0fdb8c7bba510c8a,Calculate patient 10019172's total output on 11/20/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-11-20'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '11/20/2100%'
3eebaf8381530fd2b515bfc8,What new meds are prescribed to patient 10039831 today compared to the ones from yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT DISTINCT a.itemid FROM ( SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10039831 AND chartevents.charttime >= current_date AND chartevents.charttime <= current_time AND chartevents.storetime >= current_date AND chartevents.storetime <= current_time ) a LEFT JOIN ( SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10039831 AND chartevents.charttime >= current_date - INTERVAL 1 DAY AND chartevents.charttime <= current_date AND chartevents.storetime >= current_date - INTERVAL 1 DAY AND chartevents.storetime <= current_date ) b ON a.itemid = b.itemid WHERE b.itemid IS NULL
03b89b45a7325ecb997b183f,Do you have any suggestions for preparation for the temporary tracheostomy procedure?,,,
ef9e46557f7fe863d42a695e,Provide the total input volume for patient 10020786 on 07/01/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '07-01'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Total Volume Input' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '07/01/2022 00:00:00' AND '07/01/2022 23:59:59'
b6ac0c7fa5f88067047b90e0,When was the last time patient 10004720 had the maximum ptt since 12/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-12' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND datetime(labevents.charttime) <= datetime('12/2100-01-01') ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1"
05ae0033f4e813609ca5d462,"What is the maximum total cost of the hospital, which includes the palmar fascial fibromatosis [dupuytren]?",SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'palmar fascial fibromatosis [dupuytren]' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(total_cost) FROM ( SELECT SUM(item_cost) AS total_cost FROM charges WHERE charges.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.duplicatesof = 10014078 OR patients.subject_id = 10014078 ) AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%palmar fascial fibromatosis%' ) ) ) ) AS subquery
cdd34197e0de15595e116b81,Can you tell me the last o2 saturation pulseoxymetry of patient 10020740 on 04/04/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-04-04' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Saturation Pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '04/04/2100 00:00:00' AND chartevents.charttime < '04/04/2100 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
1e7f92fd5a7fad376555b6c5,When was patient 10004720 prescribed with a drug via the sc route for the first time in 12/this year?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND prescriptions.route = 'sc' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10004720 AND prescriptions.route = 'SC' AND MONTH(prescriptions.startdate) = 12 ORDER BY prescriptions.startdate ASC LIMIT 1
2040aaebd3c0a403ffa1269c,What was the medication patient 10026354 was prescribed for the first time via iv drip?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND prescriptions.route = 'iv drip' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT medications_miv.orderid FROM medications_miv JOIN admissions ON medications_miv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10026354 AND medications_miv.stopcharttime IS NULL AND medications_miv.route = 'IV' ORDER BY medications_miv.starttime ASC LIMIT 1
8bce38cc6e677156d2b90712,When did patient 10038999 receive the first sputum microbiology test in their first hospital visit?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'sputum' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sputum - culture' AND d_items.linksto = 'microbiologyevents' )
8527b64a6629ebc78cca2a01,"What are the three most commonly taken specimens for patients that received introduction of other thrombolytic into peripheral vein, percutaneous approach previously within 2 months in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other thrombolytic into peripheral vein, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.valuenum, chartevents.specimen_id FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 2100 ) AND chartevents.charttime >= datetime(current_time,'-2 month') AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.shortcut IN ( SELECT d_procedures.shortcut FROM d_procedures WHERE d_procedures.code = '67534007' AND d_procedures.name = 'introduction of other thrombolytic into peripheral vein, percutaneous approach' ) ) GROUP BY chartevents.specimen_id ORDER BY COUNT(*) DESC LIMIT 3"
a773e86681735be6c53a92b5,"Count the number of patients who received a procedure this year for bypass coronary artery, two arteries from coronary artery, open approach.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, two arteries from coronary artery, open approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,SELECT COUNT(DISTINCT procedures_icd.subject_id) FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE YEAR(procedures_icd.chartdate) = YEAR(CURDATE()) AND (d_icd_procedures.long_title LIKE '%bypass coronary artery%' OR d_icd_procedures.long_title LIKE '%two arteries from coronary artery%' OR d_icd_procedures.long_title LIKE '%open approach%')
9e9072f0ced4b6c391c00916,"For patients who undertook right heart cardiac catheterization during the same month, what are the top three most frequent specimens tested afterward in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,
15e6224c6a4f4b69e45e2059,What was the amount of bag that patient 10012853 were prescribed in total in 04/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) AND prescriptions.drug = 'bag' AND strftime('%Y-%m',prescriptions.starttime) = '2100-04'",[{'SUM(prescriptions.dose_val_rx)': None}],
38d26509efa287e305910833,"Since 1 year ago, how many patients required dorzolamide 2%/timolol 0.5% ophth.?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'dorzolamide 2%/timolol 0.5% ophth.' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.shortcut = 'DORZOLAMIDE 2%/TIMOLOL 0.5% OPTH.' ) AND datetime(chartevents.charttime) >= datetime(current_date,'-1 year')"
44962ace42f808407fa6647a,What was the first lipase lab value for patient 10019172 in 10/this year?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lipase' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lipase' ) AND labevents.chartdate >= '2022-10-01' AND labevents.chartdate < '2022-11-01' ORDER BY labevents.charttime ASC LIMIT 1
b5bfc514c70281b00a67544d,When was the last time patient 10004720 was measured respiratory rate greater than 9.0 on this month/06?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 9.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '06' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.subject_id = 10004720 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory rate') AND chartevents.valuenum > 9.0 AND admissions.admittime LIKE '%06%' ORDER BY chartevents.charttime DESC LIMIT 1
88fdf3da1ae1fa49b61efe01,What was the number of times trimethoprim was prescribed since 1 year ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'trimethoprim' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10014078 AND prescriptions.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND prescriptions.drug = 'trimethoprim'"
113ee06f4d8c5df754253b48,How many drugs were given to patient 10023239 since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 148}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10023239 AND prescriptions.startdate >= '2100-01-01'
65a61f863c5c62e515fe477a,"On 02/04/this year, what was the first respiratory rate value of patient 10020187?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '02-04' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '02/04/2022 00:00:00' AND chartevents.charttime < '02/05/2022 00:00:00' ORDER BY chartevents.charttime ASC LIMIT 1
5497d84d98c1646706086e2e,Will they have any urine test done for patient 24268?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 24268 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'urine' )
2f95bc2423afa4e0a3965518,Get the count of the number of hospital visits of patient 10039708 since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10039708 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 10}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.admittime >= '2100-01-01'
51f451ef32c9bcc8c27f43e9,How much does patient 10027602 change in weight second measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (chartevents.valuenum - chartevents_prev.valuenum) as weight_change FROM ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10027602 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1, 1 ) AS chartevents JOIN ( SELECT chartevents.valuenum FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10027602 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) AS chartevents_prev ON chartevents.hadm_id = chartevents_prev.hadm_id"
c2498660106f0841540500d3,"Give me the top four most frequent procedures that patients were given in the same hospital encounter after receiving reposition left mandible with external fixation device, percutaneous approach.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'reposition left mandible with external fixation device, percutaneous approach' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'reposition left mandible with external fixation device, percutaneous approach' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
521083ecdc8d7be6649f758c,"What is the hospital's average total cost that involves a procedure called implantation or replacement of carotid sinus stimulation device, total system since 1 year ago?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'implantation or replacement of carotid sinus stimulation device, total system' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(item3) FROM ( SELECT CASE WHEN item2.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%implantation or replacement of carotid sinus stimulation device, total system%' ) THEN item1.total_cost ELSE NULL END AS item3 FROM ( SELECT charges.hadm_id, SUM(charges.amount) AS total_cost FROM charges GROUP BY charges.hadm_id ) item1 JOIN admissions item2 ON item2.hadm_id = item1.hadm_id WHERE item2.admittime >= datetime(current_time,'-1 year') )"
ef2cdb36472c00261392f95a,"What is the average total hospital cost which involves exposure to other specified factors, initial encounter since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'exposure to other specified factors, initial encounter' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
7fd127de8b5bc25c0ca5a31b,Can you find the five most frequent drugs that were prescribed within the same hospital visit after a cachexia diagnosis was given since 1 year ago?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cachexia' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.label, COUNT(*) AS frequency FROM chartevents ce JOIN d_items ON ce.itemid = d_items.itemid WHERE ce.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = '264.0' AND chartdate > DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) GROUP BY ce.itemid ORDER BY frequency DESC LIMIT 5"
9298a838a1b1fa2910b4a9eb,What are the consumption methods of potassium chl 40 meq / 1000 ml d5ns?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'potassium chl 40 meq / 1000 ml d5ns',[],
3e3c16a752c633d8a67ecda2,Was the haptoglobin reading for patient 10007818 last measured on the last hospital visit greater than the value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'haptoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'haptoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'haptoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'haptoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT MAX(chartevents.valuenum) > MIN(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007818 AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'haptoglobin')
665268e8c88a193b5ec8005f,Please retrieve the daily maximum amount of patient 10022880's po intake input.,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po intake' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'PO intake' AND d_items.linksto = 'chartevents' ) GROUP BY DATE(chartevents.charttime) ORDER BY MAX(chartevents.valuenum) DESC
9c318ab198a0c0e5c19cd4b6,Were any procedures carried out on patient 10001217 in their first hospital visit?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ORDER BY admissions.admittime ASC LIMIT 1 )
3c11cf08e04cd8e55787eb1f,What was the last time patient 10009035 had a mrsa screen microbiology test in 05/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10009035 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'MRSA screen (micro)' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-05-01 00:00:00' AND chartevents.charttime <= '2022-05-31 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
13fab13d5c28d10640de8024,"In their first hospital encounter, how old was patient 10037861?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, admissions.admittime, admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10037861 ORDER BY admissions.hospstay_seq LIMIT 1"
558b74ae3a2858468e9b6d75,How many times was a insertion or replacement of external ventricular drain [evd] procedure conducted since 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of external ventricular drain [evd]' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
97516d1ecb3c025c618fb0ef,Please count the hospital visits made by patient 10002930 in this year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10002930 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10002930 AND admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01')"
b6e5095ddd979d4bfc1eecfb,Could you retrieve the top four most conducted lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_items.label, COUNT(*) AS count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ORDER BY count DESC LIMIT 4"
08f5481de0c251a808376406,"During the last hospital encounter, what was the insurance plan of patient 10015931?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],"SELECT admittime, dischtime, insurance.planname FROM admissions INNER JOIN insurance ON admissions.hadm_id = insurance.hadm_id WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime DESC LIMIT 1"
11974f52e559145ce9f812f2,"Since 1 year ago, has patient 10009035 undergone a lab test?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year')"
4b2f2ac3530b71844f36b481,Show me the top four diagnoses with the highest 6-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis, COUNT(*) AS deaths, COUNT(*) / SUM(CASE WHEN death = 1 THEN 1 ELSE 0 END) OVER () AS mortality_rate FROM ( SELECT adm_diagnoses.diagnosis, icu_patients.subject_id, icu_patients.hadm_id, icu_patients.death FROM adm_diagnoses JOIN icu_patients ON adm_diagnoses.hadm_id = icu_patients.hadm_id WHERE icu_patients.admittime <= icu_patients.deathtime AND icu_patients.deathtime BETWEEN icu_patients.admittime AND date_add(icu_patients.admittime, INTERVAL 6 MONTH) ) AS mortality_data GROUP BY diagnosis ORDER BY mortality_rate DESC LIMIT 4"
827992b8de480860fb744924,"On the current hospital visit, how many days passed since the first other fluid overload diagnosis of patient 10021487?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other fluid overload' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%fluid overload%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021487 ) AS min_charttime, ( SELECT MAX(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021487 ) AS max_admittime, INTERVAL ( SELECT MAX(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021487 ) - ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%fluid overload%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > ("
7671f2895af9f8efa4666e20,"How many days has it been since the first time in their current hospital visit that patient 10004733 was diagnosed with hemiplegia, unspecified, affecting unspecified side?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemiplegia, unspecified, affecting unspecified side' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT datediff(current_date, MIN(admissions.admittime)) AS days_since_hemiplegia FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND diagnoses_icd.icd_code = '34292' AND admissions.dischtime >= admissions.admittime"
d3d61d08b329e1aaf3de1a85,What is the price of a drug named fentanyl citrate?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'fentanyl citrate' ),,
23016e3fbba29157468b85f0,What is the type of blood patient 10431 has.,,,
f67d746e41ace34ddad71fba,What is the protocol of anti-cancer drugs?,,,
6403ade93013ea7eb291be96,What are patient 10025612's changes in SaO2 second measured on the first ICU visit compared to the first value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT firstvalue.valuenum, secondvalue.valuenum, (secondvalue.valuenum - firstvalue.valuenum) AS delta FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) ) AS firstvalue JOIN ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Sa"
a0275ba4dd2c244770e9553e,Calculate the number of patients staying in med/surg/gyn since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/gyn' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') AND admissions.hospital_service = 'Med/Surg/Gyn'"
d559f760db83349c7ce1a73b,"What were the five most frequently ordered procedures for patients who had also received extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic within the same hospital visit?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
3ac674efda7af01b7217b1a5,Tell me what the total foley output of patient 10006580 is since 03/10/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-10'",[{'SUM(outputevents.value)': None}],
babb2410ee949a2d7a609b15,Give me the total volume of output for patient 10011398 since 01/19/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-01-19'",[{'SUM(outputevents.value)': 4314.0}],
3ac8f2ef698c9eee139d3ece,"What are the four most typically ordered procedures for patients previously diagnosed with calculus of kidney, which took place within the same hospital visit?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'calculus of kidney' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM d_icd_diagnoses WHERE icd_code LIKE 'N13%' AND chartdate <= admit_time ) ) GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 4"
7bd54b9aeab884f12aad013d,What are the single rooms that are currently available?,,,
edb18fda949ab33cd5cd47c8,"Is the value of patient 10004720's hematocrit, second measured on the last hospital visit, greater than the first value measured on the last hospital visit?",SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (second.valuenum > first.valuenum) AS is_greater FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.charttime = ( SELECT MAX(labevents.charttime) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ) LIMIT 1 OFFSET 1 ) AS second JOIN ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.charttime = ( SELECT MAX(l
8b3bbb2614914b69a0d35d7f,What was the admission type for patient 10027445's first entry into the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10027445 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime ASC LIMIT 1",[],SELECT admission_type FROM admissions WHERE subject_id = 10027445 ORDER BY admittime ASC LIMIT 1
fb7a0f8c9dc16e058b2fa6fb,What was the first drug prescribed since 07/2100 to patient 10039708 via the td route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND prescriptions.route = 'td' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT medications.gre_date FROM medications WHERE medications.subject_id = 10039708 AND medications.route = 'TD' AND medications.startdate >= '07/2100' ORDER BY medications.startdate ASC LIMIT 1
565427eaa17c1b7db560f4e9,"Among patients diagnosed with other pulmonary embolism without acute cor pulmonale, what were the top five most common microbiology tests conducted within 2 months?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other pulmonary embolism without acute cor pulmonale' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT mtest, COUNT(*) AS test_count FROM ( SELECT chartevents.subject_id, chartevents.itemid FROM chartevents INNER JOIN admissions ON chartevents.subject_id = admissions.subject_id WHERE chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pulmonary embolism' AND d_items.linksto = 'admissions' ) AND chartevents.value = 'other pulmonary embolism without acute cor pulmonale' AND chartevents.charttime >= admissions.admittime AND chartevents.charttime <= datetime(admissions.admittime, '+2 months') INNER JOIN microbiologyevents ON chartevents.subject_id = microbiologyevents.subject_id INNER JOIN d_microbiology_tests ON microbiologyevents.teststerm = d_microbiology_tests.teststerm ) AS subquery GROUP BY mtest ORDER BY test_count DESC LIMIT 5"
c4cdd9f12bc74981468685d3,How many times did the percutaneous [endoscopic] gastrostomy [peg] procedure take place throughout this year?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous endoscopic
4aeee894b32b67b1daf7f21d,I need the total volume of input for patient 10027602 since 06/23/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-23'",[{'SUM(inputevents.totalamount)': 81320.0}],
89b3f7739b080ee0246b9f58,"In this year, has patient 10003046 received a diagnosis?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10003046 AND YEAR(diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 )) = YEAR(CURRENT_DATE)
0b9e619bdb576876f002d49a,What is the title of the medication that was given to patient 10021118 first via the ih means during the last hospital encounter?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'ih' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT d_items.label FROM chartevents AS c JOIN d_items ON c.itemid = d_items.itemid WHERE c.subject_id = 10021118 AND c.hadm_id IN (SELECT MAX(hadm_id) FROM admissions WHERE subject_id = 10021118) AND c.valuenum IS NOT NULL AND d_items.linksto = 'medications' AND c.charttime IN ( SELECT MIN(charttime) FROM chartevents WHERE subject_id = 10021118 AND hadm_id = (SELECT MAX(hadm_id) FROM admissions WHERE subject_id = 10021118) AND valuenum IS NOT NULL AND linksto = 'medications' AND location = 'IH' )
3274494f44c1ffdda4c98220,What was the daily maximum input of piggyback for patient 10021666 in the first ICU stay?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'piggyback' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_wardid = icustays.wardid AND icustays.hadm_id = admissions.hadm_id AND admissions.subject_id = 10021666 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily maximum input' AND d_items.linksto = 'chartevents' AND d_items.category = 'Input - piggyback')
ffeeae0595efa3f5c9f10a86,"What is the minimum total cost of the hospital, which includes the glucocorticoid deficiency?",SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'glucocorticoid deficiency' ) ) GROUP BY cost.hadm_id ) AS T1,,
1a35a4ed34f622e32e8c72ee,Tell me what the total foley output of patient 10020740 is on 03/24/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-03-24'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley output' ) AND chartevents.charttime >= '03/24/2100 00:00:00' AND chartevents.charttime <= '03/24/2100 23:59:59'
33b970d4dd11fbe67b989d1c,Can you tell me the total amount of acetaminophen that patient 10007928 has been prescribed since 03/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND prescriptions.drug = 'acetaminophen' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'SUM(prescriptions.dose_val_rx)': None}],
0d8dbb180db73cb98f531c2d,Tell me the top four most common specimens tested since 1 year ago.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) as count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime('now', '-1 year') AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%specimen%' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 4"
45b7526b9941e4579af43e6c,Could you retrieve the top five most common outputs in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT outputevents.outputvalue, COUNT(outputevents.outputvalue) AS frequency FROM outputevents WHERE outputevents.charttime LIKE '2100%' GROUP BY outputevents.outputvalue ORDER BY frequency DESC LIMIT 5"
169bc0cd29c8abe63a931a22,What was the name of the drug that was first prescribed to patient 10020306 through the iv route last month?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT c.text FROM prescriptions AS p INNER JOIN pharmacy AS r ON p.stay_id = r.stay_id INNER JOIN medications AS c ON p.medication_fk = c.medication_id WHERE p.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ) AND r.route = 'IV' AND datetime(p.starttime) >= datetime(current_time,'-1 month') ORDER BY p.starttime ASC LIMIT 1"
880b5cd212d4e5ed720e455e,What was the total nacl 0.9% amount given for patient 10021666?,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.amount) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%nacl 0.9%' AND d_items.linksto = 'chartevents' )
b8e9f61b8a98b3f23dc93f99,When was patient 10024043's first discharge from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10024043 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2117-02-04 11:53:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10024043 ORDER BY admissions.admittime ASC LIMIT 1
a59aa4e1124cf98b542230d0,Tell me the total number of patients who were discharged from the hospital since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE admityear >= (SELECT YEAR(CURRENT_DATE) - 1)
2985a08b2d895846538fee43,Provide the length in days of the first visit for patient 10026406 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 0.48175925901159644}]",SELECT MIN(icustays.outtime) - MIN(icustays.intime) AS length FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 )
6a1bd90b69ca958eeb14cef8,Has patient 10007795 gotten any medication since 03/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND datetime(prescriptions.startdate) >= '03/2100'
fa77bf576a4300f065e04807,What was the output that patient 10018845 first had since 04/09/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-09' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Void'}],
83fcd6e49ddcd0e710cd01fb,Could you retrieve the top five most conducted lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_items.itemid, d_items.label, COUNT(*) AS count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ORDER BY count DESC LIMIT 5"
dd9d9407871fb618bd52f8a9,What was the medicine that was prescribed to patient 10004235 during the same hospital visit after undergoing excision of other bile duct since 04/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of other bile duct' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-04' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admissions.admittime,admissions.dischtime,d_items.label FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE admissions.subject_id = 10004235 AND chartevents.charttime BETWEEN '04/2100' AND admissions.dischtime ORDER BY admissions.admittime ASC LIMIT 1"
b64c62eb05aaad4071af83a7,What is the common method for taking lorazepam?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'lorazepam',"[{'route': 'PO/NG'}, {'route': 'PO'}, {'route': 'TP'}, {'route': 'ORAL'}]",
9fec7adf6776835d66f06d90,What specimen test has patient 10038999 received for the last time since 06/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-06' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'PLEURAL FLUID'}],"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.charttime >= '2010-06-01' ORDER BY chartevents.charttime DESC LIMIT 1"
273f6bc57bc0f792177dfd04,Has patient 10004733 received a enteral infusion of concentrated nutritional substances treatment since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(procedures_icd.chartdate) >= datetime('2100-01-01')
4f40841ba5cc7ce273305a27,What was the total metoprolol succinate xl dose prescribed for patient 10039997 in 09/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND prescriptions.drug = 'metoprolol succinate xl' AND strftime('%Y-%m',prescriptions.starttime) = '2100-09'",[{'SUM(prescriptions.dose_val_rx)': None}],
045bf7ee10229a2cde7504e7,What kind of immunocancer drugs have been out for the last five years?,,,
c04f16fa062bc81f8c917962,When did patient 10010471 first take the microbiology test?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'charttime': '2155-12-03 19:58:00'}],SELECT MIN(charttime) FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 )
09469e7ae520d7c2a28ad15f,"What was the first dose of heparin flush (10 units/ml) during the last hospital encounter, prescribed to patient 10009628?",SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'heparin flush (10 units/ml)' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT orderitems.order_time, orderitems.stop_time, orderitems.quantity FROM orderitems JOIN d_items ON orderitems.itemid = d_items.itemid JOIN orders ON orderitems.order_id = orders.order_id WHERE d_items.label = 'heparin flush (10 units/ml)' AND orders.subject_id = 10009628 ORDER BY orderitems.order_time DESC LIMIT 1"
bbd3ab3b5e2878e0c7d8dc79,What was the maximum value of lymphocytes in patient 10016742's body in 07/2100?,"SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) AND strftime('%Y-%m',labevents.charttime) = '2100-07'",[{'MAX(labevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10016742 AND d_items.label = 'lymphocytes' AND chartevents.charttime LIKE '07/%'
c4afaf3f596cdc2be83cac17,How many days have elapsed since the last time patient 10039831 got a creatinine lab test on the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(MAX(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%creatinine%' AND d_items.linksto = 'chartevents' )
9d4a3fe390f0fef8dc0d86b3,"What are the four frequently prescribed medications for patients diagnosed with bipolar disorder, unspecified previously in the same hospital encounter?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bipolar disorder, unspecified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT prescription.drg_code, prescription.drug, COUNT(*) AS frequency FROM prescription INNER JOIN diagnoses_icd ON prescription.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '296.89' GROUP BY prescription.drg_code, prescription.drug ORDER BY frequency DESC LIMIT 4"
cf32c8a66e9b2e46a4a073dd,How much chlorhexidine gluconate 0.12% oral rinse was prescribed on their last hospital encounter for the first time to patient 10027602?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'chlorhexidine gluconate 0.12% oral rinse' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10027602 AND prescriptions.drug = 'chlorhexidine gluconate 0.12% oral rinse' AND prescriptions.route = 'ORAL' AND prescriptions.order_type = 'NEW ORDER' ORDER BY prescriptions.startdate DESC LIMIT 1
e626a72073cf3197a0efbd87,Tell me patient 10011398's average value of systolic blood pressure on this month/27.,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '27'",[{'AVG(chartevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' ) AND chartevents.charttime LIKE '%%-27%'
b661bb18d48da0b0b3f54277,"Since 2100, how many patients required amitriptyline?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'amitriptyline' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 3}],
b6d57a0c15272dbc69e39fc2,How many days has it been since the last time patient 10018081 visited careunit emergency department in this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) AS days_since_last_visit FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'emergency department visit' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
9f9170a12486ac9447866fbe,Could you show me the top five most common microbiology tests throughout this year?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],"SELECT test, COUNT(*) as count FROM microbiologyevents WHERE datetime(charttime) >= datetime(current_time,'-1 year') GROUP BY test ORDER BY count DESC LIMIT 5"
8730272c87597016340a1b9a,What was the overall amount of input for patient 10016742 since 07/11/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-11'",[{'SUM(inputevents.totalamount)': 36640.0}],
6483b1969cfa3eda4e888a7a,What percentile is the value of the mch of 31.5 among patients of the same age as patient 10037928 on the first hospital stay?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 31.5",,SELECT PERCENT_RANK() OVER (ORDER BY labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.hadm_id = ( SELECT MIN(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10037928 ) ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '2745-0' ) AND labevents.valuenum = 31.5
3b483bc7971f9931801a356e,What are the top four commonly ordered treatments for patients in their 40s in this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT t1.treatment_name, COUNT(*) as count FROM treatments AS t1 JOIN patients AS t2 ON t1.patient_id = t2.patient_id WHERE t2.age BETWEEN 40 AND 49 AND t1.order_date BETWEEN '2022-01-01' AND '2022-12-31' GROUP BY t1.treatment_name ORDER BY count DESC LIMIT 4"
30472e5c27673faeb87b6a0d,What was the total number of patients on hematology/oncology in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'hematology/oncology' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
aed29b51a927aae66b5d4811,What was the last time that patient 10022041 was discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022041 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10022041 ORDER BY admittime DESC LIMIT 1
1c833319621b08fd5e14e8ff,What was the last drug prescribed since 05/2100 to patient 10018328 via the sc route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND prescriptions.route = 'sc' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, drug, dose FROM prescriptions WHERE subject_id = 10018328 AND route = 'SC' AND starttime > '2000-05-01' ORDER BY starttime DESC LIMIT 1"
c921232bb890d4227c27bc79,Get the count of the number of hospital visits of patient 10023117 since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10023117 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 7}],
a092e1a9ae5251db64ee68be,What's the number of patients who were other nonspecific abnormal finding of lung field diagnosed this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other nonspecific abnormal finding of lung field' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'other nonspecific abnormal finding of lung field' ) AND YEAR(diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions )) = YEAR(CURDATE())
a9d61cc491cc934c6edf1a8c,"Compared to yesterday, what are the new prescriptions for patient 10018081 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.order_time, prescriptions.status, prescriptions.order_status FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.order_time BETWEEN ( SELECT MAX(prescriptions.order_time) FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND DATE(prescriptions.order_time) = CURDATE() - INTERVAL 1 DAY ) AND DATE(prescriptions.order_time) = CURDATE() AND prescriptions.order_status = 'completed' AND prescriptions.status = 'active' GROUP BY prescriptions.order_time, prescriptions.status, prescriptions.order_status"
68312cee150a54cd1fa02383,Provide the daily minimum weight of patient 10007058 throughout this year.,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT DATE(chartevents.charttime), MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY DATE(chartevents.charttime)"
8b4571147c610648de61a6ab,"On 05/08/this year, what was the first o2 saturation pulseoxymetry reading for patient 10018328?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '05-08' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Saturation Pulseoxymetry' ) AND chartevents.charttime >= '05/08/YYYY' AND chartevents.charttime < '05/09/YYYY' ORDER BY chartevents.charttime ASC LIMIT 1
3f7e59eb07f66f58689fdf28,Calculate how many drugs patient 10009049 was prescribed.,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ),[{'COUNT(*)': 41}],SELECT COUNT(DISTINCT medications.medication) FROM medications INNER JOIN admissions ON medications.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10009049
062e5671bf6a5d7df2d8f9ef,When did patient 10039831 receive the last 5% dextrose and pantoprazole prescription at the same time throughout this month?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '5% dextrose' AND admissions.subject_id = 10039831 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'pantoprazole' AND admissions.subject_id = 10039831 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('5% dextrose', 'pantoprazole') ) AND chartevents.charttime >= ( SELECT DATE_FORMAT(CURDATE(), '%Y-%m-01 00:00:00') ) AND chartevents.charttime < ( SELECT DATE_FORMAT(CURDATE(), '%Y-%m-%d 23:59:59') ) ORDER BY chartevents.charttime DESC LIMIT 1"
57bfa65e25858649a7b7fdb1,Did patient 10039831 get a diagnosis in the last year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
ae4b7b569f1122fb6951ca6f,Get me patient 10016810's total output volume in the last ICU stay.,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ),[{'SUM(outputevents.value)': 5090.0}],"SELECT COALESCE(SUM(chartevents.outputvolumenl),0) AS total_output_volume FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' )"
ac606737f9bd303254cf3a86,"After getting diagnosed with hemiplegia and hemiparesis following cerebral infarction affecting left non-dominant side, how many patients were found to have bradycardia, unspecified in the same hospital visit since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemiplegia and hemiparesis following cerebral infarction affecting left non-dominant side' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bradycardia, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,"SELECT COUNT(*) FROM diagnoses_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%hemiplegia%' OR long_title LIKE '%hemiparesis%' OR long_title LIKE '%cerebral infarction%' OR long_title LIKE '%left non-dominant side%' ) AND hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'bradycardia, unspecified' ) ) AND chartdate >= '2100-01-01'"
4b4a86909d0c7240eeb9f9f2,What were the three most commonly performed lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM chartevents JOIN d_labitems ON chartevents.itemid = d_labitems.itemid WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
163d3f81e0ca38daf1f919a2,"When was the last time the mean blood pressure of patient 10021118 was greater than 74.0, on this month/05?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 74.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '05' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 74.0 AND chartevents.charttime LIKE '____-05%' ORDER BY chartevents.charttime DESC LIMIT 1
e6251eca229881bceb8a97c7,I would like to know what dr. garcia's on today's outpatient schedule.,,,
2cc3cfa013ef1b065613e661,What is the minimum total cost of a hospital stay involving bariatric surgery status in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bariatric surgery status' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
52e1920bba1dc62e51feb58b,Count the number of medicines that have been prescribed to patient 10021487 in 2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.charttime BETWEEN '2100-01-01' AND '2100-12-31'
e6f198df1f603a2a44353e4d,Could you unfold the four most frequent outputs in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],
585b1a785327dcf93085897b,How much does a medication called clobetasol propionate 0.05% ointment cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'clobetasol propionate 0.05% ointment' ),,
d8caee9d95e20089a90e7c8c,"During this year, has patient 10007928 been at the emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.admittime >= current_date - interval '1 year' AND admissions.admitype = 'Emergency'
60d0f145200cc583dc1c9dbb,What genetic test did patient 70234 undergo?,,,SELECT genetic_tests.test_name FROM genetic_tests INNER JOIN patients ON genetic_tests.patient_id = patients.patient_id WHERE patients.patient_id = 70234
f99e58fee0562c646b3dc682,Has any prescriptions been given to patient 10022017 during this year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10022017 AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
9906646cfa86ce749ac4d08e,What methods are used to ingest tramadol?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'tramadol',[{'route': 'ORAL'}],
4d2e6a2bf7e989ac0488030c,Tell me the average total hospital cost that includes dissection of abdominal aorta.,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dissection of abdominal aorta' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(costs.total_cost) FROM costs JOIN admissions ON costs.hadm_id = admissions.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dissection of abdominal aorta' )
bf0f4f576e73bf0337820ba1,"What are the charges for a procedure called occlusion of right vertebral artery with intraluminal device, percutaneous approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'occlusion of right vertebral artery with intraluminal device, percutaneous approach' ) )",,"SELECT charges.amount FROM charges JOIN procedures_icd ON charges.hadm_id = procedures_icd.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'occlusion of right vertebral artery with intraluminal device, percutaneous approach'"
4b334d0f16aebc57870989a3,So how many hours have passed since patient 10021487's first closed fracture of four ribs diagnosis during the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of four ribs' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'CLOSED FRACTURE OF FOUR RIBS' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
cece63fb84d3cf5a6e97cb83,What is the name of the treatment given to patient 10007795 two times on the first hospital stay?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,SELECT d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.charttime IN ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.itemid = d_items.itemid GROUP BY chartevents.charttime HAVING COUNT(*) = 2 )
05d218c03d4f3db81a54165a,Could you tell me how many patients stayed in the medical/surgical intensive care unit (micu/sicu) careunit since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.intime >= datetime(current_time,'-1 year') AND icustays.icu = 'MICU' OR icustays.icu = 'SICU'"
c871c7a5d78c361289609381,What was the name of the medicine prescribed to patient 10037861 for the last time since 8 months ago?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-8 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Influenza Vaccine Quadrivalent'}],"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND datetime(prescriptions.dosedatetime) >= datetime(current_time,'-8 month') ORDER BY prescriptions.dosedatetime DESC LIMIT 1"
5e93d590379eb00b3a76b6aa,When has patient 10020740 been prescribed medication for the last time in 04/2100 via the po route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) = '2100-04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT medications.startdate FROM medications WHERE medications.subject_id = 10020740 AND medications.route = 'PO' AND medications.startdate <= '04/2100' ORDER BY medications.startdate DESC LIMIT 1
306f0ab7b65335f49a4bfc03,What was patient 10029291's insurance name on their last hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10029291 ORDER BY admissions.admittime DESC LIMIT 1
c0684c1ca2e984f005e2f914,What are five of the most frequent specimens taken since 1 year ago?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
98718dac8212efcff4207af5,"On the last hospital stay, how much amitriptyline has been prescribed to patient 10002930 in total?",SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'amitriptyline',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(total) FROM ( SELECT SUM(cumulative) AS total FROM prescribings WHERE prescribings.subject_id = 10002930 AND prescribings.icustay_id IN (SELECT icustays.icustay_id FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.dischtime = (SELECT MAX(admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10002930)) AND prescribings.drug = 'amitriptyline' GROUP BY prescribings.icustay_id ) AS subquery
41539321bbcb2564370db4b1,When are dr. hurdle's rounds and procedures?,,,
5abb89ffecbb35ddc1f5b163,How much does vancomycin oral liquid cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'vancomycin oral liquid' ),,
0032247aa14645cbf758a680,Tell me the top four most commonly prescribed medications during the same hospital encounter to patients in their 50s who were diagnosed with other and unspecified hyperlipidemia.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified hyperlipidemia' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 50 AND 59 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT prescription.drug, COUNT(*) AS frequency FROM prescription JOIN admissions ON prescription.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '272.0%' AND admissions.admittime BETWEEN admissions.dob AND datetime(admissions.dob, '+50 years') GROUP BY prescription.drug ORDER BY frequency DESC LIMIT 4"
436811ca71744e404dd509d5,Can you provide me the monthly minimum amount of or cell saver intake that patient 10035185 received?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or cell saver intake' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m',inputevents.starttime)",[],
1a89de1d88c68408b38a9c56,"In 2100, how many medications were prescribed to patient 10006053?","SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],
07032b1d51ef6d34a32ed424,Give me the top three most commonly prescribed medications since 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]",
7ae9d2ebad321231f55eb04c,Has patient 10015860 received any laboratory testing in 10/last year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',labevents.charttime) = '10'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(labevents.charttime) >= datetime(current_date,'-1 year','start of year') AND datetime(labevents.charttime) < datetime(current_date,'-1 year','+1 year','start of year')"
14dc70100f62f8b317f16a1c,I want to know the ward id that patient 65962 can go in and get in?,,,
41bdccec26b0e33321c1ec3f,"What is the diagnosis cost of hemiplegia, unspecified affecting left nondominant side?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemiplegia, unspecified affecting left nondominant side' ) )",,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemiplegia, unspecified affecting left nondominant side' )"
5c8ae752cc0cbe2cb6d28a89,Tell me patient 10021487's total volume of output on 12/09/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-12-09'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.value) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.charttime BETWEEN '12/09/2100 00:00:00' AND '12/09/2100 23:59:59' AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%output%' OR label LIKE '%urine%' OR label LIKE '%stool%' OR label LIKE '%vomit%' OR label LIKE '%sweat%')
4534d3ce04ba517f06d9eeec,"What is the average total hospital cost, which includes other alteration of consciousness since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other alteration of consciousness' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
430d5d3db66a6f64ebeb3879,Did patient 10021487 have any monos lab tests done during their first hospital encounter?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monos' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.hospital_expire_flag = 0 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code LIKE 'monos%' )
6ad09c06402234bbbe81de49,"What was the last time, on this month/06, that patient 10008454's mean blood pressure was less than 108.0?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 108.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '06' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' ) AND EXTRACT(MONTH FROM chartevents.charttime) = 6 AND chartevents.valuenum < 108 ORDER BY chartevents.charttime DESC LIMIT 1
d9a1e858931b19e914db92c6,Calculate patient 10007818's total input amount of fresh frozen plasma on 07/03/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'fresh frozen plasma' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '07-03'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.volume) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%fresh frozen plasma%' ) AND DATE(chartevents.charttime) = '07/03/2022'
bbb1655c44fb049ef7b879ae,Tell me the number of patients who stayed in medicine since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medicine' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
00bbbffdff5ee0427911211a,What was the output of patient 10027602 for the last time on this month/03?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '03' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],SELECT chartevents.outputamt FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' ) AND chartevents.charttime LIKE '%%-03-%' ORDER BY chartevents.charttime DESC LIMIT 1
ba956e22bb92d02f3abbcb3c,How much does phenytoin infatab cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'phenytoin infatab' ),,
a342759e5ce55cf378df2630,Has patient 10015272 come into the ER?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.admittime IS NOT NULL
b7d1939430a21c6f12cd36da,How many ampicillin-sulbactam prescriptions occurred in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'ampicillin-sulbactam' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'ampicillin-sulbactam' AND prescriptions.startdate LIKE '2021-01-%' OR prescriptions.startdate LIKE '2021-02-%' OR prescriptions.startdate LIKE '2021-03-%' OR prescriptions.startdate LIKE '2021-04-%' OR prescriptions.startdate LIKE '2021-05-%' OR prescriptions.startdate LIKE '2021-06-%' OR prescriptions.startdate LIKE '2021-07-%' OR prescriptions.startdate LIKE '2021-08-%' OR prescriptions.startdate LIKE '2021-09-%' OR prescriptions.startdate LIKE '2021-10-%' OR prescriptions.startdate LIKE '2021-11-%' OR prescriptions.startdate LIKE '2021-12-%'
ec87b2a66e1ee117d0c97694,What was the total of 0.9% sodium chloride that patient 10018423 had been prescribed in 05/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND prescriptions.drug = '0.9% sodium chloride' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c.amount) FROM prescriptions AS p JOIN prescriptions_doseform AS pd ON p.order_id = pd.order_id JOIN prescriptions_drug AS c ON pd.order_id = c.order_id WHERE p.subject_id = 10018423 AND c.formulary_drug_cd = 'NS' AND p.startdate LIKE '2021-05-%' AND p.status = 'Final'
accce2ad12559dd458516192,What was the total or urine output of patient 10035185 in the first ICU stay?,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or urine' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.first_wardid = icustays.wardid AND icustays.subject_id = 10035185 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%total urine output%' OR d_items.label LIKE '%urine output%' OR d_items.label LIKE '%urine%' )
f6c6d5c25fc74762144de677,"What is the average total hospital cost that involved implantation or replacement of carotid sinus stimulation device, total system since 1 year ago?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'implantation or replacement of carotid sinus stimulation device, total system' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(finance.icost) FROM finance INNER JOIN admissions ON finance.hadm_id = admissions.hadm_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%implantation or replacement of carotid sinus stimulation device, total system%' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
c26556c5555cff100d6a8a02,What are the prices for the drug called aspirin (buffered)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'aspirin (buffered)' ),,
01c441f58a97f89226067a93,When was the last time that patient 10031757 has had the maximum systolic blood pressure since 92 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-92 day') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' ) AND chartevents.charttime >= datetime(current_timestamp, '-92 days') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
6b42551afc7b875d354f4b01,When are the dr. gutknecht's rounds and procedures?,,,
52d67bef474996c117256e92,What is the percentile of the mchc value of 34.3 among patients of the same age as patient 10017492 on their last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 34.3",,SELECT PERCENT_RANK() OVER (ORDER BY labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCHC' ) ORDER BY labevents.charttime DESC LIMIT 1
29183d163063354c6c818147,Is there any medication that patient 10021487 has received since 12/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12'",[{'COUNT(*)>0': 1}],
8236653d88c7fec0c10aeb71,"On the current hospital visit, how many hours have passed since patient 10004733's first diagnosis of blood in stool?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'blood in stool' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday(diagnoses_icd.charttime) - julianday(admissions.admit_time) FROM diagnoses_icd INNER JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.subject_id = 10004733 AND diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'blood in stool' ) AND diagnoses_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ORDER BY admissions.admittime DESC LIMIT 1 )
21b5d63e1046e143cef88adf,When was the first time that patient 10007818 has been prescribed medication via the subcut route since 05/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.route = 'subcut' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10007818 AND prescriptions.route = 'SUBCUT' AND prescriptions.startdate >= '05/2100' ORDER BY prescriptions.startdate LIMIT 1
3bf9272fcc3117ccfaed52f1,How much tamoxifen citrate was first prescribed to patient 10007795 since 10/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND prescriptions.drug = 'tamoxifen citrate' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
b01254cc6625f82626d18102,"What is the cost for the procedure destruction of right main bronchus, via natural or artificial opening endoscopic?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right main bronchus, via natural or artificial opening endoscopic' ) )",,
c1cbfb46dafe04deb682724d,Can you tell me the first recorded weight for patient 10015272?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
a311fd7b15cb7682fb46dbca,Has patient 10019917 visited the hospital since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019917 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019917 AND admissions.admittime >= '2100-01-01 00:00:00'
66f0e9afff14db4b814ca058,"When was patient 10004422's last maximum cholesterol, total value on their last hospital encounter?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT MAX(chartevents.valuenum), chartevents.charttime FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004422 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'cholesterol, total') AND chartevents.error IS NULL GROUP BY chartevents.hadm_id ORDER BY chartevents.charttime DESC LIMIT 1"
7d25ac3b59f8763886afb8a7,What are the prices of the drug 0.83% sodium chloride?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = '0.83% sodium chloride' ),,
4391a17af3d3dc9b48eb23de,Retrieve the top three most frequent procedures that were delivered to patients within 2 months after they received fluoroscopy of multiple coronary arteries using low osmolar contrast in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using low osmolar contrast' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"WITH fluoroscopy_procedures AS ( SELECT admissions.subject_id FROM admissions JOIN admissions.admits ON admissions.subject_id = admits.subject_id JOIN procedures_icd ON admits.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%fluoroscopy%coronary arteries%' ) AND admits.admittime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH) AND CURRENT_DATE AND admissions.hospital_expire_flag = 0 ) SELECT icd_code, COUNT(*) as count FROM procedures_icd WHERE hadm_id IN ( SELECT fluoroscopy_procedures.hadm_id FROM fluoroscopy_procedures ) GROUP BY icd_code ORDER BY count DESC LIMIT 3"
5e4bfc749171bceb6b2332d1,When was patient 10014729 last given an input since 03/06/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-06' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2125-03-01 20:37:00'}],SELECT inputevents_mv.charttime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND datetime(inputevents_mv.starttime) >= '2100-06-03' ORDER BY inputevents_mv.charttime DESC LIMIT 1
8410ba33ca60f450bef1f5d8,How is olanzapine (disintegrating tablet) typically consumed?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'olanzapine (disintegrating tablet)',[],
88c38001054f068df22c8b37,What was the name of the drug which patient 10027602 was prescribed in the same hospital visit after receiving a percutaneous [endoscopic] gastrostomy [peg] procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT makedrug.name FROM makedrug JOIN presc ON makedrug.code = presc.ndc JOIN admissions ON presc.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10027602 AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND EXISTS ( SELECT procedures_icd.icd_code FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous endoscopic gastrostomy (peg) placement' ) ) ) ORDER BY presc.dose_id ASC LIMIT 1
5565327861ed5fcac13b11e2,"How many times was introduction of other thrombolytic into central vein, percutaneous approach carried out this year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other thrombolytic into central vein, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other thrombolytic into central vein, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_FORMAT(NOW(), '%Y-01-01') )"
d5331cbc78765c496545988f,Retrieve the top four most common lab tests.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
177361783d0e88008a827338,Ya do you know if there was a genetic test patient 97330 received?,,,SELECT COUNT(*)>0 FROM d_items WHERE d_items.linksto = 'labevents' AND d_items.itemid IN ( SELECT labevents.itemid FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 97330 ) AND labevents.value = 'Genetic' OR labevents.value = 'genetic' )
af8069263b44e7b3d7b8dee2,What was the admission type for patient 10024043's first entry into the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10024043 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime ASC LIMIT 1",[{'admission_type': 'EU OBSERVATION'}],SELECT admittime FROM admissions WHERE subject_id = 10024043 ORDER BY admittime ASC LIMIT 1
b6d5c0f90ce664eba9acb6bf,"Among patients diagnosed with unspecified viral hepatitis c without hepatic coma, what are the top three most common lab tests conducted in the same month in this year?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified viral hepatitis c without hepatic coma' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT labitems.label, COUNT(*) AS frequency FROM chartevents AS labs INNER JOIN d_items AS labitems ON labs.itemid = labitems.itemid INNER JOIN admissions AS adm ON labs.subject_id = adm.subject_id AND labs.hadm_id = adm.hadm_id WHERE adm.diagnoses IN ('unspecified viral hepatitis c', 'without hepatic coma') AND labs.charttime BETWEEN DATE_FORMAT(CURDATE(),'%Y-01-01') AND CURDATE() GROUP BY labitems.label ORDER BY frequency DESC LIMIT 3"
efa49770d1b09991933af299,Has patient 10019777 gone to an emergency room throughout this year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.admittime BETWEEN date_format(current_timestamp(), '%Y-01-01 00:00:00') AND current_timestamp()"
3f82eece23e0481c1ab26586,Tell me the sum of the input volume for patient 10007928 since 03/04/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-04'",[{'SUM(inputevents.totalamount)': 22955.0}],SELECT SUM(inputevents_cv.inputvolume) FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007928 AND inputevents_cv.charttime >= '2100-04-03 00:00:00'
1dbe09373cc9df99e58c1b27,Can anyone help me determine the code that corresponds to icd-11 and for preterm nec 2000-2499g in icd-10?,,,
566bbc92e52ac6c9cd03050c,"Today compared to yesterday, what new drugs are being prescribed to patient 10004733?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT admittime, drug FROM prescriptions WHERE subject_id = 10004733 AND admittime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND CURDATE() EXCEPT SELECT admittime, drug FROM prescriptions WHERE subject_id = 10004733 AND admittime BETWEEN DATE_SUB(CURDATE(), INTERVAL 2 DAY) AND DATE_SUB(CURDATE(), INTERVAL 1 DAY)"
e76aa0d663560abbc03fe1a7,What was a drug that patient 10004733 was prescribed for within 2 days after receiving enteral infusion of concentrated nutritional substances on the current hospital encounter?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admittime, admittime + INTERVAL 2 DAY FROM admissions WHERE subject_id = 10004733 AND hadm_id IN ( SELECT hadm_id FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%enteral infusion%' AND category LIKE '%concentrated nutritional substances%' AND linksto = 'chartevents' ))"
fe0a92b8a22e8c88cd9c413a,"In the first hospital visit, did patient 10018845 come to the ER?",SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10018845 ) AND admissions.exitsource = 'ER'
fa8402cd41bf604fac740f8c,Has patient 10026354 had nacl 0.9% given since 03/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-03'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM icustays JOIN patients ON patients.subject_id = icustays.subject_id JOIN admissions ON admissions.hadm_id = icustays.hadm_id JOIN inputevents_cv ON inputevents_cv.icustay_id = icustays.icustay_id WHERE patients.subject_id = 10026354 AND inputevents_cv.itemid = (SELECT itemid FROM d_items WHERE label = '0.9 % Sodium Chloride') AND inputevents_cv.charttime BETWEEN '2000-03-01' AND '2000-03-31'
63f037abd22df66334ece29c,What is the maximum total cost of the hospital which involves hyperplasia of renal artery?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperplasia of renal artery' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(tot_charges) FROM admissions INNER JOIN d_icd_procedures ON admissions.hadm_id = d_icd_procedures.hadm_id WHERE d_icd_procedures.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%hyperplasia of renal artery%' )
6fede59c21de596953ecde6a,What was patient 10026354's total input amount of nacl 0.9% since 04/05/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-05'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10026354 AND inputevents_cv.starttime >= '04/05/2100' AND inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE label = '0.9% NaCl')
171cf2d1223b4c0cf47224a0,What was the duration in days of patient 10004235's last stay in the ICU?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 4.952106482349336}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ORDER BY icustays.intime DESC LIMIT 1"
2bb75165325ab535ac14bae8,When did patient 10031757 have the bands lab test for the first time in 10/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bands' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND strftime('%Y-%m',labevents.charttime) = '2100-10' ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bands' ) AND STRFTIME('%Y-%m', labevents.charttime) = '2100-10' ORDER BY labevents.charttime ASC LIMIT 1"
2e016fdfd5dd7f3e7f3be7cd,List the five most frequent diagnoses a patient was diagnosed with within 2 months after receiving percutaneous abdominal drainage in this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN icd_diagnoses ON icustays.stay_id = icd_diagnoses.stay_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE icustays.intime >= datetime(current_time,'-2 month') AND icd_diagnoses.hadm_id IN ( SELECT hadm_id FROM icd_procedures WHERE icd_procedures.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND datetime(icd_procedures.chartdate) >= datetime(current_time,'-2 month') ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
64d22396919485e14c973f06,What specimen test has patient 10038992 received for the last time since 10/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],
db2dac9cf4438079183f8b61,"On their last hospital encounter, how old was patient 10038081?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT admissions.admittime, (SELECT DATE_FORMAT(AGE(admissions.dob, admissions.admittime), ""%Y"") FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime DESC LIMIT 1) AS Age FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime DESC LIMIT 1"
c32cd76c5b0aa08c81251752,How many mupirocin nasal ointment 2% prescriptions took place in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'mupirocin nasal ointment 2%' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],
725f32d2feda840d1ff1d579,The last time patient 10021487 was prescribed sodium bicarbonate and 5% dextrose at the same time since 11/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '5% dextrose' AND admissions.subject_id = 10021487 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'sodium bicarbonate' AND admissions.subject_id = 10021487 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.startdate >= '11/2100' AND prescriptions.drug IN ('sodium bicarbonate', '5% dextrose') GROUP BY prescriptions.hadm_id HAVING COUNT(DISTINCT prescriptions.drug) = 2 ORDER BY prescriptions.startdate DESC LIMIT 1"
0b0c7f34ee233cef21378070,What was the name of the procedure that was given two times to patient 10027602 during the last month?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-1 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT d_procedures.name FROM d_procedures JOIN procedures ON d_procedures.code = procedures.code WHERE procedures.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND procedures.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) GROUP BY procedures.code HAVING COUNT(*) = 2"
1938082694abfabf0da88e32,What is the reimbursement standard for the genetic and chromosome tests?,,,
242ad67d83b98dc87f0a257c,Has patient 10038999 been administered any nacl 0.9% since 03/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-03'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'NACL' AND d_items.category = 'IV solution' AND d_items.formulary = 'Formulary' ) AND inputevents_cv.amount >= 0.9 AND inputevents_cv.starttime >= '03/2100' AND inputevents_cv.subject_id = 10038999
399156b9ba93c105aec739fd,What was the name of the organism found in patient 10021487's last bronchoalveolar lavage microbiology test since 08/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],"SELECT microbiologyevents.org_itemid, d_microorganisms.org_name FROM microbiologyevents INNER JOIN d_microorganisms ON microbiologyevents.org_itemid = d_microorganisms.org_itemid WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.chartdate > '08/2100' ORDER BY microbiologyevents.chartdate DESC LIMIT 1"
7499a31689ceddb83308b2d0,"Since 2100, has patient 10004235 undergone a simple excision of other lymphatic structure procedure?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND procedures_icd.chartdate >= '2100-01-01'
9d1688657943a3556c9c8704,"How many patients were diagnosed with type 2 diabetes mellitus without complications during the same month after they were first diagnosed with altered mental status, unspecified?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'altered mental status, unspecified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'type 2 diabetes mellitus without complications' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(*) FROM diagnoses_icd AS first_diagnosis JOIN diagnoses_icd AS second_diagnosis ON first_diagnosis.hadm_id = second_diagnosis.hadm_id AND MONTH(first_diagnosis.chartdate) = MONTH(second_diagnosis.chartdate) AND YEAR(first_diagnosis.chartdate) = YEAR(second_diagnosis.chartdate) WHERE first_diagnosis.icd_code LIKE 'E11%' AND second_diagnosis.icd_code LIKE 'R41%' AND first_diagnosis.seq_num = 1 AND second_diagnosis.seq_num = 2
dbb4226192d4ef37cbf426dd,"Since 07/2100, when did patient 10031757 last get prescribed lactated ringers and metronidazole (flagyl) at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'lactated ringers' AND admissions.subject_id = 10031757 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'metronidazole (flagyl)' AND admissions.subject_id = 10031757 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT admits.admittime FROM admissions admits INNER JOIN admissions admits2 ON admits.subject_id = admits2.subject_id WHERE admits.subject_id = 10031757 AND admits.admittime >= '07/2100' AND (EXISTS (SELECT * FROM prescriptions WHERE prescriptions.stay_id = admits.stay_id AND prescriptions.grepper LIKE '%lactated ringers%') AND EXISTS (SELECT * FROM prescriptions WHERE prescriptions.stay_id = admits.stay_id AND prescriptions.grepper LIKE '%metronidazole%')) ORDER BY admits.admittime DESC LIMIT 1
45d38cc2d6126200d9c5ec99,How many days have elapsed since patient 10039831 had received a hemoglobin lab test for the first time in this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT DATEDIFF(current_date, MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hemoglobin' AND d_items.linksto = 'chartevents' )"
dc198d4ae3abb990cb9902e1,Name the three most frequently prescribed drugs during the same hospital encounter following a diagnosis of acute and subacute necrosis of liver during this year.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute and subacute necrosis of liver' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT d_cpt.cpt_name FROM chartevents AS ce JOIN d_cpt ON ce.itemid = d_cpt.cpt_number WHERE ce.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code LIKE 'K72%' ) AND ce.chartdate >= date('now', 'start of year') GROUP BY ce.itemid ORDER BY COUNT(*) DESC LIMIT 3"
a8995e515e945700a73e1a38,What is the minimum total cost at a hospital including a lymphocytes laboratory test in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
1e7e5b854e3946d368c6016f,Find the number of current patients in the 50s age group.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 50 AND 59,,"SELECT COUNT(*) FROM patients WHERE patients.dob >= DATE_SUB(CURDATE(), INTERVAL 59 YEAR) AND patients.dob < DATE_SUB(CURDATE(), INTERVAL 50 YEAR) AND patients.dod IS NULL"
d2d6e834bd7830831783fa05,What is the total number of days that have passed since patient 10021487's first asparate aminotransferase (ast) lab test in the current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT COUNT(*) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'asparate aminotransferase (ast)' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'asparate aminotransferase (ast)' AND d_items.linksto = 'chartevents' ) ) AND datetime(current_time) AND chartevents.charttime >= datetime(current_time) - INTERVAL 1 DAY
4fbd4f9863cff8b2fd42e23b,Did patient 10019777 undergo the procedure on single vessel in the previous year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'procedure on single vessel' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%single vessel%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND procedures_icd.chartdate BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND CURRENT_DATE"
99ae2a1c4797235aeeccbd8a,What is the number of patients who were prescribed bupivacaine 0.1% since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'bupivacaine 0.1%' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
bcaec1a9a3a9b59caef1e49a,Is there any record of cardiogenic shock in patient 83182's family?,,,
4f618d2298a9d6c65fb3663a,Give me the length of stay in days for patient 10013049 during their first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.1769212959334254}]",SELECT MIN(icustays.outtime - icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 )
6d09ba5be77b8bf9cc8b08a8,Tell me the total volume of input for patient 10005817 since 04/03/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-03'",[{'SUM(inputevents.totalamount)': 166435.0}],
0bf3d99fa1e1eb8dd643a066,Was patient 10007818 on any solution in the first ICU stay?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'solution' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM icustays JOIN chartevents ON icustays.stay_id = chartevents.stay_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND icustays.first_wardid = 1 AND d_items.category = 'infusion' AND d_items.itemtype = 'solution'
72f9d3cf5bb88a5d34be8b2e,How many patients were discharged from the hospital since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime('2100')
920ad0d7946eb3abca368599,What were the most frequent diagnoses among the top three this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
d468712401b6ab1b27a362ee,Can you tell me the cost of other electric countershock of heart?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart' ) ),,
b08e604b0e398d9225a7e1f0,When did the last time patient 10027602 had the minimum value of heart rate since 10/06/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-10-06' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND datetime(chartevents.charttime) <= datetime('10/06/2100', 'unixepoch') ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
2f22847b30b971f2903664c3,When was patient 10021118's last microbiological examination since 06/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-06' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2161-11-19 12:30:00'}],SELECT chartevents.charttime FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label LIKE '%microbiology%' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.charttime >= '06/2100' ORDER BY chartevents.charttime DESC LIMIT 1
82497b82db1a47d9940db063,Can you tell me when the last asparate aminotransferase (ast) test of patient 10015272 was conducted in 06/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.charttime >= '2022-06-01' AND labevents.charttime < '2022-07-01' ORDER BY labevents.charttime DESC LIMIT 1
6a368f5c49fd5add94776985,"So, the last mcv test result for the patient 10004720 in 12/this year was?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'MCV' AND d_items.linksto = 'labevents' ) AND chartevents.charttime >= DATE_FORMAT(CURDATE(),'%Y-12-01') ORDER BY chartevents.charttime DESC LIMIT 1"
d1786dec0eca017b0b1f5d7b,"Count the number of patients who received unilateral simple mastectomy in the same hospital visit after being diagnosed with personal history of transient ischemic attack (tia), and cerebral infarction without residual deficits in 2100.","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of transient ischemic attack (tia), and cerebral infarction without residual deficits' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'unilateral simple mastectomy' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM admissions AS a JOIN patients AS p ON p.subject_id = a.subject_id JOIN icd_diagnoses AS d1 ON d1.subject_id = p.subject_id JOIN icd_diagnoses AS d2 ON d2.subject_id = p.subject_id JOIN icd_diagnoses AS d3 ON d3.subject_id = p.subject_id JOIN procedures_icd AS pr ON pr.subject_id = p.subject_id WHERE p.subject_id = a.subject_id AND a.admittime <= pr.chartdate AND a.hadm_id = d1.hadm_id AND a.hadm_id = d2.hadm_id AND a.hadm_id = d3.hadm_id AND a.hadm_id = pr.hadm_id AND d1.icd_code LIKE 'E78%' AND d2.icd_code LIKE 'I63.9%' AND d3.icd_code LIKE 'I61%' AND pr.icd_code LIKE 'V46.4%'
822c7c92c1f48adca005dc81,Show the number of patients who underwent clipping of aneurysm since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'clipping of aneurysm' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' )",,
3bd09b282f97fbf5a9f40eaf,Show the weight changes of patient 10027602 last measured on the last hospital visit compared to the value second to last measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT chartevents.valuenum, chartevents.prev_valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) ORDER BY chartevents.charttime DESC LIMIT 1,2"
3a3ab651adc4530ed40be652,"What is the average total cost of the hospital, which includes medicines called dronabinol?",SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'dronabinol' ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(costs.total_charged) FROM costs JOIN d_items ON costs.itemid = d_items.itemid WHERE d_items.label LIKE '%dronabinol%' AND costs.subject_id IN (SELECT subject_id FROM patients)
1533c631557452d754da7280,When was the last time patient 10004733 measured its heart rate greater than 118.0 during their first ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 118.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_careunit = 'ICU' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 118 ORDER BY chartevents.charttime DESC LIMIT 1
4a41f13171a4d40a9cb9e53b,How many times did the hemodialysis procedure take place?,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'hemodialysis' )
df2081f769425d13a4ff054f,Count the number of current patients whose ages fall within the 40s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 40 AND 49,,
bae6bdda5b9a9cb808040a25,How much does patient 10019777 weigh difference last measured on the last hospital visit compared to the second to last value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT chartevents.valuenum - prev_valuenum FROM chartevents JOIN ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) AS prev_val ON chartevents.hadm_id = prev_val.hadm_id AND chartevents.itemid = prev_val.itemid WHERE chartevents.charttime = ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) ORDER BY chartevents.charttime DESC LIMIT 1 )"
ed7775067dbd67782c081e36,Can you inform me of the first macrophage test result for patient 10014078 since 03/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'macrophage' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-03' ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'macrophage' ) AND datetime(chartevents.charttime) >= datetime('2000-03-01') ORDER BY chartevents.charttime ASC LIMIT 1"
20a337b806f34bbcaf6383e9,Find out the number of medicines given to patient 10038933 in 2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10038933 AND prescriptions.startdate >= '2100-01-01' AND prescriptions.enddate <= '2100-12-31'
a3279eb9747f960bcb7b62b6,What percentile is 16.5 white blood cells in a patient of the same age as patient 10031757 on the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 16.5",,SELECT percentiles.percentile FROM percentiles WHERE percentiles.lab_name = 'white blood cell' AND percentiles.lab_value = 16.5 AND percentiles.age = ( SELECT patients.anchor_age FROM patients WHERE patients.subject_id = 10031757 ) AND percentiles.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ORDER BY admissions.admittime DESC LIMIT 1 )
a39e1668093aab21fc2f126e,Show me patient 10029484's total volume of output since 10/23/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-23'",[{'SUM(outputevents.value)': 725.0}],
a491772e3c26b8dfc1137679,"Has patient 10038081 had a lab test for glucose, ascites in 10/this year?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, ascites' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' OR d_labitems.label = 'ascites' ) AND labevents.charttime >= date_trunc('month', current_date) AND labevents.charttime < date_trunc('month', current_date + interval '1 month')"
13467297765b0e75201a52e3,What are the three most common output instances?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.valuenum IS NOT NULL AND d_items.category = 'Output' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
926dd0924833df1c1df58531,What is the minimum hospital cost to include a drug called nicotine polacrilex since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'nicotine polacrilex' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
0ba53e15e28cc6c41c12f29b,When and where are the rounds and procedures of dr. canpos?,,,
dd637812c5b2444154d1942b,What was the first time that patient 10016742 had a minimum heart rate during the first ICU visit?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND icustays.first_careunit IS NOT NULL AND icustays.first_wardid IS NOT NULL AND icustays.intime IS NOT NULL AND icustays.outtime IS NOT NULL AND chartevents.charttime BETWEEN icustays.intime AND icustays.outtime ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
d6be51fd1c5f29f5d9719bec,How much is the difference of heart rate of patient 10018501 last measured on the last ICU visit compared to the second to last value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH heart_rates AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC ) SELECT valuenum - LEAD(valuenum, 1) OVER (ORDER BY charttime DESC) AS heart_rate_difference FROM heart_rates LIMIT 1"
29c36a36cc9362584821e13f,When were patient 10007795 last prescribed for gemfibrozil and heparin at the same time in 05/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'gemfibrozil' AND admissions.subject_id = 10007795 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'heparin' AND admissions.subject_id = 10007795 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.drug LIKE 'gemfibrozil%' AND prescriptions.drug LIKE 'heparin%' AND prescriptions.startdate LIKE '05/%' ORDER BY prescriptions.startdate DESC LIMIT 1
ce7b67d7433c0b9c16be0a5f,Is the urea nitrogen value of patient 10002428 last measured on the first hospital visit less than the value from the first measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT labevents.valuenum < FIRST_VALUE(labevents.valuenum) OVER (PARTITION BY labevents.hadm_id ORDER BY labevents.charttime) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1
ccf60f7cf6c692a95a30282b,Tell me the duration in days of patient 10004720's last stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 5.056192129850388}]","SELECT icustays.intime, icustays.outtime, julianday(icustays.outtime) - julianday(icustays.intime) as stay_duration FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ORDER BY icustays.intime DESC LIMIT 1"
9235d1bea2de86e8bfe34a29,Do you know the method of disinfection in the quarantine room?,,,
53ad3791f3c9399dbc8de0c3,Calculate patient 10019172's length of stay for the first ICU stay in days.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 3.4558912040665746}]","SELECT DATEDIFF(icustays.outtime,icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ORDER BY icustays.intime ASC LIMIT 1"
e18a2d8bc4701233c6f71e19,What is the cost of a diagnosis for other cirrhosis of liver?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other cirrhosis of liver' ) ),,
4aaf4f3c76752b37f232e69b,Could you fetch the top three most common specimens tested in 2100 for me?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],"SELECT chartevents.itemid, chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2100-01-01 00:00:00' AND '2100-12-31 23:59:59' ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) GROUP BY chartevents.itemid, chartevents.value ORDER BY COUNT(*) DESC LIMIT 3"
9460f94a4daa58493e8ebbed,What was patient 10020786's first tested culture in 07/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime, chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%culture%' ) AND chartevents.charttime BETWEEN '2007-01-01' AND '2007-12-31' ORDER BY chartevents.charttime ASC LIMIT 1"
8478e6de5e5ee9e5033f7355,How many patients since 2100 were diagnosed with bacteremia within the same month after the diagnosis of unspecified essential hypertension?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bacteremia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,
89383745e9cd66ac4837c91f,What was the drug name that patient 10024043 was last prescribed through the oral route on the last hospital stay?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'oral' ORDER BY prescriptions.starttime DESC LIMIT 1,[],"SELECT admittime, dischtime FROM admissions WHERE admissions.subject_id = 10024043"
523b2264acf6a8ceaf29d220,What was patient 10004733's last serology/blood's microbiology test time in 12/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND microbiologyevents.spec_type_desc = 'serology/blood' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology results' ) AND chartevents.charttime LIKE '2023-12%' ORDER BY chartevents.charttime DESC LIMIT 1
891190b131bd38e70baa856f,"What is the average total cost of a hospital, which includes a drug called ciprofloxacin iv since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ciprofloxacin iv' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
f946291e703d6e542a4a7d37,Could you list the three most frequently prescribed medicines within the same hospital visit after a diagnosis of family history of ischemic heart disease was made during this year?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'family history of ischemic heart disease' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT drugs.drug, COUNT(*) as occurrences FROM ( SELECT prescriptions.orderid FROM prescriptions JOIN diagnoses_icd ON prescriptions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'family history of ischemic heart disease' ) AND prescriptions.startdate >= current_date - INTERVAL '1 year' GROUP BY prescriptions.orderid ) AS visits JOIN prescriptions ON visits.orderid = prescriptions.orderid JOIN d_items ON prescriptions.itemid = d_items.itemid JOIN drugs ON drugs.ndc = prescriptions.ndc GROUP BY drugs.drug ORDER BY occurrences DESC LIMIT 3"
32e5482d088de481d141565d,Can you tell me the maximum heart rate for patient 10018081's body on 12/29/this year?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-29'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '12/29/YYYY'
d6325d5bf0c0e255155bb97d,Count the total number of hospital visits made by patient 10025463 since 1 year ago.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10025463 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 2}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10025463 AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
f9006233824c9919f64e41e9,When was patient 10001217's first maximum l value during their last hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'l' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'l' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum = ( SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'l' AND d_items.linksto = 'chartevents' ) )
3968a40f9da4c7f52e8f7dea,What is the dose of the prescribed opioid for patient 76372??,,,SELECT orderitems.dose FROM orderitems WHERE orderitems.order_id IN ( SELECT prescriptions.order_id FROM prescriptions WHERE prescriptions.subject_id = 76372 ) AND orderitems.greedy = 1 AND orderitems.formulary_drug_cd IN ( SELECT formulary_drug_cd FROM formulary WHERE formulary.isopioid = 1 )
e4c9451763f7e1edfdb8a185,What were the four frequent output events that occurred in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = 2100 GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
f65af6870b5d460f82233782,Could you inform me the total output amount of patient 10022281 since 06/03/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-03'",[{'SUM(outputevents.value)': 2332.0}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-03-06'
a1c948ed4a09091c1d92be84,Whats the code that works with icd-11 mal neo lower 3rd esoph in icd-10?,,,
e2b4b7e5509dd99e1a88449e,What is the percentile ranking of a phosphate test value of 8.7 for patients of the same age as patient 10014354 on their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 8.7",,
b5dcc8918a0bc3fb72bf3b6b,What is the maximum total cost for a hospital including tests in the granular casts laboratory since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'granular casts' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
c562491538e06939d07d281f,How much am I expected to pay for total esophagectomy?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'total esophagectomy' ) ),,
090b965f222b18444e2a1020,"What was the first time that the respiratory rate of patient 10021487 was, on their last ICU visit, less than 27.0?",SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 27.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.subject_id = 10021487 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory Rate') AND chartevents.valuenum < 27.0
5b8ab7986b30db4c19fb1088,"Was patient 10000032 ordered insulin (regular) for hyperkalemia, tiotropium bromide, or albuterol 0.083% neb soln during their first hospital visit?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ( 'tiotropium bromide', 'insulin (regular) for hyperkalemia', 'albuterol 0.083% neb soln' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND prescriptions.startdate IN ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10000032 ) AND ( prescriptions.drug IN ('insulin (regular)', 'tiotropium bromide', 'albuterol 0.083% neb soln') AND prescriptions.order_type = 'NEW ORDER')"
be2ea8ec1974fc0574f2921f,"Has patient 10021487 had a total nucleated cells, pleural test done in 10/last year?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total nucleated cells, pleural' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',labevents.charttime) = '10'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total nucleated cells, pleural' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') AND datetime(chartevents.charttime) <= datetime(current_time,'-0 year')"
26a928038c08abff85fc25c5,What were the total amount of or crystalloid intake input that patient 10018845 received since 02/12/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or crystalloid intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-02-12'",[{'SUM(inputevents.totalamount)': None}],
86a5036ec7d536605431efaf,Tell me the name of the diagnosis that patient 10039831 received the first time in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,
834e30eb03b26e7bd61a9b19,How many times patient 10006053 came to the hospital this year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10006053 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.admittime >= DATE_FORMAT(CURDATE() ,'%Y-01-01') AND admissions.admittime < DATE_FORMAT(CURDATE() ,'%Y-12-31') + INTERVAL 1 DAY"
b081cbc08146d7b9ab265566,Does patient 69761 have a scheduled appointment in another department?,,,
cc3323ca987760bede847423,What was the first time patient 10038081 had a blood (toxo) microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND microbiologyevents.spec_type_desc = 'blood (toxo)' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'blood (toxo)' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-03-01' ORDER BY chartevents.charttime ASC LIMIT 1
3244f169b0839776c6f8d9aa,What's the alkaline phosphatase change of patient 10021938 last measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT first_value, last_value FROM ( SELECT FIRST_VALUE(valuenum) OVER (ORDER BY charttime ASC) AS first_value, LAST_VALUE(valuenum) OVER (ORDER BY charttime ASC ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS last_value FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ) AS subquery"
bb2aaeceb6f9b4fb421cf918,Tell me the total foley output of patient 10022880 since 04/03/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-03'",[{'SUM(outputevents.value)': None}],
6fae636a877faa698dbc3148,"This year, how many patients were provided with lidocaine 5% patch?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'lidocaine 5% patch' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_type = 'Lidocaine 5% Patch' AND YEAR(prescriptions.dateset) = YEAR(CURDATE())
dd84074c0fd0874c556d0511,How often did patient 10018845 go to the ICU?,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 )
5401b6a61d136580b9f69be2,If so is there a genetic test that patient 26218 gets?,,,SELECT COUNT(*)>0 FROM genetics WHERE genetics.subject_id = 26218
6699dac0cf704c408038528e,"Has patient 10019777 received a venous catheterization, not elsewhere classified treatment since 2100?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'venous catheterization, not elsewhere classified' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'venous catheterization, not elsewhere classified' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND procedures_icd.chartdate >= '2100-01-01'"
1d9b591db242abe298d896a5,"Among patients diagnosed with diabetes mellitus without mention of complication, type ii or unspecified type, not stated as uncontrolled since 1 year ago, what are the top five medications prescribed within 2 months to patients in their 40s?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'diabetes mellitus without mention of complication, type ii or unspecified type, not stated as uncontrolled' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT c.poe_id, c.medication, c.dose_val_rx, c.dose_unit_rx, c.route, c.duration_val_rx, c.duration_unit_rx, c.order_date FROM chartevents ce JOIN poe c ON ce.hadm_id = c.hadm_id WHERE ce.itemid IN (SELECT itemid FROM d_items WHERE label = 'diabetes mellitus without mention of complication, type ii or unspecified type, not stated as uncontrolled') AND ce.charttime >= datetime(current_time,'-1 year') AND c.order_date >= datetime(current_time,'-2 months') AND ce.subject_id BETWEEN 1000 AND 1099 GROUP BY c.poe_id ORDER BY COUNT(*) DESC LIMIT 5"
56a8d8e09edb2cee2e4d93a3,What is the medication that patient 4469 takes after that other department gives them?,,,
9f637b49dd6bf5b92a192d46,"What are the three most commonly ordered procedures for patients who were previously diagnosed with intestinal infection due to other organism, not elsewhere classified, which occurred during the same hospital visit since 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'intestinal infection due to other organism, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_procedures.procedure, COUNT(*) AS frequency FROM procedures_icd AS p_icd JOIN admissions AS adm ON p_icd.hadm_id = adm.hadm_id JOIN diagnoses_icd AS d_icd ON adm.hadm_id = d_icd.hadm_id JOIN d_icd_procedures ON p_icd.icd_code = d_icd_procedures.icd_code JOIN d_procedures ON d_icd_procedures.procedure_code = d_procedures.code WHERE d_icd.icd_code = '2100' AND p_icd.icd_code != '2100' GROUP BY d_procedures.procedure ORDER BY frequency DESC LIMIT 3"
21e6de874970fa7ae9510d18,Does patient 6170 have previous overseas travel?,,,
f3bebe99a5275c408f17b181,Has patient 10005909 undergone laboratory tests since 03/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-03'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND labevents.charttime >= '03/2100'
91bfc5a70401d51bfca3e0d1,What was the total 5% dextrose dose that patient 10004235 has been prescribed?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND prescriptions.drug = '5% dextrose',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cast(medicationdosage AS float)) AS total_dose FROM prescriptions WHERE subject_id = 10004235 AND drug = '5% Dextrose'
f4bb5d766bfd7957102de24a,"Since 05/12/2100, when did patient 10020740 have his last input?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-05-12' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2150-06-04 19:53:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime > '2100-05-12' ORDER BY chartevents.charttime DESC LIMIT 1
3fbce8b880d773477b429d71,"How many hours has elapsed since the first time during their current hospital encounter patient 10021487 had received a albumin, pleural lab test?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'albumin, pleural' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT timediff(current_time, min(chartevents.charttime)) AS hours FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'albumin, pleural' AND d_items.linksto = 'chartevents' )"
5b550bcb1829cb627ed0e4b7,Which drug was the last one prescribed for patient 10008454 since 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Labetalol'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10008454 AND datetime(prescriptions.startdate) >= datetime('12/2100') ORDER BY prescriptions.startdate DESC LIMIT 1
c4b6b11d95a82c6b74f94e76,"Number of patients who were given a drainage of right pleural cavity with drainage device, percutaneous approach procedure.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right pleural cavity with drainage device, percutaneous approach' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT admissions.subject_id) FROM procedures_icd INNER JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right pleural cavity with drainage device, percutaneous approach' )"
c9f31ddb9aad553f281fb072,Can you tell which medicine was last prescribed to patient 10021118 via the oral method in 12/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND prescriptions.route = 'oral' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10021118 AND prescriptions.route = 'ORAL' AND prescriptions.startdate BETWEEN '2023-12-01' AND '2023-12-31' ORDER BY prescriptions.startdate DESC LIMIT 1
0f29c76985468daa67aa9e6d,What are the charges for a procedure called replacement of stent (tube) in biliary or pancreatic duct?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of stent (tube) in biliary or pancreatic duct' ) ),,SELECT charges.amount FROM charges INNER JOIN procedures_icd ON charges.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of stent (tube) in biliary or pancreatic duct' )
d0821c0025ab0c979c7f89c2,"When was the last time that patient 10015860 on the last hospital encounter was given a creatine kinase, mb isoenzyme lab test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine kinase, mb isoenzyme' ) ORDER BY labevents.charttime DESC LIMIT 1"
621f1abf8ceb45784a8a62b6,How many prescriptions for albumin 25% (12.5g / 50ml) were made last year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'albumin 25% (12.5g / 50ml)' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.formulary_drug_cd = 'ALBUMIN 25%' AND prescriptions.dose_val_rx = '12.5' AND prescriptions.dose_unit_rx = 'GRAM' AND prescriptions.route = 'IV' AND prescriptions.startdate BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE()"
7fa8d89115dcb79bd3b9d8b6,"How many patients received (aorto)coronary bypass of two coronary arteries treatment within the same month after being diagnosed with congestive heart failure, unspecified since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'congestive heart failure, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = '(aorto)coronary bypass of two coronary arteries' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(*) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE icd_diagnoses.icd_code LIKE '428%' AND icd_diagnoses.sequence_number = 1 AND procedures_icd.icd_code LIKE '361%' AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%coronary arteries%' ) AND datetime(admissions.admittime) >= datetime('2100-01-01') AND MONTH(admissions.admittime) = MONTH(procedures_icd.chartdate)
e07cb0702bd8c962c980b344,Can you tell me patient 10002495's daily minimum weight since 19 months ago?,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-19 month') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-19 month')"
decc4b6118addbb54d49b4ee,Can you show me the top four frequent output events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
0ff24db141cbffff8252d7e6,When did the last discharge from the hospital happen for patient 10025612?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10025612 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2125-10-03 12:24:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10025612 ORDER BY admissions.dischtime DESC LIMIT 1
4637ee6f3a563e19535756a3,What were the four most frequently given diagnoses for patients who received partial hepatectomy previously within 2 months this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'partial hepatectomy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) FROM admissions JOIN d_icd_diagnoses ON admissions.d diagnoses_icd icd_code = d_icd_diagnoses.icd_code WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN procedures_icd ON icustays.stay_id = procedures_icd.stay_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'partial hepatectomy' ) AND procedures_icd.charttime >= datetime(current_date, '-2 month') AND procedures_icd.charttime <= datetime(current_date) ) GROUP BY d_icd_diagnoses.short_title ORDER BY COUNT(*) DESC LIMIT 4"
77020ee533db2c04412900f0,What code is associated with icd-11 for helicobacter pylori in icd-10?,,,
8fb8495a86fc33185eb96c55,What is the protocol of anticancer drugs.,,,
5a5b63cc59222e36f5a0e0ea,"Compared to yesterday, what were the new prescriptions for patient 10004733 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND datetime(prescriptions.startdate) BETWEEN datetime(current_date,'-1 day') AND datetime(current_date) EXCEPT SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND datetime(prescriptions.startdate) BETWEEN datetime(current_date,'-2 day') AND datetime(current_date,'-1 day')"
03f81bdff77fe530b0d0fe7d,Can you indicate the daily maximum dose of solution that patient 10031757 received during their first ICU stay?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'solution' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT MAX(chartevents.value) AS max_dose FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE admissions.subject_id = 10031757 AND icustays.first_careunit = icustays.careunit AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%solution%' ) GROUP BY DATE(chartevents.charttime)
ca8aadc66b1fcaf0dbac962e,"How many patients had a glucose, pleural lab test?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, pleural' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'Glucose, Pleural' )"
5d890144fe08088c541a7324,What was the last prescription for patient 10003400 since 01/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-01' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'HYDROmorphone (Dilaudid)'}],"SELECT prescriptions.stopdate, prescriptions.order_time, prescriptions.gre_date, prescriptions.drug, prescriptions.dose, prescriptions.form, prescriptions.route, prescriptions.rate, prescriptions.duration FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ) AND prescriptions.stopdate >= '01/2100' ORDER BY prescriptions.stopdate DESC LIMIT 1"
24dea0b7b119c44087400b3d,What was the first measured value of heart rate for patient 10039831 on their current ICU visit?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
c642922a8ac294d31682581d,Count the number of hospital visits for patient 10011398.,SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10011398,[{'COUNT( DISTINCT admissions.hadm_id )': 1}],SELECT count(*) FROM admissions WHERE subject_id = 10011398
61467a096265ec16474e107e,What are the five most frequently administered procedures for patients aged 50s since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_procedures.procedure, COUNT(*) AS frequency FROM procedures INNER JOIN admissions ON procedures.hadm_id = admissions.hadm_id INNER JOIN patients ON admissions.subject_id = patients.subject_id INNER JOIN d_procedures ON procedures.procedure_id = d_procedures.procedure_id WHERE patients.dob >= DATE_SUB(CURRENT_DATE(), INTERVAL 55 YEAR) AND patients.dob < DATE_SUB(CURRENT_DATE(), INTERVAL 50 YEAR) AND procedures.charttime >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR) GROUP BY d_procedures.procedure ORDER BY frequency DESC LIMIT 5"
f8d725f820917d71a5301983,When was the first time when patient 10019568 had the minimum value of ptt?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) ORDER BY labevents.valuenum ASC LIMIT 1
c5924167cb9c4a6790f631c5,What was the total of lidocaine 1% (for picc/midline insertions) that patient 10038081 had been prescribed?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND prescriptions.drug = 'lidocaine 1% (for picc/midline insertions)',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(orderitems.amount) FROM orderitems INNER JOIN d_items ON orderitems.itemid = d_items.itemid INNER JOIN patients ON orderitems.subject_id = patients.subject_id WHERE orderitems.subject_id = 10038081 AND d_items.label = 'lidocaine 1%' AND orderitems.ordercategoryname = 'For PICC/Midline Insertions'
e257942d050e74a2e2aef5b3,"What are the five commonly ordered medications for patients who were diagnosed with unspecified disorder of kidney and ureter previously in the same month, since 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified disorder of kidney and ureter' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT COUNT(*), prescriptions.drug FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id INNER JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE diagnoses_icd.icd_code LIKE 'N%9%' AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' AND prescriptions.stoptime IS NULL GROUP BY prescriptions.drug ORDER BY COUNT(*) DESC LIMIT 5"
02964db902a561eae10282a2,"Did patient 10017492 have total protein, csf tests in 03/2100?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, csf' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, csf' ) AND labevents.charttime BETWEEN '2000-03-01' AND '2000-03-31'"
97d2fe4c7a06a3344798570f,Was patient 10029291 to the er during their last hospital encounter?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.admittime = ( SELECT MAX(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10029291 ) AND admissions.hospital_expire_flag = 1
c84cfe8470cb11125e4f78bc,"Get me the top five most frequent procedures that patients received during the same hospital visit after receiving extirpation of matter from left common iliac vein, percutaneous approach.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN (SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = (SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach')) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
75dcf661ef83b60c79a0aa34,Is the respiratory rate reading for patient 10026406 last measured on the first ICU visit less than the value second to last measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT chartevents.valuenum < ( SELECT chartevents.valuenum FROM chartevents AS subqe WHERE subqe.stay_id = chartevents.stay_id AND subqe.itemid = chartevents.itemid AND subqe.charttime < chartevents.charttime ORDER BY subqe.charttime DESC LIMIT 1 ) FROM chartevents WHERE chartevents.subject_id = 10026406 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
af3705067de009f76d7a8031,What was the number of patients who were prescribed iso-osmotic dextrose in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'iso-osmotic dextrose' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
0de02f3946d72e99a86d60ea,Is there any gene testing that patient 14397 had?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 14397 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'Genetics' OR d_labitems.loinc_code LIKE '%GENETIC%' OR d_labitems.loinc_code LIKE '%GENETIC TEST%' )
7da9c0a5790b317cead06455,What was the drug that patient 10011398 was prescribed for the last time using a oral route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND prescriptions.route = 'oral' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10011398 AND prescriptions.route = 'oral' ORDER BY prescriptions.startdate DESC LIMIT 1
cdd93c0461e3923a22aa155f,Show me the top three most frequent events that took place since 1 year ago.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT event_name, COUNT(*) as frequency FROM ( SELECT DISTINCT chartevents.itemid, d_items.label as event_name FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime(current_time,'-1 year') ) AS recent_events GROUP BY event_name ORDER BY frequency DESC LIMIT 3"
25c653da4cccc0b0dec24e49,What are the new drugs for patient 10018081 today compared to the earlier ones yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT drugs.drug, drugs.order_time FROM drugs WHERE drugs.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(drugs.order_time) >= datetime(current_time,'-1 day') AND datetime(drugs.order_time) < datetime(current_time) EXCEPT SELECT drugs.drug, drugs.order_time FROM drugs WHERE drugs.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(drugs.order_time) >= datetime(current_time,'-2 day') AND datetime(drugs.order_time) < datetime(current_time,'-1 day')"
462cd9e5980b86409d6557d8,What was the name of the medication that patient 10024043 was first prescribed in 04/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-04' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT medications.meds_name FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND medications.startdate = '04/2100' ORDER BY medications.starttime ASC LIMIT 1
e27430eb77cfd3fc0183209f,What was the name of the organism found in the last microbiological examination of patient 10001725's urine in their last hospital encounter?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.subject_id = 10001725 AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_items.itemid FROM d_microbiology_items WHERE d_microbiology_items.label = 'urine' AND d_microbiology_items.linksto = 'microbiologyevents' ) ORDER BY microbiologyevents.chartdate DESC LIMIT 1
15f5e817e7a5d3115e1563e0,Get me patient 10005817's total output volume since 03/12/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-12'",[{'SUM(outputevents.value)': 41303.0}],
dbb22b767c34f1cecea22ea4,"What are the four most commonly prescribed medications for patients who were diagnosed with facial weakness previously within 2 months, in 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'facial weakness' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT m.drug, COUNT(*) AS count FROM admissions a JOIN patients p ON a.subject_id = p.subject_id JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id JOIN prescriptions m ON a.hadm_id = m.hadm_id WHERE d.icd_code LIKE '474%' AND a.admittime BETWEEN DATE_SUB('2010-01-01', INTERVAL 2 MONTH) AND '2010-01-01' GROUP BY m.drug ORDER BY count DESC LIMIT 4"
c11781d3de0756093079a3b6,Give me the five most common microbiology tests since 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]",
7a437c8dbddf61c5a8051a64,Show me the top three most frequent drugs that patients were prescribed within the same hospital visit after being diagnosed with hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts) this year.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts)' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT drug, COUNT(*) AS frequency FROM prescriptions WHERE hadm_id IN ( SELECT hadm_id FROM diagnoses WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts)' ) AND admittime >= DATE_FORMAT(NOW(),'%Y-01-01') ) GROUP BY drug ORDER BY frequency DESC LIMIT 3"
7ea687da89af68315ce96f56,Does patient 19175 have a family history of colostomy status?,,,
1b56d7ab012fcdd2c4eec4c3,"What would the maximum yearly number of patients diagnosed with catatonic type schizophrenia, unspecified be since 2100?","SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'catatonic type schizophrenia, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,
21e50a8f4be7dfdd1d9fb392,Did patient 66015 ever have any side effects during a blood transfusion?,,,SELECT COUNT(*)>0 FROM procedures_icd AS p INNER JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE a.subject_id = 66015 AND p.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%blood transfusion%' ) AND p.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%side effect%' )
a77b1077b6a8778b2e1e5123,Was any free water medication given to patient 10024043 on 12/24/last year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'free water' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m-%d',inputevents.starttime) = '12-24'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10024043 AND prescriptions.d_items_name IN ( SELECT d_items.name FROM d_items WHERE d_items.category = 'Free water' ) AND prescriptions.startdate >= '12/24/last year' AND prescriptions.enddate <= '12/24/last year'
01bc93ed00df686c5593006f,"For the last time, what was the medication that patient 10016150 was prescribed in 05/2100 via the im route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10016150 ORDER BY admittime DESC LIMIT 1
f7259128c751b9fb354668d9,When was patient 10016150's last discharge?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10016150 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2142-05-15 19:49:00'}],"SELECT admittime, dischargeime FROM admissions WHERE subject_id = 10016150 ORDER BY dischargeime DESC LIMIT 1"
ab8619ab9a2d54411ff482fb,What was the name of the drug patient 10021487 was prescribed with within the same hospital visit after having received a enteral infusion of concentrated nutritional substances procedure throughout this month?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittimes.admittime, d_cpt.cpt_cd, d_cpt.cpt_title, prescriptions.drug FROM admissions JOIN admittimes ON admissions.admittime = admittimes.admittime JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_cpt ON procedures_icd.icd_code = d_cpt.cpt_cd JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 10021487 AND d_cpt.cpt_title = 'enteral infusion of concentrated nutritional substances' AND prescriptions.startdate > admittimes.admittime AND prescriptions.startdate < admittimes.dischtime AND prescriptions.drug != ''"
3eb9161ed9a1f7a609811822,What's the cost of a procedure named percutaneous balloon valvuloplasty?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous balloon valvuloplasty' ) ),,SELECT AVG(procedures_icd.weight) FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'percutaneous balloon valvuloplasty'
52fe2640719f3ea2cd5cc5ba,"What was the name of the drug which was prescribed to patient 10007818 within the same day after having received a introduction of nutritional substance into central vein, percutaneous approach procedure in 07/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into central vein, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-07' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT c.pdmdrugname FROM prescriptions AS c JOIN admissions AS a ON c.hadm_id = a.hadm_id WHERE c.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND c.startdate = ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into central vein, percutaneous approach' ) AND procedures_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) )"
b463fec617a5b7561a49f7e8,"Get me the top four most frequent drugs that patients were prescribed in the same month after being diagnosed with accidental cut, puncture, perforation or hemorrhage during heart catheterization in 2100.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidental cut, puncture, perforation or hemorrhage during heart catheterization' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT drugs.drug, COUNT(*) as count FROM ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'W7821' AND YEAR(admissions.admittime) = 2010 ) JOIN patients ON admissions.subject_id = patients.subject_id JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE prescriptions.startdate BETWEEN patients.dob AND patients.dod AND MONTH(prescriptions.startdate) = MONTH(admissions.adm_time) ) AS drug_usage JOIN prescriptions ON drug_usage.subject_id = prescriptions.subject_id GROUP BY prescriptions.drug ORDER BY count DESC LIMIT 4"
51e8f8f67f2e66a1e780c1a3,What are the five most common prescriptions since 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]",
dac5c6aaac6b57cdc328694e,What are the consumption methods of glipizide xl?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'glipizide xl',[],
733e2d8ccc688ba33154a9ab,What's the minimum total hospital cost that includes a protein lab test?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(item_cost) FROM ( SELECT SUM(admissions.totalcharges) AS item_cost FROM admissions INNER JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%protein%' ) GROUP BY admissions.subject_id ) AS t
3f2bb642b30df18f43f0428a,Tell me the monthly maximum amount of patient 10006053's cryoprecipitate input.,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'cryoprecipitate' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m',inputevents.starttime)",[],"SELECT EXTRACT(MONTH FROM inputevents_cv.charttime) AS month, MAX(inputevents_cv.amount) AS max_cryoprecipitate_amount FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id INNER JOIN d_items ON inputevents_cv.itemid = d_items.itemid WHERE admissions.subject_id = 10006053 AND d_items.label = 'Cryoprecipitate' GROUP BY month ORDER BY month"
8f5e6c6df7b4307eb679bfd9,Could you list the five most common specimen tests carried out throughout this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
6b3c9e4d732df9f3eda20c41,Has patient 10026354 been provided with any medication since 7 months ago?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-7 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-7 month')"
d83c205b14f14e3bcf90bd5a,What are the four most frequently administered procedures for patients aged 20s in this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) as frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND admissions.admittime <= CURDATE() AND admissions.age BETWEEN 20 AND 29 GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
40ee187ccec9edfec26c08d6,When was patient 10007818 prescribed pantoprazole and vial at the same time for the last time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'pantoprazole' AND admissions.subject_id = 10007818 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vial' AND admissions.subject_id = 10007818 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT medchartevents.charttime FROM medchartevents WHERE medchartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND medchartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('pantoprazole', 'vial') AND d_items.linksto = 'medications' ) GROUP BY medchartevents.charttime HAVING COUNT(DISTINCT medchartevents.itemid) = 2 ORDER BY medchartevents.charttime DESC LIMIT 1"
8890920db6fabe97648a1d64,Has patient 10007795 had any surgeries in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*) > 0 FROM surgeries WHERE surgeries.subject_id = 10007795 AND surgeries.year = 2100
eb7bf6c61602ad306a17337c,What were the most frequent diagnoses among the top three throughout this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
2ad19063a657310f5f20de33,What was the first time patient 10014354 input time since 03/19/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-19' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2146-10-09 01:41:00'}],
ce6918d801a0e9dc37e563ce,What were the top four most frequently prescribed medicines this year?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],"SELECT prescriptions.drug, COUNT(*) AS frequency FROM prescriptions WHERE prescriptions.chartdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 4"
fa4dfaaf2645d182bd7337d2,What was the minimum value of mean blood pressure for patient 10008454 on 12/02/2100?,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-02'",[{'MIN(chartevents.valuenum)': None}],SELECT min(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '2100-12-02'
180fff17c7418b127d038bf7,How was patient 10038933 admitted in terms of admission type for the last time?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10038933 ORDER BY admissions.admittime DESC LIMIT 1,[{'admission_type': 'EW EMER.'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10038933 ORDER BY admissions.admittime DESC LIMIT 1
bae75ab280f0f80ba298c0cb,Patient 10037928's age on their last hospital encounter was what?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) AS age FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id WHERE patients.subject_id = 10037928 ORDER BY admissions.admittime DESC LIMIT 1"
0843691130d6cd5cd2dedc9f,What was the number of patients that were given a ferritin test since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ferritin' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'ferritin' AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
65f6f12656c77dd1d0e81081,How much does the drug clobetasol propionate 0.05% ointment cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'clobetasol propionate 0.05% ointment' ),,
0d3343e3e64231d00abab91e,How was patient 10039997 admitted to the hospital in terms of admission type for the first time?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10039997 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime ASC LIMIT 1",[{'admission_type': 'SURGICAL SAME DAY ADMISSION'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10039997 ORDER BY admissions.admittime ASC LIMIT 1
c3138909fa5b171f0d57fabd,What's the minimum daily number of patients who had hypovolemic shock in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypovolemic shock' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,SELECT MIN(T2.patientCount) FROM patients AS T1 INNER JOIN ( SELECT COUNT(*) AS patientCount FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title = 'hypovolemia' AND admissions.admit_dt BETWEEN '2100-01-01' AND '2100-12-31' GROUP BY DATE(admissions.admittime) ) AS T2 ON DATE(T1.dob) = DATE(T2.admittime)
103007809bffe0c602448146,How many patients were let go from hospitals in the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
5dcb3867960ccfe76a673b5e,What were the top five most common diagnoses since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) ) GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 5"
74d605424dff525f198b0afe,Has patient 10016810 received a medication prescription since 1 year ago?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10016810 AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
11a6356dddd6cc1e2a155810,Find out the number of hospital visits patient 10038933 had since 1 year ago.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10038933 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10038933 AND datetime(admissions.admit_time) >= datetime(current_time,'-1 year')"
7a87b3514162ac542fd54a50,"When did patient 10014354 get the creatine kinase, mb isoenzyme lab test in their last hospital visit for the first time?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine kinase, mb isoenzyme' ) ORDER BY labevents.charttime ASC LIMIT 1"
40f923d3ceb04e98040b7c3e,Has patient 10007818 been tested on 25-oh vitamin d since 04/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '25-oh vitamin d' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = '25-HYDROXYVITAMIN D' ) AND datetime(labevents.charttime) >= '2021-04-01'
da971f3a5b73f3990bd5cb3f,When was the first time that patient 10038999 was prescribed soln and lactulose since 04/2100 at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'lactulose' AND admissions.subject_id = 10038999 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'soln' AND admissions.subject_id = 10038999 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(cpi.startdate) FROM prescriptions AS p INNER JOIN cp_results AS cpi ON p.orderid = cpi.orderid WHERE p.subject_id = 10038999 AND cpi.resulttext LIKE '%soln%' AND cpi.resulttext LIKE '%lactulose%' AND cpi.startdate >= '04/2100'
1f8f753b781c5e7a44238a71,What was the three most common lab test that was given?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY test_count DESC LIMIT 3"
97d549d940853218be2a6803,How many hours has it been since patient 10021487 last received the protein lab test on the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'protein' ) ORDER BY chartevents.charttime DESC LIMIT 1
1f1add74c7e3a0f4247c5a78,"So, what was the first respiratory rate of patient 10015272 on 06/23/this year?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '06-23' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.category = 'Respiratory' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-06-23' ORDER BY chartevents.charttime ASC LIMIT 1
8a5ef0e3b44f9d29e1d8e450,Patient 10014078's chloride last measured on the last hospital visit is less than the second to last value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (chartevents.valuenum - lag(chartevents.valuenum, 1, chartevents.valuenum) OVER (ORDER BY chartevents.charttime DESC)) < 0 FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride' AND d_items.linksto = 'chartevents' )"
493f197a6d56dbacf99556ab,What are the three most regularly ordered treatments for patients previously diagnosed with anemia in other chronic diseases classified elsewhere during the same month in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anemia in other chronic diseases classified elsewhere' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,
f18a1ffa1752d917bfb094ac,Is the pt value of patient 10018081 second measured on the current hospital visit greater than the value from the first measurement on the current hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'PT') ORDER BY chartevents.charttime ASC LIMIT 1,1) > (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'PT') ORDER BY chartevents.charttime ASC LIMIT 1)"
b4ebdda80c6329d3a8363c7e,Do you know of the drug that is not to be administered during the refus lmb/lmbsac pst/pst procedure?,,,
d7a8e332af537a76ab296df1,What was patient 10023239's total volume of output since 03/06/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-06'",[{'SUM(outputevents.value)': 10250.0}],
79257401a1158ff7232db9fd,Show me the top four most frequent diagnoses that patients were diagnosed with within 2 months after receiving other electroshock therapy since 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electroshock therapy' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%electroshock%' ) AND chartdate <= DATE_SUB(procedures_icd.chartdate, INTERVAL 2 MONTH ) ) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 4"
b0e746871a7c5eea41ef06b4,Inform me about the total amount of patient 10006580's input since 05/02/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-05-02'",[{'SUM(inputevents.totalamount)': 5149.0}],
77a561b95489d211e0dec613,How many times was other electroshock therapy carried out throughout this year?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electroshock therapy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electroshock therapy' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
33c5bee6d20b4effb2ff92c1,How much is the drug morphine sr (ms contin)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'morphine sr (ms contin)' ),,
5c9e3563429336a3a6497c07,What are the top five most frequent drugs prescribed to patients in the same hospital encounter after the diagnosis of other pulmonary embolism without acute cor pulmonale?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other pulmonary embolism without acute cor pulmonale' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT drug, COUNT(*) AS frequency FROM prescriptions JOIN diagnoses_icd ON prescriptions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '415.11' GROUP BY drug ORDER BY frequency DESC LIMIT 5"
66a7bb5b8a5d8c05eb6fe97c,Get me the top three most frequent medications that patients were prescribed with in the same month after being diagnosed with unspecified infectious and parasitic diseases.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified infectious and parasitic diseases' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m.drug, COUNT(*) AS frequency FROM patients p JOIN admissions a ON p.subject_id = a.subject_id JOIN icustays i ON a.hadm_id = i.hadm_id JOIN chartevents c ON i.stay_id = c.stay_id JOIN medications m ON c.charttime = m.starttime WHERE a.admittime <= c.charttime AND a.diagnosis LIKE 'unspecified infectious%' AND m.stoptime IS NULL GROUP BY m.drug ORDER BY frequency DESC LIMIT 3"
fc3894dd76e5cc3a753eedfb,What is the reimbursement standard for genetic and chromosomal testing?,,,
72aa0a8195cef04d785d835c,When was patient 10029291's last input time since 03/05/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-05' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2123-03-04 21:45:00'}],
4a4b1ff6e491614e8bed8e49,"How many times, , was a rhinoscopy procedure ordered?",SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'rhinoscopy' ),[{'COUNT(*)': 0}],
44de7bcceae079f9e8bfdaaf,"Among patients who underwent replacement of aortic valve with zooplastic tissue, percutaneous approach since 2100, what were the top five most common procedures that followed within 2 months?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT procedures_icd.procedure_type, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime >= '2100-01-01' AND d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' AND procedures_icd.procedure_date <= DATE_ADD(admissions.dischtime, INTERVAL 2 MONTH) GROUP BY procedures_icd.procedure_type ORDER BY frequency DESC LIMIT 5"
03cdbce2386e1c8684bf2a13,What were the four most frequent lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 4"
9ad2b349b566ce28567c5d6b,When was patient 10005817's last microbiological examination since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2135-01-16 16:27:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' ) AND chartevents.charttime >= '03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
e8d600176ca42258e8ab175a,How many aspirin prescriptions were administered since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'aspirin' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 12}],
a041560dafe724349feb959f,How many patients currently in the hospital?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],
62062f47a37fdbe9d1c27aaa,Did patient 10012552 undergo any procedure in the first hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 AND admissions.hospital_expire_flag = 0 ORDER BY admissions.admittime ASC LIMIT 1 )
52505c841a4763efd35adac6,What are the top five common microbiology tests in 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],
3c7c50f6746a47772cb02cbf,Did patient 10007928 take a nacl 0.9% medication in their first hospital visit?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10007928 AND prescriptions.icustay_id = ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ORDER BY admissions.admittime LIMIT 1 ) ) AND prescriptions.drug = 'nacl 0.9%'
6f1c6d1e65b0d7b96f895ca2,What's the SaO2 difference of patient 10039997's body last measured on the first ICU visit compared to the value second to last measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT chartevents.valuenum - LAG(chartevents.valuenum, 1) OVER (ORDER BY chartevents.charttime DESC) AS sao2_difference FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1"
c1f369fb99bd717e87c34253,"On their first hospital encounter, was patient 10009049 given any diagnosis?",SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ORDER BY admissions.admittime ASC LIMIT 1 )
7adf373e9c0d4a3cd7f5fec3,"This year, what are the three common diagnoses of patients of age 40s?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM admissions INNER JOIN d_items ON admissions.diagnosis = d_items.itemid INNER JOIN d_icd_diagnoses ON d_items.icd_code = d_icd_diagnoses.icd_code WHERE EXTRACT(YEAR FROM admissions.admittime) = EXTRACT(YEAR FROM CURRENT_DATE) AND admissions.age BETWEEN 40 AND 49 GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 3"
95475af06738ffe0fb4f1c65,What was the first measurement of heart rate in patient 10031757's body on their last ICU stay?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
cbe87d3055a29ed5e694a4df,"Compared to yesterday, what new prescriptions were given to patient 10018081 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT admissions.subject_id, admissions.admittime, prescriptions.startdate, prescriptions.stopped, prescriptions.order_time FROM admissions JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 10018081 AND prescriptions.order_time >= datetime(current_time, 'start of day', 'yesterday') AND prescriptions.order_time < datetime(current_time, 'start of day') AND prescriptions.stopped IS NULL"
9c48cfc44e14602d0728ed28,What are the single rooms available?,,,
5a7a92c1e36cc66dc5a226ab,"So, what was the last respiratory rate of patient 10019777 on their last ICU visit?",SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
be30995ff00536a1057c7245,Was any nacl 0.9% medication provided to patient 10027602 on their first ICU stay?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM icu_medication WHERE icu_medication.subject_id = 10027602 AND icu_medication.icustay_id = ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ORDER BY icustays.intime ASC LIMIT 1 ) AND icu_medication.medication_name = 'nacl 0.9%'
be97d5c806f9525cdc91ee8c,What was the name of the medication that patient 10040025 was prescribed in the same hospital visit after receiving a arteriography of renal arteries procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of renal arteries' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT medications.order_department_name FROM medications JOIN admissions ON medications.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10040025 AND medications.starttime > ( SELECT procedures.charttime FROM procedures WHERE procedures.subject_id = 10040025 AND procedures.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of renal arteries' ) ) LIMIT 1
eed2ec21308a4facd8e30ec6,When was the first time that patient 10038081 had the minimum immunoglobulin g value?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'immunoglobulin g' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'immunoglobulin g' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC LIMIT 1
559cabbd94ac4b49afae49bd,How much does patient 10020187's weight differ from the last value measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH last_hosp_visit AS ( SELECT MAX(admissions.admittime) AS max_admittime FROM admissions WHERE admissions.subject_id = 10020187 ) SELECT first_valuenum - last_valuenum AS weight_difference FROM ( SELECT chartevents.valuenum AS first_valuenum FROM chartevents JOIN last_hosp_visit ON chartevents.hadm_id = last_hosp_visit.max_admittime AND datetime(chartevents.charttime) = ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = last_hosp_visit.max_admittime AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ) WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ) first_val, ( SELECT chartevents.valuenum AS last_valuenum FROM chartevents JOIN last_hosp_visit ON chartevents.hadm_id = last_hosp_visit.max_admittime AND datetime(chartevents.charttime) = ( SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id"
c84dfff5f8753a12aab6815f,What organism was found in patient 10029291's first stool test during their first hospital visit?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'stool' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT microbiologyevents.org_itemid FROM microbiologyevents INNER JOIN admissions ON admissions.hadm_id = microbiologyevents.hadm_id WHERE admissions.subject_id = 10029291 AND microbiologyevents.spec_type_desc = 'stool' ORDER BY microbiologyevents.chartdate ASC LIMIT 1
8112593e7e23d761e0584c76,Give me patient 10001725's length of stay for the first ICU stay in days.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.338587962090969}]","SELECT TIMESTAMPDIFF(HOUR, icustays.intime, icustays.outtime)/24 AS LOS_days FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ORDER BY icustays.intime ASC LIMIT 1"
32f8fa73cf7949fc25194b91,What was the last input time of patient 10018328 since 03/08/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-08' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2154-05-02 11:12:00'}],
98f2f619a8c325c797be99a3,What was the name of that first specimen test patient 10003046 got in the first hospital visit?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],SELECT first_value(specimen.spid) OVER (PARTITION BY specimen.hadm_id ORDER BY specimen.charttime ASC) AS first_specimen FROM specimen WHERE specimen.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 )
3717572f6b674f00be856aec,How many days have elapsed since patient 10018081 had received a red blood cells lab test for the last time on this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(CURDATE(), MAX(chartevents.charttime)) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid INNER JOIN admissions ON chartevents.stay_id = icustays.stay_id INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE d_items.label = 'red blood cells' AND admissions.subject_id = 10018081"
f5f0f6336f05d930f6059ee3,What percentile of the mcv value is 85.0 among patients of the same age as patient 10004733 on this hospital stay?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) ) AS T1 WHERE T1.valuenum = 85.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER (PARTITION BY admissions.dob) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mcv' AND d_items.linksto = 'chartevents' ) AND chartevents.subject_id = 10004733 AND chartevents.valuenum = 85.0
6c5ae1376c35e10f1ed23a4e,What were some of the five common specimen tests given since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]",
4287b3790b3f4f5109f1ee57,"Compared to yesterday, what new drugs are present in the prescription of patient 10018081 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],
26e67a0d26da3791abc625a2,How many times was olanzapine prescribed during this year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'olanzapine' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'olanzapine' AND YEAR(prescriptions.startdate) = YEAR(CURDATE())
c6ff88c99785463abe05ab14,Does an appointment have been had by patient 17462 in other department?,,,SELECT COUNT(*)>0 FROM appointments WHERE appointments.patient_id = 17462 AND appointments.department_id NOT IN ( SELECT departments.department_id FROM departments WHERE departments.name = 'main department' )
a7ffd50743215e43ab4b4249,Calculate the number of lidocaine jelly 2% (urojet) prescriptions last year.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'lidocaine jelly 2% (urojet)' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND prescriptions.drug = 'lidocaine jelly 2% (urojet)'"
75d97d3e27240d4fbce0b019,How much is the average total hospital cost with personal history of malignant neoplasm of other gastrointestinal tract?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of malignant neoplasm of other gastrointestinal tract' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(costs.totalcharges) FROM costs JOIN admissions ON admissions.hadm_id = costs.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd9_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE long_title LIKE '%malignant neoplasm of other gastrointestinal tract%' ) ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE admissions.has_children = 1
f548e5423305443cc9bd89c3,When did patient 10005909 first depart from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005909 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2144-11-02 15:23:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005909 ORDER BY admissions.dischtime ASC LIMIT 1
2207f2b9a9690a68915d6ab4,What are the four most common treatments for patients who are 50s this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
47b4b008bc5e93c16c231277,Can you give me patient 10021118's daily maximum lr input in 12/2100?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lr' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) = '2100-12' GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily lr input' ) AND chartevents.charttime BETWEEN '12/01/2100' AND '12/31/2100'
abe78de7464f93993da9c600,How many hours elapsed since the first time patient 10039831 received a phosphate lab test on this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MIN(chartevents.charttime), MAX(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'phosphate' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.hadm_id"
b4a201694189deda17a0ac3f,Could you inform me of the top five most common specimen tests that were conducted during this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE YEAR(chartevents.charttime) = YEAR(CURDATE()) AND chartevents.valtype = 'result' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
953ded6c199c40900648aa89,Is patient 10021938's bicarbonate value last measured on the last hospital visit less than the value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT first.valuenum < last.valuenum FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 ) AS first JOIN ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) AS last
b9810aef8d75d1d2a9a31183,"In relation to others of the same age, where does a hemoglobin value of 12.2 for patient 10021487 rank in percentiles on this hospital encounter?","SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ) ) AS T1 WHERE T1.valuenum = 12.2",,
88cfaf0dcef49943a266c313,What was the drug that patient 10021487 was prescribed for within 2 days after undergoing arterial catheterization since 2 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arterial catheterization' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-2 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-2 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND prescriptions.starttime BETWEEN (SELECT admittime FROM admissions WHERE admissions.subject_id = 10021487) AND (SELECT admittime FROM admissions WHERE admissions.subject_id = 10021487) + INTERVAL 2 DAY AND prescriptions.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.admittime >= (SELECT admittime FROM admissions WHERE admissions.subject_id = 10021487) - INTERVAL 2 MONTH AND icustays.admittime <= (SELECT admittime FROM admissions WHERE admissions.subject_id = 10021487) + INTERVAL 2 DAY AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 100
c4e464a5e3c26b34a598c2d4,"What are the three most commonly prescribed medications for patients diagnosed with other and unspecified hyperlipidemia previously within the same hospital visit, throughout this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified hyperlipidemia' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT prescriptions.drug, COUNT(*) as num_prescriptions FROM prescriptions JOIN diagnoses ON prescriptions.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code LIKE '272%' AND prescriptions.startdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND prescriptions.startdate <= CURDATE() GROUP BY prescriptions.drug ORDER BY num_prescriptions DESC LIMIT 3"
feb492e9caf0343b3c2f2166,Count the total number of hospital visits made by patient 10021118 since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10021118 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],
7137bae0cea575cb815bc23e,What drug was prescribed to patient 10004235 within 2 days after the procedure of central venous catheter placement with guidance since 03/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admits.SUBJECT_ID, admits.HADM_ID, admits.ADMITTIME, admits.DISCHTIME, procs.PROCED_ID, procs.HADM_ID, procs.SUBJECT_ID, procs.STARTTIME, procs.ENDTIME, drugs.DRUG, drugs.HADM_ID, drugs.SUBJECT_ID, drugs.STARTDATE, drugs.ENDDATE FROM admissions AS admits INNER JOIN procedures_icd AS procs ON admits.HADM_ID = procs.HADM_ID INNER JOIN prescriptions AS drugs ON admits.HADM_ID = drugs.HADM_ID WHERE admits.SUBJECT_ID = 10004235 AND procs.long_title LIKE '%central venous catheter placement with guidance%' AND drugs.STARTDATE BETWEEN procs.STARTTIME AND date_add(procs.ENDTIME, INTERVAL 2 DAY) AND procs.STARTTIME >= '2000-03-01' AND drugs.STOPDATE IS NOT NULL ORDER BY drugs.STARTDATE"
2b35fcda321bd6bbe4114dd2,Is patient 10018423's respiratory rate second measured on the last ICU visit greater than the first value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT second.respiratory_rate > first.respiratory_rate FROM (SELECT chartevents.valuenum AS respiratory_rate FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1, 1) AS second, (SELECT chartevents.valuenum AS respiratory_rate FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1) AS first"
4b0dae2bf00cb70ac501a4d7,Has patient 10003400 been tested in the phosphate lab?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'phosphate' )
455145565c06c0334318ab67,"On this month/18, when was the last input time of patient 10010471?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '18' ORDER BY inputevents.starttime DESC LIMIT 1",[],"SELECT MAX(inputevents_mv.input_time) FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND inputevents_mv.input_time >= date_trunc('month', current_date - interval '1 month') AND inputevents_mv.input_time < date_trunc('month', current_date)"
e0bdf1f255574123e3d82ebc,Did patient 10007818 go through any lab test in 07/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',labevents.charttime) = '2100-07'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND labevents.charttime BETWEEN '2007-01-01' AND '2007-12-31'
3fa2f28fcf723a8ae5b496cd,What is patient 10001217's SaO2 change measured at 2100-12-05 21:00:00 compared to the value measured at 2100-12-05 20:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-05 21:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-05 20:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-05 21:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-05 20:00:00' )"": None}]",SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%SaO2%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2000-12-05 21:00:00') - (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%SaO2%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2000-12-05 20:00:00') AS sao2_change
92ec6272af144fdb3b7740bd,What is the minimum total cost of hospitalization that includes the parathyroid hormone laboratory test in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'parathyroid hormone' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname LIKE '%parathyroid hormone%' ) AND labevents.chartdate BETWEEN '2021-01-01' AND '2021-12-31' )
4fd2779af0fb5ce25434c775,Could you list the top five most common lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time, '-1 year') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 5"
2e302933ba1ba62f25b09b46,Calculate the number of prescribed drugs for patient 10022880 since 19 months ago.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-19 month')",[{'COUNT(*)': 63}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-19 months')"
d8ce0d4331097090b007f237,"How many patients were diagnosed with migraine with aura, without mention of intractable migraine without mention of status migrainosus during the same hospital visit after they were first diagnosed with street and highway accidents since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'street and highway accidents' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'migraine with aura, without mention of intractable migraine without mention of status migrainosus' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM admissions INNER JOIN diagnoses_icd AS first_diagnosis ON admissions.hadm_id = first_diagnosis.hadm_id INNER JOIN diagnoses_icd AS second_diagnosis ON admissions.hadm_id = second_diagnosis.hadm_id WHERE first_diagnosis.icd_code LIKE 'V%' AND second_diagnosis.icd_code LIKE 'G43%' AND first_diagnosis.icd_code NOT LIKE 'G44%' AND first_diagnosis.icd_code NOT LIKE 'G44%' AND first_diagnosis.seq_num = 1 AND second_diagnosis.seq_num = 2 AND first_diagnosis.chartdate < second_diagnosis.chartdate AND YEAR(first_diagnosis.chartdate) >= 2100
55952982603c114a5b29a8b0,"What are the four commonly ordered medications for patients who were diagnosed with other and unspecified alcohol dependence, in remission previously during the same hospital encounter, since 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified alcohol dependence, in remission' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT COUNT(*), prescriptions.orderabbreviation FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.d_icd_diagnoses.icd_code = '291.9' AND prescriptions.startdate >= '2100-01-01' GROUP BY prescriptions.orderabbreviation ORDER BY COUNT(*) DESC LIMIT 4"
f85c9633e450cf4188a98ce3,Get me the top three most common diagnoses.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT icd9_code, COUNT(*) AS count FROM diagnoses_icd GROUP BY icd9_code ORDER BY count DESC LIMIT 3"
942603b5dceccf0a7d2a31df,What is the number of patients who were discharged from the hospital?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE admityear IS NOT NULL AND dischargeyear IS NOT NULL
04572e0972a7993db0621881,When was the last microbiological test of patient 10037861 since 01/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-01' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2117-03-20 11:30:00'}],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Microbiology Results' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND chartevents.charttime > '2100-01-01' ORDER BY chartevents.charttime DESC LIMIT 1
24155b9f4c00416b2b4a02d5,Can you tell me the first time on last month/12 patient 10005909 had a maximum heart rate?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '12' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month') AND datetime(chartevents.charttime) < datetime(current_time) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
eb546f4e23ee7c0f0ace4e68,Do you suppose patient 3369 has experience side effects during a blood transfusion?,,,
682676ee539e16fc31ab086e,How many patients were discharged from hospitals?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],
fecffb251c3f41feb07c69c7,When was the first input time of patient 10001217 since 06/03/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-03' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2157-11-20 19:32:00'}],SELECT MIN(inputevents_mv.starttime) FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(inputevents_mv.starttime) >= datetime('06/03/2100')
ccc5d12c1c88d7a708f03f70,"What are the four most frequently taken specimens for patients diagnosed with iatrogenic pneumothorax previously in the same month, in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'iatrogenic pneumothorax' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_items.label, COUNT(*) AS freq FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '997.31' AND YEAR(admissions.admittime) = 2100 AND MONTH(admissions.admittime) = 10 ) GROUP BY d_items.label ORDER BY freq DESC LIMIT 4"
1d5c66901760c1bfc6eb5361,"Today compared to yesterday, what new drugs are being prescribed to patient 10039831?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT adm.d_items_name, adm.startdate FROM ( SELECT DISTINCT adm.startdate, adm.d_items_name FROM ( SELECT chartevents.charttime AS startdate, d_items.label AS d_items_name FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' ) AND chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 DAY) ) AS adm ) AS adm WHERE adm.startdate NOT IN ( SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' ) AND chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 2 DAY) AND chartevents.charttime < DATE_SUB(CURDATE(), INTERVAL 1 DAY) ) ORDER BY adm.startdate DESC"
73752639a8e1cbb92081f23b,What is the average total hospital cost which includes a drug named ezetimibe since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ezetimibe' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
62984005cb4a2bebf693573b,When patient 10029484 first had a mrsa screen microbiology test since 01/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-01' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mrsa screen' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= '2000-01-01' LIMIT 1
23bbac068db32a4e588f2d9e,Please list out the monthly maximum weight of patient 10039997 in the first hospital encounter.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT MAX(chartevents.valuenum), strftime('%Y-%m', chartevents.charttime) AS month FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10039997 AND d_items.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%WEIGHT%') GROUP BY month ORDER BY month"
115e3caf13dbeb8dd223df9f,How many patients were discharged from hospitals in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.dischtime) = 2100
ab607c4930656aed65054027,Has magnesium sulfate (bolus) been administrated to patient 10005909 since 03/02/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-02'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10005909 AND prescriptions.drug = 'magnesium sulfate (bolus)' AND prescriptions.startdate >= '03/02/1000'
e0581975db0c811fc20544d6,Tell me patient 10038933's total multivitamins input amount in their last ICU visit.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'multivitamins' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT sum(inputevents_mv.amount) FROM inputevents_mv JOIN icustays ON inputevents_mv.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ORDER BY inputevents_mv.charttime DESC LIMIT 1
963d648d770fcb43743e09b4,What are the three most common treatments for patients who are 30s since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
46a747d7b9992bd3eae9d736,Did patient 10022880 get a diagnosis during the first hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10022880 AND admissions.admittime = ( SELECT min(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10022880 ) AND EXISTS ( SELECT 1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = admissions.hadm_id )
f2265be3b7f96b9827e002f2,What was the total output that patient 10020786 had since 07/01/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-01'",[{'SUM(outputevents.value)': 925.0}],
040ab0b8bd0cecfc6dbb03df,When patient 10009628 was prescribed for the last time in 10/this year glucagon and warfarin at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'glucagon' AND admissions.subject_id = 10009628 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'warfarin' AND admissions.subject_id = 10009628 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10009628 AND prescriptions.drug IN ('glucagon', 'warfarin') AND prescriptions.startdate BETWEEN '2022-10-01' AND '2022-10-31' GROUP BY prescriptions.startdate HAVING COUNT(DISTINCT prescriptions.drug) = 2 ORDER BY prescriptions.startdate DESC LIMIT 1"
2aeb48ba6aa5bb661580a085,Can you tell me the first time patient 10027602 had a heart rate that was less than 97.0 on 12/02/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 97.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-02' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10027602 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'HeartRate' ) AND chartevents.valuenum < 97.0 AND chartevents.charttime >= '2022-12-02 00:00:00' ORDER BY chartevents.charttime ASC LIMIT 1
6daf43327893e27cc1c785bb,What are the precautions that should be followed after the procedure of coronar arteriogr-1 cath?,,,
b6b8fff2d091a4950a8656fc,Did it happen on the last occasion that patient 16248 had a medicine they should take daily?,,,
0825d95545721aa700cc7fd0,What were the top five most common diagnoses during this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_FORMAT(NOW(), '%Y-01-01') ) GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 5"
0ad0dc8594dbfe64d10295e8,"For patients who received other electroshock therapy since 2100, what are the top four most frequent diagnoses that followed afterwards within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electroshock therapy' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9 diagnoses, COUNT(*) as freq FROM ( SELECT adm2.hadm_id, adm2.subject_id, icd9 FROM admissions adm1 JOIN admissions adm2 ON adm1.subject_id = adm2.subject_id JOIN icustays ON adm1.stay_id = icustays.stay_id JOIN icustays icustays2 ON adm2.stay_id = icustays2.stay_id JOIN d_icd_diagnoses ON adm2.hadm_id = d_icd_diagnoses.hadm_id WHERE icustays.icd9_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE icd9_code LIKE '907%' ) AND datetime(adm1.admittime) <= datetime(adm2.admittime) AND datetime(adm2.admittime) <= datetime(adm1.admittime, '+2 months') AND adm1.admittime >= '2100-01-01' ) AS subquery GROUP BY diagnoses ORDER BY freq DESC LIMIT 4"
4d21ff0e9b82a46ea21db1c1,Has patient 10005817 had platelet count tests in this month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'platelet count' ) AND datetime(labevents.charttime) >= datetime(current_time, '-1 month')"
d531eb280735fb30a757905a,"Will patient 7165 be provided with any additional urine,kidney test?",,,
1f1579d6f5886ce1d80398a0,"In this year, what was the last diagnosis for patient 10012552?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,SELECT icd9_code FROM diagnoses_icd WHERE subject_id = 10012552 AND chartdate IN ( SELECT MAX(chartdate) FROM diagnoses_icd WHERE subject_id = 10012552 AND YEAR(chartdate) = YEAR(CURRENT_DATE) )
f0106cb7094a1c199a9c6565,Retrieve the top four most common diagnoses in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT diagnosis, COUNT(*) AS frequency FROM diagnoses WHERE year = 2100 GROUP BY diagnosis ORDER BY frequency DESC LIMIT 4"
ea58b388c8e0a4f382814580,When did patient 10007818 first have their maximum mean blood pressure on 07/07/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '07-07' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '07/07/%' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
5da9ae74c519002875122c59,What is the drug that isnt to be taken during opn/oth rep aortic valve??,,,
412c09bd6869eec57b61b8ab,What are the top five most frequent microbiology tests in 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],
a8704a105b87163e999ca81d,Are there new medications in the prescription of patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT medications.medication_name FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND medications.charttime >= datetime(current_time,'-1 day') AND medications.charttime < datetime(current_time) EXCEPT SELECT DISTINCT medications.medication_name FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND medications.charttime >= datetime(current_time,'-2 days') AND medications.charttime < datetime(current_time,'-1 day')"
5d8d3d9c0e88b7b656bc2f3e,List the top five most common diagnoses in this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT diagnosis, COUNT(*) as count FROM diagnoses WHERE YEAR(datetime(diagnoses.admittime)) = YEAR(datetime(current_timestamp)) GROUP BY diagnosis ORDER BY count DESC LIMIT 5"
5fac6ea9a02d544397cb54fe,Has patient 10018845 been given any medication?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10018845
a54cc5aec8ac14dc7dd2bdbe,What medicine does patient 84476 take after being prescribed by our hospital's other department?,,,
9535260fe83b84161cfcbef0,What are the three commonly taken specimens for patients that received insertion of non-drug-eluting peripheral (non-coronary) vessel stent(s) previously within the same month in this year?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of non-drug-eluting peripheral (non-coronary) vessel stent(s)' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'insertion of non-drug eluting peripheral (non-coronary) vessel stent (s)' ) ) AND admission_dt BETWEEN DATE_FORMAT(NOW() ,'%Y-01-01') AND CURDATE() ) AND chartevents.charttime BETWEEN DATE_SUB(admissions.admittime, INTERVAL 1 MONTH) AND admissions.admittime AND d_items.category = 'Specimen' GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 3"
1768d3075c1fd4b1f229afae,Has patient 10018845 received a laboratory test since 04/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND datetime(labevents.charttime) >= datetime('04/2100')
d768135cc45a97c5f9aa32bc,"Since 03/05/2100, when did patient 10008454 have their first input?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-05' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2110-11-30 18:15:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid = 226551 AND chartevents.charttime >= '03/05/2100' ORDER BY chartevents.charttime ASC LIMIT 1
e93e1b76d0204d31a3174cc1,What is the total number of patients who were discharged from the hospital last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year') AND datetime(admissions.dischtime) < datetime(current_time,'-1 year', '+1 day')"
fd430b3bc6f281ccc988453c,How many days have passed since the last time patient 10021487 has received a glucose-lab test on their current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(CURRENT_DATE(), MAX(chartevents.charttime)) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'glucose-lab' ) AND admissions.admittime <= chartevents.charttime AND chartevents.charttime <= admissions.dischtime"
9811bdd8dd976caed209c6a2,What percentile is the value of the mcv of 80.0 among patients of the same age as patient 10018423 during the last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 80.0",,"SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY admissions.dob, admissions.hadm_id ORDER BY labevents.charttime DESC) FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018423 AND labevents.itemid = ( SELECT itemid FROM d_labitems WHERE label = 'MCV' ) AND labevents.valuenum = 80.0"
6efcf394736a462c14ad905e,How often was phenytoin sodium prescribed since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'phenytoin sodium' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'Phenytoin Sodium' AND prescriptions.chartdate >= '2100-01-01'
4c853a58d04f9b3b5fb7cf1c,What is the id of the ward where patient 40707 can be admitted?,,,
722cbb6c7cc7ed4d2c24e87d,"What were the top three most frequent specimens ordered for patients after being diagnosed with renal sclerosis, unspecified in the same hospital encounter since 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'renal sclerosis, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = '2100' ) AND chartevents.charttime > diagnoses_icd.charttime GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
60460642bc6fa663ac944b18,What kind of diagnosis did patient 10019385 receive last since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,
701c361638b72b18b59910b7,"Retrieve the top five most frequent procedures that patients were given during the same hospital encounter after receiving inspection of tracheobronchial tree, via natural or artificial opening endoscopic in 2100.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_procedures.procedure, COUNT(*) AS frequency FROM d_procedures JOIN procedures ON procedures.procedure_id = d_procedures.procedure_id WHERE procedures.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN procedures ON admissions.hadm_id = procedures.hadm_id JOIN d_procedures ON procedures.procedure_id = d_procedures.procedure_id WHERE d_procedures.procedure = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' ) AND d_procedures.procedure != 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' GROUP BY d_procedures.procedure ORDER BY frequency DESC LIMIT 5"
fc919be1cf3be39f5788b8c3,Can you tell me when the first lymphocytes test of patient 10007795 was conducted in 04/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '04' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'lymphocytes' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.charttime LIKE '2023-04%' ORDER BY chartevents.charttime ASC LIMIT 1
99fccf1659e27afc7dd17ad2,Tell me the amount of total foley that patient 10010471 had since 03/08/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-08'",[{'SUM(outputevents.value)': None}],
82ed4968374026cba4624178,How many patients were diagnosed with asymptomatic human immunodeficiency virus [hiv] infection status within 2 months after first being diagnosed with mononeuritis of unspecified site in 2100?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'mononeuritis of unspecified site' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'asymptomatic human immunodeficiency virus [hiv] infection status' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime BETWEEN '2021-01-01 00:00:00' AND '2021-12-31 23:59:59' AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%mononeuritis of unspecified site%' ) ) AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%asymptomatic human immunodeficiency virus%' AND icd_code LIKE 'V08%' ) ) AND DATEDIFF(admissions.admittime, ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%mononeuritis of unspecified site%' ) ) )) <= 60"
2398b4f90c62615b764ca247,How many days have elapsed since the last time on this hospital encounter patient 10039831 got a magnesium lab test?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT MIN(DATEDIFF(CURRENT_DATE(), chartevents.charttime)) AS days_since_last_magnesium_test FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%magnesium%' AND d_items.linksto = 'chartevents' )"
53c9148b613c58bca3b23674,"Throughout this year, how many patients were prescribed dexamethasone?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'dexamethasone' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT orders.subject_id) FROM orders INNER JOIN d_items ON orders.ordercategoryid = d_items.ordercategoryid WHERE d_items.label = 'DEXAMETHASONE' AND orders.orderdate >= DATE_FORMAT(NOW() ,'%Y-01-01')"
f18eb420cfdd900530bf3999,"For patients who were diagnosed with duodenitis, without mention of hemorrhage in 2100, what are the top three most common medications that followed afterward in the same month?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'duodenitis, without mention of hemorrhage' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m.subject_id, m.hadm_id, m.stay_id, m.startdate, m.enddate, m.stopreason, m.genericname, m.formulary_flags, m.dosage, m.form, m.route, m.rate, m.amount, m.units, m.ordercategorydescription, m.ordercategoryname, m.orderpriority, m.specialty, m.createtime, m.stat, m.wasstarted, m.wasdisccontinued FROM medications m JOIN admissions a ON m.hadm_id = a.hadm_id WHERE a.dtypes LIKE '%D00382%' AND a.dtypes NOT LIKE '%D00621%' AND m.startdate >= a.admittime AND m.startdate <= DATE_ADD(a.admittime, INTERVAL 1 MONTH) GROUP BY m.genericname ORDER BY count(*) DESC LIMIT 3"
15a0bb3f4f2f12a28f041dd2,Tell me patient 10027602's total gastric meds input amount.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.label LIKE '%gastric%' )
40af2c18046760f0127c35fb,What is the maximum total hospital cost for a drug named levetiracetam since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'levetiracetam' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
d327924a18220cf4ac6ca8ba,"In 2100, which are the four most frequent lab tests given to patients within the same month after they are diagnosed with personal history of alcoholism?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of alcoholism' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,
354ec0afe942f8cf2f5c706e,"In 10/2100, when did patient 10019172 last receive the % hemoglobin a1c test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y-%m',labevents.charttime) = '2100-10' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hemoglobin a1c' AND d_items.linksto = 'labevents' ) AND chartevents.charttime BETWEEN '2021-10-01' AND '2021-10-31' ORDER BY chartevents.charttime DESC LIMIT 1
b6d7a34bc707d9209a3f1b63,How many hours has elapsed since the last time in this hospital visit patient 10021487 had received a wbc lab test?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'wbc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'WBC' ) ORDER BY chartevents.charttime DESC LIMIT 1
436b1fadeae03c1681161469,Was patient 10016150 through any surgery during the previous year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM surgeries WHERE surgeries.subject_id = 10016150 AND surgeries.start_time >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
120f063de471a96faf9b302a,"How many times did the dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic procedure take place last year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of right main bronchus with intraluminal device, via natural or artificial opening, diagnostic' ) AND YEAR(procedures_icd.chartdate) = YEAR(CURRENT_DATE)-1"
40073884463d17bc3702a2fc,Did patient 10038999 undergo a c3 laboratory test in 06/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'c3' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND strftime('%Y-%m',labevents.charttime) = '2100-06'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.laboratory_test = 'c3' ) AND labevents.charttime BETWEEN '2021-06-01 00:00:00' AND '2021-06-30 23:59:59'
bcc21d5d3111f89ef9a098f9,What were the top four diagnoses that had the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis_icd.icd_code, diagnosis_icd.diagnosis, COUNT(*)*100.0 / ( SELECT COUNT(*) FROM mortality WHERE mortality.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM mortality WHERE mortality.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM diagnosis_icd WHERE diagnosis_icd.icd_code IN ( SELECT icd_code FROM diagnosis_icd WHERE diagnosis_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM mortality ) ) ) ) ) ) ) AS mortality_rate FROM diagnosis_icd JOIN mortality ON diagnosis_icd.hadm_id = mortality.hadm_id WHERE diagnosis_icd.subject_id IN ( SELECT subject_id FROM mortality ) GROUP BY diagnosis_icd.icd_code ORDER BY mortality_rate DESC LIMIT 4"
61f316cdde3e8b077f86a486,How old was patient 10003400 during their last hospital encounter?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10003400 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id WHERE patients.subject_id = 10003400 ORDER BY admissions.admittime DESC LIMIT 1"
b3ed67a0532299ba3cb949a9,Show me the five most common microbiology tests performed.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test_name, COUNT(*) AS frequency FROM microbiology_results GROUP BY test_name ORDER BY frequency DESC LIMIT 5"
e7d1fbad4727f90f548eeaae,How much does patient 10007818 weigh difference last measured on the first hospital visit compared to the second to last value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH first_visit AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ), second_to_last AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) SELECT first_visit.valuenum - second_to_last.valuenum FROM first_visit, second_to_last"
8cd487610ef7e6e0e454d96b,"What was the name of the medication which patient 10016742 was prescribed in the same hospital visit after receiving introduction of nutritional substance into lower gi, via natural or artificial opening?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into lower gi, via natural or artificial opening' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT m.name FROM medications AS m JOIN admissions AS a ON m.hadm_id = a.hadm_id WHERE a.subject_id = 10016742 AND m.order_time > ( SELECT ce.charttime FROM chartevents AS ce WHERE ce.hadm_id = a.hadm_id AND ce.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%introduction of nutritional substance into lower gi%' ) ORDER BY ce.charttime DESC LIMIT 1 )
d74b04155d86c3e804553ede,Tell me the five most frequent medical diagnoses since 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
aa866c43eb90dfddc649fe35,"How many instances of the dilation of left common iliac vein with intraluminal device, percutaneous approach procedure were there during the previous year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND CURRENT_DATE )"
ebdf09b1cf8d52950fe299a1,When was the last time that patient 10020740 was prescribed a medication in 04/this year via po?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.route = 'po' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10020740 AND prescriptions.drug_type = 'Brand Name' AND prescriptions.dose_unit_id = ( SELECT doseunits.doseunit_id FROM doseunits WHERE doseunits.doseunit_name = 'po' ) AND prescriptions.startdate >= '2022-04-01' ORDER BY prescriptions.startdate DESC LIMIT 1
5c2aa0525c14c528390437bc,When was the last time since 04/2100 that patient 10020740 was prescribed with vancomycin and 5% dextrose at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vancomycin' AND admissions.subject_id = 10020740 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '5% dextrose' AND admissions.subject_id = 10020740 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT MAX(admissions.admittime) FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN inputevents_cv ON icustays.stay_id = inputevents_cv.stay_id INNER JOIN inputevents_mv ON icustays.stay_id = inputevents_mv.stay_id WHERE admissions.subject_id = 10020740 AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'VANC' ) AND inputevents_mv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'D5W' ) AND inputevents_cv.endtime >= '04/2100' AND inputevents_mv.endtime >= '04/2100'
21e946effbb48dafa5e842d3,What are the various ways to consume atenolol?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'atenolol',"[{'route': 'PO/NG'}, {'route': 'PO'}, {'route': 'ORAL'}]",
85fc1e7aa9384773068ded3c,What is the percentile of 3.6 for a creatinine test given the same age as patient 10004733 in the current hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) ) AS T1 WHERE T1.valuenum = 3.6",,
e629cd0656dc5fe7580121c9,How many individuals are current patients in their 20s?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 20 AND 29,,"SELECT COUNT(*) FROM patients WHERE patients.dob BETWEEN date('now','-20 years') AND date('now','-10 years') AND patients.dod IS NULL"
45ff22c09f3754e81e8ab8b4,How many patients underwent extracorporeal circulation auxiliary to open heart surgery within 2 months after the diagnosis of long-term (current) use of insulin?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long-term (current) use of insulin' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'E10%' AND procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND ( admissions.admittime BETWEEN diagnoses_icd.chartdate AND DATE_ADD(diagnoses_icd.chartdate, INTERVAL 2 MONTH ) )"
bf14cf17da2349955ab8ea66,"Since 16 months ago, what was the first recorded weight for patient 10038999?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-16 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-16 month') ORDER BY chartevents.charttime ASC LIMIT 1"
80b96b20149664dff5b51fb1,"In 2100, what are the three frequently ordered treatments for patients who were diagnosed with personal history of other venous thrombosis and embolism within the same month?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of other venous thrombosis and embolism' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,
83b0e5365db1483f3adcf4cd,What was the medicine that was prescribed to patient 10025463 in the same hospital encounter after undergoing catheter based invasive electrophysiologic testing during the last month?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'catheter based invasive electrophysiologic testing' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admitem.advice FROM ( SELECT admissions.subject_id, prescriptions.startdate, prescriptions.order_time FROM admissions INNER JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 10025463 AND prescriptions.order_time BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 1 MONTH) AND CURRENT_DATE() AND prescriptions.stopped IS NULL ) admitem INNER JOIN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'catheter based invasive electrophysiologic testing' ) ) procitem ON admitem.hadm_id = procitem.hadm_id"
54258b49d9028f2fcc83e6d8,Tell me the total output since 03/07/2100 for patient 10039997.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-07'",[{'SUM(outputevents.value)': 5735.0}],
921bedddb3b4dad89ed751aa,"What were the five most frequently ordered procedures for patients who had also received drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic within 2 months?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' AND procedures_icd.chartdate BETWEEN DATE_SUB(CURDATE(), INTERVAL 2 MONTH) AND CURDATE() ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
168c04ce1956c158d1651a93,"In 2100, has patient 10002495 received a fluoroscopy of multiple coronary arteries using other contrast treatment?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,
0fd2ccbe30809ad0253a004f,How many patients were in med/surg/trauma this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/trauma' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND admissions.hospital_service = 'MED/SURG/TRAUMA'"
b83e75dcbb1f8cc1a0718f8a,"What are the five most frequently administered laboratory tests for patients previously diagnosed with methicillin susceptible staphylococcus aureus infection as the cause of diseases classified elsewhere in the same month, in 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'methicillin susceptible staphylococcus aureus infection as the cause of diseases classified elsewhere' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON admissions.hadm_id = labevents.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.hadm_id = admissions.hadm_id WHERE labevents.chartdate BETWEEN '2100-01-01' AND '2100-12-31' AND d_icd_diagnoses.icd_code = 'B95.3' AND d_icd_diagnoses.seq_num = 1 GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 5"
f1c637616d0c91843526eb96,"List the five most frequent diagnoses a patient was diagnosed with within 2 months after receiving dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN d_icd_diagnoses ON icustays.icustay_id = d_icd_diagnoses.icustay_id WHERE icustays.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) ) AND admissions.admittime BETWEEN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND ( SELECT procedures_icd.chartdate FROM"
54bc89ef44d4c2ee5d31aeec,How many total esophagectomy procedures were conducted?,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'total esophagectomy' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'esophagectomy' )
01bb1845215fb7cc77678534,When did patient 10021118 receive urine microbiology test the last time?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND microbiologyevents.spec_type_desc = 'urine' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine microbiology test' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
e5dcbea951b8bc21c9c8bccf,What is the minimum total cost of the hospital visits which include medicines called ampicillin sodium since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ampicillin sodium' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
3bf2d40135249f916f915ace,What was the last specimen test given to patient 10020786 since 05/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],"SELECT chartevents.charttime, chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-05-01' ORDER BY chartevents.charttime DESC LIMIT 1"
3de9617a7e8dcc80de879fc5,What was the name of the output that patient 10039831 got first since 12/23/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-23' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR EBL'}],
0664f9448edc539d0cb228a4,What was the admission type for patient 10038933's last visit to the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10038933 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10038933 ORDER BY admissions.admittime DESC LIMIT 1
13d656d846a740eeb1467267,Give me the top three most common lab tests.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT labevents.itemid, d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY count DESC LIMIT 3"
189fc63254a11c6dfeb8fba5,Calculate the number of patients diagnosed with alkalosis.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alkalosis' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT hadm_id) FROM diagnoses_icd WHERE ICD9_CODE IN ( SELECT icd9_code FROM d_ICD_diagnoses WHERE long_title LIKE '%alkalosis%' OR short_title LIKE '%alkalosis%' )
e72c9c21aabd74b3648906ef,"When was the first time that in 04/2100 patient 10024043 had the maximum of total protein, urine?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, urine' ) AND strftime('%Y-%m',labevents.charttime) = '2100-04' ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total protein, urine' ) AND datetime(chartevents.charttime) >= datetime('04/01/2000') AND datetime(chartevents.charttime) < datetime('05/01/2000') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
03d470fc8e41f5dd8568f771,What was the first medication that patient 10019385 was prescribed on their first hospital encounter?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Acetaminophen'}],SELECT medications.medication FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY medications.starttime ASC LIMIT 1
5f397d9337e3f7c527ae89c4,Show the weight changes of patient 10019172 second measured on the last hospital visit compared to the value first measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT chartevents.valuenum - lag(chartevents.valuenum) OVER (ORDER BY chartevents.charttime) AS weight_change FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily Weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 2
86e644ff0d66b3aee390fc72,What was the total dosage of polyethylene glycol prescribed to patient 10021312 since 05/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.drug = 'polyethylene glycol' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(chartevents.amount) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.intime >= '2100-05-01' ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Polyethylene glycol' )
1aa433cdad6f6e1610a4c24f,Tell me the top five most frequent lab tests that patients were given in the same hospital visit after being diagnosed with personal history of pulmonary embolism.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of pulmonary embolism' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS frequency FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id JOIN labevents ON admissions.hadm_id = labevents.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_icd_diagnoses.short_title = 'personal history of pulmonary embolism' GROUP BY labevents.itemid, d_labitems.label ORDER BY frequency DESC LIMIT 5"
a2e230e390689e566a02bb77,Can you show me the three most frequently taken lab test?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 3"
02c83f838a71d8a05881f29c,Count the number of patients in med/surg since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admittime >= datetime(current_timestamp,'-1 year') AND admittime < datetime(current_timestamp) AND transfers.careunit = 'MED SURG'"
b472d5763672be20763ee562,"During the previous year, was patient 10020187 to an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admittime >= datetime(current_time,'-1 year') AND admissions.hospital_expire_flag = 0"
b51511a676f74b3a0f868b97,What is the difference in patient 10021487's weights measured at 2100-12-22 04:00:00 compared to the value measured at 2100-12-20 00:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-22 04:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-20 00:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-22 04:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-20 00:00:00' )"": None}]",SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-22 04:00:00') - (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-20 00:00:00')
cb9ca5309bb33b28efa1b130,Calculate the number of patients who were discharged from the hospital during this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.dischtime)=YEAR(CURDATE())
4fbd8deeeee7c2df137faa1a,What is patient 10039831's maximum asparate aminotransferase (ast) value in their current hospital visit?,SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ),[{'MAX(labevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'asparate aminotransferase (ast)' AND d_items.linksto = 'chartevents' )
037d3be256bd398ee1db08ce,What's the cost of a drug known as clonazepam?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'clonazepam' ),,
55cd50500d3f96c291347d01,How many patients underwent transcatheter embolization for gastric or duodenal bleeding within the same month after the diagnosis of other specified hypotension?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified hypotension' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'transcatheter embolization for gastric or duodenal bleeding' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(*) FROM admissions a JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id JOIN procedures_icd p ON a.hadm_id = p.hadm_id WHERE d.icd_code LIKE 'I95.9%' AND p.icd_code IN (SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%transcatheter embolization for gastric or duodenal bleeding%') AND DATE_FORMAT(a.admittime, '%Y-%m') = DATE_FORMAT(p.chartdate, '%Y-%m')"
b99ca86c27c7418b8cadc2bb,"Currently, how many operating rooms are available?",,,
e630dab0aeb52cb103a0b242,Tell me patient 10023239's maximum value of heart rate since 04/15/2100.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-04-15'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2000-04-15'
eba7513c50f91f2da09549f4,When was patient 10019172 prescribed aspirin and aspirin ec at the same time for the first time since 04/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'aspirin' AND admissions.subject_id = 10019172 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'aspirin ec' AND admissions.subject_id = 10019172 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10019172 AND ( prescriptions.drug = 'aspirin' OR prescriptions.drug = 'aspirin ec' ) AND prescriptions.startdate > '04/2100' GROUP BY prescriptions.subject_id HAVING COUNT(DISTINCT prescriptions.drug) > 1
b88f292ca552b0ea6d9929d1,"During the last hospital visit, did patient 10037861 receive a right heart cardiac catheterization treatment?",SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%right heart cardiac catheterization%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ORDER BY admissions.admittime DESC LIMIT 1 )
9556f5bb39ef85f316ec69f4,I would like to know what dr. dunlow's on today's outpatient schedule.,,,
5cf80e270db47987d26f8d2c,What was the name of the output that patient 10022017 had last since 10/04/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-04' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Void'}],
f1d835a5bb021603f18ae280,Do you know patient 9566 went to another country?,,,
8281e9dde4a495faf9a70ae4,When was the first time on this month/29 patient 10018081's heart rate was greater than 72.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 72.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '29' ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10018081 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 72.0 AND DATE_FORMAT(chartevents.charttime, '%m/%d') = '02/29' ORDER BY chartevents.charttime ASC LIMIT 1"
ffa10298ec3846d375cbd553,Let me know the total quantity of input patient 10027602 received since 09/23/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-23'",[{'SUM(inputevents.totalamount)': 81320.0}],
f0fa794eb149befc0d010275,Can you inform me of the first white blood cells test result for patient 10007795 in 04/this year?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '04' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'WBC' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2022-04-01' AND '2022-04-30' ORDER BY chartevents.charttime ASC LIMIT 1
11f17f3d6fad511b3db76b80,What is the cost of a diagnosis of automatic implantable cardiac defibrillator in situ?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'automatic implantable cardiac defibrillator in situ' ) ),,
be05d63abe091e094958fc47,How many patients stayed in careunit medicine in this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medicine' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND admissions.dischtime <= DATE_FORMAT(CURDATE(),'%Y-12-31') AND admissions.hospital_service = 'Med/Surg'"
ab0dc7cef40d44572a80367e,What is the minimum total hospital cost for a person with coronary atherosclerosis of autologous vein bypass graft since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'coronary atherosclerosis of autologous vein bypass graft' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
fb25b72d8fbcca4ca0b23169,What is the cost of a closed fracture of lumbar vertebra without mention of spinal cord injury diagnosis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of lumbar vertebra without mention of spinal cord injury' ) ),,
4be515e40345fb288dd58aa5,When was the first time of input time of patient 10007818 on 07/10/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-07-10' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input time' ) AND chartevents.charttime >= '2100-07-10 00:00:00' AND chartevents.charttime < '2100-07-11 00:00:00' ORDER BY chartevents.charttime ASC LIMIT 1
878e753f48874ad8f8ceab3c,Tell me the minimum total hospital cost that involves closed [endoscopic] biopsy of bronchus?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [endoscopic] biopsy of bronchus' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(item5) FROM ( SELECT SUM(it2.amount * it2) as item5 FROM admissions AS it1 INNER JOIN icustays AS it2 ON it1.hadm_id = it2.hadm_id INNER JOIN d_items AS it3 ON it2.itemid = it3.itemid WHERE it3.label LIKE '%closed endoscopic
695dff1ad99f6d2eb4de81db,"What are the five commonly ordered medications that patients aged 60 or above were prescribed in the same month after diagnosed with retention of urine, unspecified in 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'retention of urine, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m1.short_description, COUNT(m1.short_description) AS num_prescribed FROM diagnoses_icd AS d JOIN admits AS a ON d.hadm_id = a.hadm_id JOIN chartevents AS c ON a.stay_id = c.stay_id JOIN medications AS m1 ON c.itemid = m1.itemid JOIN medications AS m2 ON c.itemid = m2.itemid WHERE d.icd_code = '596.9' AND a.admit_age >= 60 AND MONTH(a.admittime) = 2 AND YEAR(a.admittime) = 2010 GROUP BY m1.short_description ORDER BY num_prescribed DESC LIMIT 5"
d6ed2ef486b7d554f4160ba6,What was the name of the output that patient 10027445 had last since 06/02/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-02' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
f96633ec8fc87fce8f72854a,What is patient 10008287's gender?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10008287,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10008287
e156f73b1bfc7f7069b386b3,Which are the four most commonly taken lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) as test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_SUB(NOW(), INTERVAL 2100 DAY) GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 4"
0d93e83a24f730a575941764,"Was there any lisinopril, 0.45% sodium chloride, or levothyroxine sodium ordered for patient 10002428 during their first hospital encounter?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ( 'lisinopril', '0.45% sodium chloride', 'levothyroxine sodium' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10002428 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ('Lisinopril', '0.45% Sodium Chloride', 'Levothyroxine Sodium')"
b9bcd099d5f42ea75aca129e,How is readi-cat 2 (barium sulfate 2% suspension) typically taken?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'readi-cat 2 (barium sulfate 2% suspension)',[],
9e9c562a4ca1886263c6444c,"What was the name of the drug which patient 10007818 was prescribed during the same hospital visit after receiving a drainage of peritoneal cavity, percutaneous approach, diagnostic procedure in 07/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of peritoneal cavity, percutaneous approach, diagnostic' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-07' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT medications.order_id FROM medications JOIN admissions ON admissions.hadm_id = medications.hadm_id WHERE admissions.subject_id = 10007818 AND medications.startdate > '07/2100' AND medications.startdate < '08/2100' AND medications.order_id IN ( SELECT procedureevents.order_id FROM procedureevents WHERE procedureevents.procedure_id = ( SELECT procedureevents.procedure_id FROM procedureevents JOIN d_procedures ON d_procedures.procedure_id = procedureevents.procedure_id WHERE d_procedures.title = 'drainage of peritoneal cavity, percutaneous approach, diagnostic' AND procedureevents.hadm_id = 10007818 ) )"
1e2f66da2eb65a0b588daf76,How many patients were given a basophils lab test during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.charttime >= date_format(curdate(), '%Y-01-01 00:00:00') AND labevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'basophils' )"
de050e3cfdd8c8ef07cdf7bc,What are the five most common diagnoses of patients in their 60 or above since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS count FROM diagnosis_icd INNER JOIN d_icd_diagnoses ON diagnosis_icd.icd_code = d_icd_diagnoses.icd_code INNER JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id WHERE admissions.dob <= '1960-01-01' AND admissions.dod >= '2100-01-01' GROUP BY diagnosis_icd.icd_code ORDER BY count DESC LIMIT 5"
92628b8e1f9f488eca11c7ea,How much is the average total hospital cost associated with closed fracture of lumbar vertebra without mention of spinal cord injury?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of lumbar vertebra without mention of spinal cord injury' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(admissions.totalcharges) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of lumbar vertebra without mention of spinal cord injury' )
d57dc0bf4122ea92cbe3fbbf,When was the last time patient 10007818 was prescribed medication via the replace route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.route = 'replace' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10007818 AND prescriptions.route = 'REPLACE' ORDER BY prescriptions.startdate DESC LIMIT 1
0f36a6421cf0404aebb87507,What were the five most common lab tests given since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.itemid ORDER BY count DESC LIMIT 5"
16ca0a5e17d4cb11df70a0d0,What was the diagnosis for patient 10015931 the first time?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime ASC LIMIT 1
53b45637910db65da16c946b,What procedure was given to patient 10029291 two or more times since 30 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-30 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_procedures.procedure_name FROM d_procedures INNER JOIN procedures ON d_procedures.procedure_id = procedures.procedure_id WHERE procedures.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND procedures.starttime >= datetime(current_time,'-30 month') GROUP BY d_procedures.procedure_name HAVING COUNT(d_procedures.procedure_name) >= 2"
067ed21678e9244b701465c3,Was patient 10008287 given a bicarbonate lab test during the last hospital visit?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.shortname = 'Bicarbonate' ) ORDER BY labevents.charttime DESC LIMIT 1
87ea2c2233393dc64798684e,What were the five most frequent lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ORDER BY count DESC LIMIT 5"
57280c52999208a8f3104301,"Since 06/30/2100, what was the yearly maximum dose of dextrose 5% for patient 10026354?","SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-30' GROUP BY strftime('%Y',inputevents.starttime)",[],
888e5315d7db699f3ac78093,What is the minimum total hospital cost that includes a drug named ciprofloxacin hcl?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ciprofloxacin hcl' ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(costs.total_cost) FROM costs INNER JOIN inputevents_cv ON costs.stay_id = inputevents_cv.stay_id WHERE inputevents_cv.itemname = 'Ciprofloxacin Hcl'
f7c14865b950690588b06349,List the top five most frequent events occurring since 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]",
888957dc10f4451e27bb31eb,"On the first hospital visit, was patient 10002495 diagnosed with any illness?",SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10002495 AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ORDER BY admissions.admittime ASC LIMIT 1 )
ab4e7468a6d2dfc3bdbc9ff6,Is patient 15821 having an appointment in another department?,,,
192595f3a72877272b046e55,How is potassium chl 20 meq / 1000 ml d5 1/2 ns taken?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'potassium chl 20 meq / 1000 ml d5 1/2 ns',[],
f4668d73e48714b3c81b72ab,When did patient 10021938 have the maximum respiratory rate the last time during their last ICU stay?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime, chartevents.valuenum FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021938 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory Rate') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
d6a206ecc5cbf7eeccb7956b,"Among patients who underwent other electroshock therapy this year, what were the top five diagnoses they received within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electroshock therapy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE chartdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%electroshock%' ) ) AND admittime <= DATE_FORMAT(chartdate,'%Y-01-01') AND dischtime >= DATE_FORMAT(chartdate,'%Y-01-01') + INTERVAL 2 MONTH GROUP BY icd9_code ORDER BY frequency DESC LIMIT 5"
562f824477376311916b88db,Patient 10008287 was diagnosed during their first hospital visit for the last time with what?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT admissions.dtypes FROM admissions WHERE admissions.subject_id = 10008287 ORDER BY admissions.admittime DESC LIMIT 1
27b1f84153a5a461120468de,Has patient 10005817 undergone laboratory tests since 4 months ago?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(labevents.charttime) >= datetime(current_time,'-4 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(labevents.charttime) >= datetime(current_time,'-4 month')"
b1baeec40f8e02dc63c8b5e3,"What was the drug that patient 10031404 was prescribed for during the same hospital visit after undergoing drainage of pericardial cavity, percutaneous approach since 02/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-02' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT prescriptions.drug FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10031404 AND prescriptions.startdate >= '02/2100' AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity, percutaneous approach' ) )"
ec8e06e2b743a81436720c46,"Since 1 year ago, how many patients were provided with tamoxifen citrate?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'tamoxifen citrate' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND prescriptions.drug = 'tamoxifen citrate'"
87cc300179a5fe28e3498b5e,Did patient 10004235 experience any procedure in the last year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE a.subject_id = 10004235 AND p.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
df5a70f5890755916496aef6,What is the number of ICU visits for patient 10006580.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 )
fdd3a31fb9173995b776c5b2,Tell me the average SaO2 of patient 10021938 on last month/14.,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '14'",[{'AVG(chartevents.valuenum)': None}],"SELECT avg(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'SaO2') AND admissions.subject_id = 10021938 AND chartevents.charttime BETWEEN DATE_SUB(CURDATE(), INTERVAL 14 DAY) AND CURDATE()"
22458c7e5433bc48eeb5f97c,When was the last time the systolic blood pressure of patient 10002495 was measured at a reading less than 101.0 on the last ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 101.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' ) AND chartevents.valuenum < 101 ORDER BY chartevents.charttime DESC LIMIT 1
b6b449e2a6346dfeed443761,What were the three most frequently given diagnoses for patients who received anastomosis of hepatic duct to gastrointestinal tract previously within 2 months in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'anastomosis of hepatic duct to gastrointestinal tract' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = diagnoses_icd.icd_code WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE d_icd_procedures.long_title = 'anastomosis of hepatic duct to gastrointestinal tract' AND procedures_icd.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH) ) AND YEAR(admissions.admittime) = 2100 GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 3"
d4667791b23ee3c61987de79,Can i tell if patient 1205 has need prphyl vc vrl hepat in hisher family?,,,
43dc5805c85d11ad9ce1eb53,Count the total number of hospital visits made by patient 10029291 in the last year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10029291 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10029291 AND datetime(admissions.admittime) >= datetime(current_date,'-1 year')"
f082ad77c50f76200f9ef93d,"Tell me the maximum total hospital cost that includes extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic in 2100.","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) ) AND admissions.hospital_expire_flag = 1 AND admissions.dod like '2100%' AND admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob <= '1900-01-01' )"
6c72b9c6d194e26c1ee7f466,Does patient 21134 have any history of depressive disorder nec in his / her family?,,,
fe615a9fbe3f8b13bb56bbdf,How many days have elapsed since patient 10021487 has first received a other lab test on this hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'other' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Laboratory' AND d_items.linksto = 'chartevents' ) AND d_items.linksto = 'chartevents' AND d_items.category = 'Laboratory' GROUP BY chartevents.hadm_id HAVING COUNT(*) > 1 ORDER BY chartevents.charttime ASC LIMIT 1
299e7e4682125161d8892193,Give me patient 10027602's total amount of nacl 0.45% input during their last ICU visit.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.45%' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.amount) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.45%' AND d_items.linksto = 'input' ) ORDER BY chartevents.charttime DESC LIMIT 1
e3e406fe664e626c9595b4ec,Is there a test that patient 65759 had been given?,,,SELECT COUNT(*) > 0 FROM labevents WHERE labevents.subject_id = 65759
03597122b60940059ca941bd,Retrieve the top three most common diagnoses?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_cm = d_icd_diagnoses.icd_code GROUP BY diagnoses_icd.icd9_cm ORDER BY count DESC LIMIT 3"
def40a677b6ecbf4f1bd3de2,The earliest hospital visit of patient 99661?,,,SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 99661 ORDER BY admissions.admittime ASC LIMIT 1
f97a37d5ea7b54467da5e351,What was the last value of arterial blood pressure systolic patient 10035185 had on 05/19/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-05-19' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '05/19/2100 00:00:00' AND '05/19/2100 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
06e428e5b1ed6505097a25ad,Tell me the total number of patients in pacu since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'pacu' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
22377f7f4ffda156f6c95713,Has patient 10012552 been diagnosed with any type of disease since 1 year ago?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') AND admissions.subject_id = 10012552"
e5b93830a2376294094a1f1b,What was the amount of ezetimibe that was prescribed to patient 10021666 for the last time in 03/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND prescriptions.drug = 'ezetimibe' AND strftime('%Y-%m',prescriptions.starttime) = '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],
6b2bc626482c4ebd317ba6ea,"Since 2100, what was patient 10012552 diagnosed with for the last time?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,SELECT admittime FROM admissions WHERE subject_id = 10012552 AND admittime >= '2100-01-01' ORDER BY admittime DESC LIMIT 1
dc21479affad398d7e20b2da,Was there any nacl 0.9% given to patient 10010471 on 12/15/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-12-15'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.subject_id = 10010471 AND inputevents_cv.starttime = '12/15/2100' AND inputevents_cv.itemid IN (SELECT itemid FROM d_items WHERE label = '0.9% NaCl')
5ccd34698e938f99b49819c5,"What is the minimum monthly number of patients affected by cerebral aneurysm, nonruptured?","SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cerebral aneurysm, nonruptured' ) GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT MIN(monthly_count) FROM ( SELECT COUNT(*) AS monthly_count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%cerebral aneurysm, nonruptured%' ) GROUP BY DATE_FORMAT(admissions.admittime, '%Y-%m') ) AS monthly_patient_counts"
d4cc44e155d21e53108993c3,Has patient 10027602 received any insertion or replacement of external ventricular drain [evd] treatment?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of external ventricular drain [evd]' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of external ventricular drain evd
c5b41500133543c1bd41eb66,How many patients were given metoprolol succinate xl prescriptions since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'metoprolol succinate xl' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
3c678de40d16a9eae2e6f6dd,Are you letting me know if patient 3677 is subject to covid-19 testing?,,,
dc414e02268ef72244d435fd,Is the value of bicarbonate last measured on the last hospital visit of patient 10019172 greater than its value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT valuenumeric > ( SELECT MIN(valuenumeric) FROM labevents WHERE labevents.hadm_id = ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT itemid FROM d_labitems WHERE d_labitems.itemid = 50984 ) ) FROM labevents WHERE labevents.hadm_id = ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT itemid FROM d_labitems WHERE d_labitems.itemid = 50984 ) ORDER BY labevents.charttime DESC LIMIT 1
64d3df17e06aa81f9ecdc580,"Has ampicillin-sulbactam, 0.9% sodium chloride (mini bag plus), or 0.9% sodium chloride been prescribed in their current hospital visit to patient 10039831?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND prescriptions.drug IN ( 'ampicillin-sulbactam', '0.9% sodium chloride (mini bag plus)', '0.9% sodium chloride' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND prescriptions.drug IN ('ampicillin-sulbactam', '0.9% sodium chloride (mini bag plus)', '0.9% sodium chloride')"
db4af3e1cff04a496f2168cb,"Among patients who underwent excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic since 2100, what were the top four diagnoses they received within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic' ) ) AND admittime >= '2100-01-01' AND admittime <= '2100-12-31' AND discharge_location = 'HOME' AND datename(month, admittime) IN ( SELECT datename(month, admittime) FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic' ) ) AND admittime >= '2100-01-01' AND admittime <= '2100-12-31' AND discharge_location = 'HOME' ) GROUP BY icd9_code ORDER BY COUNT(*) DESC LIMIT 4"
fa7d7ca1c281f5d1e6a549c9,Has patient 10004720 had gastric meds input since 10/02/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-02'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_miv AS inputevents WHERE inputevents.subject_id = 10004720 AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'Gastric' ) AND inputevents.charttime >= '10/02/2100'
341a4ea74a6802ad1a55e2ff,When was the first microbiology test that was given to patient 10015931 since 05/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2176-11-15 22:07:00'}],
1108d7271243b64d3250ee9e,Has patient 10000032 gone through any procedure since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND procedures_icd.chartdate >= '2100-01-01'
09a8d5869533c169168ee661,Count the total patients who were prescribed nifedipine cr this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'nifedipine cr' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT subject_id) FROM prescriptions WHERE prescriptions.drg_type = 'nifedipine' AND prescriptions.startdate >= DATE_TRUNC('year', CURRENT_DATE) AND prescriptions.startdate < DATE_TRUNC('year', CURRENT_DATE) + INTERVAL '1 year'"
fede243c3b7b2698d441af96,The first time patient 10004733 was prescribed lidocaine 1% and heparin flush (10 units/ml) at the same time in 12/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'heparin flush (10 units/ml)' AND admissions.subject_id = 10004733 AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'lidocaine 1%' AND admissions.subject_id = 10004733 AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lidocaine 1% and heparin flush (10 units/ml)' ) AND chartevents.charttime >= '12/01/2000' AND chartevents.charttime < '01/01/2001' ORDER BY chartevents.charttime ASC LIMIT 1
c3ad5487d2580375d41c2e06,When was the first time that patient 10008287 had a maximum SaO2?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'SaO2' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1"
112f416ddb62edda1db7a561,How much is the maximum total hospital bill for a visit that involves a mcv test throughout this year?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(bill.amount) FROM bill INNER JOIN admissions ON bill.hadm_id = admissions.hadm_id INNER JOIN labevents ON admissions.hadm_id = labevents.hadm_id WHERE admissions.admittime >= CURRENT_DATE - INTERVAL 1 YEAR AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCV')
d4255f4b8d7db34c02b8c1c8,"Throughout this month, when did patient 10008454 receive the last urine microbiology test?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine microbiology sent' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_FORMAT(CURRENT_DATE, '%Y-%m-01 00:00:00') AND chartevents.charttime <= CURRENT_DATE ORDER BY chartevents.charttime DESC LIMIT 1"
790f43812849f0e3f94c3c15,"In the first hospital encounter, what age was patient 10020187?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT admissions.admittime, patients.dob, TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) AS age FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10020187 ORDER BY admissions.admittime ASC LIMIT 1"
e83b5e034fb29dbffbbeed14,"What are the charges for a procedure called bypass coronary artery, one artery from right internal mammary with autologous arterial tissue, open approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, one artery from right internal mammary with autologous arterial tissue, open approach' ) )",,"SELECT charges FROM procedures WHERE procedures.description = 'bypass coronary artery, one artery from right internal mammary with autologous arterial tissue, open approach'"
a5661f4d9bc983fe089c2f6d,Was patient 10010471 given any drugs in the previous year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10010471 AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year')"
6a7c1eb2cf2a97c8f56e8695,What specimen test was given in 12/2100 to patient 10008454 for the last time?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.chartdate >= '2012-01-01' AND chartevents.chartdate <= '2012-12-31' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) ORDER BY chartevents.charttime DESC LIMIT 1
21ee43d3aa608dce16db8951,How much calcium carbonate was prescribed the last time on the first hospital stay to patient 10021938?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'calcium carbonate' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.order_type = 'NEW ORDER' AND prescriptions.drug = 'calcium carbonate' ORDER BY prescriptions.starttime DESC LIMIT 1
e9dd16ce54ed38fae39646d8,What was patient 10009035's minimum systolic blood pressure in their first ICU visit?,SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ),[{'MIN(chartevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Arterial BP' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum IS NOT NULL
8ecbbbd543e11b1626e55488,What was the name of the drug which patient 10007795 was prescribed in the same hospital visit after receiving a drainage of pancreatic cyst by catheter procedure since 04/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pancreatic cyst by catheter' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-04' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT drugs.drug FROM drugs WHERE drugs.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND drugs.orderdate > '04/2100' AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE EXISTS ( SELECT procedures_icd.procedure_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'drainage of pancreatic cyst by catheter' AND procedures_icd.hadm_id = admissions.hadm_id ) )
34f825ce946e62cf44c7f3f5,"How many days have passed since patient 10004733 had the last cholesterol, total lab test on their current hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(current_timestamp, chartevents.charttime) as days_passed FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) ORDER BY chartevents.charttime DESC LIMIT 1"
d792cf5775c1f4e850ffcde0,What was the last weight of patient 10004720 recorded?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight') ORDER BY chartevents.charttime DESC LIMIT 1
fc608735d9ab6fc5bd43a04c,What is the average total cost for the hospital when a triiodothyronine (t3) lab test is involved since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'triiodothyronine (t3)' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(CASE WHEN d_labitems.label = 'triiodothyronine (t3)' THEN charges.total_cost ELSE NULL END) AS avg_total_cost FROM d_labitems JOIN chartevents ON d_labitems.itemid = chartevents.itemid JOIN charges ON chartevents.stay_id = charges.stay_id WHERE charges.charttime >= '2100-01-01'
adfd9a5399c408d1e11a4aa2,What is the reimbursement standard for gene and chromosome testing?,,,
c89cf055a5d102b539366869,How many hours has it been since the last time patient 10021487 stayed during this hospital encounter in the careunit emergency department?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT MIN(TIMESTAMPDIFF(HOUR, icustays.intime, NOW())) FROM icustays INNER JOIN admissions ON admissions.hadm_id = icustays.hadm_id WHERE admissions.subject_id = 10021487 AND icustays.careunit = 'EMERGENCY DEPARTMENT'"
ee59f6b32fc0b17f2e1e888b,Can you tell how many times patient 10031757 visited the ICU since 1 year ago?,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 2}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
fccae88f01f7fd8906029a4f,What's the ward id patient 90165 can go to?,,,
55089d9089a6992078371da4,"What are the five most frequently ordered medications that patients in their 50s were prescribed within 2 months after they were diagnosed with other specified procedures as the cause of abnormal reaction of patient, or of later complication, without mention of misadventure at time of procedure since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified procedures as the cause of abnormal reaction of patient, or of later complication, without mention of misadventure at time of procedure' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 50 AND 59 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m.drug, COUNT(*) AS frequency FROM medications m JOIN admissions a ON m.hadm_id = a.hadm_id JOIN patients p ON a.subject_id = p.subject_id JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id WHERE p.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 55 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 50 YEAR) AND d.icd_code = 'V97.51' AND a.admittime BETWEEN DATE_SUB(CURRENT_TIMESTAMP, INTERVAL 1 YEAR) AND CURRENT_TIMESTAMP AND m.starttime BETWEEN DATE_SUB(a.admittime, INTERVAL 2 MONTH) AND a.admittime GROUP BY m.drug ORDER BY frequency DESC LIMIT 5"
fe9f0b6e8813418d172e1e1c,How many 5% dextrose prescriptions were administered?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = '5% dextrose',[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = '5% dextrose'
f6401e3fea26ee15aed66ec1,Was the lactate reading for patient 10015860 last measured on the first hospital visit less than the value second to last measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (value < (SELECT value FROM labevents AS LE WHERE LE.subject_id = 10015860 AND LE.itemid = (SELECT itemid FROM d_labitems WHERE label = 'lactate') ORDER BY charttime DESC LIMIT 1 OFFSET 1)) FROM labevents AS LE WHERE LE.subject_id = 10015860 AND LE.itemid = (SELECT itemid FROM d_labitems WHERE label = 'lactate') ORDER BY charttime DESC LIMIT 1
ce9d557587a02ef7b5b69000,When did last patient 10005348 have the minimum value of calculated total co2?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
cbcc848bf46b8605d7a0735d,What is patient 10027445's sex?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10027445,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10027445
5941ed9f1a4d31ed438338d9,"Throughout this year, what are the top four most frequently ordered lab tests for patients in the same month after being diagnosed with unspecified essential hypertension?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '4019' AND admissions.admittime BETWEEN DATE_FORMAT(NOW(),'%Y-01-01 00:00:00') AND DATE_FORMAT(NOW(),'%Y-12-31 23:59:59') ) ) AND labevents.charttime BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 1 MONTH) GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
ea31f61daec8ba1d5d9fb9f8,What is the monthly average value of patient 10007928's weight in 2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) = '2100' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],
b4067b5953f2f9bf38f0cf12,"How many patients in 2100 were diagnosed with body mass index 35.0-35.9, adult within 2 months after the first diagnosis with anemia, unspecified?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anemia, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'body mass index 35.0-35.9, adult' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM patients AS p JOIN admissions AS a ON p.subject_id = a.subject_id JOIN diagnoses_icd AS d1 ON a.hadm_id = d1.hadm_id JOIN diagnoses_icd AS d2 ON a.hadm_id = d2.hadm_id WHERE a.admittime BETWEEN ( SELECT MIN(admittime) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code LIKE 'D5%') ) AND DATE_ADD(( SELECT MIN(admittime) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code LIKE 'D5%' AND subject_id = p.subject_id )), INTERVAL 2 MONTH) AND d1.icd_code LIKE 'E65%' AND d2.icd_code LIKE 'D5%' AND p.dod BETWEEN '2100-01-01' AND '2100-12-31'"
bbe597ef5bc885d0751caef3,Tell me the name of the last specimen test patient 10002495 had received in 06/this year.,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '06' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.text FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('06/01/this year') AND datetime(chartevents.charttime) < datetime('07/01/this year') ORDER BY chartevents.charttime DESC LIMIT 1
6dcff6961c5881f37f24c90d,Has patient 10008454 received any lab tests in this month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND datetime(labevents.charttime) >= datetime(current_date, '-1 month')"
615f5677e858fc4ef464a1a0,Tell me the daily average amount of patient 10021118's nacl 0.9% input in this month.,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND chartevents.charttime >= DATE_FORMAT(CURRENT_DATE, '%Y-%m-01') AND chartevents.charttime < DATE_FORMAT(CURRENT_DATE, '%Y-%m-01') + INTERVAL 1 MONTH"
3f66ff390a54bf2f82dedd51,"In 09/2100, what was the minimum sodium value for patient 10038933?","SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) AND strftime('%Y-%m',labevents.charttime) = '2100-09'",[{'MIN(labevents.valuenum)': None}],SELECT min(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10038933 AND chartevents.itemid = 50902 AND chartevents.charttime BETWEEN '2090-09-01' AND '2090-09-30'
22f424d1096d768470e60a6d,"What are the four most commonly tested specimens for patients who were diagnosed with chronic lymphocytic leukemia of b-cell type not having achieved remission previously in the same month, in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic lymphocytic leukemia of b-cell type not having achieved remission' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,
d3c7771380374c5d73ffd28f,Tell me the amount of foley patient 10021487 had on 12/21/this year.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '12-21'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '12/21/this year'
0548ea40a64c517f125a4be7,When did patient 10021487 get input for the last time since 12/14/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-14' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2117-03-09 14:20:00'}],SELECT inputevents_mv.charttime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(inputevents_mv.starttime) >= datetime('12/14/2100') ORDER BY inputevents_mv.starttime DESC LIMIT 1
96e382017b141bc1518941f3,"Throughout this year, what are the three common diagnoses of patients of age 40s?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob >= DATE_SUB(CURDATE(), INTERVAL 50 YEAR) AND patients.dob < DATE_SUB(CURDATE(), INTERVAL 40 YEAR) AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 3"
e39761455f93b4f0ebb90b4e,Retrieve the top four most frequent diagnoses of patients with age in their 20s this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE YEAR(admissions.admit_date) = YEAR(CURRENT_DATE) AND patients.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 29 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 20 YEAR) GROUP BY diagnoses_icd.icd_code ORDER BY frequency DESC LIMIT 4"
32b1864cd437a05f94495679,What number of patients were in the medicine since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medicine' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
07f02f8bb9cf48ec09ba120e,"In 10/2100, when was patient 10018845's last microbiology test?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE subject_id = 10018845 ORDER BY charttime DESC LIMIT 1
f74c6d45811f3d87dac9bdc2,When was the first time patient 10038999 had a SaO2 that was greater than 96.0 since 02/02/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 96.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-02-02' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT min(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SpO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 96.0 AND datetime(chartevents.charttime) >= datetime('02/02/2100')
76d64d32df1f5a7f51202106,Has patient 10023117 got a platelet count lab test since 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '25445-4') AND datetime(labevents.charttime) >= '2100-01-01'
d78eee745ce372a0b010f81a,When did patient 10038999 first have a swab microbiology test?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'swab' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'swab microbiology test' AND d_items.linksto = 'chartevents' )
59a23b41fa280018e0e17257,Calculate the number of enalapril maleate prescriptions.,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'enalapril maleate',[{'COUNT(*)': 7}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'enalapril maleate'
6fab218a9bcfb128b745f81b,Tell me what the top four most common diagnoses of patients with an age of 20s?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS frequency FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN diagnosis_icd ON admissions.hadm_id = diagnosis_icd.hadm_id WHERE patients.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 30 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 20 YEAR) GROUP BY diagnosis_icd.icd_code ORDER BY frequency DESC LIMIT 4"
74800adca8d5382b227f11fc,When was the last time the heart rate of patient 10027602 was measured to be greater than 95.0 on last month/26?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 95.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '26' ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10027602 AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate') AND chartevents.valuenum > 95.0 AND chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND DAYOFMONTH(chartevents.charttime) = 26 ORDER BY chartevents.charttime DESC LIMIT 1"
91c2a89a059f3c099a994282,When was the first time patient 10009628 had a medication prescribed via the iv drip route in 10/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND prescriptions.route = 'iv drip' AND strftime('%Y-%m',prescriptions.starttime) = '2100-10' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND prescriptions.route = 'IV' AND prescriptions.startdate >= '10/01/2010' AND prescriptions.startdate < '11/01/2010' ORDER BY prescriptions.startdate ASC LIMIT 1
3a5ab4d7328a4d17c25ac1f9,When was patient 10020740 last prescribed the medication via the td route in 05/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.route = 'td' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT orders.orderdate FROM orders WHERE orders.subject_id = 10020740 AND orders.order_type = 'RX' AND orders.route = 'TD' AND orders.orderdate BETWEEN '05/01/2100' AND '05/31/2100' ORDER BY orders.orderdate DESC LIMIT 1
ea10182ca02a264d05d0a0c6,Tell me the total 0.9% sodium chloride dose that patient 10001217 has been prescribed during their first hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = '0.9% sodium chloride',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdb.amount) FROM prescriptions AS p JOIN d_cpt AS dc ON dc.cpt_cd = p.cpt_cd JOIN d_items AS di ON di.itemid = p.itemid JOIN chart_events AS cdb ON cdb.subject_id = p.subject_id AND cdb.hadm_id = p.hadm_id AND cdb.icustay_id = p.icustay_id WHERE p.subject_id = 10001217 AND dc.long_title = '0.9% sodium chloride' AND cdb.valuenum > 0 AND p.hadm_id = ( SELECT MIN(hadm_id) FROM admissions WHERE subject_id = 10001217 )
47b903aa15da43a35db353c7,"After getting diagnosed with acute on chronic diastolic heart failure, how many patients were found to have postinflammatory pulmonary fibrosis within 2 months in 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute on chronic diastolic heart failure' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'postinflammatory pulmonary fibrosis' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM admissions AS A JOIN diagnoses_icd AS D ON A.hadm_id = D.hadm_id JOIN patients AS P ON A.subject_id = P.subject_id WHERE P.dob < DATE('2021-12-31') AND P.dob > DATE('1921-12-31') AND D.icd_code LIKE '428%' AND A.hadm_id IN (SELECT hadm_id FROM diagnoses_icd WHERE icd_code = '416.81') AND A.admittime BETWEEN DATE_SUB(DATE(A.admittime), INTERVAL 2 MONTH) AND DATE(A.admittime)"
6f1219fa346b449ef48710c1,Tell me the total volume of input for patient 10014354 since 10/12/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-12'",[{'SUM(inputevents.totalamount)': 29320.0}],
b1ee8ce4305d98f2883b695b,"How many patients were diagnosed in 2100 with intestinal infection due to other organism, not elsewhere classified?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'intestinal infection due to other organism, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = '009.91' AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31')
bfb03e1d79c3802ab3081d33,"In total, how many patients were prescribed iso-osmotic sodium chloride since 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'iso-osmotic sodium chloride' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
c205b51f6231b94810bd8849,"In 05/this year, when did patient 10018328 receive their last medication via the po/ng route?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND prescriptions.route = 'po/ng' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.linksto = 'chartevents' ) AND chartevents.value = 'PO/NG' AND datetime(chartevents.charttime) >= datetime('2022-05-01') AND datetime(chartevents.charttime) < datetime('2022-06-01') ORDER BY chartevents.charttime DESC LIMIT 1
a7766be547dac94471bb1f74,How many hours have elapsed since the last time during this hospital encounter that patient 10018081 was diagnosed with unspecified protein-calorie malnutrition?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified protein-calorie malnutrition' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT COUNT(*) FROM labevents WHERE charttime < ( SELECT MAX(charttime) FROM labevents WHERE itemid = ( SELECT itemid FROM d_items WHERE label = 'protein-calorie malnutrition, unspecified' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10018081 ) ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10018081 )"
c1d67292940ffad4ade361e9,Whats the reimbursement standard for a cerebrovascular mri?,,,
2b73e239d32f4e598b39620c,Can you tell me the last value of the free calcium test for patient 10023239?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'free calcium' ) ORDER BY chartevents.charttime DESC LIMIT 1
94e88227ead8378786e00436,Which are the four top specimens that were tested during this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid,chartevents.valuenum FROM chartevents WHERE chartevents.charttime BETWEEN datetime(current_date,'start of year') AND datetime(current_date,'start of year','+1 year') GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
ce36c547c1a37852e65fc5c3,Can you get me the top four diagnoses that have the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT icd_code, diagnosis, COUNT(*) AS mortality_count FROM ( SELECT adm1.hadm_id, icd1.icd_code, icd1.diagnosis FROM admissions adm1 INNER JOIN ( SELECT hadm_id, icd_code, diagnosis FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE SEQ_NUM = 1 ) icd1 ON adm1.hadm_id = icd1.hadm_id WHERE adm1.admittime <= adm1 adm1 - INTERVAL 6 MONTH IN ( SELECT hadm_id FROM admissions WHERE < adm1.admittime + INTERVAL 6 MONTH ) UNION ALL SELECT adm2.hadm_id, icd2.icd_code, icd2.diagnosis FROM admissions adm2 INNER JOIN ( SELECT hadm_id, icd_code, diagnosis FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE SEQ_NUM = 1 ) icd2 ON adm2.hadm_id = icd2.hadm_id WHERE adm2.admittime <= adm2 adm2 - INTERVAL 6 MONTH"
4afe78a50dbf480375c2d614,What was the name of the organism found in the first bronchoalveolar lavage microbiology test of patient 10021487 in 12/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT micro_results.org_name FROM micro_results JOIN admissions ON micro_results.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND micro_results.spec_type_desc = 'Lower respiratory tract: Bronch/Lung Wash (BAL)' AND micro_results.chartdate = '12/01/2000' ORDER BY micro_results.charttime ASC LIMIT 1
cbf01f06a75320ed354d25af,What was the first prescription for patient 10021118 since 17 months ago?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-17 month') ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': '5% Dextrose'}],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-17 month') ORDER BY prescriptions.startdate ASC LIMIT 1"
d1018384915acc94c4043e76,What medication was prescribed for the first time on the last hospital visit to patient 10036156?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Senna'}],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10036156 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1
b4ca4b338d97b7278100eed6,When was the last time when patient 10026354 was prescribed iso-osmotic sodium chloride and 0.9% sodium chloride (mini bag plus) at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'iso-osmotic sodium chloride' AND admissions.subject_id = 10026354 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '0.9% sodium chloride (mini bag plus)' AND admissions.subject_id = 10026354 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT MAX(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10026354 AND prescriptions.drug IN ('iso-osmotic sodium chloride', '0.9% sodium chloride (mini bag plus)') GROUP BY prescriptions.subject_id"
876c247db73f4411e78223a2,Retrieval of the top four most frequent outputs since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]",
5bf08c9869d070204f3790e2,When was the first time that in 05/2100 patient 10018423 was prescribed a medication via nu?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND prescriptions.route = 'nu' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nu' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '05/01/2000' AND chartevents.charttime < '06/01/2000' ORDER BY chartevents.charttime ASC LIMIT 1
e28ceb0ac6e10e4e5f14b4dd,What are the methods for taking ferrous sulfate (liquid)?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'ferrous sulfate (liquid)',[],
1ed10993a5584026aae83537,What was the last urea nitrogen lab value for patient 10002428 since 02/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-02' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND datetime(labevents.charttime) >= datetime('2002-01-01') ORDER BY labevents.charttime DESC LIMIT 1
f613480747542c410142b4ea,When was the last input time since 07/11/2100 for patient 10021487?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-11' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2117-03-09 14:20:00'}],
44f2c9be4fc4e3268e1c8ba0,What was the last time of patient 10019385 staph aureus swab microbiology test since 02/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND microbiologyevents.spec_type_desc = 'staph aureus swab' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'staph aureus swab' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('02/2100') ORDER BY chartevents.charttime DESC LIMIT 1
3c937ae915d99a3eb8b08241,How many patients were staying in neuro stepdown since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro stepdown' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
fd5726998d426a2fdca616fc,"Fetch the top three most frequent procedures that were administered to patients within 2 months after they had ileostomy, not otherwise specified.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime BETWEEN DATE_SUB(admissions.admittime, INTERVAL 2 MONTH) AND admissions.admittime AND procedures_icd.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%ileostomy not otherwise specified%' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
7817472ef455fc770676dced,How was patient 10020187 admitted in terms of admission type for the last time at the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10020187 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10020187 ORDER BY admissions.admittime DESC LIMIT 1
933c11a9ca710be4b2120713,Has patient 9038 ever experienced a side effect during a blood transfusion?,,,SELECT COUNT(*)>0 FROM transfusions WHERE transfusions.subject_id = 9038 AND transfusions.transfusion_type = 'Blood' AND transfusions.side_effect = 'Yes'
11a1a3c59f2b62a99f566f9f,Which are the top three most frequent output events since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
7c37ccb48483a3d417233092,Is patient 10018501's mcv last measured on the first hospital visit greater than the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (MAX(labevents.charttime) > MIN(labevents.charttime)) AND (labevents.valuenum > labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCV' )
c7cc1c1c0a6dfab998b9a573,"What is the maximum total hospital cost that includes a procedure named restriction of left internal carotid artery with intraluminal device, percutaneous approach since 2100?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'restriction of left internal carotid artery with intraluminal device, percutaneous approach' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(costs.totalcost) FROM costs WHERE costs.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT procedures_icd.subject_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'restriction of left internal carotid artery with intraluminal device, percutaneous approach' ) ) )"
08a1f3896026c957daada255,What's the average daily number of admissions for other specified coagulation defects in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified coagulation defects' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,SELECT avg(cnt) FROM ( SELECT count(*) AS cnt FROM admissions JOIN icd9 WHERE admissions.hadm_id = icd9.hadm_id AND icd9.icd9_code = '286.9' AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' GROUP BY admissions.admittime::date )
223c28432258577bfde7c6ee,Can you tell me when the first monocytes test of patient 10009049 was conducted in 06/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10009049 AND d_items.label LIKE '%monocytes%' AND chartevents.charttime >= '2022-06-01' AND chartevents.charttime < '2022-07-01' ORDER BY chartevents.charttime ASC LIMIT 1
9b4d962443aad38251f870a8,When did patient 10039831 have the maximum value of mean blood pressure for the last time on their current ICU encounter?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
9330e1bf456cb3ad13b7333e,Which are the five most commonly taken lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
6866d0c0c9db304d897bd1b8,What was the name of the organism that was found in the last microbiology test on patient 10007795's abscess?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'abscess' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.org_id FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.chartdate IN ( SELECT MAX(microbiologyevents.chartdate) FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'Abscess' ) AND microbiologyevents.spec_type_desc = 'Abscess'
20e39fab12a387f9a7fcce7e,List the top five diagnoses that have the highest 3-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(death_icd.icd_code) AS death_count, COUNT(death_icd.icd_code) / COUNT(diagnoses_icd.icd_code) * 100 AS mortality_rate FROM death_icd INNER JOIN diagnoses_icd ON death_icd.stay_id = diagnoses_icd.stay_id INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE death_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE discharge_diagnosis = 1 ) AND death_icd.dod BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 3 MONTH) GROUP BY d_icd_diagnoses.long_title ORDER BY mortality_rate DESC LIMIT 5"
499e4f8e7f92658595f68d33,"Has ondansetron, oxycodone liquid, or sodium chloride 0.9% been prescribed to patient 10020740?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.drug IN ( 'ondansetron', 'oxycodone liquid', 'sodium chloride 0.9%' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10020740 AND prescriptions.drug IN ('ondansetron', 'oxycodone liquid', 'sodium chloride 0.9%')"
438eaca992b625cafb55b6db,Give me the four most frequent procedures performed.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )","[{'long_title': 'Insertion of Infusion Device into Superior Vena Cava, Percutaneous Approach'}, {'long_title': 'Venous catheterization, not elsewhere classified'}, {'long_title': 'Central venous catheter placement with guidance'}, {'long_title': 'Other nonoperative respiratory measurements'}]","SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
daf529dca91ee00e8da51d58,What were the three most common tests conducted on specimens throughout this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],"SELECT d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.chartdate >= DATE('now', '-1 year') GROUP BY d_items.label ORDER BY count DESC LIMIT 3"
e22e5a88ca77a9f96af45fd7,How many patients underwent insertion of intercostal catheter for drainage during the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of intercostal catheter for drainage' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of intercostal catheter for drainage' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE() )"
8ff3fa3aa1d227c7f0860781,What are the four most frequent procedures for patients who are in their 20s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE patients.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 25 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 20 YEAR) GROUP BY d_icd_procedures.icd_code ORDER BY frequency DESC LIMIT 4"
91e430cc8aa46185aee7b418,"What is the minimum total hospital cost for a patient suffering from collapsed vertebra, not elsewhere classified, thoracic region, initial encounter for fracture in 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'collapsed vertebra, not elsewhere classified, thoracic region, initial encounter for fracture' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(totalcharges) FROM admissions INNER JOIN d_icd_diagnoses ON admissions.drg_code = d_icd_diagnoses.icd9_code WHERE d_icd_diagnoses.short_title = 'collapsed vertebra, not elsewhere classified, thoracic region, initial encounter for fracture' AND YEAR(admissions.admittime) = 2100"
b84f8bef2656a98e1a21f179,What is the percentile of 42.0 in the laboratory test with platelet count at the same age of patient 10000032 in the first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 42.0",,
975040b9662968e36fedac64,What were the five most common lab tests given?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 5"
dc8519f946507f8fe299e28d,How many patients left the hospital since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime('2100-01-01')
7d3ded586776af8013c94a0f,"For patient 10018081, how many days have passed since the last diagnosis with urinary tract infection, site not specified on this hospital encounter?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'urinary tract infection, site not specified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), MAX(admissions.admittime)) FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10018081 AND diagnoses_icd.icd_code = 'N10'"
c010215bbebd2aff0b853669,Calculate how many patients were in psychiatry in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'psychiatry' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
f9a927c46dab94fac56cd983,What is the name of the treatment given to patient 10038081 two or more times since 07/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-07' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.charttime >= '07/01/2010' AND chartevents.itemid IN ( SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.charttime >= '07/01/2010' GROUP BY chartevents.itemid HAVING COUNT(*) >= 2 ) LIMIT 1
2b9a9c55cdacdabc16a4f556,When last did patient 10008454 have the minimum systolic blood pressure since 38 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-38 day') ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT MIN(chartevents.valuenum), chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid = 51, chartevents.charttime >= CURRENT_DATE - 38 ORDER BY chartevents.charttime DESC LIMIT 1"
b60fe48723590c9d8172f6c7,Tell me the time when patient 10020187's mean blood pressure was less than 91.0 for the first time on 02/03/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 91.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '02-03' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' ) AND chartevents.valuenum < 91.0 AND chartevents.charttime >= '02/03/2023' ORDER BY chartevents.charttime ASC LIMIT 1
b6d9cd67e22e2ef748217cd1,"In patients who had the extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic since 2100, what were the four most common diagnoses that followed during the same month?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as count FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN chartevents ON icustays.stay_id = chartevents.stay_id INNER JOIN d_icd_diagnoses ON admissions.drg_code = d_icd_diagnoses.icd_code WHERE chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND chartevents.charttime >= '2100-01-01' AND chartevents.charttime < '2100-02-01' GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 4"
b30404be1d0cdffef60e38c6,"In 08/2100, when did patient 10021312 last receive a creatinine test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y-%m',labevents.charttime) = '2100-08' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Creatinine' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2008-01-01 00:00:00' AND '2008-12-31 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
f95edd83ff3d509561310e88,How many days have it been since patient 10021487 had received a mch laboratory test during this hospital visit for the first time?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT DATEDIFF(current_date, MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mch' AND d_items.linksto = 'chartevents' )"
347ab7a4fae1946384a4e79f,What is the maximum total hospital cost which involves (aorto)coronary bypass of four or more coronary arteries since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = '(aorto)coronary bypass of four or more coronary arteries' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
e7d4c4eea0ceb55fc4a7b51f,"During this hospital visit has iso-osmotic sodium chloride, lactated ringers, or metronidazole (flagyl) been prescribed for patient 10018081?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND prescriptions.drug IN ( 'iso-osmotic sodium chloride', 'lactated ringers', 'metronidazole (flagyl)' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.drug IN ('iso-osmotic sodium chloride', 'lactated ringers', 'metronidazole', 'flagyl')"
7acfb197a239ef58e7f08525,When patient 9619 is scheduled for the earliest hospital visit?,,,SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 9619 ORDER BY admissions.admittime ASC LIMIT 1
52ab9f0636d7c7efa44fbe81,"Since 2100, what were the top three most common specimens tested on patients during the same month after the diagnosis of polyneuropathy, unspecified?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'polyneuropathy, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.charttime,chartevents.hadm_id,chartevents.itemid FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.label = 'specimen sent to microbiology' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT icustays.subject_id FROM icustays JOIN diagnoses_icd ON icustays.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'G65.9' ) ) AND datetime(chartevents.charttime) >= datetime('2010-01-01') AND datetime(chartevents.charttime) <= datetime('2010-12-31') GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 3"
3b5a20289fcb449af1962529,Can you tell me the name of the output patient 10018081 had for the first time today?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND datetime(outputevents.charttime,'start of day') = datetime(current_time,'start of day','-0 day') ORDER BY outputevents.charttime ASC LIMIT 1 )",[],"SELECT chartevents.valtext FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' ) AND chartevents.charttime >= DATE_FORMAT(CURRENT_TIMESTAMP, '%Y-%m-%d 00:00:00') ORDER BY chartevents.charttime ASC LIMIT 1"
adfe9182219ecbbfa21f841f,Tell me the name of the output patient 10004235 had for the first time on 03/24/this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '03-24' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],SELECT chartevents.displayvalue FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.charttime >= '03/24/this year' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Output' ) ORDER BY chartevents.charttime ASC LIMIT 1
2021b8d65fd7fd080d685ca4,Was patient 10029484 tested in the 25-oh vitamin d lab in the last month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '25-oh vitamin d' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '25-oh vitamin d' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 month')"
9bcb25bfb75bf11f00162db1,What was the dose of lactated ringers that last month patient 10006053 was last prescribed?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND prescriptions.drug = 'lactated ringers' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT inputevents_cv.DOSE FROM inputevents_cv WHERE inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Lactated Ringer' AND d_items.linksto = 'inputevents_cv' ) AND inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND datetime(inputevents_cv.starttime) >= datetime(current_time,'-1 month') ORDER BY inputevents_cv.starttime DESC LIMIT 1"
612351f75cf9c16873706c46,Show me the total amount of patient 10039831's output since 05/30/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-05-30'",[{'SUM(outputevents.value)': 6680.0}],
224951a256954e9d3b39076e,Has patient 10022281 undergone any laboratory tests in 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND strftime('%Y',labevents.charttime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND YEAR(labevents.charttime) = 2100
8de008a99045692b6c9079bb,What were the top five most often performed treatments for patients in their 30s since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_cpt.cpt_code_desc, COUNT(*) FROM d_cpt JOIN procedures_cpt ON d_cpt.cpt_code = procedures_cpt.cpt_code JOIN admissions ON procedures_cpt.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time,'-1 year') AND admissions.subject_id IN ( SELECT subject_id FROM patients WHERE patients.dob BETWEEN datetime('1972-01-01') AND datetime('1982-12-31') ) GROUP BY d_cpt.cpt_code_desc ORDER BY COUNT(*) DESC LIMIT 5"
37919d0f8db2140219307c6f,Have patient 14990 an appointment in another department?,,,
f6b867f588ae42e84d410450,What are the three most often performed treatments for patients aged 60 or above since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_cpt.cpt_description, COUNT(*) AS frequency FROM procedures_cpt INNER JOIN d_cpt ON procedures_cpt.cpt_cd = d_cpt.cpt_cd INNER JOIN admissions ON procedures_cpt.hadm_id = admissions.hadm_id WHERE admissions.admit_dt >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND admissions.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR) GROUP BY d_cpt.cpt_description ORDER BY frequency DESC LIMIT 3"
2add4b6f52a7f92255a99795,Could you list patient 10021938's daily average weight since 07/2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-07' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT DATE(chartevents.charttime), AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '07/01/2010' GROUP BY DATE(chartevents.charttime)"
ee344b98a4a7a22b3443b8a1,When was the first time that patient 10014729 has been prescribed ketorolac and sodium bicarbonate at the same time since 16 months ago?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ketorolac' AND admissions.subject_id = 10014729 AND datetime(prescriptions.starttime) >= datetime(current_time,'-16 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'sodium bicarbonate' AND admissions.subject_id = 10014729 AND datetime(prescriptions.starttime) >= datetime(current_time,'-16 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(orderitems.startdate) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN orders ON admissions.hadm_id = orders.hadm_id JOIN orderitems ON orders.order_id = orderitems.order_id WHERE patients.subject_id = 10014729 AND ((orderitems.ndc = (SELECT ndc FROM d_items WHERE label = 'ketorolac') AND orderitems.ordercategoryname = 'Medication') OR (orderitems.ndc = (SELECT ndc FROM d_items WHERE label = 'sodium bicarbonate') AND orderitems.ordercategoryname = 'Medication')) AND datetime(orderitems.startdate) >= datetime(current_time,'-16 month')"
7ebc983b2a055bd196b0257b,Tell me the average total hospital cost that involves hydrocerin in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'hydrocerin' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(costs.total_charges) FROM costs JOIN d_icd_procedures ON costs.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%hydrocerin%' AND costs.hospitalyear = 2100
07bde541ff2932869ecb4912,How many doses of omeprazole have been prescribed to patient 10023117 on the last hospital encounter?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'omeprazole',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10023117 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'omeprazole'
cbe81158af8ca0c5186959f0,Tell me the five most common lab tests since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE('2100-01-01') GROUP BY labevents.itemid ORDER BY test_count DESC LIMIT 5"
53fbf62aeeffb338f67df6cc,Tell me the price of trimethoprim.,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'trimethoprim' ),,
d73922f383164918bb919ccd,How many current patients fall into the 30s age group?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 30 AND 39,,
70419e78d304638558059cf9,"When was the first time patient 10005817, since 12/02/2100, had the maximum systolic blood pressure?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-12-02' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic BP' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('12/02/2100') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
41d43a2f58e87c8f4d88b801,What are the top four common microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}]","SELECT d_microbiology_test_results.test_name, COUNT(*) AS count FROM microbe_results JOIN d_microbiology_test_results ON microbe_results.microcode = d_microbiology_test_results.microcode WHERE microbe_results.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_microbiology_test_results.test_name ORDER BY count DESC LIMIT 4"
d6b7b3ab6732956bc3e0fc24,How many hours have passed since patient 10021487 got his first diagnosis of acidosis on this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acidosis' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT TIMESTAMPDIFF(HOUR, admissions.admittime, ( SELECT MIN(admissions.admittime) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%acidosis%' ) AND diagnoses_icd.hadm_id = admissions.hadm_id )) FROM admissions WHERE admissions.subject_id = 10021487"
02cf1de606c045cf18e72370,What does it cost to get esophageal obstruction diagnosed?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophageal obstruction' ) ),,
4202b117d324f6285ecaf255,How many hours have elapsed since patient 10004733's first stay in the careunit medical/surgical intensive care unit (micu/sicu) during their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT julianday(MAX(chartevents.charttime)) - julianday(MIN(chartevents.charttime)) AS time_elapsed_hours FROM icustays INNER JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.intcunit = 'MICU/SICU'
dcefbced3548a05ff203d8a9,Count the number of hospital visits that patient 10027602 had in 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10027602 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.admittime LIKE '2100%'
56f862020ab17a92aac5b864,When did patient 10027602 get input for the first time since 06/13/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-13' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2201-10-30 12:08:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND chartevents.charttime > '06/13/2100' ORDER BY chartevents.charttime ASC LIMIT 1
bf9ce789f4d2ca8fc80ad3e1,Can you tell which medicine was first prescribed to patient 10027445 via the ih method in 08/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.route = 'ih' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.drug, prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10027445 AND prescriptions.route = 'IH' AND prescriptions.startdate >= '2023-08-01' AND prescriptions.startdate < '2023-09-01' ORDER BY prescriptions.startdate ASC LIMIT 1"
62c407ce4b823a8f721bf1b5,What are the five most regularly ordered treatments for patients previously diagnosed with injury to thoracic aorta within the same month in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'injury to thoracic aorta' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '433.%' AND MONTH(chartevents.charttime) = MONTH(CURRENT_DATE) AND YEAR(chartevents.charttime) = 2100 GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
26d017535d48be13b43f72f2,What were the top five most frequent microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test, COUNT(*) AS frequency FROM ( SELECT CASE WHEN itemid = 50782 THEN 'blood culture' WHEN itemid = 50783 THEN 'urine culture' WHEN itemid = 50784 THEN 'throat swab' WHEN itemid = 50785 THEN 'stool culture' WHEN itemid = 50786 THEN 'sputum culture' ELSE 'other' END AS test FROM microbiologyevents ) AS subquery GROUP BY test ORDER BY frequency DESC LIMIT 5"
3b9849548e56c59f768d5447,Tell me the minimum respiratory rate in patient 10021118 in the first ICU visit.,SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ),[{'MIN(chartevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.admittime <= ( SELECT icustays.intime FROM icustays WHERE icustays.subject_id = 10021118 ORDER BY icustays.intime ASC LIMIT 1 ) ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' ) AND chartevents.valuenum IS NOT NULL
d6c3eb4c10881ccf9ced74ae,Give me the three most frequent procedures performed.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Insertion of Infusion Device into Superior Vena Cava, Percutaneous Approach'}, {'long_title': 'Venous catheterization, not elsewhere classified'}, {'long_title': 'Other nonoperative respiratory measurements'}]","SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
17940d37a58d13908074e9d2,How often did patient 10007795 go to the ICU in 2100?,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y',icustays.intime) = '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 0}],
4d64d12fe14c8c3ed4e3f73f,Has patient 10039831 got a lab test since 05/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-05'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(labevents.charttime) >= '05/2100-01-01'
ae5ec3820a0b5ba66f56bc5a,"What is the total number of patients who underwent drainage of pericardial cavity with drainage device, percutaneous approach in 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity with drainage device, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity with drainage device, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 0 AND admissions.disch_year = 2100 )"
51c4e6f08f5029501e961a4a,When did patient 10009628 receive an input for the first time on 10/02/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '10-02' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT inputevents_mv.inputtime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND DATE(inputevents_mv.inputtime) = '2023-10-02' ORDER BY inputevents_mv.inputtime ASC LIMIT 1
42e82e626162ecd5abe81360,Can you tell me when patient 10016742 had their first rapid respiratory viral screen & culture microbiology test in 08/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND microbiologyevents.spec_type_desc = 'rapid respiratory viral screen & culture' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%rapid respiratory viral screen & culture%' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('2023-08-01') AND datetime(chartevents.charttime) < datetime('2023-09-01')
7b319dcf4efec30297a50d9b,How many patients were given ezetimibe since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ezetimibe' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 2}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'ezetimibe' AND datetime(prescriptions.startdate) >= '2100-01-01'
a803aa24d51a01da7f6a534e,"Since 2100, how many arteriography of cerebral arteries procedures were there?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of cerebral arteries' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of cerebral arteries' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' )
f42f69255942463a3df596bb,What was the name of the output that patient 10038999 had last since 05/19/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-05-19' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
20b78d286ce05435b56b849f,What was patient 10026354's first measurement for arterial blood pressure diastolic since 06/24/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-06-24' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > '2000-06-24' ORDER BY chartevents.charttime ASC LIMIT 1
821e3fe48e8557a30caa67cf,What is the checklist you should prepare prior to having destruct chest wall les?,,,
9bbd99cc180d65878b372ad9,Could you tell me the top three most common procedures for patients aged 30s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS occurrences FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' AND admissions.dob BETWEEN '1970-01-01' AND '1979-12-31' GROUP BY d_icd_procedures.long_title ORDER BY occurrences DESC LIMIT 3"
2a505caf854db532714351f3,At what time did the first incident of patient 10006053 having a maximum mean blood pressure occur on last month/16?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '16' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.label LIKE '%mean blood pressure%' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month') AND datetime(chartevents.charttime) <= datetime(current_time,'-1 month','+1 day') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
69662f679dde3d8d7bc6490c,Tell me the difference in the respiratory rate value for patient 10007058 second measured on the last ICU visit compared to the first value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH RECURSIVE first_last AS (SELECT chartevents.charttime AS charttime, chartevents.valuenum AS valuenum, ROW_NUMBER() OVER (PARTITION BY icustays.stay_id ORDER BY chartevents.charttime) AS row_num FROM chartevents JOIN icustays ON icustays.stay_id = chartevents.stay_id WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory rate' AND d_items.linksto = 'chartevents') ORDER BY chartevents.charttime) SELECT first_last.valuenum - first_last.valuenum AS difference FROM first_last WHERE first_last.row_num = 1 AND (SELECT first_last.row_num FROM first_last WHERE first_last.row_num = 2)"
e443e032271f916c3381b735,When is the earliest next hospital visit of patient 73652?,,,SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 73652
d062f51ae3bd2b4a5b501051,Give me the five most common treatments since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT icustays.stay_id, icustays.hadm_id, patients.subject_id FROM icustays INNER JOIN patients ON patients.subject_id = icustays.subject_id WHERE icustays.intime > '2100-01-01 00:00:00' ORDER BY icustays.intime LIMIT 5"
ae5fdb3772ef4280f5cbd7d8,When was the first time that patient 10027602 on last month/29 had a heart rate that was less than 105.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 105.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '29' ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10027602 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'HeartRate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN datetime(current_time,'-1 month','-29 day') AND datetime(current_time,'-1 month','-1 day') AND chartevents.valuenum < 105 ORDER BY chartevents.charttime ASC LIMIT 1"
58dca5f1f34e6a0994b147eb,When was the last time the heart rate of patient 10005909 was measured to be less than 106.0 since 04/04/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 106.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-04-04' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10005909 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum < 106.0 AND datetime(chartevents.charttime) < datetime('04/04/2100') ORDER BY chartevents.charttime DESC LIMIT 1
1d938ae21a7a7d593616d380,Can you tell me the total volume of chest tube #1 output for patient 10035185 since 04/17/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chest tube #1' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-17'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%chest tube %1 output%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2000-04-17 00:00:00'
1d5e1f6694e66a38eb9d48b3,Tell me the total number of patients who were diagnosed with open fracture of shaft of femur since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'open fracture of shaft of femur' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'open fracture of shaft of femur' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' )
c243f4fb931374310bdb207c,When did patient 10037928 have the first minimum sodium value in 11/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) AND strftime('%Y-%m',labevents.charttime) = '2100-11' ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'SODIUM' ) AND labevents.charttime BETWEEN '11/1/2000' AND '11/30/2000' ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1"
4e2be276b6289a600da28a19,"Has patient 10021312 had a inspection of tracheobronchial tree, via natural or artificial opening endoscopic since 2100?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND procedures_icd.chartdate >= '2100-01-01'"
2b2758c78e28d13baca5b743,Can you show me the top three most frequent lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]",
22b41e8ee0723aa4a6acf31c,What is the hospital's minimum total cost that involved a procedure called endovascular (total) embolization or occlusion of head and neck vessels since 1 year ago?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endovascular (total) embolization or occlusion of head and neck vessels' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(costs.total_cost) FROM costs WHERE costs.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') ) AND costs.costid IN ( SELECT procedure_costs.costid FROM procedure_costs WHERE procedure_costs.procedure_id IN ( SELECT d_procedures.procedure_id FROM d_procedures WHERE d_procedures.procedure_name = 'Endovascular (total) embolization or occlusion of head and neck vessels' ) )"
0577ee51b3ad3c9fcf8fbbae,What is the average value of oxygen in patient 10014729's body in 03/this year?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'oxygen' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '03'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%oxygen%' ) AND chartevents.charttime BETWEEN '2022-03-01' AND '2022-03-31'
db398e1ac2a8d286cc4b53bb,"What is the minimum total cost of a hospital stay involving adverse effect of unspecified antiepileptic and sedative-hypnotic drugs, initial encounter?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'adverse effect of unspecified antiepileptic and sedative-hypnotic drugs, initial encounter' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(admissions.total_cst) FROM admissions WHERE admissions.icd9_code IN ( SELECT icd9proc.icd9 FROM icd9proc WHERE icd9proc.short_title = 'Adverse effect of unspecified antiepileptic and sedative-hypnotic drugs, initial encounter' )"
a0d612dc021f06119cd82641,"When was the first time patient 10021487, on this month/12, had the maximum mean blood pressure?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '12' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = DATE(current_date,'-11 month') ORDER BY chartevents.valuenum DESC LIMIT 1"
48ce377b6362c251e67e2e6b,What are the top five most frequently performed procedures for patients who are 20s since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime >= datetime(current_time, '-1 year') AND admissions.anchor_age BETWEEN 20 AND 29 GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
c4fbaf36df80d6e9685e37c1,When was the last time patient 10021312 had a medication prescribed via the vg route since 5 months ago?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.route = 'vg' AND datetime(prescriptions.starttime) >= datetime(current_time,'-5 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT presc.charttime FROM prescriptions AS presc WHERE presc.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND presc.route = 'VG' AND datetime(presc.charttime) >= datetime(current_time,'-5 month') ORDER BY presc.charttime DESC LIMIT 1"
7e6b0e29fe9f32760b7fcfc5,Tell me the name of the organism found in patient 10016742's last bronchial washings microbiology tests?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND microbiologyevents.spec_type_desc = 'bronchial washings' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT micro_specimen.org_name FROM micro_specimen WHERE micro_specimen.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND micro_specimen.spec_type_desc = 'Bronchial Wash' ORDER BY micro_specimen.chartdate DESC LIMIT 1
2ec6cb1efc895f9201b5cf60,How many days have elapsed since the first time during their current hospital visit patient 10021487 got a other lab test?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'other' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(DAY, MIN(chartevents.charttime), CURDATE()) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label = 'other lab test')"
6bac631eb4407c64590d6679,What was the name of the first medication that was prescribed to patient 10004720 since 02/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Heparin'}],SELECT MIN(medication.name) FROM medication INNER JOIN patients ON medication.patient_id = patients.patient_id WHERE patients.patient_id = 10004720 AND medication.date_prescribed >= '2021-02-01'
1fae11bc2be174f27630c683,Was patient 10026255 to the emergency room in the last year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026255 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026255 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
2f74275a2c13953fc65e324f,Count the number of medicines that have been prescribed to patient 10007928 since 03/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)': 69}],SELECT COUNT(DISTINCT medications.medication) FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND medications.charttime >= '2000-03-01'
e382d74ae3fcbc0d1ca3a625,When did patient 10007928 first get blood culture ( myco/f lytic bottle)'s microbiology test since 02/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND microbiologyevents.spec_type_desc = 'blood culture ( myco/f lytic bottle)' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'blood culture (myco/f lytic bottle)' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('02/2100')
fe6a7a8b896a7b2e6cd69e64,I need the total volume of input for patient 10038999 on 06/03/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-06-03'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.subject_id = 10038999 AND chartevents.charttime BETWEEN '06/03/2100 00:00:00' AND '06/03/2100 23:59:59' AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Input' )
5e75262ac3a25d12e75712dc,So how many days has passed since patient 10004733's first pneumonitis due to inhalation of food or vomitus diagnosis on their current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pneumonitis due to inhalation of food or vomitus' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), admissions.admittime) FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = 'J69.0')"
6fb281ee6d2d6ec101b35dc4,Show me the top three most frequent drugs that patients were prescribed within the same hospital visit after being diagnosed with hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts) throughout this year.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts)' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT drug_name, COUNT(*) as frequency FROM prescriptions INNER JOIN diagnoses ON prescriptions.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code = (SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%hypertrophy (benign) of prostate without urinary obstruction%' OR long_title LIKE '%lower urinary tract symptom (luts)%') AND prescriptions.chartdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') GROUP BY drug_name ORDER BY frequency DESC LIMIT 3"
a8f5c987ca37c40bc1eac5cc,Could you inform me of the minimum vitamin b12 value for patient 10021666?,SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'vitamin b12' ),[{'MIN(labevents.valuenum)': None}],SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'vitamin b12' )
34586824e9cd0af359187e34,When are dr. williams's rounds and procedures?,,,
76898a2087c25f36caa4339c,What was the last output since 06/24/2100 for patient 10016742?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-24' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
103e589c49e80280c9f04475,When was the time of patient 10022017's first hospital discharge?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY admissions.dischtime ASC LIMIT 1,[{'dischtime': '2189-09-16 15:00:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY admissions.admittime ASC LIMIT 1
ce4f4d6348cd296c4415f38c,When did patient 10000032 receive a mrsa screen microbiology test for the first time since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa%' AND d_items.linksto = 'microbiologyevents' ) AND chartevents.charttime >= '03/2100' ORDER BY chartevents.charttime ASC LIMIT 1
d1054cc1b2ffa4b3b7000b34,What was patient 10007058's first tested specimen in 11/this year?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '11' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2023-11-01' AND chartevents.charttime < '2023-12-01' ORDER BY chartevents.charttime ASC LIMIT 1
7c43cec9b8ce603b7b6a81b1,"Since 07/06/2100, when did patient 10036156 receive an input for the first time?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-06' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2157-07-01 05:00:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime >= '2100-06-07' ORDER BY chartevents.charttime ASC LIMIT 1
ae413e6191c531e7f585a405,Has patient 10021312 been provided any medications since 2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND datetime(medications.starttime) >= '2100-01-01 00:00:00'
8db3a499f8e4f04b7f55b1a4,What procedure was given to patient 10005909 two times during the last month?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-1 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT d_procedures.procedure_name FROM d_procedures JOIN procedures ON d_procedures.procedure_id = procedures.procedure_id WHERE procedures.subject_id = 10005909 AND datetime(procedures.procedure_datetime) >= datetime(current_date,'-1 month') GROUP BY d_procedures.procedure_name HAVING COUNT(*) = 2"
7e3ec87fbaccb0f0ab6de255,When did patient 10018845 get input for the first time?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) ORDER BY inputevents.starttime ASC LIMIT 1,[{'starttime': '2184-10-08 05:03:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) ORDER BY chartevents.charttime ASC LIMIT 1
55f66285eac844245d46c2a6,When was the first hospital discharge time for patient 10007058?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10007058 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2167-11-11 14:23:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10007058 ORDER BY admissions.dischtime ASC LIMIT 1
654bb26fa8a99fc375bca767,Calculate the total volume of input by patient 10020740 on 04/07/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-04-07'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.value) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10020740 AND d_items.category = 'Input' AND chartevents.charttime BETWEEN '04/07/2100 00:00:00' AND '04/07/2100 23:59:59'
d5306618a151094326d339bc,What was the total foley volume that patient 10026354 had since 10/04/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-04'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley volume' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2000-10-04'
362416f9fea1bf8466b44a48,Tell me the top three most frequently tested specimens in 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospstay_seq = 2100 ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
a5137665c5ab5a44b8006d8e,What is the minimum total hospital cost that includes a procedure called laparoscopic partial cholecystectomy?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic partial cholecystectomy' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(total_cost) FROM ( SELECT SUM(item_cost) as total_cost FROM admissions JOIN ( SELECT admissions.hadm_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic partial cholecystectomy' ) ) as laparoscopic_partial_cholecystectomy ON admissions.hadm_id = laparoscopic_partial_cholecystectomy.hadm_id JOIN chargesteps ON admissions.hadm_id = chargesteps.hadm_id ) as total_hosp_costs
937063660ee9c96fa16dd7f5,Calculate the number of people who had other and unspecified pneumonectomy in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other and unspecified pneumonectomy' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,
dbd23b051c5c2e2ce67a439b,Tell me the five most frequent treatments for patients aged 60 or above.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT c.treatment, COUNT(*) AS frequency FROM (SELECT DISTINCT subject_id, treatment FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN datetime('now', '-1 year') AND datetime('now') AND admissions.dob <= datetime('now', '-60 years')) AS c GROUP BY c.treatment ORDER BY frequency DESC LIMIT 5"
bf6f9f9621257cc2c12df1dc,When did patient 10038999 have the mesothelial cells lab test for the first time in 06/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mesothelial cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND strftime('%Y-%m',labevents.charttime) = '2100-06' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mesothelial cells' ) AND chartevents.charttime BETWEEN '2006-01-01' AND '2006-12-31' ORDER BY chartevents.charttime ASC LIMIT 1
1936469b953a861d9b26f745,What's the maximum total hospital cost that involved alcohol detoxification?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(costs.total_charged) FROM costs JOIN d_icd_diagnoses ON costs.subject_id = d_icd_diagnoses.subject_id WHERE d_icd_diagnoses.short_title LIKE '%alcohol detox%' OR d_icd_diagnoses.long_title LIKE '%alcohol detox%'
ac29c708a74c9c79fcbab164,Count the number of current patients who are in their 30s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 30 AND 39,,
a11042428c7092cce5896974,Is the o2 saturation pulseoxymetry level of patient 10020187 second measured on the first ICU visit greater than the first measurement on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (chartevents.valuenum) FILTER (WHERE chartevents.charttime = (SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187))) > (chartevents.valuenum) FILTER (WHERE chartevents.charttime = (SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187)))) FROM chartevents WHERE chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%O2 Saturation Pulseoxymetry%' AND d_items.linksto = 'chartevents') AND chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187))
b9e7f10e8737b4fd67bc29db,Calculate the number of medicines that patient 10010471 was prescribed since 13 months ago.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-13 month')",[{'COUNT(*)': 119}],"SELECT COUNT(DISTINCT pharmacy.events.itemid) FROM pharmacy.events INNER JOIN admissions ON pharmacy.events.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10010471 AND pharmacy.events.charttime >= DATE_SUB(CURDATE(), INTERVAL 13 MONTH)"
398270a5b400092bfc10afcb,When did patient 10018081 first have the minimum amount of base excess in the current hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'base excess' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'base excess' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1"
a14b794e12f6637f98c72ade,"Among patients aged 40s , what are the top three most common diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM admissions JOIN d_icd_diagnoses ON admissions.icd9_code = d_icd_diagnoses.icd9_code WHERE admissions.admittime BETWEEN '1900-01-01' AND '2100-12-31' AND admissions.dob BETWEEN '1960-01-01' AND '1970-12-31' GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 3"
49bd4300b2e50aa508c70a40,"For patients who were previously diagnosed with fall resulting in striking against other object, what are the top four most frequent treatments in the same month since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'fall resulting in striking against other object' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT treatments.treatment_name, COUNT(*) AS frequency FROM treatments JOIN admissions ON treatments.hadm_id = admissions.hadm_id JOIN diagnoses ON admissions.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'Fall resulting in striking against other object' ) AND datetime(treatments.charttime) >= datetime(current_time,'-1 year') AND treatments.charttime <= admissions.admittime + INTERVAL 1 MONTH GROUP BY treatments.treatment_name ORDER BY frequency DESC LIMIT 4"
7fd1121ddb007a49e5ed2f4c,How much was the difference in weight of patient 10029291 measured at 2100-03-07 03:00:00 compared to the value measured at 2100-03-05 00:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-07 03:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-05 00:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-07 03:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-05 00:00:00' )"": None}]",SELECT abs(chartevents.valuenum - chartevents2.valuenum) FROM chartevents JOIN chartevents AS chartevents2 ON chartevents.subject_id = chartevents2.subject_id WHERE chartevents.subject_id = 10029291 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) AND chartevents2.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) AND chartevents.charttime = '2100-03-07 03:00:00' AND chartevents2.charttime = '2100-03-05 00:00:00'
ecaacdc4fbb0dd2635df78f1,Tell me the total foley output of patient 10018081 on this month/30.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '30'",[{'SUM(outputevents.value)': None}],"SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.subject_id = 10018081 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Foley output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN DATE_FORMAT(NOW(), '%Y-%m-01') AND DATE_FORMAT(NOW(), '%Y-%m-%d')"
cf44316ed6f26cdb2af0efb9,Could you tell me the average total cost in a hospital where tramadol (ultram) is used since 1 year ago?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'tramadol (ultram)' ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescription.hadm_id FROM prescription WHERE prescription.drug = 'tramadol (ultram)' ) AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
47f5715cbbaf2be1e8505994,When was the first time in which patient 10039831 had the minimum respiratory rate since 253 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-253 day') ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-253 day') ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
d8f365a561e69cca2b2fea83,What was the first polys reading in 06/2100 for patient 10007818?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'polys' ) AND strftime('%Y-%m',labevents.charttime) = '2100-06' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'polys' ) AND chartevents.charttime LIKE '2021-06%' ORDER BY chartevents.charttime ASC LIMIT 1
fc4da0d8a328e76fa47d035f,What percentile is the value of 32.0 in asparate aminotransferase (ast) among patients of the same age as patient 10039997 on the first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10039997 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 32.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY labevents.hadm_id) FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND admissions.subject_id = 10039997 AND labevents.charttime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10039997 )
cd81a8fa98d2679535f3372d,How many times did patient 10023239 go to the hospital this year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10023239 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.admittime >= date('now', 'start of year')"
7b61d39dc6064005d5fe1b91,What are five of the most frequent specimens taken in this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid,chartevents.valuenum FROM chartevents WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.itemid ORDER BY count(*) DESC LIMIT 5"
c4342f86b05d451aef82a90f,When and where are the rounds and procedures of dr. sullivan?,,,
76752df29fef2ffe6127c97b,Was patient 10040025's chloride last measured on the last hospital visit greater than the value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (MAX(valuenum) > MIN(valuenum)) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' )
4a52128ae4a63ad0dc8d6410,What are the top three diagnoses associated with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT diagnosis, COUNT(*) AS death_count, (COUNT(*) / (SELECT COUNT(*) FROM patients WHERE patients.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(admissions.admittime, INTERVAL 3 MONTH))) * 100.0) AS mortality_rate FROM ( SELECT patients.subject_id, patients.hadm_id, diagnoses_icd.icd_code AS diagnosis, patients.dod FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE patients.dod BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 3 MONTH) ) AS deaths JOIN diagnoses_icd ON deaths.icd_code = diagnoses_icd.icd_code GROUP BY diagnosis ORDER BY mortality_rate DESC LIMIT 3"
ed72f24083966a774f22b122,What was the name of the output that patient 10031757 got first since 06/05/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-05' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR EBL'}],
d7f6b7afdf1779d271fed4bc,What is the total count of patients who stayed in careunit med/surg/gyn during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/gyn' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= datetime('now', 'start of year') AND admissions.dischtime <= datetime('now', 'end of year') AND admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.icustay_id IN ( SELECT careunits.icustay_id FROM careunits WHERE careunits.careunit IN ('MED/SURG/GYN') ) )"
3df956fea1348d1046fdd09d,When are dr. oneill's rounds and procedures?,,,
9b96ce996e808fd4f87d1eee,What was the total tf residual output in patient 10020944 in their first ICU visit?,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tf residual' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tf residual' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_careunit IS NOT NULL AND icustays.first_wardid IS NOT NULL )
5f192a749e3dc5e91eff2fd7,The value of mch of patient 10004733 was last measured on the current hospital visit greater than second to last measured on the current hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (max(chartevents.valuenum) OVER (ORDER BY chartevents.charttime DESC ROWS BETWEEN 1 PRECEDING AND 0 FOLLOWING)) - (max(chartevents.valuenum) OVER (ORDER BY chartevents.charttime DESC ROWS BETWEEN 2 PRECEDING AND 1 FOLLOWING)) > 0 AS difference FROM chartevents WHERE chartevents.subject_id = 10004733 AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'MCH')
fc46ccfbdac692e517e9d7fe,What is the cost for the medicine metformin (glucophage)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'metformin (glucophage)' ),,
0f2f3ef0fa1e36d951c5a42f,What was patient 10007818's weight the last time it was measured since 8 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-8 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-8 month') ORDER BY chartevents.charttime DESC LIMIT 1"
3472f6614f855a1f74a08298,Has patient 10005866 been admitted to the emergency room since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 0}],
f0ed8bc2f755ef37eb17af6e,Did patient 10021938 receive any surgery on their last hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM surgeries WHERE surgeries.subject_id = 10021938 AND surgeries.hadm_id IN ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10021938 )
9de280a78a2a5c2a9872c3b4,What was the name of the organism that was found in the first microbiology test on patient 10037861's urine since 08/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbes.org_name FROM microbes JOIN microbiologyevents ON microbes.micro_id = microbiologyevents.micro_id WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.chartdate) >= datetime('08/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
16db3d465f88c900b68652e7,Can you tell me the first time patient 10018081 had a SaO2 that was less than 98.0 since 354 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 98.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-354 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SpO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 98 AND datetime(chartevents.charttime) >= datetime(current_time,'-354 days') ORDER BY chartevents.charttime ASC LIMIT 1"
cbb2aecba43342d92debc795,What is the dosage of an opioid given to patient 21110?,,,
f691d2a9bc22649ae9adddac,"What is the average total cost of a hospital that includes a procedure called fluoroscopy of superior vena cava using other contrast, guidance throughout this year?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of superior vena cava using other contrast, guidance' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(costs.totalcharges) FROM costs WHERE costs.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospid IN ( SELECT hospitals.hospid FROM hospitals WHERE hospitals.hospid IN ( SELECT procdetail.hospid FROM procdetail WHERE procdetail.icd9cm LIKE '%fluoroscopy%' AND procdetail.procnote LIKE '%superior vena cava%' AND procdetail.procnote LIKE '%contrast%' AND procdetail.procnote LIKE '%guidance%' ) ) ) AND costs.chartdate >= '2021-01-01' AND costs.chartdate < '2022-01-01'
47a339f3ee10d0098dafc8bd,Has patient 10038992 received a laboratory test since 08/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-08'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND datetime(labevents.charttime) >= datetime('08/2100')
e4c2baa72dfc40ca402c8ebc,Is patient 10018081's heart rate last measured on the current ICU visit less than the second to last value measured on the current ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (last_value.chartvalue < second_last_value.chartvalue) FROM (SELECT chartevents.charttime, chartevents.valuenum, chartevents.charttime AS last_charttime FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid = 211 AND chartevents.valuenum IS NOT NULL ORDER BY chartevents.charttime DESC LIMIT 1) AS last_value, (SELECT chartevents.charttime, chartevents.valuenum, chartevents.charttime AS second_last_charttime FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid = 211 AND chartevents.valuenum IS NOT NULL ORDER BY chartevents.charttime DESC LIMIT 1, 1) AS second_last_value"
7ba5a831808e4e5851837fe5,Count the number of patients who were discharged.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(DISTINCT subject_id) FROM admissions WHERE discharge_status = 1
5969b3f1a95b57d848d81e86,What was the organism found in the last microbiology test done on the patient 10008454's urine since 10/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.subject_id = 10008454 AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.chart_date) > datetime('10/2100') ORDER BY microbiologyevents.chart_date DESC LIMIT 1
7e56a0516c482d121cd99bc1,Has there been any organism observed in patient 10021118's last staph aureus swab microbiology test since 1 year ago?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND microbiologyevents.spec_type_desc = 'staph aureus swab' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10021118 AND microbiologyevents.org_itemid != 0 AND microbiologyevents.spec_itemid = ( SELECT d_microbiology_specimen.spec_itemid FROM d_microbiology_specimen WHERE d_microbiology_specimen.spec_type_desc = 'STAPH AUREUS SWAB' ) AND datetime(microbiologyevents.chartdate) >= datetime(current_time,'-1 year') ORDER BY microbiologyevents.chartdate DESC LIMIT 1"
290e46c4e70581545b39621a,What was the name of the outputs that patient 10029484 last had?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) ORDER BY outputevents.charttime DESC LIMIT 1 ),[{'label': 'Void'}],SELECT chartevents.label FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'outputs' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
b09c1296a97d4f7a4488f11f,How many hours have passed since the first time that patient 10039831 stayed in careunit discharge lounge in the current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'discharge lounge' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT (datetime(current_time) - datetime(icustays.intime)) / 3600 FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND icustays.icustay_id IN ( SELECT icustay_detail.icustay_id FROM icustay_detail WHERE icustay_detail.careunit = 'Discharge lounge' ) LIMIT 1
f361e5d739050e86c0f5c75f,"On 10/22/this year, what was the average value of the diastolic blood pressure for patient 10031757?","SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '10-22'",[{'AVG(chartevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' ) AND chartevents.charttime LIKE '2023-10-22%'
e8433f2ef9b3e709b1fe04cf,"Count the number of people who were diagnosed with other disorders of muscle, ligament, and fascia since 2100.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other disorders of muscle, ligament, and fascia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
627069dc134dd25c3ddbbb5a,What was the first medication that patient 10021118 was prescribed via po/ng route in 11/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT first_cptorders.order_time FROM ( SELECT MIN(cptorders.order_time) AS order_time FROM cptorders WHERE cptorders.subject_id = 10021118 AND cptorders.order_route = 'PO/NG' AND cptorders.order_time LIKE '11/%' GROUP BY cptorders.order_time ) AS first_cptorders JOIN cptorders ON first_cptorders.order_time = cptorders.order_time AND first_cptorders.subject_id = cptorders.subject_id AND first_cptorders.order_route = cptorders.order_route AND first_cptorders.order_time LIKE cptorders.order_time
9879a8df02f5078e4cc9405e,What was the name of the diagnosis that patient 10038992 received for the first time during the first hospital encounter?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT d_icd_diagnoses.short_title FROM d_icd_diagnoses JOIN diagnoses_icd ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num ASC LIMIT 1
3a3cae7df796116acb43c341,"Give me the top three most frequent lab tests that patients were given after being diagnosed with allergic rhinitis, unspecified in the same hospital encounter in 2100.","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'allergic rhinitis, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE diagnoses_icd.icd_code = 'J30.9' AND labevents.chartdate >= admissions.admittime AND labevents.chartdate <= admissions.dischtime AND admissions.hospstay_seq = 1 AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hadm_id LIKE '2100%' ) GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 3"
167d39516102c791d110d62b,Which are the five most commonly taken lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]",
e99894fa240f028ed3221457,How many patients were diagnosed in 2100 with pericardial effusion (noninflammatory)?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pericardial effusion (noninflammatory)' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pericardial effusion (noninflammatory)' ) AND diagnoses_icd.icd_code LIKE '2100%'
2142e73a54b9782926053e6a,Count the number of hospital visits patient 10021118 had since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10021118 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],SELECT COUNT(*) FROM admissions WHERE subject_id = 10021118 AND admittime >= '2100-01-01'
b2d904b2d1f152b67f7b2b51,"Since 07/10/2100, what was patient 10027445's first respiratory rate?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-07-10' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10027445 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' ) AND chartevents.charttime >= '2000-10-07' ORDER BY chartevents.charttime ASC LIMIT 1
4ef144ef1e3cc810f42069d1,When was the last time the diastolic blood pressure of patient 10018081 registered less than 56.0 since 02/28/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 56.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-02-28' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10018081 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' ) AND chartevents.valuenum < 56 AND chartevents.charttime < '02/28/2100' ORDER BY chartevents.charttime DESC LIMIT 1
37c0bde96e8c70d1dcfce0ca,"What is the average daily number of patients suffering from constipation, unspecified?","SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'constipation, unspecified' ) GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,SELECT AVG(cnt) FROM ( SELECT COUNT(*) AS cnt FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '564.0' GROUP BY admissions.admittime::date ) AS daily_counts
666412cc886fa97817ea1d59,What was the first value of the o2 saturation pulseoxymetry for patient 10021487 on this month/09?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '09' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Saturation Pulseoxymetry' ) AND chartevents.charttime LIKE '%/%/09' ORDER BY chartevents.charttime ASC LIMIT 1
25c1ae6ee1303d4325b02e56,When was the last time the heart rate of patient 10018081 registered greater than 73.0 yesterday?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 73.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 73.0 AND datetime(chartevents.charttime) >= datetime(current_date,'-1 day') AND datetime(chartevents.charttime) < datetime(current_date) ORDER BY chartevents.charttime DESC LIMIT 1"
a2a83e230687e10b793748e7,Was patient 10016150 admitted into the hospital in the previous year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10016150 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10016150 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') AND datetime(admissions.admittime) <= datetime(current_time)"
cc2bba4f303536420f4558fe,What is the number of patients who had a hyaline casts test since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hyaline casts' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
6562f562696c0b8ddfd04a29,"Since 1 year ago, has patient 10001217 been at the emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admittime >= datetime(current_time,'-1 year') AND admissions.admission_type = 'ELECTIVE'"
9645c89ce0e75ea8d9ab156a,Do you know the average alanine aminotransferase (alt) value of patient 10004733 in 12/2100?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) AND strftime('%Y-%m',labevents.charttime) = '2100-12'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'alanine aminotransferase (alt)' ) AND chartevents.charttime BETWEEN '2012-01-01' AND '2012-12-31'
b5ce6c822904c206071d56a5,How many hours elapsed since patient 10004733 received his sodium lab test for the last time during the current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT (julianday('now') - julianday(chartevents.charttime)) * 24 AS hours_since_sodium_test FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%sodium%' ) ORDER BY chartevents.charttime DESC LIMIT 1
d96399e5245e5a0e11dcf0ff,What was diagnosed for patient 10003400 the first time on the last hospital encounter?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,"SELECT admissions.admission_type, d_icd_diagnoses.long_title FROM admissions JOIN admissions_diagnoses ON admissions_diagnoses.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = admissions_diagnoses.icd_code WHERE admissions.subject_id = 10003400 ORDER BY admissions.admittime DESC, admissions_diagnoses.seq_num ASC LIMIT 1"
01389011a3cea028b226b95b,What was the amount of insulin prescribed to patient 10020740 in total in 05/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.drug = 'insulin' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdrdosage) FROM prescriptions WHERE prescriptions.subject_id = 10020740 AND prescriptions.startdate >= '05/01/2010' AND prescriptions.enddate <= '05/31/2010' AND prescriptions.drug = 'insulin'
bcda489a731952e657ccee47,When was the last time that patient 10027445 had a minimum respiratory rate on 09/09/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-09-09' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],
2869bb3db5897f9d72d506b0,What are the five most commonly prescribed medications for patients who were previously diagnosed with other motor vehicle traffic accident involving collision with motor vehicle injuring driver of motor vehicle other than motorcycle within 2 months?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other motor vehicle traffic accident involving collision with motor vehicle injuring driver of motor vehicle other than motorcycle' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescription.drug FROM prescription WHERE prescription.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = 'V81.01' AND datetime(admissions.admit_time) >= datetime(current_time,'-2 month') ) GROUP BY prescription.drug ORDER BY COUNT(*) DESC LIMIT 5"
119d4b9159d345fd67da01be,Has there been any organism found in patient 10021118's last staph aureus swab microbiology test since 08/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND microbiologyevents.spec_type_desc = 'staph aureus swab' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10021118 AND microbiologyevents.spec_itemid IN ( SELECT d_microbiologyitems.spec_itemid FROM d_microbiologyitems WHERE d_microbiologyitems.org_name = 'staphylococcus aureus' AND d_microbiologyitems.item_name = 'swab' ) AND datetime(microbiologyevents.charttime) >= datetime('2010-08-01')
9a574ab97db06ee700de7520,How many hours have passed since the first time patient 10039831 has received a calculated total co2-lab test in the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT (UNIX_TIMESTAMP(max(labevents.charttime)) - UNIX_TIMESTAMP(min(labevents.charttime))) / 3600 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' )
d2664490e75476fb8fcc2c63,What amount of syringe (iso-osmotic dextrose) has been prescribed to patient 10022017 for the last time in 10/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND prescriptions.drug = 'syringe (iso-osmotic dextrose)' AND strftime('%Y-%m',prescriptions.starttime) = '2100-10' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.amount FROM prescriptions WHERE prescriptions.subject_id = 10022017 AND prescriptions.drg_code = 'iso-osmotic dextrose' AND prescriptions.dates = '10/2100' ORDER BY prescriptions.time DESC LIMIT 1
cc583d453844985f8c75964d,Can you tell me how much hydrocodone-acetaminophen (5mg-500mg) costs?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'hydrocodone-acetaminophen (5mg-500mg)' ),,
9ab9f7bcf85120221b47db91,Get me the top four most frequent diagnoses for patients of age 40s since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM admissions INNER JOIN admsn_icd_diagnoses ON admissions.hadm_id = admsn_icd_diagnoses.hadm_id INNER JOIN d_icd_diagnoses ON admsn_icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE admissions.dob BETWEEN datetime(current_time,'-40 years') AND datetime(current_time,'-30 years') AND admissions.admittime >= datetime(current_time,'-1 year') GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 4"
cc2d4eae2f2d008d9c2c9518,How many patients from the 40s age group are currently admitted?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 40 AND 49,,
f0229fb196610726d6ec7c44,How many times was other excision or destruction of lesion or tissue of pancreas or pancreatic duct carried out since 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other excision or destruction of lesion or tissue of pancreas or pancreatic duct' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
6841f0afef30c9eaf743f781,Tell me the top four most common lab tests during this year.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= CURRENT_DATE - INTERVAL '1 YEAR' GROUP BY labevents.itemid, d_labitems.label ORDER BY test_count DESC LIMIT 4"
b5d0db7b72d315ea5e4647b0,Get me patient 10004733's total gastric meds input amount on 12/24/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '12-24'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputamount) FROM inputevents_cv WHERE inputevents_cv.subject_id = 10004733 AND inputevents_cv.starttime >= '2023-12-24 00:00:00' AND inputevents_cv.starttime < '2023-12-25 00:00:00' AND inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Gastric')
74d964eb743c57b2e97f9876,Have any diagnoses been made for patient 10003400 since 2100?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10003400 AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' )
5bd9ccae8a4d90eca4b4002c,What was the total po intake amount given for patient 10004235 on 03/24/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-24'",[{'SUM(inputevents.totalamount)': None}],SELECT sum(chartevents.value) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10004235 AND chartevents.charttime LIKE '03/24/2100%' AND d_items.label LIKE '%intake%' AND d_items.category = 'Nutritional' AND chartevents.value IS NOT NULL
3359b6d79281a1940ec5c65c,Could you list the daily average dextrose 5% input of patient 10039831 on this ICU visit?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND icustays.outtime IS NULL ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],"SELECT chartevents.itemid, AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' ) GROUP BY chartevents.itemid"
f8e70aaaef039854b3b29401,What drugs have been added to patient 10018081's prescription today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate >= current_date - interval 1 day AND prescriptions.startdate < current_date EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate >= current_date - interval 2 days AND prescriptions.startdate < current_date - interval 1 day
5f0250669656b6e45463dfba,"Name the four most frequently prescribed drugs within 2 months following a diagnosis of polyneuropathy, unspecified this year.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'polyneuropathy, unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT prescriptions.drug, COUNT(*) as frequency FROM prescriptions JOIN diagnoses_icd ON prescriptions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'G63%' AND prescriptions.charttime >= datetime(CURRENT_DATE,'-2 months') GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 4"
73a651d26844c7e023b2bfc1,Share the four most frequently performed procedures since 1 year ago.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
83619f693733b0a1c2937f55,What's the average total hospital cost that includes a anticardiolipin antibody igg lab test?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anticardiolipin antibody igg' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anticardiolipin antibody igg' ) GROUP BY labevents.hadm_id )
cc8d52ea13df2c173004e53e,Has patient 10015272 undergone a mch test?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCH' )
3fad6d968be4660d18e4a33a,"During their last ICU visit, what was patient 10007928's last heart rate?",SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1
6a5d0066989fdc73a130b8c2,What were the name of the treatment received by patient 10005909 two or more times since 04/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-04' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND chartevents.charttime > '2004-01-01' GROUP BY chartevents.itemid HAVING COUNT(*) >= 2
be4864408d7e9c4cb2d27c8a,"Was the value of patient 10022017's chloride, whole blood second measured on the last hospital visit greater than the value first measured on the last hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT MAX(chartevents.charttime) AS last_visit, MAX(chartevents.valuenum) FILTER (WHERE chartevents.charttime = last_visit) > MIN(chartevents.valuenum) FILTER (WHERE chartevents.charttime = last_visit) AS is_greater FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.hadm_id"
fa30ead3c41cae309bafcade,"What is the maximum total hospital cost including a rbc, pleural lab test since 2100?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc, pleural' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
898a1010e152158643c29ae2,Work out the total amount of input patient 10038999 received since 04/08/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-08'",[{'SUM(inputevents.totalamount)': 36935.0}],
218edde218dc6a20ef8e8fad,What is the price of a drug named tobramycin sulfate?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'tobramycin sulfate' ),,
81852273a5351d699a554177,How much midazolam was prescribed since 09/2100 for the first time to patient 10021487?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.drug = 'midazolam' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
925ed6c9ab8d40d8dc632226,Did patient 10020944 take a dextrose 5% medication on 03/10/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-10'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10020944 AND medications.startdate = '03/10/2100' AND medications.medication = 'dextrose 5%'
c70358d01148240eb97f8568,What was the maximum value of creatinine in patient 10031404's body since 05/2100?,"SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-05'",[{'MAX(labevents.valuenum)': None}],SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.charttime >= '2100-05-01'
328c8f2538243e8dd6f5da24,What was the total cefpodoxime proxetil dose that has been prescribed during the first hospital encounter to patient 10020786?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'cefpodoxime proxetil',[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(cptevents.value) FROM cptevents JOIN admissions ON cptevents.hadm_id = admissions.hadm_id JOIN d_cpt ON cptevents.cpt_cd = d_cpt.cpt_cd WHERE admissions.subject_id = 10020786 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE subject_id = 10020786) AND d_cpt.title = 'Cefpodoxime proxetil, each milligram'"
2706ea1872fb85222790f131,What are the four most frequent diagnoses that patients were diagnosed within 2 months after having received a simple excision of other lymphatic structure procedure since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) as freq FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.admittime BETWEEN datetime(current_time,'-1 year') AND current_time AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN procedures_icd ON icustays.stay_id = procedures_icd.stay_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND admissions.admittime BETWEEN datetime(procedures_icd.chartdate,'-2 month') AND datetime(procedures_icd.chartdate) ) GROUP BY d_icd_diagnoses.long_title ORDER BY freq DESC LIMIT 4"
6496ef7a5d347a3e46d2bec0,Could you list the five most frequently prescribed medicines within the same hospital visit after a diagnosis of unspecified acquired hypothyroidism was made in 2100?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified acquired hypothyroidism' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m2.medication, COUNT(*) AS count FROM admissions a JOIN diagnoses d ON a.hadm_id = d.hadm_id JOIN prescriptions p ON a.hadm_id = p.hadm_id JOIN medications m2 ON p.medication_id = m2.medication_id WHERE d.icd_code LIKE 'E05%' AND a.subject_id = 2100 GROUP BY m2.medication ORDER BY count DESC LIMIT 5"
367a2504a54faf728f7f96fc,"In 2100, what are the top four most frequently tested specimens for patients within 2 months after receiving assistance with cardiac output using balloon pump, continuous?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,
d72f15251b85ed2e1b191e0f,List the drugs that should not be administered during procedure-one vessel?,,,
f7f753ce0654fdfa9372170c,How many days was patient 10029291's last stay in the intensive care unit?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 6.4747916660271585}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ORDER BY icustays.intime DESC LIMIT 1"
a00afef4fe749df9db791752,What is the maximum cost to the hospital that involves other fluid overload?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other fluid overload' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(fac Costs) FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.short_title = 'Other fluid overload'
19858e80b7638280abbda010,When did patient 10029484 have the maximum ketone value for the last time since 04/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ketone' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%ketone%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime < '2004-01-01' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
921675022a09cbed462a1741,What is the total number of hemodialysis procedures that took place in 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND YEAR(procedures_icd.chartdate) = 2100
eddd42b7835d2666ea1728ba,Tell me the number of patients who were prescribed magnesium oxide during the last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'magnesium oxide' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT adm.subject_id) FROM admissions adm JOIN prescriptions p ON adm.hadm_id = p.hadm_id WHERE p.drug = 'MAGNESIUM OXIDE' AND p.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
0de0194d965055a79103daf2,What does it cost to get cardiac arrest due to underlying cardiac condition diagnosed?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cardiac arrest due to underlying cardiac condition' ) ),,
58dc0f1db2dd25ed12cb221c,"Among patients aged 60 or above since 1 year ago, what are the top five most common diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) as count FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN d_icd_diagnoses ON icustays.drg_code = d_icd_diagnoses.icd_code WHERE admissions.dob <= DATE_SUB(CURRENT_DATE, INTERVAL 60 YEAR) AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 5"
ab750c2c23f2234be8a906a3,"How many hours has it been since patient 10021487's first cardiac complications, not elsewhere classified diagnosis in the current hospital encounter?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cardiac complications, not elsewhere classified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT TIMESTAMPDIFF(HOUR, MIN(chartevents.charttime), NOW()) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cardiac complications, not elsewhere classified' )"
fa665d6909377d977664e7fd,"For the first time in 12/2100, when was patient 10008454 prescribed famotidine and metoprolol tartrate at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'famotidine' AND admissions.subject_id = 10008454 AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'metoprolol tartrate' AND admissions.subject_id = 10008454 AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(admissions.admittime) FROM admissions INNER JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 10008454 AND prescriptions.starttime >= '2021-12-01' AND ( prescriptions.drug = 'FAMOTIDINE' OR prescriptions.drug = 'METOPROLOL TARTRATE' ) GROUP BY admissions.subject_id HAVING COUNT(DISTINCT prescriptions.drug) = 2
ee08d24fe58b44292d96dfdc,"How much is introduction of nutritional substance into upper gi, via natural or artificial opening?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into upper gi, via natural or artificial opening' ) )",,
e4d3934ae79126d2f578ee32,Did patient 10027602 have gastric meds given in their first hospital visit?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.label LIKE '%gastric%' )
26904ee0e2e1e4ac50b43168,What was the first time patient 10016742 has had the maximum SaO2 on 08/11/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '08-11' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '2022-08-11' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
84f5dabf19eb4e0fd354fbef,What was the first respiratory rate in patient 10027445's body on 08/12/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '08-12' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory rate' ) AND chartevents.charttime LIKE '2021-08-12%' ORDER BY chartevents.charttime ASC LIMIT 1
e71755ea81b230d5dd2a212d,"What were the five most frequently diagnosed microbiology tests for patients who were diagnosed with sciatica, unspecified side before within 2 months?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'sciatica, unspecified side' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.label, COUNT(*) AS freq FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'M54.5' ) AND chartevents.charttime >= datetime(current_time,'-2 months') AND d_items.category = 'Microbiology' GROUP BY d_items.label ORDER BY freq DESC LIMIT 5"
b589fb2df1dcb6da13ec9456,"What are the three most frequently given diagnoses for patients who had previously had hemodialysis within 2 months, in 2100?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT diagnosis_icd.icd_code, diagnosis_icd.long_title FROM diagnosis_icd WHERE diagnosis_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN admissions AS previous_admissions ON admissions.subject_id = previous_admissions.subject_id WHERE previous_admissions.admittime BETWEEN datetime(admissions.admittime,'-2 month') AND admissions.admittime AND previous_admissions.icd9_code IN ( SELECT icd9_code FROM icd9 WHERE icd9_code LIKE 'V52%' ) AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' ) GROUP BY diagnosis_icd.icd_code, diagnosis_icd.long_title ORDER BY COUNT(*) DESC LIMIT 3"
97197e658fa88a996aa97c83,When was the last input of patient 10014729 on 03/06/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-06' ORDER BY inputevents.starttime DESC LIMIT 1",[],SELECT inputevents_cv.* FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND inputevents_cv.charttime < '03/06/2100' ORDER BY inputevents_cv.charttime DESC LIMIT 1
501d7e20f28d6572b7ea2104,When did patient 10021118 have the last minimum creatine kinase (ck) value on their first hospital encounter?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase (ck)' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'CK' )
4244cfa368679a0ccc3f5672,Does patient 65309 have a trip history overseas?,,,
1d1103ae4c20715e6f0ae678,Tell me the total clopidogrel dose that patient 10015931 has been prescribed since 12/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND prescriptions.drug = 'clopidogrel' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12'",[{'SUM(prescriptions.dose_val_rx)': None}],
7afd7257fd278efbcb7b33ad,What's the cost of a drug known as miconazole nitrate vag cream 2%?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'miconazole nitrate vag cream 2%' ),,
b727c4a8aaf41e038a4aabf6,What is the average yearly number of patients who suffer from coronary atherosclerosis of autologous vein bypass graft?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'coronary atherosclerosis of autologous vein bypass graft' ) GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,SELECT COUNT(*)/12 FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses ON diagnoses.hadm_id = admissions.hadm_id WHERE diagnoses.icd_code LIKE '414.0%' )
0e1d898b2e27b9241962d250,Tell me the count of phlebography of the portal venous system using contrast material procedures that took place since 2100.,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'phlebography of the portal venous system using contrast material' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'phlebography of portal venous system, w contrast' ) AND procedures_icd.chartdate >= '2100-01-01'"
774301e86755e13414d55d0b,What number of patients were in the emergency department since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'emergency department' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM patients WHERE datetime(patients.admittime) >= datetime(current_time,'-1 year')"
04c15bde72e4c64e49a380e7,How much is the total minimum cost for a hospital that includes a amylase lab test?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase' ) ) GROUP BY cost.hadm_id ) AS T1,,"SELECT MIN(total_cost) FROM ( SELECT admissions.subject_id, admissions.hadm_id, SUM(chartevents.valuenum * d_items.factor) AS total_cost FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label LIKE '%amylase%' GROUP BY admissions.subject_id, admissions.hadm_id ) AS subquery"
96b8daf19be21be478a7950f,How many individuals are current patients in their 60 or above?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,"SELECT COUNT(*) FROM patients WHERE patients.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR) AND patients.dod IS NULL"
02a069698a803a8419fa294c,Tell me the count of the drugs patient 10021118 was prescribed in 11/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-11'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND prescriptions.startdate BETWEEN '2011-01-01' AND '2011-12-31'
771257ca5b02630533cafe73,Calculate how many patients were in discharge lounge since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'discharge lounge' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM transfers WHERE transfers.d_timeslot >= '2100' AND transfers.icustay_expire_flag = 1
0a5e5b2f22a73ebf9ddd7a3a,When was the last hospital discharge of patient 10025463?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10025463 ORDER BY admissions.dischtime DESC LIMIT 1,[{'dischtime': '2137-10-09 15:30:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10025463 ORDER BY admissions.dischtime DESC LIMIT 1
f4d88d6b65c3f2fef3bf62c5,"How many times, in the previous year, was a coronary arteriography using two catheters procedure ordered?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'coronary arteriography using two catheters' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'coronary arteriography using two catheters' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
a4b7670404c595bc4689c577,When was the first time that in 01/2100 patient 10003046 was prescribed a medication via sc?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND prescriptions.route = 'sc' AND strftime('%Y-%m',prescriptions.starttime) = '2100-01' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
aee372f28e8cc6e1deeb4d36,What are patient 10021487's changes in mean blood pressure last measured on the last ICU visit compared to the second to last value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (t1.valuenum - t2.valuenum) FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) t1, ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1, 1 ) t2"
4c7f81e40d7fe7c76ef35275,How many patients since 1 year ago were diagnosed with mitral valve disorders within the same month after the diagnosis of alkalosis?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alkalosis' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'mitral valve disorders' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(DISTINCT hadm_id) FROM ( SELECT admissions.hadm_id, admissions.admittime, icd9.icd9_code FROM admissions INNER JOIN icd9 ON admissions.hadm_id = icd9.hadm_id WHERE icd9.icd9_code LIKE '424%' AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR ) UNION SELECT admissions.hadm_id, admissions.admittime, icd9.icd9_code FROM admissions INNER JOIN icd9 ON admissions.hadm_id = icd9.hadm_id WHERE icd9.icd9_code LIKE '276%' AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR ) ) AS combined_diagnoses WHERE MONTH(admittime) IN ( SELECT MONTH(admittime) FROM combined_diagnoses WHERE icd9_code LIKE '276%' ) AND icd9_code LIKE '424%'"
d701f4d1d856c591e1e4c95d,What is the number of patients who had a globulin test in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'globulin' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
72f7cf565eac6853d4a5f4bc,Can you show me the drug that patient 10007058 was first prescribed since 07/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': '5% Dextrose'}],"SELECT admittime, starttime, drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND prescriptions.starttime >= '07/2100' ORDER BY starttime ASC LIMIT 1"
58be20bc10780428cb236a2e,What are the precautions to take after the opn/oth rep mtrl vlv-tis procedure?,,,
c1dfd71e56e3403bac064d97,Can you tell me the top three most common lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
8cdcafd00523784d37d8dad5,Which immuno-cancer drugs have been used for the last five years?,,,"SELECT DISTINCT drugs.drug_name FROM drugs JOIN prescriptions ON drugs.drug_id = prescriptions.drug_id WHERE prescriptions.start_date >= datetime('now','-5 years') AND drugs.drug_type LIKE '%immuno-cancer%'"
76ce0be28b35e8726dc606fa,When was the first time the heart rate of patient 10018081 was measured at a reading greater than 107.0 during this ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 107.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 107.0
1e60f35bb520bb22a0d6dcf1,When was patient 10018423 prescribed for the first time in 05/2100 a medication via sc route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND prescriptions.route = 'sc' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10018423 AND prescriptions.route = 'SC' AND DATE(prescriptions.startdate) >= '05/01/2000' ORDER BY prescriptions.startdate LIMIT 1
3658db3e1651d577b0730f29,Show me the top five most frequent output instances.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT outputevents.outputcd, d_items.label, COUNT(outputevents.outputcd) AS freq FROM outputevents JOIN d_items ON outputevents.itemid = d_items.itemid GROUP BY outputevents.outputcd ORDER BY freq DESC LIMIT 5"
2f8dde64c76d63b846def4a0,What is the maximum total cost of the hospital visits that included a procedure called other operations on intestines since 1 year ago?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other operations on intestines' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(T1.amount) FROM finance_finance AS T1 JOIN admissions AS T2 ON T1.hadm_id = T2.hadm_id JOIN procedures_icd AS T3 ON T2.hadm_id = T3.hadm_id WHERE T1.charttime >= datetime(current_time,'-1 year') AND T3.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other operations on intestines' )"
34477f844c8389585cdcabca,Has there been any organism detected during the first mrsa screen microbiology test of patient 10021118 since 05/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND microbiologyevents.chartdate >= '05/2100' AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_mg.specimen_name FROM d_microbiology_mg WHERE d_microbiology_mg.specimen_name LIKE '%MRS%' ) AND microbiologyevents.org_itemid NOT IN ( SELECT d_microbiology_organisms.org_name FROM d_microbiology_organisms WHERE d_microbiology_organisms.org_name = 'No Growth')
04e24b204bd0cfa1f803ee70,Tell me the difference in the heart rate value for patient 10019385 last measured on the first ICU visit compared to the second to last value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH first_visit AS ( SELECT icustays.stay_id, icustays.intime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) ORDER BY icustays.intime ASC LIMIT 1 ) SELECT ( ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id = first_visit.stay_id AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id = first_visit.stay_id AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC OFFSET 1 LIMIT 1 ) ) AS heart_rate_difference FROM first_visit"
1f0fce096cb3fb07a3c96ef2,How many days has it been since the last time during this hospital encounter that patient 10004733 was diagnosed with proteus (mirabilis) (morganii) infection in conditions classified elsewhere and of unspecified site?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'proteus (mirabilis) (morganii) infection in conditions classified elsewhere and of unspecified site' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT DATEDIFF(CURRENT_DATE, MAX(admissions.admittime)) FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10004733 AND diagnoses_icd.icd_code = '041.44'"
69c7281826029c1b41a34049,What is the dosage of an opioid given to patient 4469?,,,
fdf5c1e275419554ef051eb7,"In 2100, what were the top four most commonly tested specimens?","SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],
de726b4a741c447f0cdcb8e5,How much does a medication called acetaminophen iv cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'acetaminophen iv' ),,
366d08a0b63e3cc04f1a4df1,What are the prices of the drug albumin 25% (12.5g / 50ml)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'albumin 25% (12.5g / 50ml)' ),,
e4740c820cb8320bffa0e957,What is the total count of patients who stayed in careunit cardiac vascular intensive care unit (cvicu) during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'cardiac vascular intensive care unit (cvicu)' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.intime >= current_date - INTERVAL '1 YEAR' AND icustays.icustay_id IN ( SELECT cvicu.icustay_id FROM cvicu WHERE cvicu.careunit = 'Cardiac Vascular Intensive Care Unit' )
50a2ff309d50e7539213d116,"Has patient 10038081 been on 0.9% sodium chloride (mini bag plus), ketamine (for intubation), or heparin flush (10 units/ml) as prescribed since 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND prescriptions.drug IN ( '0.9% sodium chloride (mini bag plus)', 'ketamine (for intubation)', 'heparin flush (10 units/ml)' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('0.9% sodium chloride (mini bag plus)', 'ketamine (for intubation)', 'heparin flush (10 units/ml)') ) AND datetime(chartevents.charttime) >= datetime('2100')"
bbfcc311f9650f6a3a91f0b6,What is the average monthly number of patients diagnosed with bariatric surgery status?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bariatric surgery status' ) GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT AVG(count) FROM ( SELECT COUNT(DISTINCT admissions.subject_id) AS count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'Bariatric surgery status' ) GROUP BY DATE_FORMAT(admissions.admittime, '%Y-%m') ) AS monthly_counts"
0741b96a36302acf8ace5c02,When since 07/2100 did patient 10016810 receive the sodium test for the last time?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-07' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sodium' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2007-01-01' ORDER BY chartevents.charttime DESC LIMIT 1
0688645b190580e5eaf4bad5,How many operating rooms are available now?,,,
b822898d1d41ded52d61fbed,What were the top four most common diagnoses that followed within 2 months for those who received diagnostic ultrasound of digestive system since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of digestive system' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS count FROM diagnosis_icd JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id WHERE diagnosis_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'diagnostic ultrasound of digestive system' ) ) AND datetime(admissions.admittime) >= datetime(current_time,'-2 month') GROUP BY diagnosis_icd.icd_code ORDER BY count DESC LIMIT 4"
a0cdae836281b14960231c43,What is the list of things to do before you go through the endo polpectomy lrge int procedure?,,,
e07bc2b8ae12376224aac0c9,Tell me the top three most prevalent procedures for patients aged 40s since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
859635e6c88f004f9e9f32da,When are dr. martin's rounds and procedures?,,,
5f932af6bf46cd7718dfafc4,Can you tell me what patient 10001217's last respiratory rate was on 12/05/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-05' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime <= '12/05/2100' ORDER BY chartevents.charttime DESC LIMIT 1
b457b0375ed13ba271e11902,When was the first time of input for patient 10038999 on 06/05/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '06-05' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT inputevents.charttime FROM inputevents WHERE inputevents.subject_id = 10038999 AND inputevents.charttime >= '06/05/this year' ORDER BY inputevents.charttime ASC LIMIT 1
e07839bc9af48a037d0d54bb,"Among the patients of age 20s this year, what are the top four most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as count FROM admissions JOIN d_icd_diagnoses ON admissions.diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.admittime BETWEEN '2022-01-01' AND '2022-12-31' AND admissions.age BETWEEN 20 AND 29 GROUP BY d_icd_diagnoses.icd_code ORDER BY count DESC LIMIT 4"
ecdd6175747da4a32daa8f99,What was the name of the medication which patient 10021487 was prescribed during the same day after receiving enteral infusion of concentrated nutritional substances since 06/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-06' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT c bedsideevents.charttime, c bedsideevents.value AS name_of_medication FROM bedsideevents AS c bedsideevents JOIN ( SELECT bedsideevents.charttime FROM bedsideevents WHERE bedsideevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND bedsideevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'enteral infusion of concentrated nutritional substances' AND d_items.linksto = 'bedsideevents' ) ORDER BY bedsideevents.charttime DESC LIMIT 1 ) AS e bedsideevents ON c bedsideevents.hadm_id = e bedsideevents.hadm_id AND c bedsideevents.charttime >= e bedsideevents.charttime AND bedsideevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'name of medication' AND d_items.linksto = 'bedsideevents' ) ORDER BY c bedsideevents.charttime ASC LIMIT 1"
6d16d17d6f59ace9a2e0a9bd,How many patients were discharged since 1 year ago from hospital?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
f9b43f1daa9180b4970abafe,Calculate the total volume of patient 10010471's input since 12/19/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-19'",[{'SUM(inputevents.totalamount)': 37625.0}],
9d58a5b47d175751dafd7e2b,Reveal the drug name that was first prescribed to patient 10004235 via the po route in 07/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT admissions.admittime, medications.stopdate, medications.order_type, medications.status, medications.dose, medications.route, medications.drug FROM admissions JOIN medications ON admissions.hadm_id = medications.hadm_id WHERE admissions.subject_id = 10004235 AND medications.route = 'PO' AND medications.startdate LIKE '07/%' AND YEAR(medications.startdate) = 2100 ORDER BY medications.startdate LIMIT 1"
ad521f49d4f6250463adc2a9,Calculate the number of prescribed drugs for patient 10007795 in 10/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-10'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.startdate >= '10/01/2100' AND prescriptions.enddate <= '10/31/2100'
1d509edaa223f304f5ee3b9f,What drug was first prescribed to patient 10007058 since 09/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': '5% Dextrose'}],"SELECT drug FROM prescriptions WHERE subject_id = 10007058 AND startdate >= '09/2100' ORDER BY startdate ASC, starttime ASC LIMIT 1"
808756e7c648673865499708,Show us the top three most common microbiology tests throughout this year.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3",[],"SELECT d_microbiology_testevents.testname, COUNT(*) AS test_count FROM microbiologyevents JOIN d_microbiology_testevents ON microbiologyevents.testid = d_microbiology_testevents.testid WHERE YEAR(microbiologyevents.chartdate) = YEAR(CURDATE()) GROUP BY d_microbiology_testevents.testname ORDER BY test_count DESC LIMIT 3"
c9d8cdde8cb8a16012cdc065,What was the drug that was last prescribed to patient 10019568 via the ivpca route in the first hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'ivpca' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.SUBJECT_ID = 10019568 AND prescriptions.route = 'ivpca' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1
0a36ca6e9f221dc69fc7f8de,Has there been any organism observed in patient 10001217's first csf;spinal fluid microbiology test since 07/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND microbiologyevents.spec_type_desc = 'csf;spinal fluid' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10001217 AND microbiologyevents.chartdate > '2007-01-01' AND microbiologyevents.spec_type_desc = 'CSF;SPINAL FLUID' AND microbiologyevents.org_name IS NOT NULL AND microbiologyevents.org_name != 'no growth'
762749a6a8452aa83554f391,"On 04/04/2100, when did patient 10020740 receive an input for the first time?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-04-04' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND DATE(chartevents.charttime) = '04/04/2100' ORDER BY chartevents.charttime ASC LIMIT 1
e8e6ee69e045e5606f6c0aa9,When did patient 10035185 get inputs for the last time since 04/14/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-14' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2120-05-14 15:00:00'}],
9862dfab336a7e119e848d7f,What are the average daily number of patients diagnosed with acute alcoholic hepatitis in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute alcoholic hepatitis' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,
cce128d8f29c8e7564cc8cc8,Patient 10015931 was diagnosed on the first hospital encounter for the first time with what?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses INNER JOIN diagnoses_icd ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.subject_id = 10015931 AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime ASC LIMIT 1 ) LIMIT 1
e123951f763462b9fe67c32c,What are the top three most frequently prescribed drugs throughout this year?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3",[],"SELECT drug, COUNT(*) AS frequency FROM prescriptions WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY drug ORDER BY frequency DESC LIMIT 3"
e6fc71341c7764ba95e7f656,What's the cost of a drug known as ranitidine (liquid)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ranitidine (liquid)' ),,
467265322cf858e76174f260,"What are the total maximum expenses for a hospital involving a laboratory test for thyroxine (t4), free?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'thyroxine (t4), free' ) ) GROUP BY cost.hadm_id ) AS T1",,SELECT SUM(billamount) FROM billing WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%Free T4%' AND category = 'Labs' )
0e460c97c84c743bb885aefe,When was the first input time for patient 10022281 since 06/03/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-03' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2125-06-17 05:10:00'}],
416bb5f6b916ace9fd639fbc,Retrieve patient 10015272's daily average weight on their last hospital visit.,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT AVG(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10015272 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime
a370a79ac614fe8fa9d3408a,What output did patient 10021487 have for the first time since 12/15/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-15' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Foley'}],
871e1ec7efc82f4a5c9d293c,"Are patient 10018081's sodium, urine levels second measured on the current hospital visit less than the levels first measured on the current hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (second.valuenum < first.valuenum) as is_second_less_than_first FROM (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE (d_labitems.label = 'sodium' OR d_labitems.label = 'urine') ) ORDER BY labevents.charttime ASC LIMIT 1) as first JOIN (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE (d_labitems.label = 'sodium' OR d_labitems.label = 'urine') ) ORDER BY labevents.charttime ASC LIMIT 1,1) as second ON first.valuenum < second.valuenum"
fb14ee1d9363c64de1cb8c84,Find out the number of hospital visits patient 10009628 had since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10009628 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],SELECT COUNT(*) FROM admissions WHERE subject_id = 10009628 AND admittime >= '2100-01-01'
b663ddcb1000b3c27f988cc2,Calculate the number of patients prescribed acetylcysteine 20%.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'acetylcysteine 20%' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'acetylcysteine 20%'
c6a7a43a376d92df5f420f3d,Has patient 10009628 got a lab test in 09/this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '09'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND labevents.chartdate >= DATE_FORMAT(NOW(),'%Y-09-01')"
c1b9f618d57148f9613d4e17,Which procedure was performed on patient 10027602 two or more times since 11/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-11' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures INNER JOIN procedures_icd ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND procedures_icd.chartdate > '11/01/2010' GROUP BY d_icd_procedures.long_title HAVING COUNT(*) > 1
ec01a1e86108eda854c5cd91,When was the last time that patient 10038992 had the absolute basophil count minimum value on the first hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute basophil count' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents JOIN admissions ON admissions.hadm_id = labevents.hadm_id WHERE admissions.subject_id = 10038992 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.fluid = 'Blood' AND d_labitems.label = 'Absolute Basophil Count' AND d_labitems.category = 'Blood Cell Count' ) ORDER BY labevents.valuenum ASC, admissions.admittime DESC, labevents.charttime DESC LIMIT 1"
449a8617caa34f297b5f7f4a,When did patient 10015272 last take the microbiology test in 06/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-06' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10015272) AND chartdate = '06/2100' ORDER BY charttime DESC LIMIT 1
693d2161daa94f0ac19a5ff2,What did patient 10006053 have first as the output on 11/17/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-11-17' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
8d73f28463798e2fa6a31b3a,What was the last time patient 10016742 has had the maximum respiratory rate?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
3c053c9b8b903c510ca0c818,What was patient 10008454's first tested specimen in 12/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.charttime BETWEEN '2010-12-01' AND '2010-12-31' ORDER BY chartevents.charttime ASC LIMIT 1
7172db99077f820626236cfa,What is the total number of other fasciectomy procedures that took place since 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other fasciectomy' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
12fbd03c50369014a82f4756,How many patients were let go from hospitals since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
421b9af53a232e69883ca462,How many patients from the 50s age group are currently admitted?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 50 AND 59,,
7f9f201c03d5f3b1e2d247ca,What's the count of patients who left the hospital in this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.admittime) = YEAR(NOW()) AND admissions.dischtime IS NOT NULL
3afcd24ffddc745b26111a19,Does patient 20000 have any inherited disease?,,,
b48e7a50e9e73818c7619a51,How much is the average total hospital cost with personal history of malignant neoplasm of tongue in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of malignant neoplasm of tongue' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT avg(admissions.totalcharges) FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title = 'malignant neoplasm of tongue' AND admissions.admittime BETWEEN '2010-01-01' AND '2010-12-31'
b3a9bd9b492cf5ebf684f04b,What were the four most common lab tests given since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
1b34ed1fb8e15ce853b7f472,"First time, what drug was prescribed for patient 10007818 in 07/this year?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT first_cohort.icustay_id FROM (SELECT icustays.icustay_id, MIN(chartevents.charttime) AS first_time FROM icustays JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818) AND chartevents.charttime LIKE '2023-07%' GROUP BY icustays.icustay_id) first_cohort JOIN chartevents ON first_cohort.icustay_id = chartevents.stay_id AND first_cohort.first_time = chartevents.charttime JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'Medication' LIMIT 1"
0caf055cee4dccc45176c275,How many patients last year were diagnosed with attention deficit disorder with hyperactivity?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'attention deficit disorder with hyperactivity' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '314%' AND YEAR(admissions.admittime) = YEAR(CURRENT_DATE - INTERVAL 1 YEAR)
d7cb00a4818527abbd869e4f,What is the minimum total hospital cost that involved fluoroscopy of multiple coronary arteries using other contrast procedure since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(hospitalcharges.total_charges) FROM hospitalcharges JOIN admissions ON hospitalcharges.hadm_id = admissions.hadm_id WHERE admissions.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) ) AND hospitalcharges.chartdate >= '2100-01-01'
6f8a9ea4d83dea4c52af5a4b,Was patient 10004422 on their first hospital visit given a mchc lab test?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10004422 AND admissions.hospital_expire_flag = 0 AND EXISTS (SELECT 1 FROM labevents WHERE labevents.hadm_id = admissions.hadm_id AND labevents.itemid IN (SELECT itemid FROM d_labitems WHERE label = 'MCHC'))
928843eaa6be302dc4f25820,What's the minimum total hospital cost involving a drug named ibuprofen suspension in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ibuprofen suspension' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(admissions.totalcharges) FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN inputevents_cv ON icustays.stay_id = inputevents_cv.stay_id WHERE inputevents_cv.itemid IN ( SELECT formulary_drugs.formulary_drug_cd FROM formulary_drugs WHERE formulary_drugs.generic_name = 'ibuprofen suspension' ) AND admissions.dischtime BETWEEN '2021-01-01' AND '2021-12-31'
c08a8ca378cac26a4872dd1c,What were the top four most common lab tests done this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT d_labitems.label, COUNT(*) as count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_labitems.label ORDER BY count DESC LIMIT 4"
3f52f0b4c069263ecd9729b0,How many hours have elapsed since patient 10018081 first received a lactate lab test during this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, min(chartevents.charttime), now()) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lactate' AND d_items.linksto = 'chartevents' )"
067417d484687c9d57f7dfcd,What is the procedure that patient 10029291 received two times in 03/this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '03' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT d_icd_procedures.short_title FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291) AND procedures_icd.chartdate >= DATE_FORMAT(CURRENT_DATE, '%Y-03-01') AND procedures_icd.chartdate < DATE_FORMAT(CURRENT_DATE, '%Y-04-01') GROUP BY d_icd_procedures.short_title HAVING COUNT(*) = 2"
e965cf8b6399b0933da46e48,Provide a list of the four most common diagnoses that patients were diagnosed with within 2 months after undergoing the enteral infusion of concentrated nutritional substances procedure in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) as occurrences FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN chartevents ON admissions.stay_id = chartevents.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'enteral infusion of concentrated nutritional substances' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(admissions.admittime) AND datetime(chartevents.charttime) < datetime(admissions.admittime, '+2 month') ) GROUP BY icd9_code ORDER BY occurrences DESC LIMIT 4"
f591b46504d2236b89d77bf8,What are the total number of fiber-optic bronchoscopy procedures performed during the previous year?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fiber-optic bronchoscopy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fiberoptic bronchoscopy' ) AND procedures_icd.chartdate BETWEEN datetime('now','start of year','-1 year') AND datetime('now','start of year')"
d53c2b6d7e4bf45b77a8dd12,What kind of blood patient 85700 has.,,,
ca2d821af5309a1a9e06bffa,How many patients were discharged from hospital?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE admittime IS NOT NULL AND dischtime IS NOT NULL
38b7e8d3f95badf4596cd29a,Whas the earliest patient 9038 goes to the hospital?,,,SELECT min(admittime) FROM admissions WHERE subject_id = 9038
1707f8cb73d2f9a0fc881db5,What was measured as patient 10007818's weight during the first check since 23 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-23 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-23 month') ORDER BY chartevents.charttime ASC LIMIT 1"
d557347f082c26133868efb1,Tell me the length in days of the last stay for patient 10016150 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 0.15594907384365797}]","SELECT DATEDIFF(icustays.outtime, icustays.intime) as LengthOfStay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) ORDER BY icustays.outtime DESC LIMIT 1"
955c6240945fc39d733c8375,Provide the count of hospital visits for patient 10026354 during the last year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10026354 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10026354 AND datetime(admissions.admit_datetime) >= datetime(current_time,'-1 year')"
66415948d667e13324c3969a,How much difference is there in creatinine levels among patient 10021938 last measured on the first hospital visit compared to the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT ( MAX(chartevents.valuenum) - MIN(chartevents.valuenum) ) as creatinine_difference FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Creatinine' AND d_items.linksto = 'chartevents' )
933c7c79dce6c6b398e200c9,"Has patient 10015860 been ordered triamcinolone acetonide 0.1% cream, docusate sodium, or calcium carbonate since 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND prescriptions.drug IN ( 'triamcinolone acetonide 0.1% cream', 'docusate sodium', 'calcium carbonate' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10015860 AND prescriptions.drug LIKE 'triamcinolone%' OR prescriptions.drug LIKE 'docusate sodium' OR prescriptions.drug LIKE 'calcium carbonate' AND prescriptions.startdate >= '2100-01-01'
3b684d2b82753b3d95f1dbc9,Tell me the blood type of patient 76327?,,,"SELECT admittime, bloodtype FROM patients WHERE subject_id = 76327"
f515f06bef679a5069bf1b69,When was the last time patient 10021312 was prescribed medication via the ih route in 08/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.route = 'ih' AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10021312 AND prescriptions.route = 'IH' AND prescriptions.startdate BETWEEN '2000-08-01' AND '2000-08-31' ORDER BY prescriptions.startdate DESC LIMIT 1
95bf452438092fdf90c9955f,What was the minimum value of patient 10014729's protein in 03/2100?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(valuenum) FROM labevents WHERE subject_id = 10014729 AND itemid IN (SELECT itemid FROM d_labitems WHERE label LIKE '%protein%') AND charttime BETWEEN '2000-03-01' AND '2000-03-31'
0e962cda70b80f5930bde5ac,What percentile of the po2 value is 127.0 among patients of the same age as patient 10021487 on this hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'po2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ) ) AS T1 WHERE T1.valuenum = 127.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER (PARTITION BY chartevents.hadm_id) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Po2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum = 127.0
4a8d139fbdf3433a295f03d3,Can you get me the top four most conducted lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_items.label, COUNT(*) AS test_count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid GROUP BY labevents.itemid ORDER BY test_count DESC LIMIT 4"
99c9abca99f18fa8ddc1f20a,How old was patient 10006053 during their last hospital encounter?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT age(admissions.admitTIME, admissions.dod) FROM admissions WHERE admissions.subject_id = 10006053 ORDER BY admissions.admittime DESC LIMIT 1"
c868b0184dd86f732c24d8f6,What immuno-cancer drugs are in use over the last five years?,,,"SELECT DISTINCT drug FROM prescriptions WHERE datetime(chartevents.charttime) >= datetime(current_time,'-5 year') AND drug LIKE '%immuno-cancer%'"
bf8943fddda84358c2b49e35,What is the average expense for other endoscopy of small intestine?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endoscopy of small intestine' ) ),,SELECT AVG(finance.weight*finance.amount) AS average_expense FROM finance JOIN d_icd_procedures ON finance.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%endoscopy of small intestine%' AND finance.weight > 0 AND finance.amount > 0
c7834523cd66eb840495c036,"What are the top four most frequently ordered lab tests for patients within 2 months after being diagnosed with acute edema of lung, unspecified?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute edema of lung, unspecified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE diagnoses_icd.icd_code = '518.9' AND labevents.charttime BETWEEN admissions.admittime AND datetime(admissions.admittime, '+2 month') GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
37192bb658b60d3559cff295,"What are the five most commonly ordered procedures for patients who were previously diagnosed with noncompliance with renal dialysis, which occurred in the same hospital encounter since 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'noncompliance with renal dialysis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id WHERE icd_diagnoses.icd_code = 'noncompliance with renal dialysis' AND icd_diagnoses.seq_num = 2100 ) GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 5"
edaebbb4a2886364c2f5455c,"Since 1 year ago, has patient 10021938 been to an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admittime >= datetime('now','-1 year') AND admissions.admission_type = 'ELECTIVE' OR admissions.admission_type = 'URGENT'"
1558f54b2c3bec57f2893d4f,What are the three most frequent procedures for patients aged 30s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.dob BETWEEN '1970-01-01' AND '1979-12-31' GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
af95f1ae9259d68f2fe0a56f,List the top five most frequent events occurring.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
a1a26b44387af2430b609395,Could you calculate the total amount of output from patient 10021487 since 10/22/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-22'",[{'SUM(outputevents.value)': 71508.0}],
de2dd163eefb7cd6f7fe4767,What are the four most common output instances since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]",
30c85360417e25270068544b,Present the count of ICU visits for patient 10004422 since 2100.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND strftime('%Y',icustays.intime) >= '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND icustays.intime >= '2100-01-01'
9eaee8b12a9d726c44201f25,Do you remember which immuno-cancer drugs have been used over the past five years?,,,
b7b81b39be99bf34446ee242,Has there been any organism found in the last microbiological mrsa screen test of patient 10039997?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10039997 AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_results.spec_itemid FROM d_microbiology_results WHERE d_microbiology_results.spec_type_desc = 'mrsa screen' ) AND microbiologyevents.org_itemid != 0 ORDER BY microbiologyevents.chartdate DESC LIMIT 1
bfa5c2646e642966bfa98418,What is the percentile creatinine value of 1.6 among patients of the same age as patient 10007818 on their first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 1.6",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY labevents.hadm_id) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.valuenum = 1.6
87a3ea2e67ade278c0c2e7e5,How many times was patient 10014354 in the hospital in the last year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10014354 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.admittime >= current_date - interval '1 year'
036dc7fd74fcfcf46d3ee504,What is the daily average input of or ffp intake that patient 10018081 is getting since 12/22/2100?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or ffp intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-22' GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],
d18670a4c314b569054a32a3,"During the first hospital encounter, what was the monthly maximum dose of dextrose 5% for patient 10005909?","SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m',inputevents.starttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 AND admissions.hospital_expire_flag = 0 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'D5W' AND d_items.linksto = 'chartevents' ) AND chartevents.cgid = ( SELECT first_cgid FROM patients WHERE patients.subject_id = 10005909 ) GROUP BY chartevents.charttime MONTH
d5968ba9a98b70f548218263,"So, the last glucose test result for the patient 10018423 on the last hospital visit was?",SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1,[],"SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Glucose (serum)' ) ORDER BY chartevents.charttime DESC LIMIT 1"
725d74abd24c1af33ef5d212,When did patient 10002428's first microbiological test occur?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'charttime': '2155-07-15 02:00:00'}],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.subject_id = 10002428 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' )
bd1e0ce3084fab70f0a0f6db,Has any or colloid intake medication been given to patient 10039831 since 07/26/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or colloid intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-26'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10039831 AND medications.doseunittype IN ('ml', 'mg', 'units') AND medications.startdate >= '07/26/2100' AND medications.grepmatch('colloid')>0"
3b7aac248d67a932c390edb8,What was the number of patients receiving excision of dental lesion of jaw in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 1 AND admissions.dod LIKE '2100%' )
f04c7d3113bb51fa52b5acf5,"What is patient 10002495's difference in cholesterol, total from the last value measured on the last hospital visit compared to the first value measured on the last hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH last_visit AS ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10002495 ORDER BY admissions.admittime DESC LIMIT 1 ) SELECT first_value(labevents.valuenum) OVER (ORDER BY labevents.charttime) - last_value(labevents.valuenum) OVER (ORDER BY labevents.charttime ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS difference FROM labevents JOIN last_visit ON labevents.charttime BETWEEN last_visit.admittime AND datetime(last_visit.admittime, '+24 hours') WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' )"
098b1301820b7d581a339d0f,What was the first time patient 10018081 was prescribed a medication using the iv drip route in 12/this year?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.route = 'iv drip' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT orderitems.orderdatetime FROM orderitems JOIN patients ON orderitems.subject_id = patients.subject_id WHERE patients.subject_id = 10018081 AND orderitems.statusdescription = 'Final' AND orderitems.ordercategorydescription = 'Medication' AND orderitems.route = 'IV' AND orderitems.orderdatetime >= '2021-12-01' AND orderitems.orderdatetime < '2021-12-31' ORDER BY orderitems.orderdatetime ASC LIMIT 1
09b1b086d491d385b6744dd6,Give me the total amount of output since 12/25/2100 for patient 10004733.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-25'",[{'SUM(outputevents.value)': 17410.0}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total amount of output' ) AND chartevents.charttime >= '12/25/2100'
1d5c343c436c4699ca75db67,Patient 10013049's glucose second measured on the last hospital visit is greater than the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (valuetext2>valuetext1) AS greater FROM ( SELECT MAX(chartevents.charttime) AS lasttime, ( SELECT valuetext FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Glucose' ) AND chartevents.charttime = lasttime ORDER BY chartevents.charttime ASC LIMIT 2,1 ) AS valuetext2, ( SELECT valuetext FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Glucose' ) AND chartevents.charttime = lasttime ORDER BY chartevents.charttime ASC LIMIT 1,1 ) AS valuetext1 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE"
02fe4d0195664f0dc082a343,What are the top three common microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT d_microitems.name, COUNT(microbiologyevents.microid) AS count FROM microbiologyevents JOIN d_microitems ON microbiologyevents.microitem=d_microitems.id GROUP BY microbiologyevents.microitem ORDER BY count DESC LIMIT 3"
4f998b87cac41752ae6d9248,What was the name of the insurance used for patient 10000032 during their last hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicaid'}],SELECT insurance.institution FROM admissions JOIN insurance ON admissions.insurance_id = insurance.insurance_id WHERE admissions.subject_id = 10000032 ORDER BY admissions.admittime DESC LIMIT 1
3eb0479be3a32cecf1cfc9a1,Can you tell the daily maximum dose of or crystalloid intake that patient 10026354 received since 07/08/2100?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or crystalloid intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-08' GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],
924c0d9895d24fb53c79fb4a,"What is the average expense for dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) )",,"SELECT AVG(financecharges.amount) FROM financecharges JOIN d_icd_procedures ON financecharges.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'dilation of right main bronchus with intraluminal device, via natural or artificial opening endoscopic'"
fc72497b8c3f4de11b1c418f,Tell me the percentile of the magnesium value of 2.4 among patients of the same age as patient 10011398 during the last hospital visit.,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 2.4",,
493b74ce7611de520a722436,What was the name of the output patient 10007058 last had since 05/10/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-05-10' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Void'}],
2ea2811b8f3a6ed89aa46618,"When did last patient 10014729 have the minimum value of albumin, pleural in 03/2100?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'albumin, pleural' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'albumin, pleural' ) AND strftime('%Y/%m', labevents.charttime) = '2100/03' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
45e5fa3d7ddb3e52763ec749,"What are the four most frequently given diagnoses for patients who had previously had bypass coronary artery, one artery from left internal mammary, open approach during the same month, throughout this year?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, one artery from left internal mammary, open approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diag_icd.icd_code, COUNT(*) as frequency FROM ( SELECT admissions.hadm_id FROM admissions INNER JOIN d_cpt ON d_cpt.cpt_code = admissions.cpt_code WHERE d_cpt.long_title LIKE '%bypass coronary artery one artery from left internal mammary open%' AND admissions.admittime BETWEEN '2022-01-01 00:00:00' AND '2022-12-31 23:59:59' GROUP BY admissions.hadm_id ) AS hadm_ids JOIN diag_icd ON diag_icd.hadm_id = hadm_ids.hadm_id GROUP BY diag_icd.icd_code ORDER BY frequency DESC LIMIT 4"
9b6f8be92fbf3a67eba1ac22,What are the five most frequently prescribed drugs during the same hospital encounter to the patients aged 60 or above after they were diagnosed with street and highway accidents in 2100?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'street and highway accidents' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.label, COUNT(*) AS frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.dob <= DATE_SUB(admissions.dod, INTERVAL 60 YEAR) AND diagnoses_icd.icd_code LIKE 'V%' AND YEAR(admissions.admittime) = 2010 GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
e8888e24b833fbc7c8316ded,Can you tell me the top three diagnoses with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT diag_top3.diag, diag_top3.mortality_rate FROM ( SELECT diagnoses_icd.icd_code AS diag, COUNT(death_events.death) AS deaths, COUNT(DISTINCT admissions.subject_id) AS total, COUNT(death_events.death) * 100.0 / COUNT(DISTINCT admissions.subject_id) AS mortality_rate FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id LEFT JOIN ( SELECT subject_id, MIN(hosp_admittime) AS hosp_admittime FROM admissions WHERE'3 months' GROUP BY subject_id ) death_events ON admissions.subject_id = death_events.subject_id WHERE admissions.admittime <= death_events.hosp_admittime GROUP BY diagnoses_icd.icd_code ORDER BY mortality_rate DESC LIMIT 3 ) diag_top3"
01a258cef08c0eb27a9ef878,What methods are used to ingest emtricitabine-tenofovir (truvada)?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'emtricitabine-tenofovir (truvada)',[],
dc086ae27c1b78b95332d217,Is the o2 saturation pulseoxymetry level of patient 10011398 last measured on the first ICU visit less than the first measurement on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (first_measurement.valuenum > first_visit_measurement.valuenum) AS is_o2_saturation_decreased FROM (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry') AND chartevents.stay_id = (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398) ORDER BY icustays.intime ASC LIMIT 1) ORDER BY chartevents.charttime ASC LIMIT 1) AS first_measurement JOIN (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry') AND chartevents.stay_id = (SELECT icustays.stay_id
2ac19b54bada84606ebec21c,How many patients in 2100 were prescribed docusate?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'docusate' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 2100 ) ) AND prescriptions.drug = 'docusate'
6a258cd10ee1f1a03e0c9d23,How many patients stayed in careunit medical intensive care unit (micu) since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medical intensive care unit (micu)' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT icustays.subject_id) FROM icustays WHERE icustays.intime >= datetime(current_time,'-1 year') AND icustays.unitstaytype = 'M' AND icustays.careunit = 'Medical Intensive Care Unit'"
754e29dd9545b861d06c17c4,What is the average hospital cost to include a drug called acetylcysteine (iv) during this year?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'acetylcysteine (iv)' ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(costs.total_charges) FROM costs INNER JOIN d_items ON costs.itemid = d_items.itemid WHERE d_items.label = 'acetylcysteine (iv)' AND costs.chartdate >= DATE_FORMAT(CURDATE(), '%Y-01-01')"
fb44777e76712299533eaf79,What is the cost for the procedure right heart cardiac catheterization?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) ),,
909967a65d2b569fddd45064,"In 2100, how many medications were prescribed to patient 10004733?","SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],
024dcd124ec3d33f8ac7d1e6,Show me the four most common specimens tested during this year.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents WHERE chartevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01') AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
45e27a5adb524da103b1963d,When was the first time that patient 10027602 had the maximum red blood cells value in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cells' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_date,'start of year') AND datetime(chartevents.charttime) < datetime(current_date,'start of year','+1 year') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
c2f2672cddbd186cf0790169,What are the top four most frequently prescribed drugs?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]","SELECT d_drug Louisville, COUNT(*) as frequency FROM prescriptions JOIN d_drug ON prescriptions.drug_type = d_drug.Louisville GROUP BY d_drug Louisville ORDER BY frequency DESC LIMIT 4"
1b86b72d44dcdc58ba833804,What was the first time patient 10003400 was discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10003400 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10003400 ORDER BY admittime LIMIT 1
c66b8f121c0ec0bc328c5dad,How many medications were prescribed in 2100 to patient 10021118?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10021118 AND prescriptions.charttime BETWEEN '2100-01-01' AND '2100-12-31'
3377c0495e0a4873b8d561c0,Tell me the maximum SaO2 for patient 10027602's body on last month/25?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '25'",[{'MAX(chartevents.valuenum)': None}],"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.charttime >= datetime(current_time,'-1 month -25 day') AND chartevents.charttime < datetime(current_time,'-1 month -24 day')"
6a91b9dd415016e5b1793284,Can you tell which medicine was first prescribed to patient 10037861 via the neb method in their first hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'neb' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT first_prescription_order.order_detail FROM ( SELECT MIN(prescriptions.order_date) AS first_order_date FROM prescriptions WHERE prescriptions.subject_id = 10037861 AND prescriptions.order_method = 'NEB' ) AS first_order_info JOIN prescriptions AS first_prescription_order ON first_prescription_order.subject_id = 10037861 AND first_prescription_order.order_date = first_order_info.first_order_date
7f9576332062c59f8d3332f3,How much does patient 10021118 weigh based on the last measurement since 13 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-13 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= date_sub(current_date, interval 13 month) ORDER BY chartevents.charttime DESC LIMIT 1"
5b1d543d54897c267c07f555,What were the top three most frequent diagnoses in 2100 with which patients were diagnosed after receiving hemodialysis within 2 months?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 2100 ) AND diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'hemodialysis' ) AND procedures_icd.chartdate <= datetime(current_time, '-2 months') ) GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 3"
ace4be317f182e1697b40080,"Which were the three most commonly ordered procedures for patients previously diagnosed with acquired absence of organ, genital organs within 2 months?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acquired absence of organ, genital organs' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS count FROM procedures_icd AS icd JOIN admissions AS adm ON icd.hadm_id = adm.hadm_id JOIN diagnoses_icd AS d ON adm.hadm_id = d.hadm_id JOIN d_icd_procedures ON icd.icd_code = d_icd_procedures.icd_code WHERE d.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%acquired absence of organ, genital organs%' ) AND icd.chartdate BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH) AND CURRENT_DATE GROUP BY d_icd_procedures.long_title ORDER BY count DESC LIMIT 3"
0385a3df53040e9eb91837ff,What is the procedure that patient 10007795 received two times?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) GROUP BY d_icd_procedures.long_title HAVING COUNT(*) = 2
6eab05aa70724d26ebe7e7c1,How many days is it since patient 10021487 last stayed in the careunit trauma sicu (tsicu) on their current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT DATEDIFF(CURDATE(), icustays.intime) FROM icustays JOIN admissions ON admissions.hadm_id = icustays.hadm_id WHERE admissions.subject_id = 10021487 AND icustays.careunit = 'TSICU'"
5035c14e77fc86f7e758328a,"In total, how many patients were prescribed potassium chloride (powder) since 1 year ago?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'potassium chloride (powder)' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT orders.subject_id) FROM orders WHERE orders.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND orders.status = 'Final' AND orders.order_type = 'Medication' AND orders.text LIKE '%Potassium Chloride (Powder)%'"
a1d2ad87eb4e531d5e0486d3,Give me the name of the diagnosis patient 51605 had in the other department,,,SELECT DISTINCT hadm_id FROM admissions WHERE subject_id = 51605 AND transfers.d_yld_hadm_id IS NOT NULL AND transfers.d_yld_hadm_id != hadm_id AND transfers.d_yld_hadm_id != 0
e2ce9bb566451b1c9b9ba7ee,What is the total volume of patient 10027602's input on this month/02?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '02'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime LIKE '%%-02-%'
7f326a0a5a46eb805b8f5a56,Show me the top five most common diagnoses of patients with age 30s in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT icd9, COUNT(*) as count FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN diagnoses ON admissions.hadm_id = diagnoses.hadm_id WHERE patients.dob BETWEEN '1970-01-01' AND '1980-01-01' AND diagnoses.icd9 BETWEEN '000' AND '999' GROUP BY diagnoses.icd9 ORDER BY count DESC LIMIT 5"
7b14cdcd4cf8cd3ffdc02db7,Can you tell me how much fentanyl patch costs?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'fentanyl patch' ),,
37921e0dd6b843c93c0dacc1,Which are the top three most common lab tests in 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],
88a7e76c42b80b33bdb68d60,Show me the top three diagnoses with the highest 3-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT icd9, COUNT(*) AS deaths, COUNT(*)*1.0 / SUM(COUNT(*)) OVER () AS mortality FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM mortality WHERE mortality = 1 AND length_of_stay < 90 ) GROUP BY icd9 ORDER BY mortality DESC LIMIT 3"
22386e52d5ee964fb29ac28b,Calculate the total quantity of output of patient 10004235.,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ),[{'SUM(outputevents.value)': 9553.0}],
3b1ed5c49626132195b70ec8,What was the name of the organism in the last abscess microbiology test of patient 10001217 since 10/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND microbiologyevents.spec_type_desc = 'abscess' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND microbiologyevents.spec_type_desc = 'Abscess' AND datetime(microbiologyevents.chartdate) >= datetime('10/2100') ORDER BY microbiologyevents.chartdate DESC LIMIT 1
b704681115ed8cf6b288919f,"Has patient 10016150 got a prescription for trazodone, rosuvastatin calcium, or metformin xr (glucophage xr) since 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND prescriptions.drug IN ( 'trazodone', 'rosuvastatin calcium', 'metformin xr (glucophage xr)' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10016150 AND prescriptions.drug IN ('trazodone', 'rosuvastatin calcium', 'metformin xr', 'glucophage xr') AND prescriptions.start_date >= '2100-01-01'"
65209ec4d53fcc5e5cd03c87,Calculate the total amount of or ebl of patient 10018081 since 10/03/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or ebl' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-03'",[{'SUM(outputevents.value)': None}],
8dbbbd8602f5f3527cad26cd,"What is the average total cost of a hospital, which includes a drug called lactulose since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'lactulose' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
72ad619b7c1288429ab0e7e8,Does patient 32163 have any abscess left?,,,SELECT COUNT(*)>0 FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 32163 AND diagnoses_icd.icd_code LIKE '07%'
127846a633997fbb95a316a9,"What are the five most commonly prescribed medications for patients who were previously diagnosed with personal history of transient ischemic attack (tia), and cerebral infarction without residual deficits during the same hospital visit, since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of transient ischemic attack (tia), and cerebral infarction without residual deficits' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT medications.drug, COUNT(*) AS count FROM medications JOIN admissions ON medications.hadm_id = admissions.hadm_id JOIN diagnoses_icd AS diag1 ON admissions.hadm_id = diag1.hadm_id JOIN diagnoses_icd AS diag2 ON admissions.hadm_id = diag2.hadm_id WHERE diag1.icd_code LIKE '435%' AND diag2.icd_code LIKE '434%' AND medications.charttime >= datetime(current_time,'-1 year') GROUP BY medications.drug ORDER BY count DESC LIMIT 5"
34324beee54e081e5e88f130,Was any platelets given to patient 10006053 in 11/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'platelets' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) = '2100-11'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM transfusions WHERE transfusions.subject_id = 10006053 AND transfusions.transfusion_date = '11/2100' AND transfusions.transfusion_type = 'platelets'
db075c3a76dad8cee21d6089,What kind of rooms are available now for singles?,,,
250459eeaf1e43b5affdfa0e,How many hours has it been since patient 10018081's last phosphate lab test on their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT CAST((UNIX_TIMESTAMP(NOW()) - UNIX_TIMESTAMP(chartevents.charttime)) AS INTEGER)/3600 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY chartevents.charttime DESC LIMIT 1
dc5d5f941a6b2d27b4856352,When was the last time of input time of patient 10004720 since 08/08/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-08-08' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2186-11-17 15:29:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input time' ) AND datetime(chartevents.charttime) <= datetime('08/08/2100') ORDER BY chartevents.charttime DESC LIMIT 1
5ccf5c391f79452b6224e1f6,What was the name of the output that patient 10015860 got first?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ) ORDER BY outputevents.charttime ASC LIMIT 1 ),[{'label': 'Void'}],SELECT chartevents.label FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'outputevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
1dab5b5124587cef9d328d99,Count the number of times that excision of axillary lymph node was performed.,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of axillary lymph node' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'excision of axillary lymph node')
5d0429ce6caa78a35b8b997e,Tell me the id of the ward where patient 55281 can be admitted?,,,
5fa52b07870c541ddad80fd4,What is the dose of the opioid prescribed for patient 19059?,,,
103610582e111db3b8138c85,What's the cost to get replacement of stent (tube) in biliary or pancreatic duct?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of stent (tube) in biliary or pancreatic duct' ) ),,
4613327670f705e8aa839350,Tell me the top five most frequently tested specimens since 1 year ago.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
4a6a55a4bf98ebabca394606,Is there a genetic test that patient 83062 recieved?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 83062 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'Genetics' )
2c1f374a404a551c3391df72,How many patients had angiocardiography of left heart structures done throughout this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'angiocardiography of left heart structures' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'angiocardiography of left heart structures' ) AND procedures_icd.chartdate >= DATE_FORMAT(CURDATE(),'%Y-01-01')"
1a2803a90ebc58ce4b381cce,Tally up the number of patients who received a granular casts lab test in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'granular casts' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.chartdate = '2100-01-01' AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'Granular casts' )
d4a8c8cbd9db88a331e52ca2,"During their last hospital visit, was patient 10014078 admitted to an emergency room?",SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.admission_type = 'ELECTIVE' OR admissions.admission_type = 'URGENT' OR admissions.admission_type = 'EMERGENCY'
d49a169b25722c624294da5c,"On the first hospital visit, what was the diagnosis for patient 10002495 the first time?",SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT icd9_code FROM admissions WHERE subject_id = 10002495 ORDER BY admittime ASC LIMIT 1
3ec7578f9e5421f0bb600bba,Calculate the length of stay in days for patient 10001217's first ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.118032407015562}]","SELECT TIMESTAMPDIFF(DAY, icustays.intime, icustays.outtime) AS LOS FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ORDER BY icustays.intime ASC LIMIT 1"
3c79d8c37eae0b006674c9c6,Count the number of patients who took glucose gel since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'glucose gel' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'glucose gel' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
1d22e6440ebc8254221ff9ab,What is the type of blood that patient 18457 has?,,,
ab3f000e7808a99742228d97,"What was the name of the drug patient 10015931 was prescribed within 2 days after having received a introduction of other therapeutic substance into peripheral artery, percutaneous approach procedure during this month?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into peripheral artery, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT medications.order_freq, medications.drug FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND medications.startdate > ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into peripheral artery, percutaneous approach' ) AND procedures_icd.hadm_id = medications.hadm_id ) AND medications.startdate <= DATE_ADD(( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into peripheral artery, percutaneous approach' ) AND procedures_icd.hadm_id = medications.hadm_id ), INTERVAL 2 DAY) AND medications.startdate >= LAST_DAY(CURRENT_DATE) + 1 - INTERVAL 2 DAY AND medications.startdate <= LAST_DAY(CURRENT_DATE)"
0e5f94ff7f2b90800950a848,"For patient 10018081, how many hours have passed since the first diagnosis with unspecified essential hypertension during their current hospital visit?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT (unix_timestamp(current_timestamp) - unix_timestamp(min(admissions.admittime))) / 3600 FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) )
23ef89f430d2312cd46e8a1d,Could you list the daily average lr input of patient 10013049?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lr' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],"SELECT DATE(chartevents.charttime) AS date, AVG(chartevents.valuenum) AS average_lr_input FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND chartevents.valuenum > 0 AND d_items.label = 'LR' AND chartevents.charttime >= ( SELECT min(charttime) FROM chartevents WHERE hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND d_items.label = 'LR' ) GROUP BY DATE(chartevents.charttime) ORDER BY date ASC"
ec4e31f512d6319b08a78d92,What was the total amount of the output patient 10006053 had since 06/06/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-06'",[{'SUM(outputevents.value)': 7045.0}],
935b75442d1b950e70d20b8f,What was the name of the organism at the first sputum test of patient 10019777 since 02/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND microbiologyevents.spec_type_desc = 'Sputum' AND datetime(microbiologyevents.chartdate) >= datetime('02/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
018d243f5ca33716687af47d,Number of patients who received a other electric countershock of heart procedure.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart')
3bbc83c195a74b99b51777c9,"Since 08/2100, when was the last time that patient 10001217 was prescribed medication via the pr route?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND prescriptions.route = 'pr' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admits.SUBJECT_ID, admits.HADM_ID, admits.CHARTTIME FROM ( SELECT admittime as CHARTTIME, SUBJECT_ID, HADM_ID FROM admissions WHERE admissions.SUBJECT_ID = 10001217 AND admissions.admittime >= '2008-01-01' UNION SELECT discharge_time as CHARTTIME, SUBJECT_ID, HADM_ID FROM admissions WHERE admissions.SUBJECT_ID = 10001217 AND admissions.dischtime >= '2008-01-01' UNION SELECT charttime, SUBJECT_ID, admittime as HADM_ID FROM chartevents WHERE SUBJECT_ID = 10001217 AND chartevents.charttime >= '2008-01-01' ) as admits INNER JOIN ( SELECT charttime, SUBJECT_ID, HADM_ID FROM prescriptions WHERE prescriptions.route = 'PR' AND prescriptions.stopdate >= '2008-01-01' ) as presc ON presc.SUBJECT_ID = admits.SUBJECT_ID AND presc.HADM_ID = admits.HADM_ID AND presc.charttime <= admits.CHARTTIME ORDER BY admits"
cc8133f15a89f38b3c28c9e9,What was the name of the organism found in the first mini-bal microbiology test of patient 10027602 in 12/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'mini-bal' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.subject_id = 10027602 AND microbiologyevents.chartdate = '12/2100' AND microbiologyevents.spec_type_desc = 'MINIBAL' ORDER BY microbiologyevents.charttime ASC LIMIT 1
e1e75ab26d91e343b7b0ea17,What was the last value of patient 10038933's lab test for glucose in their last hospital encounter?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1
ac7bf3a501336d2c4fb93d27,"What were the three most commonly ordered lab tests for patients who were previously diagnosed with edema of male genital organs in the same month, this year?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'edema of male genital organs' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'edema of male genital organs' ) AND admissions.admittime >= DATE_FORMAT(CURDATE(), '%Y-01-01') AND admissions.admittime <= CURDATE() ) GROUP BY d_labitems.itemid ORDER BY test_count DESC LIMIT 3"
a00135dbda426f37103c4031,Calculate the total volume of input by patient 10018081 on this month/29.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '29'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.value) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10018081 AND d_items.category = 'Input' AND chartevents.charttime LIKE '%/%/29'
129e758237d6a21a110b1f7c,What is the ward id that patient 3929 can be admitted?,,,
09552895d2ca5e482d2b314f,Tell me the percentile for platelet count of 332.0 among patients in the same age as patient 10014729 on the last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10014729 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 332.0",,SELECT PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER (PARTITION BY chartevents.hadm_id) as percentile FROM chartevents INNER JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'platelet count' ) AND admissions.dob = ( SELECT admissions.dob FROM admissions WHERE admissions.subject_id = 10014729 ) ORDER BY admissions.admittime DESC LIMIT 1
db9a6d17c2bdc3d58e519267,When was the first time that patient 10021487 had the minimum value of heart rate on 12/10/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-10' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2023-10-12' AND chartevents.charttime <= '2023-10-12' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
42b32b8c9018073085ea61c5,How many operation rooms are now available?,,,
966d1ead03418408fd0eccc1,How many patients were diagnosed with paroxysmal atrial fibrillation in 2100 after previously being diagnosed with pain in left shoulder within 2 months?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pain in left shoulder' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'paroxysmal atrial fibrillation' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM diagnoses_icd AS d1 JOIN admissions ON admissions.hadm_id = d1.hadm_id JOIN diagnoses_icd AS d2 ON d2.hadm_id = admissions.hadm_id WHERE d1.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'paroxysmal atrial fibrillation' ) AND d2.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%pain in left shoulder%' ) AND admissions.admittime BETWEEN DATE_SUB(admissions.admittime, INTERVAL 2 MONTH) AND admissions.admittime AND YEAR(admissions.admit_dt) = 2100"
350181bd71c310c99e34da39,What is the difference between weights second measured on the first hospital visit compared to the first value measured on the first hospital visit for patient 10008454?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT chartevents.valuenum - first_weight.valuenum FROM chartevents JOIN (SELECT valuenum FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') ORDER BY chartevents.charttime LIMIT 1,1) AS first_weight ON chartevents.hadm_id = first_weight.hadm_id AND chartevents.itemid = first_weight.itemid WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') ORDER BY chartevents.charttime LIMIT 1"
b8c5fe61ece23bbbe04cf389,What's the minimum total cost of the hospital visits that involve a procedure called cardiac mapping throughout this year?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(costs.totalcost) FROM costs INNER JOIN admissions ON costs.hadm_id = admissions.hadm_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) AND YEAR(admissions.admit_date) = YEAR(CURRENT_DATE())
e152d27a95ebcc62820b1622,"How many days have passed since the first time patient 10018081 received a lab test of chloride, urine on their current hospital encounter?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TO_DAYS(chartevents.charttime) - TO_DAYS(admissions.admittime) FROM admissions INNER JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10018081 AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, urine' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, urine' ) ORDER BY chartevents.charttime ASC LIMIT 1"
5407c72b5374049d5ff42574,Can you tell me how much lansoprazole oral disintegrating tab costs?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'lansoprazole oral disintegrating tab' ),,
48ee3c32b16e889f8868868d,"Tell me the name of the drug patient 10002495 was prescribed within 2 days after having received a dilation of coronary artery, one artery with drug-eluting intraluminal device, percutaneous approach procedure in 06/this year?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of coronary artery, one artery with drug-eluting intraluminal device, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '06' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '06' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT medications.order_start_date, d_cpt.title FROM medications JOIN d_cpt ON medications.cpt_cd = d_cpt.cpt_cd WHERE medications.subject_id = 10002495 AND medications.order_start_date BETWEEN datetime('2023-06-01') AND datetime('2023-06-30') AND d_cpt.title = 'dilation of coronary artery, one artery with drug-eluting intraluminal device, percutaneous approach' AND medications.order_start_date > (SELECT MIN(order_start_date) FROM medications WHERE medications.subject_id = 10002495 AND medications.cpt_cd = (SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.title = 'dilation of coronary artery, one artery with drug-eluting intraluminal device, percutaneous approach')) AND medications.order_start_date <= (SELECT MIN(order_start_date) FROM medications WHERE medications.subject_id = 10002495 AND medications.cpt_cd = (SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.title = 'dilation of coronary artery, one artery with drug-eluting intraluminal device, per"
a86aa0f3bbf78e814aab9af4,What is the foley output for patient 10026354 since 03/01/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-01'",[{'SUM(outputevents.value)': None}],SELECT chartevents.outputflag FROM chartevents WHERE chartevents.subject_id = 10026354 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-01-03' ORDER BY chartevents.charttime ASC
425e31a5bea537ada730003e,What was the last time patient 10005817 was prescribed medications via the ng route throughout this month?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND prescriptions.route = 'ng' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT MAX(cptevents.charttime) FROM cptevents WHERE cptevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND cptevents.cpt_cd IN ( SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.long_common_name LIKE '%prescribed medications via the ng route%' ) AND cptevents.charttime >= datetime(current_time,'-1 month')"
09c4726f77bd8073eeb8d985,Calculate the number of medicines that patient 10015860 was prescribed since 10/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10'",[{'COUNT(*)': 644}],
402d46f2e8f68504cd726d4d,Show me the length of stay in days of patient 10019385 from the last stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.3132870369590819}]","SELECT icustays.intime, icustays.outtime, (julianday(icustays.outtime) - julianday(icustays.intime)) AS length_of_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) ORDER BY icustays.intime DESC LIMIT 1"
0d22269bdd7bfa8481b101b5,What was patient 10005817's total volume of output since 06/04/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-04'",[{'SUM(outputevents.value)': 41303.0}],
4613c69ff92c982ad6b0c73e,What was the weight of patient 10014729 first in the first hospital visit?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) ORDER BY chartevents.charttime ASC LIMIT 1
5a7361bff9784d49a8234e8a,What is the minimum total hospital cost that involved a procedure called other enterostomy since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other enterostomy' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
be52dc50e6aaa98ddf135fe9,What is the reimbursement model for drug?,,,
f46885deabda4129f8960805,Has patient 10037861 gone through any lab test since 04/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND datetime(labevents.charttime) >= datetime('04/2100')
ab0e982e3bb15b1ab0e9c576,What are the four most often performed treatments for patients aged 20s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
fc1d2f78dd540b2cf1aed9b9,So what are the types of blood patient 8016 has.,,,
473b5484bdbc4e254b426c4c,"For patients diagnosed with hemorrhage of rectum and anus throughout this year, what are the top five most recurrent treatments within 2 months?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemorrhage of rectum and anus' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_cpt.cpt_name, COUNT(*) AS frequency FROM procedures_icd AS p INNER JOIN d_procedures AS d ON p.procedure_id = d.procedure_id INNER JOIN d_cpt AS c ON d.cpt_cd = c.cpt_cd WHERE p.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd AS d ON admissions.hadm_id = d.hadm_id WHERE d.icd_code LIKE '578%' ) AND p.chartdate BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') AND NOW() AND p.charttime < INTERVAL 2 MONTH GROUP BY d_cpt.cpt_name ORDER BY frequency DESC LIMIT 5"
1e1a1711a9e429a5c0a74eec,What was the drug prescribed to patient 10007818 for the last time in 07/this year via the pr route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.route = 'pr' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, subject_id, drug, route FROM prescriptions WHERE subject_id = 10007818 AND route = 'PR' AND admittime >= '01-JUL-THIS YEAR' ORDER BY admittime DESC LIMIT 1"
6c22bec7e47dc38b30e3f2b9,"What was the last instance when the diastolic blood pressure of patient 10026354 was greater than 71.0, since 08/10/2100?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 71.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-08-10' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' ) AND chartevents.valuenum > 71 AND chartevents.charttime >= '2100-10-08' ORDER BY chartevents.charttime DESC LIMIT 1
d1848715fb9bd76d88e82c49,What was the last o2 saturation pulseoxymetry value patient 10018081 had on this month/27?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '27' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Saturation Pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '%-%-27%' ORDER BY chartevents.charttime DESC LIMIT 1
137633ed86ab2d0d0059f5c2,"How many hours have elapsed since the first time in the current hospital visit patient 10021487 received a lab test for bilirubin, total, ascites?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, total, ascites' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT julianday(MAX(labevents.charttime)) - julianday(MIN(labevents.charttime)) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, total, ascites' )"
84ee48b9c8a46dca91210f99,List the top five most frequent microbiology tests that were given to patients after they were diagnosed with postprocedural hemorrhage of a circulatory system organ or structure following other circulatory system procedure in the same hospital visit.,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'postprocedural hemorrhage of a circulatory system organ or structure following other circulatory system procedure' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT test, COUNT(*) AS count FROM ( SELECT microbiologyevents.specimen_id, microbiologyevents.test, microbiologyevents.hadm_id FROM microbiologyevents INNER JOIN diagnoses_icd ON microbiologyevents.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'POSTPROCEDURAL HEMORRHAGE OF CIRCULATORY SYSTEM ORGAN OR STRUCTURE FOLLOWING OTHER CIRCULATORY SYSTEM PROCEDURE' ) ) AS test_counts GROUP BY test ORDER BY count DESC LIMIT 5"
8022e43f6d6b61363a0e1da2,What was the total foley output of patient 10013049 on 06/24/this year?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '06-24'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) AS total_foley_output FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10013049 AND d_items.label = 'Foley Output' AND chartevents.charttime >= '06/24/this year 00:00:00' AND chartevents.charttime < '06/25/this year 00:00:00'
d12cf57d8405a554dab7fa15,What are the five most frequently ordered medications that patients in their 60 or above were prescribed within 2 months after being diagnosed with abnormal coagulation profile in 2100?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abnormal coagulation profile' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescriptions.drug, COUNT(*) AS count FROM prescriptions JOIN patients ON prescriptions.subject_id = patients.subject_id JOIN diagnoses_icd ON diagnoses_icd.hadm_id = prescriptions.hadm_id WHERE patients.dob < '1951-01-01' AND diagnoses_icd.icd_code LIKE '7899%' AND prescriptions.startdate BETWEEN diagnoses_icd.chartdate AND DATE_ADD(diagnoses_icd.chartdate, INTERVAL 2 MONTH) GROUP BY prescriptions.drug ORDER BY count DESC LIMIT 5"
f5b78cf9f326f6c6ae745067,How many patients were discharged from the hospital in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
bdb2fa4bcffae40f48f57a25,What was the name of the organism found in patient 10019172's last urine microbiological test?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microspecimens.org_name FROM microspecimens WHERE microspecimens.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND microspecimens.chartdate = ( SELECT MAX(microspecimens.chartdate) FROM microspecimens WHERE microspecimens.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND microspecimens.body_site LIKE 'urine%' ) AND microspecimens.body_site LIKE 'urine%' LIMIT 1
73c5a29239e229c1e3d8d5f1,What was the first measurement of heart rate in patient 10004733's body since 22 days ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-22 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.charttime >= datetime(current_time,'-22 day') ORDER BY chartevents.charttime ASC LIMIT 1"
d487fac15a8ce3ed54ed440e,What was the four most common lab test given?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 4"
84c70bbe9310c79050cef5e6,"What was prescribed to patient 10018423 within 2 days following their measurement of cardiac sampling and pressure, left heart, percutaneous approach?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'measurement of cardiac sampling and pressure, left heart, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admitem FROM ( SELECT DISTINCT admissions.subject_id, admissions.hadm_id, admissions.admittime, labevents.charttime AS labcharttime, admittime + INTERVAL 2 DAY AS two_days FROM admissions INNER JOIN labevents ON admissions.hadm_id = labevents.hadm_id WHERE admissions.subject_id = 10018423 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE 'cardiac sampling and pressure, left heart, percutaneous approach%' ) ) AS t1 INNER JOIN ( SELECT admissions.subject_id, admissions.hadm_id, admissions.admittime, prescriptions.startdate, prescriptions.dosage FROM admissions INNER JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 10018423 ) AS t2 ON t1.hadm_id = t2.hadm_id WHERE t2.startdate BETWEEN t1.admittime AND t1.two_days AND t2.startdate > t1.labcharttime ORDER BY t2.startdate ASC LIMIT 1"
64a43632d54bb861d083b284,Get the count of the number of hospital visits of patient 10031404 last year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10031404 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE subject_id = 10031404 AND datetime(admittime) >= datetime(current_date, '-1 year') AND datetime(admittime) < datetime(current_date)"
de873dcbb588ef6ce9ad305d,What was the name of the insurance used for patient 10000032 in their first hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10000032 ORDER BY admissions.admittime ASC LIMIT 1
c5f0f757c748ca958da5182f,What was the name of the output which patient 10039831 had for the last time today?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND datetime(outputevents.charttime,'start of day') = datetime(current_time,'start of day','-0 day') ORDER BY outputevents.charttime DESC LIMIT 1 )",[],SELECT chartevents.outputdevice FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_date) ORDER BY chartevents.charttime DESC LIMIT 1
47bcce86f3ab85e1c0edd92a,Is the anion gap value of patient 10014729 on the at 2100-04-02 05:22:00 measurement less than the value from the at 2100-04-01 05:18:00 measurement?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.charttime = '2100-04-02 05:22:00' ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.charttime = '2100-04-01 05:18:00' ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.charttime = '2100-04-02 05:22:00' ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.charttime = '2100-04-01 05:18:00' )"": None}]",SELECT (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729) AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap') AND labevents.charttime = '2100-04-02 05:22:00') < (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729) AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap') AND labevents.charttime = '2100-04-01 05:18:00')
bb93faad71aaa3ed0164496c,What is the minimum total expenditure of a hospital that involves the medication potassium chl 20 meq / 1000 ml d5 1/2 ns?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'potassium chl 20 meq / 1000 ml d5 1/2 ns' ) GROUP BY cost.hadm_id ) AS T1,,
19bbba7c30b65e559cde2364,Tell me the top four most frequent lab tests that patients were given during the same hospital encounter after being diagnosed with dependence on respirator [ventilator] status in 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dependence on respirator [ventilator] status' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT labitems.label, COUNT(*) FROM labevents JOIN d_labitems AS labitems ON labevents.itemid = labitems.itemid WHERE labevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE admissions.ditems_id IN ( SELECT ditems_id FROM d_items WHERE d_items.label LIKE '%dependence on respirator%' ) ) GROUP BY labitems.label ORDER BY COUNT(*) DESC LIMIT 4"
f5e30b7ed7e2dc03d9e33f9d,What were the top five diagnoses of patients with age 60 or above in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS count FROM diagnosis_icd INNER JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob <= '1960-01-01' AND admissions.admittime LIKE '2100%' GROUP BY diagnosis_icd.icd_code ORDER BY count DESC LIMIT 5"
904c2c0c49be0f63d95d5358,Tell me the maximum total hospital cost that involves accidental poisoning from other specified plants in 2100.,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidental poisoning from other specified plants' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(total_cost) FROM charges JOIN admissions ON admissions.hadm_id = charges.hadm_id JOIN icd9_diagnostics ON icd9_diagnostics.hadm_id = charges.hadm_id WHERE icd9_diagnostics.icd9_code LIKE 'T64.9%' AND admissions.dischtimedate LIKE '2100-%'
038c76dd2c59256fd7b9ae46,Tell me the average total hospital cost that includes ritonavir in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ritonavir' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(costs.total_charges) FROM costs INNER JOIN admissions ON admissions.hadm_id = costs.hadm_id INNER JOIN prescriptions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drg_code = '2100' AND prescriptions.item_name LIKE '%ritonavir%' AND costs.total_charges IS NOT NULL
99302cc231fc961e9d68c413,Tell me the time when patient 10014729's SaO2 was less than 95.0 for the last time on 03/06/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 95.0 AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-03-06' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SpO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 95.0 AND chartevents.charttime <= '03/06/2100' ORDER BY chartevents.charttime DESC LIMIT 1
4280ebde89a88a7f5565d9dd,W/is the code that corresponds to icd-11 for stomatits & mucosits nec in icd-10?,,,
41b9a346811b51fc23501b6f,What was the first drug prescribed to patient 10037861 via the iv route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND prescriptions.route = 'iv' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT admittime, starttime, drug FROM prescriptions WHERE prescriptions.subject_id = 10037861 AND route = 'IV' ORDER BY admittime, starttime ASC LIMIT 1"
c7af43822b2032b4d685af10,"Among patients who took other repair of vessel in 2100, what are the top five most frequent diagnoses that followed in the same month?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other repair of vessel' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd AS diags JOIN admissions ON admissions.hadm_id = diags.hadm_id JOIN patients ON patients.subject_id = admissions.subject_id JOIN icd_service AS icd ON icd.icd_code = diags.icd_code JOIN procedures_icd AS procs ON procs.hadm_id = diags.hadm_id AND datetime(diags.admittime) BETWEEN datetime(procs.charttime) AND datetime(procs.charttime, '+1 month') WHERE patients.dob = '2100-01-01' AND procs.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other repair of vessel' ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
b1a78da076378d37eda3aeb6,What are the top four most commonly diagnosed conditions since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 4"
946656a7c18d9898d7d2613c,Can you provide the minimum daily number of patients diagnosed with long term (current) use of insulin?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long term (current) use of insulin' ) GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,
e50069b13140ebddc5f39a48,What's the monthly average weight of patient 10011398 since 01/2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-01' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT AVG(chartevents.valuenum), MONTH(chartevents.charttime) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10011398 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2000-01-01' GROUP BY MONTH(chartevents.charttime) ORDER BY chartevents.charttime ASC"
a7957c2fffd3930db882e4cc,Count the number of patients who underwent a rbc lab test since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT labevents.subject_id) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.test_name = 'rbc' ) AND datetime(labevents.charttime) >= datetime(current_timestamp,'-1 year')"
9a56a0173232de3b3d548756,"Since 2100, what are the top five most common medications prescribed in the same hospital visit to the patients aged 60 or above after they were diagnosed with unspecified acquired hypothyroidism?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified acquired hypothyroidism' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m.drug, COUNT(*) AS frequency FROM admissions a JOIN icd9 ic ON a.hadm_id = ic.hadm_id JOIN prescriptions p ON a.hadm_id = p.hadm_id JOIN patients pa ON a.subject_id = pa.subject_id WHERE ic.icd_code LIKE '244.9%' AND pa.dob <= DATE_SUB(CURRENT_DATE, INTERVAL 60 YEAR) AND m.startdate BETWEEN a.admittime AND DATE_ADD(a.dischtime, INTERVAL 2100 SECOND) GROUP BY m.drug ORDER BY frequency DESC LIMIT 5"
d0d4ddd524dec4c4fd73c769,What is the patient count for midazolam prescription since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'midazolam' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug LIKE 'midazolam%' AND datetime(prescriptions.startdate) >= datetime('2100-01-01')
15a45174676987c6a3c0c4af,What percentile does a urea nitrogen value of 15.0 for patient 10001725 place in today on the first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 15.0",,SELECT PERCENT_RANK() OVER (ORDER BY chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.admittime <= current_date() AND admissions.dischtime >= current_date() ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'UREA NITROGEN' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum = 15.0
773553bf367568bb392e4143,How many patients stayed at the trauma sicu (tsicu) since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'trauma sicu (tsicu)' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.icu = 'tsicu' ) ) AND admissions.admittime >= '2100-01-01'
8cdc13df0df6b0ba2bfeed8c,I want to know the ward id that patient 1784 can go in and get in?,,,
1081d7abee1a338f85c00408,Did patient 10027602 take a gt flush medication on 12/06/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gt flush' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-12-06'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10027602 AND medications.doseunit = 'gtt flush' AND datetime(medications.starttime) = datetime('12/06/2100')
22e1a21fc783d4bd45120187,Could you tell me the first heart rate value that patient 10008454 had on this month/03?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '03' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid = 220051 AND chartevents.charttime LIKE '%/%/03' ORDER BY chartevents.charttime LIMIT 1
d3693b3ee981749f8a199c7b,"For the last time since 07/2100, what specimen test did patient 10007818 get?","SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(chartevents.charttime) >= '07/01/2100' ORDER BY chartevents.charttime DESC LIMIT 1
28df687aecadf8f1d696c1f6,When has patient 10018845 been given phosphate test for the last time?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%phosphate%' ) ORDER BY chartevents.charttime DESC LIMIT 1
8d5bb2ecca85dfad41515eb5,Has patient 10010471 been admitted to the emergency room since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10010471 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') AND admissions.admission_type = 'Urgent'"
073c3923948729f403a5e5a3,Can you tell me patient 10031404's daily maximum weight since 2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) >= '2100' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('2100-01-01')
b5b6f1a8e33ce9cea9bd0292,When was the last time patient 10007928 had the maximum rdw during the last hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1"
3756db86af40c5904040408f,What was patient 10021666's minimum SaO2 reading?,SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ),[{'MIN(chartevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021666 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'SaO2' )
8fe4b6848aa995f8ab0554ae,"On the first hospital stay, did patient 10005817 undergo a single internal mammary-coronary artery bypass procedure?",SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'single internal mammary-coronary artery bypass' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'internal mammary-coronary artery bypass, single' ) AND procedures_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ORDER BY admissions.admittime ASC LIMIT 1 )"
a7419fe163e1296529d925bc,What was the name of the organism found in the first bronchoalveolar lavage microbiology test of patient 10007818 in 07/this year?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT microspecimens.org_name FROM microspecimens WHERE microspecimens.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND microspecimens.chartdate BETWEEN DATE_FORMAT(CURRENT_DATE,'%Y-07-01') AND DATE_FORMAT(CURRENT_DATE,'%Y-07-31') AND microspecimens.spec_type_desc = 'bronchoalveolar lavage' AND microspecimens.site = 'lower respiratory tract' AND microspecimens.test_status = 'positive' ORDER BY microspecimens.chartdate ASC LIMIT 1"
132aee5ba3480c54ca8cee44,What are the top three most frequent microbiology tests since 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]",
54b2b03726835ece7168728e,What was the first time patient 10021938 was discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10021938 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT min(admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10021938
0d0dfd8344c44ef1ba5abcc4,What was the name of patient 10014078's insurance in the last hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicaid'}],SELECT insurance.description FROM admissions JOIN insurance ON admissions.insurance_id = insurance.insurance_id WHERE admissions.subject_id = 10014078 ORDER BY admissions.admittime DESC LIMIT 1
99ce32579f34baf63f28f671,"On the current hospital visit, how many hours passed since the first physical restraints status diagnosis of patient 10004733?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'physical restraints status' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%restraint status%' AND d_items.linksto = 'chartevents') AND chartevents.valuenum = 1 AS first_restraint_time; SELECT (SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = first_restraint_time.hadm_id AND chartevents.itemid = first_restraint_time.itemid AND chartevents.valuenum = 1) - first_restraint_time AS time_passed;
ffcd5cfa2ddc5dc30fef4cd5,"When, since 03/30/2100, was patient 10020740's respiratory rate measured less than 21.0 for the first time?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 21.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-03-30' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory rate' ) AND chartevents.valuenum < 21 AND chartevents.charttime >= '03/30/2100' ORDER BY chartevents.charttime ASC LIMIT 1
a34a60cc88fbeb47c1d1c41d,What is the daily maximum value of weight for patient 10019385 in 03/2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) = '2100-03' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT MAX(valuenum) FROM chartevents WHERE subject_id = 10019385 AND itemid IN (SELECT itemid FROM d_items WHERE label = 'Daily Weight') AND charttime BETWEEN '2000-03-01' AND '2000-03-31'
f8a06b403db41f5348bf90f8,What was the name of the organism found in patient 10021487's first bronchoalveolar lavage microbiological test since 03/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' AND d_items.label LIKE '%bronchoalveolar lavage%' ) AND datetime(chartevents.charttime) >= datetime('03/2100') ORDER BY chartevents.charttime ASC LIMIT 1
1153946181f7d7b47dbdc917,When did patient 10007818 receive the tobramycin test for the last time?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'tobramycin' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tobramycin (serum)' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
c67d548b3887ca38058fde7e,Has patient 10012853 been admitted to the emergency room?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.admission_type = 'EMERGENCY'
3f37877d41058e4ed337aadb,What was the organism found in the first microbiology test done on the patient 10021312's bronchial washings since 03/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND microbiologyevents.spec_type_desc = 'bronchial washings' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_id FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND microbiologyevents.spec_type_desc = 'Bronchial Wash' AND datetime(microbiologyevents.chartdate) >= datetime('03/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
ba4c239a6efd2a45b4fd4c15,What are the four most frequent microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}]","SELECT test, COUNT(*) AS frequency FROM microbiologyevents WHERE datetime(chartdate) >= datetime(current_date,'-1 year') GROUP BY test ORDER BY frequency DESC LIMIT 4"
9c4387eddc635a52994b4e04,How much does it cost for a severe sepsis diagnosis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'severe sepsis' ) ),,
d4d40dd78c364c6f666d1a05,What percentile does a platelet count value of 328.0 for patient 10023117 place in today on the last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 328.0",,
f4222a52ce7d21c3c9d3c000,What are the precautions that are incurred after undergoing a oth transureth prostatec procedure?,,,
367b2116257001fe013bc048,When is the earliest next visit of patient 8773 for other departments?,,,SELECT MIN(appointments.next_visit) FROM appointments WHERE appointments.patient_id = 8773 AND appointments.department != 'current'
486691bb6da24ab4f1918724,Tell me the first output of patient 10015860 since 06/05/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-05' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Void'}],
1e6bb4278191e2e7636f9b0b,"What were the five most frequently ordered procedures for patients who had also received drainage of left pleural cavity, percutaneous approach within the same month this year?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) AND procedures_icd.chartdate BETWEEN datetime(current_date,'start of month') AND datetime(current_date,'end of month') GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
819c7fee312e5058c9f3296f,What was the first drug that patient 10037861 had been prescribed via the neb route in 10/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND prescriptions.route = 'neb' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT MIN(chartevents.starttime), chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10037861 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.type = 'output' AND d_items.linksto = 'chartevents' ) AND chartevents.stoptime >= '2021-10-01' AND chartevents.stoptime < '2021-11-01' AND chartevents.value = 'NEB' GROUP BY chartevents.itemid ORDER BY MIN(chartevents.starttime) ASC LIMIT 1"
8bbc16e7b33ddf49226c0c8e,How much sodium bicarbonate was prescribed the last time since 11/2100 to patient 10006053?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND prescriptions.drug = 'sodium bicarbonate' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT amount FROM prescriptions WHERE prescriptions.subject_id = 10006053 AND prescriptions.drug = 'sodium bicarbonate' AND prescriptions.startdate >= '11/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
5ebecd683c34753383eaaa76,What medication was prescribed for the first time during their first hospital visit to patient 10003046?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Iso-Osmotic Dextrose'}],"SELECT admissions.admittime, first(icd9 diagnoses.icd9_code, admissions.admittime) AS first_diagnosis FROM admissions JOIN icd9 diagnoses ON admissions.hadm_id = diagnoses.hadm_id WHERE admissions.subject_id = 10003046 ORDER BY admissions.admittime ASC LIMIT 1"
a3bc0d803f5c36757f71d51c,Was patient 10004733's glucose last measured on the current hospital visit greater than the value first measured on the current hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT chartevents.valuenum > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'glucose' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'glucose' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
0d74b2ee638041bc581f98ec,When was the first sputum microbiology test of patient 10027602's performed in 12/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'sputum' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],
e7552c3d9e8f53dd5494cd5d,"What is the cost for the procedure other operations on carotid body, carotid sinus and other vascular bodies?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other operations on carotid body, carotid sinus and other vascular bodies' ) )",,"SELECT AVG(procedures_icd.charges) FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%operations on carotid body, carotid sinus and other vascular bodies%'"
80804f44b70738e1d5232084,What number of patients were in the neurology during the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neurology' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM patients WHERE patients.admittime >= date_sub(current_date, INTERVAL 1 YEAR) AND patients.hospital_service = 'neurology'"
d376f746682d3677c16ad196,"For patients who were diagnosed with bradycardia, unspecified since 1 year ago, what are the top three most common medications that followed afterward in the same hospital encounter?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bradycardia, unspecified' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT drugs.drug, COUNT(*) AS occurrences FROM ( SELECT admissions.subject_id, admissions.hadm_id FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = 'I49' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ) AS patients JOIN prescribings AS drugs ON patients.hadm_id = drugs.hadm_id GROUP BY drugs.drug ORDER BY occurrences DESC LIMIT 3"
b2c10ed422acd1b5e903bf20,Show me patient 10020740's yearly maximum weight since 28 months ago.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month') GROUP BY strftime('%Y',chartevents.charttime)",[],"SELECT EXTRACT(YEAR FROM chartevents.charttime) AS Year, MAX(chartevents.valuenum) AS Max_Weight FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily Weight' AND d_items.linksto = 'chartevents') AND chartevents.charttime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 28 MONTH) AND CURRENT_DATE GROUP BY Year ORDER BY Year ASC"
dc47e1e9c572da5b543bcf0e,"What are the five commonly taken specimens for patients that received excision of right internal mammary artery, percutaneous endoscopic approach previously within 2 months since 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right internal mammary artery, percutaneous endoscopic approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right internal mammary artery, percutaneous endoscopic approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime('2100-01-01 00:00:00','+2 month') ) ) ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
617a17c6fecd772da2fb9fb1,When did the first discharge from the hospital happen for patient 10012853?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10012853 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2175-04-10 16:55:00'}],SELECT min(admitemps.charttime) FROM admitemps WHERE admitemps.subject_id = 10012853 AND admitemps.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'discharge from hospital' )
b6b5724cdad99c96a0d0a001,When did patient 10024043 get a mrsa screen microbial test for the first time?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname LIKE '%mrsa%' OR d_labitems.testname LIKE '%MRSA%' ) ORDER BY labevents.charttime ASC LIMIT 1
68ed3b6273aa80637c7691c7,"In this year, what were the top four most commonly tested specimens?","SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= '2022-01-01' AND chartevents.charttime <= '2022-12-31' AND d_items.linksto = 'chartevents' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 4"
4171edfb2349dc1b264cd1dd,When did patient 10007818 have the first body temperature less than 98.9?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 98.9 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid = 678 AND chartevents.valuenum < 98.9 ORDER BY chartevents.charttime ASC LIMIT 1
4711ca09480e8240ce0059df,What was the organism detected in patient 10021487's last blood culture microbiology test since 12/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.chartdate >= '12/01/2100' AND microbiologyevents.spec_type_desc = 'blood culture' ORDER BY microbiologyevents.chartdate DESC LIMIT 1
1f207d94f4dd9613e4d69a5d,"In 2100, how often was introduction of other therapeutic substance into peripheral artery, percutaneous approach done?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into peripheral artery, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,
71e8c2b5076850658d8e63ed,"Among patients who were given destruction of right lower lung lobe, via natural or artificial opening endoscopic in 2100, what are the top four most common specimens tested afterward during the same hospital visit?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right lower lung lobe, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_items.label, COUNT(*) AS count FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE transferdt BETWEEN '2021-01-01' AND '2021-12-31' AND hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'destruction of right lower lung lobe, via natural or artificial opening endoscopic' ) ) ) GROUP BY d_items.label ORDER BY count DESC LIMIT 4"
a5681c4eead8c8b2e1968ab1,How much furosemide has been prescribed to patient 10027445 in 08/this year in total?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.drug = 'furosemide' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c_amount) FROM prescriptions WHERE subject_id = 10027445 AND drug = 'furosemide' AND datetime(chartdate) >= datetime('2023-08-01') AND datetime(chartdate) < datetime('2023-09-01')
2ca6827b5997d6850fe15912,Has patient 10007058 got a lab test during this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND labevents.charttime >= CURDATE() - INTERVAL 1 YEAR
051c19cebb0a8796d0c84043,"What are the three most frequently given lab tests for patients that were diagnosed with atrial fibrillation previously within the same month, in 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atrial fibrillation' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.admittime >= '2010-01-01 00:00:00' AND admissions.admittime < '2011-01-01 00:00:00' AND admissions.d_items_id IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%atrial fibrillation%' ) GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 3"
304ffa7e26d4e39086d0933b,What was patient 10001725's minimum value of basophils in 04/2100?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) AND strftime('%Y-%m',labevents.charttime) = '2100-04'",[{'MIN(labevents.valuenum)': None}],SELECT min(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'basophils' ) AND chartevents.charttime BETWEEN '04/01/2010' AND '04/30/2010'
fe412705ae90c13acf0a2033,Provide the count of hospital visits for patient 10009049 since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10009049 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],
306cfa6b9fa0c1c51c7dcd49,What new medications were prescribed to patient 10039831 today as compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT admittime, medications.text FROM admissions JOIN medications ON admissions.hadm_id = medications.hadm_id WHERE admissions.subject_id = 10039831 AND medications.startdate BETWEEN datetime(current_time, 'start of day', '-1 day') AND datetime(current_time, 'end of day', '-1 day') UNION SELECT admittime, medications.text FROM admissions JOIN medications ON admissions.hadm_id = medications.hadm_id WHERE admissions.subject_id = 10039831 AND medications.startdate BETWEEN datetime(current_time, 'start of day') AND datetime(current_time, 'end of day') EXCEPT SELECT admittime, medications.text FROM admissions JOIN medications ON admissions.hadm_id = medications.hadm_id WHERE admissions.subject_id = 10039831 AND medications.startdate BETWEEN datetime(current_time, 'start of day', '-1 day') AND datetime(current_time, 'end of day', '-1 day')"
03cc8765cbc06f1cff174a6c,When did patient 10004733 get an input for the last time on 12/26/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '12-26' ORDER BY inputevents.starttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND chartevents.charttime BETWEEN '12/26/this year 00:00:00' AND '12/26/this year 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
3721cd5bc8e32a4de1812101,Tell me the minimum total hospital cost that involves a procedure called unilateral simple mastectomy?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'unilateral simple mastectomy' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(accounts.amount) FROM accounts JOIN admissions ON accounts.hadm_id = admissions.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = (SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'unilateral simple mastectomy')
00249e27093cdde779012293,"Has docusate sodium (liquid), glucose gel, or heparin been prescribed since 2100 to patient 10036156?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND prescriptions.drug IN ( 'docusate sodium (liquid)', 'glucose gel', 'heparin' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10036156 AND prescriptions.startdate >= '2100-01-01' AND prescriptions.drug IN ('docusate sodium (liquid)', 'glucose gel', 'heparin')"
c72ddd4c729a31793b216593,What is the average absolute monocyte count value of patient 10004720 since 10/2100?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute monocyte count' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-10'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'absolute monocyte count' ) AND chartevents.charttime >= '10/2100'
f7dd12718e496d0937b3d1be,What is the percentile of 1.9 in a phosphate lab test conducted at the same age as patient 10007928 on their last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 1.9",,
75054e4a84c29aca4b3607df,What was the total number of input patient 10021487 has received since 09/07/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-07'",[{'SUM(inputevents.totalamount)': 169730.0}],
05c1bc3943f37d24fbc4a227,What was patient 10009049's last tested culture since 24 months ago?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-24 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%Culture%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-24 month') ORDER BY chartevents.charttime DESC LIMIT 1"
1e114a0ca464f5bf590ace7d,Do you think patient 24132 is subject to covid-19 testing?,,,
d1bf30f1b6904076c39146bb,What's the maximum daily number of patients who were diagnosed with other opiates and related narcotics causing adverse effects in therapeutic use since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other opiates and related narcotics causing adverse effects in therapeutic use' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(cnt) FROM ( SELECT DATE(labevents.charttime) AS dt, COUNT(*) AS cnt FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id INNER JOIN d_icd_diagnoses ON admissions.drg_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.short_title = 'other opiates and related narcotics causing adverse effects in therapeutic use' AND labevents.charttime >= '2100-01-01' GROUP BY dt ) AS t1"
42a736dc3448b6c72bebe5a9,What's the minimum daily number of patients who were diagnosed with essential and other specified forms of tremor in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'essential and other specified forms of tremor' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,
f11bfe4033fc6ace5d5cf382,"Did patient 10021312 receive any destruction of left main bronchus, via natural or artificial opening endoscopic treatment in the previous year?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of left main bronchus, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS pi JOIN admissions AS a ON pi.hadm_id = a.hadm_id WHERE pi.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of left main bronchus, via natural or artificial opening endoscopic' ) AND a.subject_id = 10021312 AND pi.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
a975cd9e522a7abecfd9d1ff,What was patient 10001725's daily maximum weight this year?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10001725 AND YEAR(chartevents.charttime) = YEAR(CURDATE()) AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'daily weight')
8647d1bf21a4ae9c764a0b98,What was patient 10027602's average value of mch in 11/2100?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND strftime('%Y-%m',labevents.charttime) = '2100-11'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mch' AND d_items.linksto = 'labevents' ) AND chartevents.charttime BETWEEN '2011-11-01 00:00:00' AND '2011-11-30 23:59:59'
781463ec4654dbff8c5df153,Did patient 10002930 have any prescriptions for medicines in their last hospital visit?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 ORDER BY admissions.admittime DESC LIMIT 1 )
59d3175a30ad9fe65e39996d,"How many times, since 1 year ago, was a open reduction of fracture with internal fixation, humerus procedure ordered?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'open reduction of fracture with internal fixation, humerus' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM d_order WHERE d_order.ordercategoryname = 'Procedure' AND d_order.orderlevelname = 'Procedure' AND d_order.orderstatus = 'Final' AND d_order.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays ) ) AND d_order.order_time >= ( SELECT datetime(current_time, '-1 year') ) AND d_order.order_shortcut = 'open reduction of fracture with internal fixation, humerus'"
f9d583c499e7bd1c044a24a0,What was the drug that was prescribed to patient 10018501 within the same hospital visit after the alcohol detoxification since 10 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-10 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-10 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime FROM admissions WHERE subject_id = 10018501 AND admittime >= (SELECT datetime(current_time,'-10 month')) AND dischtime <= (SELECT datetime(current_time)) INTERSECT SELECT drug_name FROM prescriptions WHERE hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10018501 AND admittime >= (SELECT datetime(current_time,'-10 month')) AND dischtime <= (SELECT datetime(current_time)) AND diagnosis LIKE '%alcohol detoxification%')"
89ef9c7f4b5b2407980dfada,Was patient 10019777 on any vital high protein (full) in 03/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'vital high protein (full)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) = '2100-03'",[{'COUNT(*)>0': 0}],
b0e8ceb89dac04c7f918d0aa,What was the condition patient 10038999 was diagnosed with last time in the first hospital encounter?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
d110cb39c939189ff2381a4e,Do you know how many operating rooms are currently available?,,,
08eeb31e70fedda9acf60d5d,When will patient 57023 be able to visit other departments?,,,
781a848c0f1a072d4667722d,Is patient 21074 subject to tests involving covid-19?,,,SELECT COUNT(*) > 0 FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 21074 ) AND d_labitems.testname LIKE '%covid-19%'
783bda443eb8e764428abb4d,"When has patient 10001217 last had the total protein, csf minimum value since 12/2100?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, csf' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-12' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total protein, csf' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime < '12/2100' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
8d848bb37c4790115eb54b25,How many patients were in neuro stepdown in the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro stepdown' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admittime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE() AND transfers.dbsource = 'neuro stepdown'"
4ee0ef355bae021a512da458,"What was the first time that patient 10031757 was prescribed acetaminophen and phosphorus since 10/2100, at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'acetaminophen' AND admissions.subject_id = 10031757 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'phosphorus' AND admissions.subject_id = 10031757 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],
d22a0040ed5e1ed60f2c89ea,"What was the first time that patient 10004422 was prescribed aspirin ec and milk of magnesia in 01/this year, at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'aspirin ec' AND admissions.subject_id = 10004422 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '01' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'milk of magnesia' AND admissions.subject_id = 10004422 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '01' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(orders.charttime) FROM orders WHERE orders.subject_id = 10004422 AND orders.order_date >= '2022-01-01' AND orders.order_date < '2022-02-01' AND orders.order_type IN ('aspirin ec', 'milk of magnesia') GROUP BY orders.subject_id HAVING COUNT(orders.order_type) = 2"
906878394c7c53d1c7d622c0,I would like to know all of the prescriptions patient 21003 received at the other department.,,,"SELECT prescriptions.drug, prescriptions.dose, prescriptions.route, prescriptions.rate, prescriptions.duration, prescriptions.stopped FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 21003 ) AND prescriptions.hospital_id <> ( SELECT admissions.hospital_id FROM admissions WHERE admissions.subject_id = 21003 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 21003 ) )"
9536521393863e42357a143b,What was the maximum phosphate value for patient 10012853 in the first hospital visit?,SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ),[{'MAX(labevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10012853 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE subject_id = 10012853) AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'Phosphate') AND chartevents.valuenum IS NOT NULL
c7b252f65de6eab4598bf4ae,When was the last time yesterday that patient 10018081's systolic blood pressure was measured greater than 88.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 88.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%systolic blood pressure%' ) AND chartevents.valuenum > 88.0 AND chartevents.charttime >= CURDATE() - INTERVAL 1 DAY ORDER BY chartevents.charttime DESC LIMIT 1
ffdfd1a0a23a14c7d23101f8,Can you show me the top four most frequent lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_date,'-1 year') GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
f93e415636fa3dd73984e7dc,What's the percentile of 6.0 in a alanine aminotransferase (alt) lab test at the same age as patient 10029484 during their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 6.0",,
08b21636e8a003182b06159f,When was the first hospital discharge for patient 10035185?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10035185 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE admissions.subject_id = 10035185 ORDER BY admittime ASC LIMIT 1
2d6e4345dac956dd550150ea,When patient 10014078 first had a urine microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND microbiologyevents.spec_type_desc = 'urine' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine microbiology' ) AND datetime(chartevents.charttime) >= datetime('2003-01-01')
e456aafa65dbfb805ba11016,When was patient 10020740's respiratory rate first measured less than 20.0 in their first ICU stay?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 20.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.subject_id = 10020740 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 20 AND icustays.first_icu_stay = 1 ORDER BY chartevents.charttime ASC LIMIT 1
b0dd61356a38fe4d8c8eda84,What are the newly prescribed drugs for patient 10004733 today compared to those prescribed yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT drugs.drug_name FROM ( SELECT d_items.label AS drug_name, orders.status, orders.charttime FROM orders JOIN d_items ON orders.itemid = d_items.itemid WHERE orders.subject_id = 10004733 AND orders.charttime BETWEEN current_date AND current_time ) AS drugs WHERE drugs.status = 'Final' AND drugs.charttime BETWEEN current_date - interval 1 day AND current_date AND drugs.drug_name NOT IN ( SELECT d_items.label FROM orders JOIN d_items ON orders.itemid = d_items.itemid WHERE orders.subject_id = 10004733 AND orders.charttime BETWEEN current_date - interval 2 day AND current_date - interval 1 day )"
af2418efda8240fde827a469,What are the top five most common specimens being tested for patients who were diagnosed with unspecified viral hepatitis c with hepatic coma in the same month since 2100?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified viral hepatitis c with hepatic coma' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime AND admissions.admittime >= '2100-01-01' AND admissions.diagid IN ( SELECT diagnosis_icd.diagid FROM diagnosis_icd JOIN d_icd_diagnoses ON diagnosis_icd.icd_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.short_title IN ('unspecified viral hepatitis c with hepatic coma') ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
0565efc9f6e08966694b0d93,How many times did patient 10001217 go to the hospital?,SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10001217,[{'COUNT( DISTINCT admissions.hadm_id )': 2}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10001217
0d3e4b5300ddd4eb6f8b7629,Tell me the total number of patients in neurology.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neurology' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT subject_id) FROM admissions WHERE admissions.d_items = 'Neurology'
27672ae2ddb12a394c90cad6,Get me the top three most frequent medications that patients were prescribed with within the same month after being diagnosed with traumatic shock since 2100.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'traumatic shock' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m.drug, COUNT(*) AS frequency FROM admissions a JOIN icustays i ON a.hadm_id = i.hadm_id JOIN chartevents ce ON i.stay_id = ce.stay_id JOIN medications m ON ce.icustay_id = m.icustay_id JOIN d_icd_diagnoses did ON a.icd_code = did.icd_code WHERE did.short_title = 'traumatic shock' AND ce.charttime BETWEEN a.admittime AND DATE_ADD(a.admittime, INTERVAL 1 MONTH) AND m.starttime BETWEEN a.admittime AND DATE_ADD(a.admittime, INTERVAL 1 MONTH) AND YEAR(a.admittime) = 2100 GROUP BY m.drug ORDER BY frequency DESC LIMIT 3"
f7e72869cfd4d186d37a8a6d,"Has patient 10026354 undergone reposition left mandible with external fixation device, percutaneous approach?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'reposition left mandible with external fixation device, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'reposition left mandible with external fixation device, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 )"
81ab57679b81047f17e36e2c,"What was the number of patients receiving venous catheterization, not elsewhere classified since 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'venous catheterization, not elsewhere classified' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.itemid = ( SELECT d_icd_procedures.itemid FROM d_icd_procedures WHERE d_icd_procedures.short_title = 'venous catheterization, not elsewhere classified' ) AND procedures_icd.chartdate >= '2100-01-01'"
2d72caa3a5dafdb3b343b78e,Tell me the maximum total hospital cost that involves unspecified glaucoma in 2100.,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified glaucoma' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(finance.total_hospital_cost) FROM finance JOIN diagnoses_icd ON finance.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '360.01' AND finance.hospital_expire_flag = 2100
1d930d1bc64cf3b52d4cfe25,Tell me the total output on 11/28/this year for patient 10027602.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '11-28'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2023-11-28%'
c550bac1aacd2bc72e7e12ab,What was the admission type for patient 10009049's last visit to the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10009049 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'EW EMER.'}],SELECT admission_type FROM admissions WHERE subject_id = 10009049 ORDER BY admittime DESC LIMIT 1
b184bcbbaadeb5289f8fd10a,What are the four most frequently ordered medications that patients in their 20s were prescribed in the same month after they were diagnosed with tobacco use disorder?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'tobacco use disorder' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 20 AND 29 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT m.drug, COUNT(*) as count FROM admissions a JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id JOIN prescribings m ON a.hadm_id = m.hadm_id WHERE d.icd_code LIKE 'F17%' AND a.admit_age BETWEEN 20 AND 29 GROUP BY m.drug ORDER BY count DESC LIMIT 4"
5fdedc40e18f8009f6111be2,Was nacl 0.9% administrated to patient 10015272 on their last ICU stay?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM inputevents_cv WHERE inputevents_cv.subject_id = 10015272 AND inputevents_cv.icustay_id IN (SELECT icustays.icustay_id FROM icustays WHERE icustays.subject_id = 10015272 ORDER BY icustays.intime DESC LIMIT 1) AND inputevents_cv.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = '0.9% NaCl' AND d_items.category = 'Input')
1b9d385c18198422e5cc0a04,The first time patient 10007795 was prescribed lactated ringers and gemfibrozil at the same time since 06/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'gemfibrozil' AND admissions.subject_id = 10007795 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'lactated ringers' AND admissions.subject_id = 10007795 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.drug IN ('Lactated Ringers', 'Gemfibrozil') AND prescriptions.startdate >= '2010-06-01' ORDER BY prescriptions.startdate ASC LIMIT 1"
d0bd21030a9fe3f066df09b3,Was patient 10022880 diagnosed with any type of disease in the last year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10022880 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
f6274c47226150acc9cef0e2,Find out the number of medicines given to patient 10002428.,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ),[{'COUNT(*)': 320}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10002428
9043871db343ad385db09772,When did patient 10010471's first microbiological test occur since 1 month ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2155-12-03 19:58:00'}],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month')"
48a5e161532f3acc6752f577,Tell me the top three most prevalent procedures for patients aged 20s in this year.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS occurrences FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE) AND admissions.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 29 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 20 YEAR) GROUP BY d_icd_procedures.long_title ORDER BY occurrences DESC LIMIT 3"
9ef4ff1a80eff792fae7eaf6,Calculate the number of patients diagnosed with other and unspecified escherichia coli [e. coli] in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified escherichia coli [e. coli]' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code IN ( SELECT icd9_cm.icd9_code FROM icd9_cm WHERE icd9_cm.icd9_code LIKE '008.6%' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE YEAR(admissions.admittime) = 2010 )
13123a9ba850d6caba5a0faa,Has patient 10029484 been diagnosed with any diseases this year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*)>0 FROM diagnoses_icd AS diags WHERE diags.subject_id = 10029484 AND YEAR(diags.admittime) = YEAR(CURRENT_DATE)
11608a4c97632da4a6c7043d,What is the name of the drug which should not be administered during the venous cath nec procedure?,,,
9650f7dfbf4442af6df9fb82,What was the name of the outputs that patient 10027445 first had on 09/10/this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '09-10' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
56ad123e50882b48474bc758,What are the five commonly ordered medications that patients aged 60 or above were prescribed within the same month after diagnosed with other nonspecific findings on examination of urine?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other nonspecific findings on examination of urine' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescriptions.drug, COUNT(*) AS count FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = admissions.icd_code WHERE d_icd_diagnoses.short_title = 'other nonspecific findings on examination of urine' AND admissions.age >= 60 GROUP BY prescriptions.drug ORDER BY count DESC LIMIT 5"
79e773e17e3c570dd78813ae,"How many patients received extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic treatment in the same month after having been diagnosed with other diseases of bronchus, not elsewhere classified since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other diseases of bronchus, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,
da71745a0892dc4e3347b091,What is the method for disinfecting the quarantine room?,,,
32176427d268868d414b69a1,Has patient 10038933 been admitted into the emergency room since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.admittime > '2100-01-01'
90ca159192db0f36dc910080,"What are the three most commonly ordered procedures for patients who were previously diagnosed with abdominal pain, unspecified site, which occurred within 2 months since 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abdominal pain, unspecified site' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = '789.00' AND datetime(admissions.admit_dt) >= datetime('2100-01-01','+2 month') ) GROUP BY d_icd_procedures.long_title ORDER BY COUNT(*) DESC LIMIT 3"
3611ae2dcaeae9a7d87cdf93,What is the ward id where patient 5828 can be admitted?,,,
1d5758a11b098e86ecfcc86d,What was the total amount of insulin that they prescribed to patient 10012552 in 04/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND prescriptions.drug = 'insulin' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(dose) FROM prescriptions WHERE prescriptions.subject_id = 10012552 AND prescriptions.d_items IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%insulin%' ) AND prescriptions.startdate BETWEEN '2022-04-01' AND '2022-04-30'
f4cfc4a663fd49aeace78486,Are there any changes in the prescribed drugs of patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT c.subject_id, c.hadm_id, c.stay_id, c.startdate, c.enddate, c.stop_reason, d.drgname FROM chartevents AS c JOIN d_items AS d ON c.itemid = d.itemid WHERE c.subject_id = 10018081 AND c.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081) AND d.drgtype = 'Medication' AND c.charttime BETWEEN (SELECT MAX(charttime) FROM chartevents WHERE charttime < CURRENT_DATE - INTERVAL 1 DAY AND subject_id = 10018081 AND hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081)) AND (CURRENT_DATE)"
8f4606909a78a1bbf2992c5c,"In their first hospital encounter, what was the last recorded weight for patient 10038081?",SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10038081 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily Weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime IN ( SELECT MAX(chartevents.charttime) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10038081 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10038081 ) ) LIMIT 1
45d81fe4cd05b27444d9f58e,What does a procedure under the name coronary arteriography using two catheters cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'coronary arteriography using two catheters' ) ),,
e8debe591ef7f4b4639bad49,When did patient 10031404 since 07/04/2100 for the first time have an input?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-04' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2113-08-04 19:00:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND chartevents.charttime >= '07/04/2100' ORDER BY chartevents.charttime ASC LIMIT 1
def0418fbc10900a82ffd5b9,How many cases involved the prescription of insulin (regular) for hyperkalemia since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'insulin (regular) for hyperkalemia' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'insulin (regular)' AND prescriptions.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.intime >= '2100-01-01' ) ) AND prescriptions.order_time >= '2100-01-01'
b6c95050bdc4cd4c317d476e,"Tell me the four most common microbiology tests for patients who were previously diagnosed with fall on same level, unspecified, initial encounter during the same month since 2100.","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'fall on same level, unspecified, initial encounter' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT test_name, COUNT(*) AS test_count FROM ( SELECT mtest.test_name FROM microbiologyevents AS mtest JOIN admissions AS adm ON mtest.hadm_id = adm.hadm_id JOIN diagnoses_icd AS d ON adm.hadm_id = d.hadm_id WHERE d.icd9_code = 'E8801' AND mtest.chartdate >= DATE_SUB(CURRENT_DATE(), INTERVAL 2100 DAY) AND mtest.chartdate <= LAST_DAY(DATE_SUB(CURRENT_DATE(), INTERVAL 2100 DAY)) ) subq GROUP BY test_name ORDER BY test_count DESC LIMIT 4"
46ff832eeb6e9d538497577e,What's the count of patients who left the hospital?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL,[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE admissions.dischgestype = 'Discharge Home'
0fcf3657ba17464a0f38afe8,What's the cost for cardiac mapping?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) ),,
3347c7735b3a39f53f492495,Tell me the average overall hospital cost that includes amitriptyline this year?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'amitriptyline' ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(admissions.total_cst) FROM admissions JOIN admissions drg ON admissions.hadm_id = drg.hadm_id JOIN chartevents ce ON admissions.hadm_id = ce.hadm_id WHERE drg.drg_code IN ( SELECT drg.drg_code FROM drg WHERE drg.icd9_code LIKE '296.%' ) AND ce.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'AMITRIPTYLINE' ) AND YEAR(admissions.admittime) = YEAR(CURDATE())
6ecbe5131fa2235952ed05b9,When was the last time patient 10029291 had a respiratory rate that was greater than 23.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 23.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid = 6155 AND chartevents.valuenum > 23 ORDER BY chartevents.charttime DESC LIMIT 1
c91e6629b913e405efe9b9e5,"How many patients received dilation of left common iliac vein with intraluminal device, percutaneous approach treatment within 2 months after having been diagnosed with accidental puncture and laceration of a circulatory system organ or structure during a circulatory system procedure since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidental puncture and laceration of a circulatory system organ or structure during a circulatory system procedure' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN procedures_icd AS proc1 ON admissions.hadm_id = proc1.hadm_id JOIN procedures_icd AS proc2 ON admissions.hadm_id = proc2.hadm_id WHERE patients.dob < '2100-01-01' AND proc1.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%accidental puncture and laceration of a circulatory system organ or structure%' ) AND proc2.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%dilation of left common iliac vein with intraluminal device, percutaneous approach%' ) AND JULIANDAY(proc2.chartdate) - JULIANDAY(proc1.chartdate) <= 60"
f6014eac249a07ee280d9634,What was the name of the specimen test which patient 10019777 has last received in their last hospital visit?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'STOOL'}],SELECT d_labitems.label FROM chartevents AS ce JOIN d_labitems ON ce.itemid = d_labitems.itemid WHERE ce.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10019777 ) ORDER BY ce.charttime DESC LIMIT 1
67d324104c936264768323f1,"When was the first time that patient 10036156 was tested for creatine kinase, mb isoenzyme on the last hospital visit?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.admittime <= current_time AND admissions.dischtime >= current_time ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) ORDER BY labevents.charttime ASC LIMIT 1"
dc9b3236056266b458fff17f,How many hours has it been since patient 10004733 stayed in the careunit medical/surgical intensive care unit (micu/sicu) during this hospital visit for the first time?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT julianday('now') - julianday(icustays.intime) as hours FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND icustays.icustay_id = ( SELECT MIN(icustays.icustay_id) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.icd9_code LIKE '496%' ) )
9f9db02efbdc2ea5168b658f,Show the respiratory rate changes of patient 10031757 measured at 2100-10-26 21:00:00 compared to the value measured at 2100-10-26 20:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-10-26 21:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-10-26 20:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-10-26 21:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-10-26 20:00:00' )"": None}]",SELECT ce1.valuenum - ce2.valuenum AS respiratory_rate_change FROM chartevents ce1 JOIN chartevents ce2 ON ce1.hadm_id = ce2.hadm_id AND ce1.subject_id = ce2.subject_id WHERE ce1.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND ce2.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND ce1.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND ce1.charttime = '2100-10-26 21:00:00' AND ce2.charttime = '2100-10-26 20:00:00'
c47c4a63334997fb668032de,What the proccedural of the drugs against cancer is?,,,
e6ffbc5a3950db37fba4014e,When did patient 10037861 have his last microbiology test in 10/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],
6088d9d109938b6b36160f41,What was the last value of a asparate aminotransferase (ast) lab test of patient 10021938 last month?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT labevents.valuenum FROM labevents WHERE labevents.subject_id = 10021938 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.charttime BETWEEN datetime('now', '-1 month') AND datetime('now') ORDER BY labevents.charttime DESC LIMIT 1"
cb480ff3c89f74e82be45053,What was the last drug prescribed since 12/2100 to patient 10021118?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Furosemide'}],"SELECT prescriptions.drug, prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10021118 AND datetime(prescriptions.startdate) >= datetime('2010-12-01') ORDER BY prescriptions.startdate DESC LIMIT 1"
5ec192bf57a5dff7718502ec,Calculate the length in days of patient 10031757's last stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.1996527779847383}]",SELECT MAX(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 )
e5b66a1b55593f1824235d1a,"Provide a list of the three most common diagnoses that patients were diagnosed with during the same month after undergoing the resection of vessel with replacement, thoracic vessels procedure in 2100.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'resection of vessel with replacement, thoracic vessels' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT icd9_code, COUNT(*) AS occurrences FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.admittime BETWEEN '2021-01-01' AND '2021-01-31' AND diagnoses_icd.icd9_code IN ( SELECT d_icd_procedures.icd9_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'resection of vessel with replacement, thoracic vessels' ) GROUP BY icd9_code ORDER BY occurrences DESC LIMIT 3"
a492bf5968b017604595cb27,Has patient 10008454 had any ptt lab tests done since 12/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-12'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.test_name = 'ptt' ) AND labevents.charttime >= '12/01/2100'
42ed29ca7381139bed4af657,Show me patient 10011398's total or urine output since 01/19/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or urine' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-01-19'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' OR d_items.label LIKE '%urine%' ) AND chartevents.charttime >= '01/19/2100' ORDER BY chartevents.charttime ASC
48990ab07c7867ac45c57394,Tell me the top three most frequently tested specimens since 1 year ago.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime(current_time,'-1 year') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
a5d91ebb2b0d935b9c493f9f,"In 2100, has patient 10019172 been diagnosed with any illness?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100'",,
71621e85a074b2ac8ffc6ace,How many hours has it been since patient 10004733's last cholesterol ratio (total/hdl) lab test in their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol ratio (total/hdl)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(labevents.charttime), CURRENT_TIMESTAMP) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol ratio (total/hdl)' )"
be95e0c0ef52ac9abbba1a3c,"What is the number of drainage of right pleural cavity with drainage device, percutaneous approach procedures carried out in this year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right pleural cavity with drainage device, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right pleural cavity with drainage device, percutaneous approach' ) AND DATE(procedures_icd.chartdate) >= DATE_FORMAT(CURDATE(),'%Y-01-01')"
5bfa45301dea4f2fbecbb26b,"For patient 10016742, what were the last mch lab results in 07/2100?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND strftime('%Y-%m',labevents.charttime) = '2100-07' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND datetime(labevents.charttime) = datetime('07/2100') ORDER BY labevents.charttime DESC LIMIT 1
6f420047cefd3ec90873fd93,What are the new prescriptions for patient 10018081 today compared to those received yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.stay_id, prescriptions.startdate, prescriptions.drug, prescriptions.dose, prescriptions.rate, prescriptions.units FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.startdate >= date_sub(current_date,1) AND prescriptions.startdate < current_date EXCEPT SELECT prescriptions.stay_id, prescriptions.startdate, prescriptions.drug, prescriptions.dose, prescriptions.rate, prescriptions.units FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.startdate >= date_sub(current_date,2) AND prescriptions.startdate < date_sub(current_date,1)"
c0ed5f3463fb838c2206713f,How many days have passed since patient 10004733 got his last diagnosis of proteus (mirabilis) (morganii) infection in conditions classified elsewhere and of unspecified site on their current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'proteus (mirabilis) (morganii) infection in conditions classified elsewhere and of unspecified site' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - julianday(chartevents.charttime) AS days_since FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND chartevents.hadm_id IN ( SELECT hadm_id FROM d_icd_diagnoses WHERE icd_code LIKE '040%' AND long_title LIKE '%proteus%' ) ORDER BY chartevents.charttime DESC LIMIT 1
47ed4895c2459c6df72bbc21,And how to find the code that shows icd-11 for mitral valve disorder in icd-10.,,,
cd733e64db1b7801954ac9ac,Where are the single rooms out there now?,,,
9c7986d4a90c81c0aaaf986f,When was the first blood culture microbiology test of patient 10039708's performed since 23 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-23 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10039708 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%blood culture%' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-23 month') ORDER BY chartevents.charttime ASC LIMIT 1"
6033e2bfc3a0657f188b7149,What was the name of the last specimen test which patient 10019385 has received in 03/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],
5a57c249d0fff38a58052135,"What are the four most typically ordered procedures for patients previously diagnosed with other anaphylactic reaction, which took place within 2 months?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other anaphylactic reaction' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN procedures_icd ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other anaphylactic reaction' ) AND procedures_icd.chartdate BETWEEN admissions.admittime AND datetime(admissions.admittime,'+2 months') GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
d6c396b04821fd366efe7a49,Show me the yearly minimum weight of patient 10027602 since 12/2100.,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-12' GROUP BY strftime('%Y',chartevents.charttime)",[],"SELECT YEAR(chartevents.charttime) AS Year, MIN(chartevents.valuenum) AS Min_Weight FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10027602 AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') AND chartevents.charttime >= '2010-12-01' GROUP BY Year ORDER BY Year"
dac65a4d9eca6e3f5529ae4b,What should i do in advance of bile duct incision nec,,,
4e1f8471625f8559d0c64629,Count the number of times that arteriography of renal arteries was performed since 1 year ago.,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of renal arteries' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of renal arteries' )"
88a7b298bbf40e3593b5f065,What are the top three most common specimens tested after receiving arteriography of other intra-abdominal arteries in the same month since 1 year ago?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other intra-abdominal arteries' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, count(*) AS occurrences FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'angiography, arteriography of other intra-abdominal arteries' ) AND procedures_icd.chartdate >= date_sub(current_date, interval 1 year ) ) AND chartevents.charttime BETWEEN procedures_icd.chartdate AND date_add(procedures_icd.chartdate, interval 1 month ) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY occurrences DESC LIMIT 3"
470559b06a3cc6cf01345c4a,"For patients who were previously diagnosed with fibromyalgia, what are the top three most frequent treatments within the same month in 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'fibromyalgia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,
893d50d72560ef334a7c8471,What drug was prescribed to patient 10021487 during the same hospital visit after the procedure of enteral infusion of concentrated nutritional substances in 12/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-12' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT prescriptions.gre_date, prescriptions.dose FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.admittime < '12/2100' AND admissions.dischtime > '12/2100' ) AND icustays.first_careunit = 'ICU' ) AND prescriptions.drug IN ( SELECT drugs_generic.name FROM drugs_generic WHERE drugs_generic.formulary_yn = 'Y' AND drugs_generic.name LIKE '%enteral infusion of concentrated nutritional substances%' ) ORDER BY prescriptions.starttime DESC LIMIT 1"
8b02463508e571bad82c1b76,What was the first iron value during the first hospital visit for patient 10039708?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'iron' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Iron' ) ORDER BY labevents.charttime ASC LIMIT 1
5330e3cf45faedb3477005e6,Can you provide the total number of outputs patient 10027445 had since 08/13/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-08-13'",[{'SUM(outputevents.value)': 13561.0}],
6d461d83bedc6045d8cf7019,Retrieve the top three most frequent diagnoses of patients with age in their 30s in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT icd9_code, COUNT(*) as count FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 39 YEAR) AND DATE_SUB(CURRENT_DATE(), INTERVAL 30 YEAR) AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' GROUP BY icd9_code ORDER BY count DESC LIMIT 3"
25a3fc060e58489fa5108651,"In this year, has patient 10018423 visited an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.admittime >= date_format(sysdate(),'%Y-01-01 00:00:00') AND admissions.admitypes = 'Emergency'"
9b039ee786a20e3b239037e0,How many patients were staying in med/surg/trauma in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/trauma' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
3310a57f349b527861680281,"What is the price of the drug, finasteride?",SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'finasteride' ),,
1ece08272edfd635b238cb47,Give me the count of patients who were prescribed nifedipine cr last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'nifedipine cr' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT pharmacy.pharmacy_id) FROM pharmacy INNER JOIN d_items ON pharmacy.itemid = d_items.itemid WHERE d_items.shortcut = 'NIFEDIPINE CR' AND pharmacy.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
f8739799c8cf7c00eb97451a,"During this year, has patient 10011398 received a diagnosis?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*) > 0 FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10011398 AND YEAR(admissions.admittime) = YEAR(CURRENT_DATE)
a2dcdcf12890887cb1bf85a7,What is the minimum monthly number of cases for unspecified atrial flutter?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified atrial flutter' ) GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT min(t.cnt) FROM ( SELECT DATE_FORMAT(chartevents.charttime, '%Y-%m') AS month , COUNT(chartevents.charttime) AS cnt FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'unspecified atrial flutter' GROUP BY month ) t"
d8f6cf3bc53a60de0a9fc811,When patient 10006053 last had a mrsa screen microbiology test in the previous month?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND datetime(microbiologyevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa screen%' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) BETWEEN datetime(current_time,'-1 month') AND datetime(current_time) ORDER BY chartevents.charttime DESC LIMIT 1"
07ee97c7d111eb378921826a,What is the minimum total cost of the hospital visits which include the medicine named fluticasone propionate 110mcg in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'fluticasone propionate 110mcg' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(total) FROM ( SELECT SUM(cpt_charges.charge) AS total FROM cpt_charges JOIN d_cpt ON cpt_charges.cpt_cd = d_cpt.cpt_cd JOIN admissions ON cpt_charges.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE d_cpt.title LIKE '%fluticasone propionate 110mcg%' AND YEAR(patients.dob) = 2100 GROUP BY admissions.hadm_id ) AS subquery
88c671a2840f4530415bcdf6,"What were the number of patients who received a hematocrit, calculated test?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit, calculated' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit, calculated' AND d_items.linksto = 'chartevents' )"
4d6effcf91960c4bd023a47c,Has any organism been found in patient 10038081's first blood (cmv ab) test conducted since 10/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND microbiologyevents.spec_type_desc = 'blood (cmv ab)' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],
85d31f9d8735d20c26163c0b,How many patients were diagnosed since 1 year ago with chronic systolic (congestive) heart failure?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic systolic (congestive) heart failure' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') )",,"SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE '428%' AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR) )"
187e5274711fbc5acb26d92f,When did patient 10004733 first have a maximum heart rate yesterday?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum = ( SELECT max(chartevents.valuenum) FROM chartevents WHERE chartevents.charttime > current_date - INTERVAL 1 DAY AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.charttime > current_date - INTERVAL 1 DAY ORDER BY chartevents.charttime ASC LIMIT 1
98c5ba7c0885aff19ce951a4,Tell me the insurance plan of patient 10029291 on the last hospital encounter.,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],SELECT insurance.planname FROM insurance WHERE insurance.subject_id = 10029291 ORDER BY insurance.hadm_id DESC LIMIT 1
218a35d3fd0012d75ff34412,Show me the top four microbiology tests.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}]","SELECT test, COUNT(*) AS count FROM microbiologyevents GROUP BY test ORDER BY count DESC LIMIT 4"
690cfb24a4808aace8c6a75a,How much does patient 10019777 change in weight second measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (t1.valuenum - t2.valuenum) FROM chartevents AS t1 JOIN chartevents AS t2 ON t1.stay_id = t2.stay_id WHERE t1.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND t1.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) AND t2.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) AND t1.charttime > t2.charttime AND t1.charttime BETWEEN ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10019777 ) AND ( SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10019777 ) ORDER BY t1.charttime - t2.charttime LIMIT 1
5a4f493fdb61cf9a1f898407,Tell me the protocol of the anticancer drug?,,,
87d7d4cf52e2d839fed96143,Can you tell me which were the top three most frequently tested specimens since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, chartevents.label, COUNT(*) AS frequency FROM chartevents WHERE chartevents.charttime > '2100-01-01' GROUP BY chartevents.itemid, chartevents.label ORDER BY frequency DESC LIMIT 3"
89130abd0de50ce13b9c3566,What was the five most common lab test that was given during this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT d_labitems.label, COUNT(*) AS occurrences FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_FORMAT(CURDATE(),'%Y-01-01') GROUP BY d_labitems.label ORDER BY COUNT(*) DESC LIMIT 5"
cf40d706cfc1f0846399ec24,What was the name of the organism found in patient 10029291's last stool microbiology test?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_type_desc = 'stool' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_itemid = ( SELECT d_microbiology_results.spec_itemid FROM d_microbiology_results WHERE d_microbiology_results.spec_code = 'STOOL' AND d_microbiology_results.spec_type_desc = 'STOOL' ) ORDER BY microbiologyevents.chartdate DESC LIMIT 1
9f56b7e6de37d05e0ac335a3,Count the number of patients who were given the lamotrigine in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'lamotrigine' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_code = 2100 AND prescriptions'lamotrigine'SQL'drugs''prescriptions'
3dbc092974709a580db73d5d,What are the three most ordered lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS order_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY order_count DESC LIMIT 3"
9a53dfd94198f8a68458fa6d,What were the top four most common lab tests done since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 4"
db037fde5163630eb1dacbe1,Does patient 6440 have a history of travelling overseas?,,,
e56a5abd1ccdf45d55cee224,When did patient 10005348 get a microbiology test for the last time since 02/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2130-10-27 17:02:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND chartevents.charttime > '02/2100' ORDER BY chartevents.charttime DESC LIMIT 1
770ad5d0ecd285dc97b984b2,Is that patient 5849 has an appointment in another department?,,,
bb88168bfe852b10ec4208d8,How many patients since 2100 left the hospital?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],
733f66f03dc1de20e998d218,How much glucagon was prescribed since 05/2100 for the last time to patient 10020306?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ) AND prescriptions.drug = 'glucagon' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT orderitems.quantity FROM orderitems INNER JOIN orders ON orderitems.order_id = orders.order_id INNER JOIN d_items ON orderitems.itemid = d_items.itemid WHERE orders.subject_id = 10020306 AND orders.charttime >= '05/2100' AND d_items.label = 'glucagon' ORDER BY orderitems.order_id DESC LIMIT 1
1b5f2850fe93f1eb4438b9dd,When are dr. holmes's rounds and procedures?,,,
f7778f20f71116c2c62f29b8,Calculate the sum of patient 10020944's input on 03/14/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '03-14'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_mv.input) FROM inputevents_mv JOIN admissions ON inputevents_mv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10020944 AND inputevents_mv.charttime LIKE '03/14/%'
80583d948d18de33fb6987b2,Could you inform me about patient 10006053's first heart rate on 11/17/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '11-17' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.charttime >= '2023-11-17 00:00:00' AND chartevents.charttime < '2023-11-18 00:00:00' ORDER BY chartevents.charttime ASC LIMIT 1
7e458af0dc3da0d261bc5436,When was the last time when patient 10021312 was prescribed vancomycin and 0.9% sodium chloride at the same time in 09/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vancomycin' AND admissions.subject_id = 10021312 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '0.9% sodium chloride' AND admissions.subject_id = 10021312 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10021312 AND prescriptions.drug = 'vancomycin' AND prescriptions.doseunits = '0.9% sodium chloride' AND prescriptions.startdate >= '2022-09-01' AND prescriptions.startdate <= '2022-09-30' ORDER BY prescriptions.startdate DESC LIMIT 1
1f89610cbce4f404c0d528e6,When did patient 10002428's last microbiological test occur since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2156-05-17 19:58:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' ) AND chartevents.charttime >= '03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
c1adc1dd4db93616537a4296,Tell me the insurance plan of patient 10025612 on the first hospital visit.,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Medicare'}],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10025612 ORDER BY admissions.admittime ASC LIMIT 1
f806b5540e6d98bc7a994ad3,What is the cost of a surgery called laparoscopic cholecystectomy?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic cholecystectomy' ) ),,
1429055dfad66664c7bf35fe,"When was the first time the SaO2 of patient 10018081 was greater than 92.0, on 12/29/this year?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 92.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-29' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10018081 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%SaO2%' ) AND chartevents.charttime >= '12/29/this year 00:00:00' AND chartevents.valuenum > 92 ORDER BY chartevents.charttime LIMIT 1
43d295b14df7663a4b921316,What is the cost for a drug named nicotine patch?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'nicotine patch' ),,
f859ac724e0f730a950f3efa,When was patient 10012552 discharged from the hospital for the last time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10012552 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],"SELECT admittime, dischtime FROM admissions WHERE admissions.subject_id = 10012552 ORDER BY dischtime DESC LIMIT 1"
447267ea557ee396e8eade57,What was the total vitamin d dose that has been prescribed in 05/2100 to patient 10035185?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND prescriptions.drug = 'vitamin d' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(prescriptions.dose) FROM prescriptions INNER JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE d_items.label = 'Vitamin D' AND prescriptions.subject_id = 10035185 AND prescriptions.startdate BETWEEN '2005-01-01' AND '2005-12-31'
5c5d5137fe45b2eb60a11cc5,What were the top four most common diagnoses that followed within 2 months for those who received enteral infusion of concentrated nutritional substances in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT dx.itemid, COUNT(*) as count FROM ( SELECT hadm_id FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%enteral infusion%' AND category LIKE '%concentrated nutritional substances%' ) AND starttime IN ( SELECT min(starttime) FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%enteral infusion%' AND category LIKE '%concentrated nutritional substances%' ) GROUP BY hadm_id ) AND YEAR(starttime) = 2100 ) AS infusion, ( SELECT hadm_id, icd9_code FROM diagnoses_icd WHERE seq_num = 1 AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE admissions.admittime BETWEEN infusion.starttime AND DATE_ADD(infusion.starttime, INTERVAL 2 MONTH) ) ) AS dx GROUP BY dx.icd9_code ORDER BY count DESC LIMIT 4"
e47e7e616f3d5838b2aa30eb,When was the first time that patient 10004422 was prescribed medication during their last hospital encounter via the sc route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'sc' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10004422 ) AND EXISTS ( SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.route = 'SC' )
91db324bae8dcd9a03f5f6ba,What was the name of the diagnosis that patient 10018081 received for the last time since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,
04195370f600639421b6233c,Was there a enteral infusion of concentrated nutritional substances procedure performed on patient 10003046 on the first hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND admissions.subject_id = 10003046 AND admissions.hospital_expire_flag = 0
ea46c6446f611ab80789ec15,Give me patient 10007058's total lr input on last month/23.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lr' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',inputevents.starttime) = '23'",[{'SUM(inputevents.totalamount)': None}],"SELECT SUM(inputevents_cv.amount) AS total_lr_input FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007058 AND inputevents_cv.itemid = ( SELECT itemid FROM d_items WHERE label = '0.9 percent normal saline' ) AND inputevents_cv.charttime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND DATE_SUB(CURDATE(), INTERVAL 1 DAY)"
4c475fcaf3bf16551e866c3c,"What were the top five most frequent diagnoses since 1 year ago with which patients were diagnosed after receiving extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic during the same month?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT dx.icd_code, dx.count, icd.long_title FROM ( SELECT hadm_id, COUNT(*) AS count FROM diagnoses_icd AS dx INNER JOIN admissions AS adm ON dx.hadm_id = adm.hadm_id INNER JOIN ( SELECT hadm_id FROM procedures_icd AS p INNER JOIN d_icd_procedures AS icd ON p.icd_code = icd.icd_code WHERE icd.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AS p ON dx.hadm_id = p.hadm_id AND YEAR(adm.admittime) = YEAR(CURDATE()) - 1 AND MONTH(adm.admittime) = MONTH(CURDATE()) GROUP BY dx.icd_code ORDER BY dx.count DESC LIMIT 5 ) AS dx JOIN diagnoses_icd AS dx JOIN d_icd_diagnoses AS icd ON dx.icd_code = icd.icd_code"
c88b6042bd98d9ea98a91f19,What percentile is the value of 13.0 in anion gap among patients of the same age as patient 10024043 on the first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 13.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY labevents.hadm_id) FROM labevents JOIN admissions ON admissions.hadm_id = labevents.hadm_id JOIN patients ON patients.subject_id = admissions.subject_id WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND patients.dob = ( SELECT patients.dob FROM patients WHERE patients.subject_id = 10024043 ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10024043 ) ) AND labevents.valuenum = 13.0
6b81072250740cd9e14626a0,Do you know the ward id of patient 10624 to which they are admitted?,,,SELECT admissions.hospital_expire_flag FROM admissions WHERE admissions.subject_id = 10624
e3d50b7cc908a38055145b12,"What are the three most commonly prescribed medications for patients who were previously diagnosed with grand mal status within the same month, this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'grand mal status' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT top 3 cpoecpt.orderid, cpoecpt.itemid, d_cpt.shorttitle FROM cpoecpt JOIN admissions ON cpoecpt.hadm_id = admissions.hadm_id WHERE admissions.admittime >= date_trunc('month', current_date) AND admissions.admittime < date_trunc('month', current_date) + interval '1 month' AND admissions.diag1 = ( SELECT admissiondiag.diag1 FROM admissiondiag WHERE admissiondiag.diag1 LIKE '%grand mal status%' ) GROUP BY cpoecpt.orderid, cpoecpt.itemid, d_cpt.shorttitle ORDER BY COUNT(*) DESC LIMIT 3"
51ab705e6d5e1025e101e735,What was patient 10015931's weight the last time it was measured since 8 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-8 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) AND chartevents.charttime >= datetime('now', '-8 months') ORDER BY chartevents.charttime DESC LIMIT 1"
8576dc17a71fd1f052b49898,Has patient 10018081 gone through any procedure?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 )
5e42606ba946ba548d180e31,List the top four most frequent lab tests since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS freq FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY d_labitems.label ORDER BY freq DESC LIMIT 4"
e69db8778c92e5eec552f1eb,Has there been a hospital admission for patient 10005817 in 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10005817 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.admittime >= '2100-01-01 00:00:00' AND admissions.admittime < '2101-01-01 00:00:00'
eb6a1301664df928ab91d795,What were the first ptt values of patient 10039831?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ptt' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
7824e920bc0ac651cb49b706,Which immunocauteries have been used for the last five years?,,,"SELECT DISTINCT d_icd_procedures.short_title FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 5 YEAR) AND d_icd_procedures.short_title LIKE 'immunocautery%' ORDER BY procedures_icd.chartdate DESC"
924d74602015e6d3739732e2,What were the four most frequent microbiology tests that occurred in 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4",[],"SELECT test_name, COUNT(*) AS frequency FROM microbiologyevents WHERE YEAR(chartdate) = 2010 GROUP BY test_name ORDER BY frequency DESC LIMIT 4"
6fb7db09905b3e0b6571bb41,When and where are the rounds and procedures of dr. moore?,,,
e1b2ba03357e942fcffc9832,What was the name of that output that patient 10039831 first had since 10/23/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-23' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR EBL'}],
ddf67e92449897f5c52db5d2,List the top four most frequent microbiology tests that were given to patients after they were diagnosed with sepsis during the same hospital visit during this year.,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'sepsis' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT mtest.testname, COUNT(*) AS frequency FROM ( SELECT microbiologyevents.testname FROM microbiologyevents INNER JOIN admissions ON admissions.hadm_id = microbiologyevents.hadm_id WHERE admissions.admittime >= DATE_FORMAT(NOW(),'%Y-01-01') AND microbiologyevents.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '785.52' ) GROUP BY microbiologyevents.testname ORDER BY COUNT(*) DESC LIMIT 4 ) mtest"
2de4e7fa2f4e70e798676fe5,What are the three most common output instances since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]",
112cb104c8ac40bc947d642a,Calculate the number of patients staying in med/surg during this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions WHERE admissions.admittime >= datetime(current_date,'start of year') AND admissions.admittime < datetime(current_date,'+1 year','start of year') AND admissions.hospital_service = 'MED/SURG'"
760fc9ca5ebd74a67d09783d,Is there any new medication in the prescription of patient 10004733 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT formulary_drugs.generic_name FROM formulary_drugs WHERE formulary_drugs.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND formulary_drugs.charttime IN ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.charttime BETWEEN datetime(current_time,'-1 day') AND datetime(current_time) ) EXCEPT SELECT DISTINCT formulary_drugs.generic_name FROM formulary_drugs WHERE formulary_drugs.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND formulary_drugs.charttime IN ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.charttime BETWEEN datetime"
6e552f2daf5bcd6d9a143315,Can you tell me the name of the diagnosis patient 10019568 received last since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,SELECT diagnoses_icd.long_title FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
a5e4283c5899fd833228b799,What are the five most common laboratory tests undertaken by patients within the same month following a diagnosis of alcohol withdrawal since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alcohol withdrawal' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE diagnoses_icd.icd_code = '291.81' AND labevents.chartdate BETWEEN admissions.admittime AND datetime(admissions.admittime,'+1 month') AND labevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM patients WHERE patients.dob < '2100-01-01' ) ) GROUP BY d_labitems.label ORDER BY count DESC LIMIT 5"
7af1e69b20b9be325402ee3c,Is the creatinine value last measured on the last hospital visit in patient 10023239 greater than the value from the first measurement on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT MAX(chartevents.valuenum) > MIN(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10023239 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Creatinine' )
682b7c020d47e07237753b11,"Was ketorolac, simvastatin, or lactated ringers prescribed to patient 10011398 during their first hospital encounter?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ( 'ketorolac', 'simvastatin', 'lactated ringers' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10011398 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ('ketorolac', 'simvastatin', 'lactated ringers')"
3a11d55ef59b984180bf191b,What was an insurance plan for patient 10001217 during their first hospital encounter?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],"SELECT admissions.hospstay_seq, admissions.insurance FROM admissions WHERE admissions.subject_id = 10001217 ORDER BY admissions.hospstay_seq ASC LIMIT 1"
4f390ab9331393d06d9b9595,What was the change in rbc in patient 10018845 last measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH first_hospital_visit AS ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10018845 ORDER BY admissions.admittime ASC LIMIT 1 ) , rbc_measurements AS ( SELECT chartevents.valuenum , chartevents.charttime , ROW_NUMBER() OVER (ORDER BY chartevents.charttime ASC) AS rn FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.admittime = ( SELECT first_hospital_visit.admittime FROM first_hospital_visit ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RBC' AND d_items.linksto = 'chartevents' ) ) SELECT rbc_measurements.valuenum - rbc_measurements.valuenum AS change_in_rbc FROM rbc_measurements WHERE rbc_measurements.rn = 1 AND rbc_measurements.charttime >= ( SELECT first_hospital_visit.admittime FROM first_hospital_visit ) LIMIT 1"
a1b5fd9738bdb0ab96eb89a9,What was the medication that patient 10004733 was prescribed for during the same day after receiving enteral infusion of concentrated nutritional substances since 05/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-05' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND datetime(prescriptions.startdate) >= datetime('05/21/2010 00:00:00') AND datetime(prescriptions.enddate) <= datetime('05/21/2010 23:59:59') AND prescriptions.rx_order_type = 'Enteral Infusion (Tube Feed)'
f4ea3a1a0ad748d9673ee4c3,"What was the name of the organism found in the first microbiology test conducted on patient 10021487's fluid,other since 03/2100?","SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'fluid,other' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT microspecimens.org_name FROM microspecimens WHERE microspecimens.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microspecimens.spec_type_desc = 'Fluid, Other' AND microspecimens.chartdate >= '03/2100-01-01' ORDER BY microspecimens.chartdate ASC LIMIT 1"
819106b66507d6daacc3feba,What's up with the single rooms now?,,,
d2dd4d4753286d5a02aee69a,Tell me the minimum total cost of a hospital visit involving a alanine aminotransferase (alt) lab test in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(fact_cost.total_cost) FROM fact_cost INNER JOIN d_labitems ON fact_cost.labevent_id = d_labitems.labevent_id INNER JOIN d_items ON d_labitems.itemid = d_items.itemid WHERE d_items.label = 'alanine aminotransferase (alt)' AND YEAR(fact_cost.charttime) = 2100
53b8eec71a9ed17879d3e723,When was the last time that during their last hospital encounter patient 10037928 had the maximum of eosinophils?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'eosinophils' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'eosinophils' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
0f415abf215849df3c74d8fb,What is the average value of bicarbonate in patient 10025612's body?,SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ),[{'AVG(labevents.valuenum)': None}],SELECT AVG(labevents.valuenum) FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_labitems.label = 'BICARBONATE' AND labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612)
2f8b95322025bab1d2c8da4f,Has patient 10006053 been prescribed a specific drug since 11/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11'",[{'COUNT(*)>0': 1}],
1d30f0f67382fed6a575cafc,What was the name of the drug that patient 10004733 was prescribed within 2 days after having received since 10/2100 a enteral infusion of concentrated nutritional substances procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-10' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT dd_short FROM prescriptions WHERE prescriptions.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND prescriptions.starttime BETWEEN datetime( (SELECT procedures.charttime FROM procedures WHERE procedures.subject_id = 10004733 AND procedures.description = 'enteral infusion of concentrated nutritional substances' ORDER BY procedures.charttime DESC LIMIT 1), '+2 day' ) AND current_time AND prescriptions.order_type = 'NUTRIENT' AND prescriptions.order_status = 'completed'"
85c3807521d93484430abc9e,When was patient 10021487 last given an input on 12/17/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-12-17' ORDER BY inputevents.starttime DESC LIMIT 1",[],
857cc6b19c502ce2ba6b66df,When did patient 10020740 have the minimum lipase value for the first time?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lipase' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lipase' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1"
e8fdd9acc2da7140baf49188,Does patient 95470 have reflux esophagitis in his family?,,,
68a6646ad90adaa44fe6ddbb,"Has there been any calcium carbonate, bisacodyl, or nephrocaps ordered for patient 10021938 in 04/last year?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND prescriptions.drug IN ( 'calcium carbonate', 'bisacodyl', 'nephrocaps' ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10021938 AND prescriptions.drug IN ('calcium carbonate', 'bisacodyl', 'nephrocaps') AND prescriptions.startdate >= '2022-04-01' AND prescriptions.enddate <= '2022-04-30'"
3890e55b1b0c07ff2b11bb35,How many hours have it been since patient 10039831 had received a ptt laboratory test during this hospital encounter for the last time?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT (strftime('%s', 'now') - strftime('%s', labevents.charttime))/3600.0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) ORDER BY labevents.charttime DESC LIMIT 1"
0c6cdc444ee911941bfd23f0,Calculate the number of medicines that patient 10039708 was prescribed during the last month.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10039708 AND datetime(prescriptions.startdate) >= datetime(current_date, '-1 month')"
909212b3de8ea34ca2c96475,Is the value of arterial blood pressure diastolic of patient 10004235 second measured on the last ICU visit greater than the value first measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (second.valuenum > first.valuenum) as is_greater FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) as second, ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) as first"
c3ec4bb31cef4c9d976a8b02,What was the organism found in patient 10029291's last urine test?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.org_id FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_type_desc = 'URINE' ORDER BY microbiologyevents.chartdate DESC LIMIT 1
7d7aee677bb35ba8d39e2a8e,What is the recorded sex of patient 10022880?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10022880,[{'gender': 'M'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10022880 LIMIT 1
2760ec29711e48dd4fbb1d5e,"Has patient 10007818 gone through a urea nitrogen, urine test in 10/last year?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',labevents.charttime) = '10'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'UREA NITROGEN, URINE' ) AND labevents.charttime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE()"
5e6f873f02b4c4a0d2ee764a,What was the first drug prescribed last month to patient 10005909 via the sc route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND prescriptions.route = 'sc' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT first_drug.drug, first_drug.dosage, first_drug.route FROM ( SELECT icustays.hadm_id, icustays.stay_id, medications.order_time, medications.nausea_med, medications.route, medications.dosage, ROW_NUMBER() OVER(PARTITION BY icustays.hadm_id ORDER BY medications.order_time ASC) as rn FROM icustays JOIN medications ON icustays.stay_id = medications.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND medications.route = 'SC' AND datetime(medications.order_time) >= datetime(current_time,'-1 month') AND datetime(medications.order_time) <= datetime(current_time) ) as first_drug WHERE first_drug.rn = 1"
7ec0ab7e9f87fb5c34405276,What was the first time since 03/2100 patient 10029291 was prescribed a medication via the neb route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND prescriptions.route = 'neb' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT MIN(cptevents.charttime) FROM cptevents WHERE cptevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND cptevents.cpt_cd IN ( SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.category = '3' AND d_cpt.modifier IN ('G0', 'G1', 'G2', 'G3', 'G4', 'G5', 'G6', 'G7', 'G8', 'G9') ) AND cptevents.cpt_title LIKE '%Nebulizer%' AND datetime(cptevents.charttime) >= '03/2100'"
21a3e839651e25cd7da1dac9,Has patient 10021938 received any surgery since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admittime >= '2100-01-01 00:00:00'
7f9c0eb6e47a6e07284a459d,"Has patient 10007818 undergone a insertion of endotracheal airway into trachea, via natural or artificial opening since 2100?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of endotracheal airway into trachea, via natural or artificial opening' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of endotracheal airway into trachea, via natural or artificial opening' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND procedures_icd.chartdate >= '2100-01-01'"
196b4c9d5405c65e47b0c14d,What was the organism found in the last microbiology test done on the patient 10007795's foreign body in 05/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'foreign body' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.chartdate <= '05/2100' AND microbiologyevents.spec_type_desc = 'Foreign body' ORDER BY microbiologyevents.chartdate DESC LIMIT 1
8060993fd02e3caa91347361,"Provide the top four most frequent diagnoses that patients were assigned within 2 months after receiving respiratory ventilation, greater than 96 consecutive hours.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd INNER JOIN icustays ON diagnoses_icd.hadm_id = icustays.hadm_id INNER JOIN icustays AS icustays_vent ON diagnoses_icd.hadm_id = icustays_vent.hadm_id WHERE icustays_vent.first_careunit = 'VENTILATION' AND icustays_vent.intime <= icustays.intime AND icustays_vent.outtime >= icustays.intime + INTERVAL '96' HOUR AND icustays.intime BETWEEN icustays_vent.intime AND icustays_vent.outtime + INTERVAL '2' MONTH AND diagnoses_icd.seq_num = 1 GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 4"
7808f5d4ac9c6409be01f55f,What was the name of the prescription drug given to patient 10004235 in the same day after undergoing the simple excision of other lymphatic structure procedure since 07/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-07' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10004235 AND prescriptions.startdate IN ( SELECT admissions.admittime FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) ) AND admissions.admittime >= '07/2100' ) ORDER BY prescriptions.startdate DESC LIMIT 1
a02303e787c9c6d217b02035,Calculate the total volume of input for patient 10029291 on 02/26/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-02-26'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.subject_id = 10029291 AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.charttime BETWEEN '02/26/2100 00:00:00' AND '02/26/2100 23:59:59' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' AND d_items.category = 'Input/Output' )
db5bac94ce7826d253dc454e,"What are the top three most common microbiology tests that patients had after the diagnosis of abdominal pain, unspecified site in the same month?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abdominal pain, unspecified site' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"SELECT mtest.test, COUNT(*) AS count FROM ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '789.00' ) AS diag JOIN microbiologyevents AS me ON diag.hadm_id = me.hadm_id JOIN ( SELECT hadm_id, MONTH(chartdate) AS month FROM diagnoses_icd WHERE ICD9_CODE = '789.00' ) AS diag_date ON diag_date.hadm_id = me.hadm_id JOIN d_micro AS mtest ON me.teststatus = mtest.teststatus GROUP BY mtest.test ORDER BY count DESC LIMIT 3"
2b1f21750fa632e9b0f7a19f,Did patient 10021938 have a lab test during the previous month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 month') AND datetime(labevents.charttime) < current_time"
5ee025cab135eb911d61888a,What are the four most frequent procedures for patients aged 50s throughout this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN '2022-01-01' AND '2022-12-31' AND admissions.anchor_age BETWEEN 50 AND 59 GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
8189f1610cb803102103466a,Has any medication been prescribed to patient 10015931 since 12/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10015931 AND prescriptions.startdate >= '12/2100'
e2c201a20662ad1fab6cc5ef,Has patient 2127 had an appointment in another department?,,,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 2127 AND admissions.admittime != admissions.dischtime
0de9102ca9d14d7b275ec8b7,Tell me the cost of a procedure known as colonoscopy.,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'colonoscopy' ) ),,
68827b6e5c9eec5eb540e971,"Tell me the top three most frequent procedures that patients were given within 2 months after receiving dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"WITH procedure_sequence AS ( SELECT admissions.subject_id, admissions.hadm_id, procedures_icd.seq_num, procedures_icd.icd_code FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' ) ) SELECT icd_code, COUNT(*) AS frequency FROM ( SELECT procedures_icd.icd_code FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN procedure_sequence ON admissions.hadm_id = procedure_sequence.hadm_id AND procedure_sequence.seq_num > 1 AND DATEDIFF(procedures_icd.chartdate, procedure_sequence.chartdate) <= 60 ) subquery GROUP BY icd_code ORDER BY frequency DESC LIMIT 3"
0edf383920d07410f686cb96,"In 03/this year, when did patient 10019777 first receive the immature granulocytes test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'immature granulocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '03' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'immature granulocytes' AND d_items.linksto = 'labevents' ) AND chartevents.charttime BETWEEN '2022-03-01' AND '2022-03-31'
a5e8f7d9e725fdd3e6eced18,When did patient 10011398 get inputs for the first time since 12/11/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-11' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2146-12-15 12:30:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2000-12-11' ORDER BY chartevents.charttime ASC LIMIT 1
902c95e30f8c9752224d22f9,Are there any changes in the prescribed drugs of patient 10039831 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT drug_name, drug_order_time, change_type FROM drug_changes WHERE subject_id = 10039831 AND order_time BETWEEN CURDATE() - INTERVAL 1 DAY AND CURDATE() AND change_type IN ('New', 'Change')"
122180d2410c37fb1d467316,Provide the count of ICU visits for patient 10020740 since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 5}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
2cf073ab2616ed40e6caa63d,Which medication was patient 10004235 prescribed during the same hospital encounter following the simple excision of other lymphatic structure procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime, hadm_id FROM admissions WHERE admissions.subject_id = 10004235 INTERSECT SELECT admittime, dischtime, hadm_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'simple excision of other lymphatic structure' ) ) UNION SELECT admittime, dischtime, hadm_id FROM admissions WHERE subject_id = 10004235 AND hadm_id IN ( SELECT hadm_id FROM prescriptions )"
a4ae3581ae94bfe56b9a4d3e,Has patient 10007058 received a laboratory test for anion gap in 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND strftime('%Y',labevents.charttime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.charttime >= '2100-01-01' AND labevents.charttime < '2101-01-01'
73b0f8fd2749c9bf490fe19c,"What is the maximum total hospital cost that involves a procedure called insertion of infusion device into right atrium, percutaneous approach?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of infusion device into right atrium, percutaneous approach' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(total_cost) FROM ( SELECT SUM(item_cost) AS total_cost FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'insertion of infusion device into right atrium, percutaneous approach' ) AS max_cost"
5edb9312f6f7f742fcdce8fc,Has patient 10014078 had a lab test done since 03/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-03'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10014078 ) AND charttime > '2100-03-01'
04c847911489606e9cc2a6d2,Was any medication prescribed to patient 10031404 on the last hospital visit?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10031404 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ORDER BY admissions.admittime DESC LIMIT 1 )
9d3fa7a1702389bcc1a4904b,When did the first time patient 10016742 had the maximum value of respiratory rate during their first ICU stay?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.subject_id = 10016742 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'RESPIRATORY RATE' ) AND chartevents.valuenum = ( SELECT MAX(valuenum) FROM chartevents WHERE chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'RESPIRATORY RATE' ) AND chartevents.stay_id = ( SELECT stay_id FROM icustays WHERE subject_id = 10016742 ORDER BY intime ASC LIMIT 1 ) ) ORDER BY chartevents.charttime ASC LIMIT 1
b6556ac9fb3dd561d02e99a5,Which are the top five most frequent output events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime('now', '-1 year') AND d_items.category = 'Output' GROUP BY d_items.label ORDER BY frequency DESC LIMIT 5"
cbec37a67b1882b8d6f5c38a,What was the top five most frequent diagnoses since 1 year ago that patients were diagnosed with within the same month after receiving incision with removal of foreign body or device from skin and subcutaneous tissue?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'incision with removal of foreign body or device from skin and subcutaneous tissue' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) as frequency FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime(current_timestamp, '-1 year') AND EXISTS ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'incision with removal of foreign body or device from skin and subcutaneous tissue' ) ) ) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 5"
181fd571160a6bf269e75dda,Could you tell me the first arterial blood pressure diastolic value that patient 10005817 had?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
5a0f11cd2d321ee0bbab6b6c,What was the number of coronary arteriography using two catheters procedures performed since 1 year ago?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'coronary arteriography using two catheters' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'coronary arteriography using two catheters' ) AND datetime(procedures_icd.chartdate) >= datetime(current_time,'-1 year')"
c4eba636bd543d4b237a1e3c,What was the dose of pseudoephedrine that in 11/2100 patient 10026354 was first prescribed?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND prescriptions.drug = 'pseudoephedrine' AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT first_dose.valuenum FROM ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'pseudoephedrine' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ORDER BY chartevents.charttime ASC LIMIT 1 ) AS first_dose"
0f16647da206cfafc77bdb03,Does patient 15209 have acute pain due to trauma that is part of her family?,,,
fded99b20da76568aee99315,Tell me the number of patients discharged from the hospital in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.dischtime LIKE '2100%' AND admissions.discharged IS NOT NULL
9bb095b969e981359c08d126,Did patient 10022041 experience any procedure on the first hospital stay?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.hospital_expire_flag = 0 )
55351822938c1ebf04f6ef79,How many days was patient 10009049's last stay in the intensive care unit?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.217499999795109}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) ORDER BY icustays.intime DESC LIMIT 1"
f7afdc32d94d128115a2b257,"Has patient 10002428 been ordered 0.45% sodium chloride, lisinopril, or heparin since 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND prescriptions.drug IN ( 'lisinopril', '0.45% sodium chloride', 'heparin' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM pharmacy_orders WHERE pharmacy_orders.subject_id = 10002428 AND pharmacy_orders.endtime >= '2100-01-01' AND pharmacy_orders.drug IN ('0.45% sodium chloride', 'Lisinopril', 'Heparin')"
0a43e2fe814473ab9035db70,What was the total output that patient 10004720 had on 12/06/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-12-06'",[{'SUM(outputevents.value)': None}],
74504b66834c2700e6349766,What is the percentile urea nitrogen value of 17.0 among patients of the same age as patient 10004733 on the current hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) ) AS T1 WHERE T1.valuenum = 17.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER (PARTITION BY admissions.hadm_id) FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen' AND d_items.linksto = 'chartevents' ) AND admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.valuenum = 17.0
257b96b1dd73002157d478e9,What output did patient 10038999 have for the last time since 04/14/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-14' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
65a768c5a05156a43362b231,"In 11/2100, what was the last time patient 10029484 had a medication via the po/ng route prescribed?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10029484 AND prescriptions.route = 'PO/NG' AND prescriptions.startdate < '11/30/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
b64781d0b4bde8ed18b8cb5d,Show me the monthly maximum weight of patient 10018081 since 2100.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) >= '2100' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT chartevents.valuenum, date_format(chartevents.charttime, '%Y-%m') as month FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-01-01' GROUP BY month ORDER BY month ASC"
5cccb67414afa9206d2624db,What was the total or ebl output in patient 10027602 since 11/10/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or ebl' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-10'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%total%' OR d_items.label LIKE '%ebl%' ) AND chartevents.charttime >= '2100-10-11' AND chartevents.valuenum IS NOT NULL
f7b36fae7e1f6246c0b81fd5,Count the number of hospital visits for patient 10022041 since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10022041 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admittime >= '2100-01-01'
004aab9ab72eb76ab6d10d57,What is the total number of patients who stayed in careunit medical/surgical intensive care unit (micu/sicu) during the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT icustays.subject_id) FROM icustays INNER JOIN d_items ON icustays.careunit = d_items.shortname WHERE d_items.label IN ('Medical/Surgical Intensive Care Unit') AND icustays.intime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
e88b565b3eebfa84d07aba21,How much glyburide has patient 10015860 been prescribed in 10/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND prescriptions.drug = 'glyburide' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10'",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(cdr.dose_val_rx) FROM prescriptions AS cdr JOIN admissions ON admissions.hadm_id = cdr.hadm_id WHERE admissions.subject_id = 10015860 AND cdr.formulary_drug_cd = 'Glyburide' AND STRFTIME('%Y', cdr.startdate) = STRFTIME('%Y', CURRENT_DATE)"
f603f6954b5ed9f4cb1b3c15,"In 2100, how many patients underwent a venous catheterization, not elsewhere classified in the same month after the diagnosis of hepatic encephalopathy?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hepatic encephalopathy' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'venous catheterization, not elsewhere classified' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,
17a79ba0e1aeb153b34e461a,Tell me the dose of an opioid prescribed to patient 1258?,,,SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 1258 AND prescriptions.drug IN ( SELECT drugs_generic.name FROM drugs_generic WHERE drugs_generic.category = 'opioid' )
5af27d478c355763b0000b8b,What are the precautions to take after the inc/exc/destr in ear nec procedure?,,,
4222a76175b0c9d9dbc75006,"Has there been a performance of cardiac output, continuous procedure performed on patient 10021118 since 2100?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac output, continuous' ) AND procedures_icd.chartdate >= '2100-01-01'"
716b0a0b383a839c836a20ba,Can you tell me which were the top five most frequently tested specimens in 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT d_labitems.specimen_name, COUNT(*) AS count FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.chartdate BETWEEN '2021-01-01' AND '2021-12-31' GROUP BY labevents.itemid ORDER BY count DESC LIMIT 5"
9446bf724e050f51ed6448e1,What's the ward id that can get patient 56490 in?,,,
e595c43f7a0338c543bd80cb,Can you tell me when the last microbiology test for patient 10037975 was held since 29 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-29 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2185-01-22 02:55:00'}],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-29 month') ORDER BY chartevents.charttime DESC LIMIT 1"
8e476e63901b7be2cdb602f9,Can you tell me what patient 10027602's first arterial blood pressure diastolic was since 08/13/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-08-13' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > '2100-08-13 00:00:00' ORDER BY chartevents.charttime ASC LIMIT 1
0468c52ae504e3db09fd4e8d,Tell me what the top four most commonly prescribed drugs are in 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],
1a52e19cc4c2bea04555d722,What was patient 10035185's yearly maximum weight?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y',chartevents.charttime)",[],
8df09dad6578de1a0c901527,Did patient 10006580 have any prescriptions for medicines on their last hospital encounter?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ORDER BY admissions.admittime DESC LIMIT 1 )
1591c0dee928de6151cbaf4a,When was the first time the systolic blood pressure of patient 10018081 was measured since 11/27/2100 at less than 113.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 113.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-11-27' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic Blood Pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 113.0 AND chartevents.charttime >= '2100-11-27' ORDER BY chartevents.charttime ASC LIMIT 1
99ffb7abd20ff1b14fcdae61,Provide the count of hospital visits for patient 10008287 in the previous year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10008287 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10008287 AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
bf3cde9944a2d256d7dea6dd,Tell me the sum of the input volume for patient 10020786 since 07/01/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-01'",[{'SUM(inputevents.totalamount)': 7140.0}],
136857d990a96067b0872cae,Can you tell me the name of the output patient 10022281 had for the last time since 233 days ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-233 day') ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],"SELECT outputevents.value FROM outputevents WHERE outputevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND datetime(outputevents.charttime) >= datetime(current_time,'-233 days') ORDER BY outputevents.charttime DESC LIMIT 1"
bedebf884aabb5a8dcfaed9a,"Number of patients who were diagnosed in 2100 with urinary tract infection, site not specified.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'urinary tract infection, site not specified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE '2100%' AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime LIKE '%2010%' )
a4d744501a505ad53e491d0c,How much does a medication called ezetimibe cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ezetimibe' ),,
b09ed49b64bdf344e14bb1c7,Did patient 10014354 have any chloride lab tests done during the previous month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%chloride%' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 month')"
5bc31e9ba087ef781c202f7d,What is the maximum total cost for the hospital when a transferrin lab test is involved?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'transferrin' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(t1.cost) FROM ( SELECT SUM(c.cost) AS cost FROM charges AS c JOIN chartevents AS ce ON c.stay_id = ce.stay_id WHERE ce.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'transferrin' ) GROUP BY c.stay_id ) AS t1
892b40885727ac07a5ca1a88,Has patient 10018081 had a lab test done during this hospital encounter?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 )
8ad38d6021157f461e8be73d,What is the list of things to do before you go through the incision of mediastinum procedure?,,,
8ba70176af381d80ec259c94,What is the treatment that patient 10020740 was given two times since 05/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-05' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT itemid, value FROM chartevents WHERE subject_id = 10020740 AND value = '2' AND charttime >= '05/2100' GROUP BY itemid, value HAVING COUNT(*) > 1"
d7533f37a1589e2a8f4df73e,What's the average total cost of a hospital that involves a procedure called fiber-optic bronchoscopy throughout this year?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fiber-optic bronchoscopy' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(costs.total_cost) FROM costs INNER JOIN admissions ON costs.hadm_id = admissions.hadm_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE) AND d_icd_procedures.long_title = 'fiber-optic bronchoscopy'
66d3360a6cad5a5a584ea115,"What are the four most frequent diagnoses that patients were diagnosed within the same month after having received a extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic procedure since 2100?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS freq FROM admissions JOIN d_icd_diagnoses ON admissions.diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' AND procedures_icd.chartdate >= '2021-01-01' ) AND admissions.admittime BETWEEN procedures_icd.chartdate AND DATE_ADD(procedures_icd.chartdate, INTERVAL 1 MONTH) GROUP BY d_icd_diagnoses.short_title ORDER BY freq DESC LIMIT 4"
3b3ec25a9c5acf7aca6a592b,Have any procedures been carried out on patient 10008287 since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND procedures_icd.chartdate >= '2100-01-01'
9c4faa51bc29012ddcee7e11,What is the ward id that patient 19175 may be admitted?,,,
5a4d87a7bd80bc03275287c6,"Tell me the top four most frequent procedures that patients were given within 2 months after receiving excision of left main bronchus, via natural or artificial opening endoscopic, diagnostic since 2100.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.chartdate BETWEEN datetime(current_time,'-2 month') AND datetime(current_time) AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic, diagnostic') AND procedures_icd.chartdate BETWEEN datetime('2100-01-01') AND datetime('2100-12-31') ) GROUP BY d_icd_procedures.long_title ORDER BY COUNT(*) DESC LIMIT 4"
91d0d988d9caf739b370a0af,What are the new drugs for patient 10039831 today compared to the earlier ones yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT admittime, dischtime, subject_id, hadm_id, icustay_id FROM admissions WHERE admissions.subject_id = 10039831 AND datetime(admittime) <= datetime(current_time) AND datetime(dischtime) >= datetime(current_time) UNION SELECT admittime, dischtime, subject_id, hadm_id, icustay_id FROM admissions WHERE admissions.subject_id = 10039831 AND datetime(admittime) <= datetime(current_time,'-1 day') AND datetime(dischtime) >= datetime(current_time,'-1 day')"
618f91256c79080bd2fc27d0,Tell me the top three most prevalent procedures for patients aged 60 or above.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.dob <= DATE_SUB(admissions.dod, INTERVAL 60 YEAR) GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 3"
eba0b6f7c2c449d19740a2ca,What was the name of the drug that was prescribed to patient 10004235 during the same hospital visit after having had a hemodialysis procedure since 11 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-11 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-11 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime FROM admissions WHERE subject_id = 10004235 AND datetime(admittime) >= datetime(current_time,'-11 months') AND EXISTS (SELECT * FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'hemodialysis' )) LIMIT 1"
15e5163ccc3e3c1f766d7f6a,Is the red blood cells level of patient 10021312 last measured on the first hospital visit greater than the second to last level measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT last_valuenum > second_last_valuenum FROM ( SELECT valuenum AS last_valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY charttime DESC LIMIT 1 ) , ( SELECT valuenum AS second_last_valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY charttime DESC LIMIT 1,1 )"
f0f7a54c7ede3f83d04bd4df,What was the name of the organism found in the first microbiological examination of patient 10037861's urine?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT chartevents.value FROM chartevents WHERE chartevents.subject_id = 10037861 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%urine culture%' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
ae481d3d9b25f812bf25bdfd,"What are the four commonly given procedures for patients that also received other incision of brain previously within the same hospital visit, since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other incision of brain' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%incision of brain%' AND datetime(procedures_icd.chartdate) >= datetime(current_timestamp,'-1 year') ) AND datetime(procedures_icd.chartdate) >= datetime(current_timestamp,'-1 year') GROUP BY d_icd_procedures.long_title ORDER BY COUNT(*) DESC LIMIT 4"
dc77bd8543dca1e8f57847aa,Inform me about the total amount of patient 10004235's input since 03/21/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-21'",[{'SUM(inputevents.totalamount)': 122382.0}],
e973b4ccb6182ec1b934fe53,How much is the maximum total hospital bill when it includes a triiodothyronine (t3) lab test in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'triiodothyronine (t3)' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(billdetails.total) FROM billdetails JOIN billitems ON billdetails.billno = billitems.billno WHERE billitems.itemname = 'triiodothyronine (t3)' AND billdetails.patient_id = 2100
b0e46f47baaef8c5efa0dcdb,What was the last measured value of o2 saturation pulseoxymetry for patient 10027445 on 08/12/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-08-12' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '08/12/2100 00:00:00' AND '08/12/2100 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
707f754d71d05322bf6f1082,When did since 04/2100 patient 10000032 take the last microbiology test?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-04' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2180-08-06 20:35:00'}],SELECT charttime FROM microbiologyevents WHERE subject_id = 10000032 AND charttime >= '2000-04-01' ORDER BY charttime DESC LIMIT 1
eb1d1c55d70459e5c91b366d,What is the average total cost of the hospital that includes a medicine named trimethoprim since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'trimethoprim' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
ab584de115671b8402117e00,How many patients were given hydroxychloroquine sulfate prescriptions during the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'hydroxychloroquine sulfate' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT prescriptions.subject_id) FROM prescriptions WHERE prescriptions.startdate >= datetime(current_date,'-1 year') AND prescriptions.drug_name = 'HYDROXYCHLOROQUINE SULFATE'"
e71e7a24a4702232c71f8271,Can you tell me the first time patient 10021487 had a diastolic blood pressure that was greater than 63.0 since 21 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 63.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-21 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid = 51805 AND chartevents.valuenum > 63 AND datetime(chartevents.charttime) >= datetime(current_time,'-21 day') ORDER BY chartevents.charttime ASC LIMIT 1"
315fe7012ff34a06a1448165,Did patient 10009035 receive any solution on 05/12/this year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'solution' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '05-12'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM outputevents WHERE outputevents.subject_id = 10009035 AND outputevents.charttime LIKE '05/12/%' AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Infusion' )
7e545989763b5dd9c6a9df0b,What is the percentile of the anion gap value of 25.0 among patients of the same age as patient 10007818 during their first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 25.0",,"SELECT PERCENT_RANK() OVER (ORDER BY hadm.anion_gap) FROM ( SELECT admissions.hadm_id, ( (SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = admissions.hadm_id AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label = 'Na') AND chartevents.valuenum IS NOT NULL ) - ( SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = admissions.hadm_id AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label = 'Cl') AND chartevents.valuenum IS NOT NULL ) - ( SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = admissions.hadm_id AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label = 'HCO3') AND chartevents.valuenum IS NOT NULL ) ) AS anion_gap FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob = ( SELECT patients.dob FROM patients WHERE patients.subject_id = 10007818 ) AND admissions.admittime = ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 100078"
b3017b420fe13c0d01fb5e63,Has patient 10038081 had platelet count tests in 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND strftime('%Y',labevents.charttime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.subject_id = 10038081 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.name = 'platelet count' ) AND labevents.charttime BETWEEN '2100-01-01' AND '2100-12-31'
bf1e8983b1cc3c09f253f07c,Tell me the top three most commonly prescribed medications.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]","SELECT drug, COUNT(*) as frequency FROM prescriptions GROUP BY drug ORDER BY frequency DESC LIMIT 3"
395e9529519397ab2b92b3bf,When was the last input time since 05/14/2100 for patient 10027602?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-05-14' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2201-12-13 16:51:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime < '2010-05-14' ORDER BY chartevents.charttime DESC LIMIT 1
d4f9d7cf2cdd1caea918a666,What are the costs of other psoriasis diagnosis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other psoriasis' ) ),,
50179ff508b40f8259d4eb6e,What was patient 10021666's last tested culture?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'URINE'}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%culture%' ) ORDER BY chartevents.charttime DESC LIMIT 1
37bfc037c806a2407d309d50,What is the minimum transitional epithelial cells value of patient 10018081 during their current hospital encounter?,SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'transitional epithelial cells' ),[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'transitional epithelial cells' AND d_items.linksto = 'chartevents' )
8575bf6a21bdfbbe6b80a4ab,Tell me the total or ebl output of patient 10027602.,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or ebl' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%total%' OR d_items.label LIKE '%ebl%' ) AND chartevents.valuenum > 0
70935d34cbc96deade5c1b18,"Is the value of patient 10007818's mesothelial cell, last measured on the first hospital visit, greater than the first value measured on the first hospital visit?",SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mesothelial cell' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mesothelial cell' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mesothelial cell' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mesothelial cell' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT last_value > first_value FROM ( SELECT MAX(chartevents.valuenum) AS last_value , MIN(chartevents.valuenum) AS first_value FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007818 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Mesothelial cell' ) AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime ) subquery"
d6dcd3648703a4fe15c42513,Have any lab tests been performed on patient 10008287 in 10/this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(labevents.charttime) >= datetime(current_time,'start of year') AND datetime(labevents.charttime) < datetime(current_time,'+1 year','start of year')"
76457237914bf971488e9425,Which are the five top specimens that were tested throughout this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS test_count FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime('now', 'start of year') GROUP BY chartevents.itemid ORDER BY test_count DESC LIMIT 5"
02784e491e61842ddb4de275,Has patient 10004235 undergone a laparoscopic robotic assisted procedure since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic robotic assisted procedure' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%laparoscopic robotic assisted%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND procedures_icd.chartdate >= '2100-01-01'
287474d13b646c19858f98f7,What was the name of the specimen that patient 10026255 received for the first time since 04/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'SPUTUM'}],
0ef02974483ac960722b84f8,How much does the mcv change in patient 10021312 second measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT first.valuenum - second.valuenum AS mcv_change FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'MCV' ) AND labevents.charttime = ( SELECT MIN(labevents.charttime) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'MCV' ) ) ) AS first JOIN ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'MCV' ) AND labevents.charttime = ( SELECT MAX(labevents.charttime) FROM lab
cd94bbb9784884dac45123cd,What are the top three most common microbiology tests that patients had after the diagnosis of malignant neoplasm of lower third of esophagus within the same hospital visit?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of lower third of esophagus' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"SELECT d_micro_test_names.testname, COUNT(*) AS test_count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN microbiologyevents ON admissions.hadm_id = microbiologyevents.hadm_id JOIN d_micro_test_names ON microbiologyevents.testname = d_micro_test_names.testname WHERE diagnoses_icd.icd9_code = '150.8' AND microbiologyevents.chartdate >= admissions.admittime AND microbiologyevents.chartdate <= admissions.dischtime GROUP BY d_micro_test_names.testname ORDER BY test_count DESC LIMIT 3"
89aa1f3b263599aa7da317e8,What was the name of the output which patient 10018081 had last had since 10/31/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-31' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
c0dcb9d8aed598dc3c1ff8fd,What is the cost for the drug acetazolamide sodium?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'acetazolamide sodium' ),,
4f00325c6536b67bbcfa20b1,What was the number of patients that were given a mch test during the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT labevents.subject_id) FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_labitems.test_name = 'MCV (Mean Corpuscular Volume)' AND datetime(labevents.charttime) >= datetime(current_timestamp,'-1 year')"
e9a36293a5d2d223562338c9,What was the name of the organism that was found during the last mini-bal test of patient 10021487 since 11/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'mini-bal' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-11' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],
4981e0855f969f301153a2e2,What was the number of patients that were given a protein test since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
a14c0a5446f2f1b57b2a4c07,How much is the price for glycerin supps?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'glycerin supps' ),,
19c3aaa1bb33be228b47ea7b,What is the yearly maximum sterile water input for patient 10020740?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sterile water' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y',inputevents.starttime)",[],
a69b592f91b063a29a0fb688,Did patient 10012853 receive a laboratory test on their first hospital encounter?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10012853 AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE category = 'Labs') AND chartevents.charttime = (SELECT MIN(charttime) FROM chartevents WHERE chartevents.hadm_id = admissions.hadm_id)
825c5c877128209aef4d391e,"Tell me the cost of a procedure known as excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic.","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic' ) )",,
b6cd8d8d63a88cfb0db6d978,What are the four commonly taken specimens for patients that were diagnosed with other late effects of cerebrovascular disease previously during the same month?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other late effects of cerebrovascular disease' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'Other late effects of cerebrovascular disease' ) ) AND chartevents.charttime >= ( SELECT min(charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'Other late effects of cerebrovascular disease' ) ) ) AND chartevents.charttime <= ( SELECT max(charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'Other late effects of cerebrovascular disease' ) ) ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
78f0e0fcc6e1ea0b7d221630,What was the name of the output which patient 10007818 had for the last time on 07/03/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-07-03' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],
82b62524391ca6823ef4cd75,How much does it cost to purchase diltiazem extended-release?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'diltiazem extended-release' ),,
8fa8ed75a85186090d9db649,Has patient 10008287 been prescribed any prescription drugs since 28 months ago?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-28 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10008287 AND datetime(prescriptions.startdate) >= datetime(current_time,'-28 month')"
5eabde65a4146642bc2431c9,How many patients in 2100 were prescribed metronidazole (flagyl)?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'metronidazole (flagyl)' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id LIKE '2100%' ) AND prescriptions.drug = 'metronidazole' OR prescriptions.drug = 'flagyl'
2da4a2b003a50f04b2d7623f,What was the name of that output that patient 10039831 last had since 19 days ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-19 day') ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
9304aef38384b969a06b3abe,What was the maximum monthly number of patients who had hemothorax in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemothorax' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemothorax' ) AND YEAR(admissions.admit_dt) = 2100 GROUP BY MONTH(admissions.admit_dt) ORDER BY COUNT(*) DESC LIMIT 1
6daaebd1833641ba81afc130,Get me patient 10004733's total gt flush input amount since 09/09/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gt flush' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-09'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gt flush' AND d_items.linksto = 'inputevents_cv' ) AND inputevents_cv.charttime >= '2100-09-09'
c9f7a8db98a61fe956ee074c,What was the total amount of mirtazapine prescribed to patient 10020786 in 07/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND prescriptions.drug = 'mirtazapine' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdr.dosage) FROM prescriptions AS p JOIN prescription_dose_route AS cdr ON p.prescription_id = cdr.prescription_id WHERE p.subject_id = 10020786 AND p.date >= '07-01-2022' AND p.date < '08-01-2022' AND p.drug = 'mirtazapine'
cd3f347fafd6a0b53706f949,Can you tell me the maximum total hospital cost that involved propranolol since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'propranolol' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
133e29afd664c35e8accca09,"What is patient 10018328's minimum value of urea nitrogen, urine during the first hospital visit?","SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen, urine' )",[{'MIN(labevents.valuenum)': None}],"SELECT MIN(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018328 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10018328) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen, urine' AND d_items.linksto = 'chartevents' )"
423eabf79f7a6b056f9dea1e,What is the minimum monthly number of patients diagnosed with personal history of traumatic brain injury since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of traumatic brain injury' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,
a5af87eb9da16c85cfe6ddb7,Has there been any organism observed in patient 10007795's last blood culture ( myco/f lytic bottle) microbiology test on the first hospital visit?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'blood culture ( myco/f lytic bottle)' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.hospital_expire_flag = 0 ) AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_specs.spec_itemid FROM d_microbiology_specs WHERE d_microbiology_specs.spec_code = 'BC' AND d_microbiology_specs.spec_type_desc = 'blood culture' AND d_microbiology_specs.container_type = 'myco/f lytic bottle' ) AND microbiologyevents.org_itemid IS NOT NULL OR microbiologyevents.org_name IS NOT NULL
c6e39eac55b1a26adabaa844,Could you list the three most frequently prescribed medicines in the same month after a diagnosis of coronary atherosclerosis of native coronary artery was made since 1 year ago?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'coronary atherosclerosis of native coronary artery' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"WITH diag AS (SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '414.0') SELECT TOP 3 med.name , COUNT(*) AS frequency FROM prescriptions AS pres JOIN patients AS pat ON pres.SUBJECT_ID = pat.SUBJECT_ID JOIN diag ON diag.hadm_id = pres.hadm_id JOIN chartevents AS ce ON ce.HADM_ID = pres.HADM_ID AND ce.ITEMID = 226550 AND CE.CHARTTIME BETWEEN DATEADD(MONTH,-1,GETDATE()) AND GETDATE() JOIN d_items AS d_it ON ce.ITEMID = d_it.ITEMID JOIN drugs AS med ON pres.DRUG_ID = med.DRUG_ID WHERE d_it.label = 'Admit Dx' AND med.name LIKE '%Coronary Atherosclerosis%' GROUP BY med.name ORDER BY frequency DESC"
c35347e6b1dda9ed6764a067,Could you tell me the last o2 saturation pulseoxymetry value that patient 10039831 had since 12/30/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-12-30' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10039831 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Saturation Pulseoxymetry' ) AND chartevents.charttime < '12/30/2100' ORDER BY chartevents.charttime DESC LIMIT 1
127ee80e549fe86039373e27,So how many days has passed since patient 10018081's last other ventral hernia without mention of obstruction or gangrene diagnosis in the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other ventral hernia without mention of obstruction or gangrene' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), admissions.admittime) FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '439.00' AND diagnoses_icd.icd_version = 10 ) ORDER BY admissions.admittime DESC LIMIT 1"
abe89412efcd41bf266d253a,What is the name of the diagnosis that patient 30267 received from the other department?,,,
3897e55dfcc80af6c9948c75,Has patient 10015860 had a lab test done since 1 year ago?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year')"
1e7b6f713dc28ec89c51ea69,What are the three most frequently performed treatments for patients in their 40s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM admissions JOIN icd9_procedures ON admissions.hadm_id = icd9_procedures.hadm_id JOIN d_icd_procedures ON icd9_procedures.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime BETWEEN '2021-01-01' AND '2021-12-31' AND admissions.dob BETWEEN '1971-01-01' AND '1981-12-31' GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
c57560772bbe0f01b4467b62,"Among patients who were diagnosed with calculus of bile duct without mention of cholecystitis, without mention of obstruction, what were the top five most common microbiology tests conducted in the same hospital encounter?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'calculus of bile duct without mention of cholecystitis, without mention of obstruction' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT DISTINCT mtest.test_name, COUNT(*) AS count FROM ( SELECT microbiologyevents.specimen_source, microbiologyevents.test_name, microbiologyevents.hadm_id FROM microbiologyevents INNER JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id INNER JOIN d_icd_diagnoses ON admissions.drg_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.short_title = 'calculus of bile duct without mention of cholecystitis, without mention of obstruction' AND microbiologyevents.test_name IS NOT NULL GROUP BY microbiologyevents.specimen_source, microbiologyevents.test_name, microbiologyevents.hadm_id ) mtest GROUP BY mtest.test_name ORDER BY count DESC LIMIT 5"
a512e2c581e537c6e95d2626,Whats the pre serum transfusion nec checklist?,,,
cc7cd55d5065328b8c5164e1,What amount of neostigmine has been prescribed to patient 10011398 for the first time since 01/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND prescriptions.drug = 'neostigmine' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-01' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10011398 AND prescriptions.drug = 'neostigmine' AND datetime(prescriptions.startdate) >= datetime('01/2100') ORDER BY prescriptions.startdate ASC LIMIT 1
00f2bfbc43dcc4875ed114f9,What is the maximum total cost at a hospital including a albumin laboratory test in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'albumin' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
c5f4c7e6139e15ca5adacd50,Show me the top three microbiology tests.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test_name, COUNT(*) AS test_count FROM microbiologyevents GROUP BY test_name ORDER BY test_count DESC LIMIT 3"
10a09034b24ebc5ea1fcd470,Is the lymphocytes level of patient 10037928 last measured on the last hospital visit less than the first level measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first.valuenum < last.valuenum) AS lymphocytes_level_decreased FROM (SELECT labevents.valuenum, labevents.charttime FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928) AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes') ORDER BY labevents.charttime DESC LIMIT 1) AS last JOIN (SELECT labevents.valuenum, labevents.charttime FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928) AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes') ORDER BY labevents.charttime ASC LIMIT 1) AS first ON last.hadm_id = first.hadm_id"
e7693ad9894979dd2cf53541,How much is the drug perphenazine?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'perphenazine' ),,
59f57cae084573bb29dadab2,Has patient 10001217 been admitted into the emergency room in 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT(*)>0': 0}],
a61da9b50a816c216dab4107,When was the time of patient 10031757's first hospital discharge?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10031757 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10031757 ORDER BY admissions.admittime ASC LIMIT 1
279b2975d141762b456cd18d,Tell me the name of the diagnosis that patient 10855 received in the other department,,,"SELECT admittime, dischtime, admitting diagnosis, diagnoses_icd.icd9_code, diagnoses_icd.seq_num FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10855 AND diagnoses_icd.seq_num != 1"
4433eb04729dc3101c0b6e05,Is the white blood cells value of patient 10005817 last measured on the first hospital visit greater than the value from the second to last measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT last_value.valuenum > prev_value.valuenum FROM ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'WBC' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) AS last_value JOIN ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'WBC' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC"
88eb5064597a8bdbd091db48,Does patient 7241 have a genetic test that they got?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 7241 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'Genetics' )
b6dc114c7f1dd675d8ee88a1,Did patient 10018081 have any medication prescribed on their last hospital encounter?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ORDER BY prescriptions.startdate DESC LIMIT 1
02e100aec6d99e6f5934caa5,What are the three most common diagnoses for patients who previously had the excision of dental lesion of jaw procedure within 2 months since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS occurrence FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time,'-1 year','-2 month') AND diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time,'-1 year','-2 month') AND diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'excision of dental lesion of jaw' ) ) GROUP BY d_icd_diagnoses.long_title ORDER BY occurrence DESC LIMIT 3"
c6666ef9e4ba2cde6ec58824,Give me the count of diagnostic ultrasound of abdomen and retroperitoneum procedures that occurred.,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of abdomen and retroperitoneum' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'diagnostic ultrasound of abdomen and retroperitoneum')
d4d740fa5b9015e952111b32,When patient 10027445 was prescribed for the first time in 09/this year docusate sodium and furosemide at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'docusate sodium' AND admissions.subject_id = 10027445 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'furosemide' AND admissions.subject_id = 10027445 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10027445 AND prescriptions.drug IN ('docusate sodium', 'furosemide') AND prescriptions.order_date >= '2022-09-01' AND prescriptions.order_date < '2022-10-01' GROUP BY prescriptions.startdate ORDER BY prescriptions.startdate ASC LIMIT 1"
a739dee00e50021190bd7f13,When did patient 10014078 have his first microbiology test on the first hospital stay?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'charttime': '2166-08-22 02:04:00'}],SELECT min(chartevents.charttime) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10014078 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND admissions.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ORDER BY admissions.admittime ASC LIMIT 1 )
866f0e3f587b1c8992a48c02,What time was the first time the respiratory rate of patient 10020740 was less than 24.0 on 04/14/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 24.0 AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-04-14' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid = 6155 AND chartevents.valuenum < 24 AND chartevents.charttime LIKE '2100-04-14%'
6408991bd45a8b1bed727d8d,What is the daily minimum input of or packed rbc intake that patient 10005817 is getting since 11/2100?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or packed rbc intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-11' GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],
cb5415c33f751a6b441a1cd4,"What are the top five most common microbiology tests for people who were diagnosed with rheumatic disorders of both mitral and aortic valves earlier in the same hospital encounter, in 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'rheumatic disorders of both mitral and aortic valves' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT test_name, COUNT(*) FROM microbiology_results WHERE stay_id IN ( SELECT stay_id FROM diagnoses_icd WHERE ICD9_CODE IN ( SELECT ICD9_CODE FROM d_icd_diagnoses WHERE long_title LIKE '%rheumatic disorder of mitral valve%' OR long_title LIKE '%rheumatic disorder of aortic valve%' ) AND chartdate <= ( SELECT MAX(chartdate) FROM diagnoses_icd WHERE diagnoses_icd.stay_id = microbiology_results.stay_id ) ) AND YEAR(chartdate) = 2100 GROUP BY test_name ORDER BY COUNT(*) DESC LIMIT 5"
8d6edf1fda9d534cd9ec0c9f,What was the number of patients who were prescribed prochlorperazine throughout this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'prochlorperazine' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT c.subject_id) FROM prescriptions p JOIN patients c ON p.subject_id = c.subject_id WHERE p.drug = 'prochlorperazine' AND YEAR(p.startdate) = YEAR(CURDATE())
b3f5a532355044ec8ff3ee49,When did patient 10015860 receive the last bisacodyl and ondansetron prescription at the same time in 10/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'bisacodyl' AND admissions.subject_id = 10015860 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ondansetron' AND admissions.subject_id = 10015860 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10015860 AND prescriptions.drug IN ('BISACODYL', 'ONDANSETRON') AND prescriptions.startdate >= '2023-10-01' AND prescriptions.startdate <= '2023-10-31' GROUP BY prescriptions.startdate ORDER BY prescriptions.startdate DESC LIMIT 1"
d048cd029e1afe980ed96d08,Could you inform me about patient 10020187's last arterial blood pressure systolic on 02/04/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '02-04' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '2022-04-02' ORDER BY chartevents.charttime DESC LIMIT 1
ffd93124fef0ab4f2c5e1f7d,When did the first input for patient 10021487 occur since 12/19/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-19' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2116-12-03 00:26:00'}],
1d35d6275c13a75467d5621f,"How many patients underwent endovascular (total) embolization or occlusion of head and neck vessels within the same hospital visit after the diagnosis of attention deficit disorder with hyperactivity, in 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'attention deficit disorder with hyperactivity' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endovascular (total) embolization or occlusion of head and neck vessels' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '314%' AND admissions.admittime >= '2010-01-01' AND admissions.admittime < '2011-01-01' AND EXISTS (SELECT * FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN (SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%endovascular (total)%embo%head and neck%'))
799e8f8735eda5e3dfa8855f,"What are the four most commonly prescribed medications for patients diagnosed with candidiasis of mouth previously within the same hospital visit, during this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'candidiasis of mouth' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT m.drug, COUNT(*) as frequency FROM admissions AS a JOIN icustays AS i ON a.hadm_id = i.hadm_id JOIN chartevents AS ce ON i.stay_id = ce.stay_id JOIN medications AS m ON ce.charttime = m.starttime WHERE a.dischtime BETWEEN '2022-01-01' AND '2022-12-31' AND ce.itemid = ( SELECT itemid FROM d_items WHERE label = 'candidiasis of mouth' ) AND m.stoptime > ce.charttime GROUP BY m.drug ORDER BY frequency DESC LIMIT 4"
2384e194896033ece54e7e01,How many levetiracetam prescriptions occurred?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'levetiracetam',[{'COUNT(*)': 14}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'levetiracetam'
d4838da30561bc40110b929d,Do you think patient 1912 has dmii circ nt st uncntrld in his or her family?,,,
8155288647172c49b5a66196,What was the first output during their first ICU visit for patient 10025612?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY outputevents.charttime ASC LIMIT 1 ),[{'label': 'Foley'}],SELECT chartevents.outputamt FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' ) AND chartevents.icustay_id IN ( SELECT MIN(icustays.icustay_id) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) ) ORDER BY chartevents.charttime ASC LIMIT 1
6971ce16d647c323dc5a6150,What was patient 10022041's maximum heart rate reading in their first ICU stay?,SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ),[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN icustays ON icustays.stay_id = chartevents.stay_id WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND icustays.first_careunit IS NOT NULL
634b0f8deeebe3bcb1a50a09,What is the dose of prescribed opioid for patient 30826?,,,
9f63970e733b63fae113c2a8,"What are the three commonly given procedures for patients that also received ultrasonography of superior vena cava, guidance previously in the same hospital encounter, this year?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ultrasonography of superior vena cava, guidance' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT procedures_icd.long_title, COUNT(*) FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= date_format(current_timestamp, '%Y-01-01') AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ultrasonography of superior vena cava, guidance' ) GROUP BY procedures_icd.long_title ORDER BY COUNT(*) DESC LIMIT 3"
2fa869cf56451cb9220ecb8a,How much lorazepam was prescribed to patient 10019777 first in 03/this year?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND prescriptions.drug = 'lorazepam' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.dose, prescriptions.startdate FROM prescriptions INNER JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE prescriptions.subject_id = 10019777 AND d_items.name = 'LORAZEPAM' AND prescriptions.startdate >= '2022-03-01' AND prescriptions.startdate < '2022-04-01' ORDER BY prescriptions.startdate ASC LIMIT 1"
ea3b6816231eff47e5f4ff99,Well tell me what to do ahead of the left heart cardiac cath procedure,,,
f79c2af96dde359ecee262e9,Can you tell me which four diagnoses have the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis, mortality_rate FROM ( SELECT diag.description AS diagnosis, COUNT(*) / SUM(CASE WHEN outcome = 'dead' THEN 1 ELSE 0 END) AS mortality_rate FROM diagnoses diag JOIN patients pat ON diag.hadm_id = pat.hadm_id WHERE pat.outcome = 'dead' AND pat.discharge_date BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 3 MONTH) AND CURRENT_DATE GROUP BY diag.description ORDER BY mortality_rate DESC LIMIT 4 )"
5da552e4bce7844817e8e4ec,When was patient 10026406's last discharge from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10026406 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2133-03-04 17:05:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10026406 ORDER BY admissions.dischtime DESC LIMIT 1
299ef20e44a70d1ce5af952a,What are the new prescriptions for patient 10004733 today compared to those received yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescription.drug, prescription.dose_val, prescription.dose_unit FROM prescription WHERE prescription.subject_id = 10004733 AND prescription.startdate >= current_date AND prescription.startdate < current_date + 1 EXCEPT SELECT prescription.drug, prescription.dose_val, prescription.dose_unit FROM prescription WHERE prescription.subject_id = 10004733 AND prescription.startdate >= current_date - 1 AND prescription.startdate < current_date"
11781310efb83f845ca54e72,Retrieve the top four most frequent procedures that were delivered to patients within 2 months after they received other laparoscopic umbilical herniorrhaphy in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other laparoscopic umbilical herniorrhaphy' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS freq FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'laparoscopic umbilical herniorrhaphy' ) AND chartdate BETWEEN '2100-01-01' AND '2100-12-31' ) ) AND chartdate BETWEEN '2100-01-01' AND '2100-12-31' AND chartdate > ( SELECT chartdate FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'laparoscopic umbilical herniorrhaphy' ) AND chartdate BETWEEN '2100-01-01' AND '2100-12-31' LIMIT 1 ) AND chartdate <="
713395a9d49099e4643f0ba9,When did patient 10029291 last get blood culture's microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%blood culture%' ) AND chartevents.charttime >= '03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
e1e117c17a8d654329d349cf,Give me the top three most frequent treatments patients received within 2 months after being diagnosed with other abnormal glucose in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other abnormal glucose' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT top_treatment.itemid, top_treatment.count FROM ( SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id JOIN d_items ON d_items.itemid = chartevents.itemid WHERE admissions.admittime >= datetime(( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 2100 AND admissions.d diagnoses.icd9_code = '787.9'), '+2 month') AND d_items.label LIKE '%treatment%' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 3 ) AS top_treatment"
4f7c481bcc13707e66944d07,"What are the three frequently ordered drugs for patients diagnosed with tobacco use disorder previously in the same month, this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'tobacco use disorder' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT c.pname, COUNT(*) AS order_count FROM (SELECT e.itemid FROM admissions a JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id JOIN inputevents_mv e ON a.hadm_id = e.hadm_id WHERE d.icd_code LIKE 'F17%' AND YEAR(e.charttime) = YEAR(CURDATE()) AND MONTH(e.charttime) = MONTH(CURDATE()) GROUP BY e.itemid ORDER BY COUNT(*) DESC LIMIT 3) d JOIN (SELECT DISTINCT itemid, pname FROM d_items) c ON d.itemid = c.itemid GROUP BY c.pname ORDER BY order_count DESC LIMIT 3"
45153a5a7e5066d969dc5e94,What was the three most common lab test given in 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],
3c573f4b3f5561f9da5c2ca0,Count the number of patients who stayed in the previous year at trauma sicu (tsicu).,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'trauma sicu (tsicu)' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.intime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.icu = 'TSICU' )"
757779a8ac74dd38488f923f,Retrieve the top four most frequent procedures that were delivered to patients within the same hospital visit after they received other endovascular procedures on other vessels.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endovascular procedures on other vessels' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%other endovascular procedures on other vessels%' ) ) ) AND d_icd_procedures.long_title NOT LIKE '%other endovascular procedures on other vessels%' GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
85c838d478a4f152e0c9879e,When was the last discharge of patient 10020944 from the hospital?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.dischtime DESC LIMIT 1,[{'dischtime': '2131-03-13 17:01:00'}],"SELECT admittime, discharge from admissions WHERE subject_id = 10020944 ORDER BY discharge DESC LIMIT 1"
5939dbebe9fc6fd912fa8878,"What is the average total cost of the hospital, which includes the medicine named glucose gel since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'glucose gel' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
20de623f537039c51aaf5c1a,Give me the top three most commonly prescribed medications.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]","SELECT c.name AS drug_name, COUNT(*) AS prescription_count FROM prescriptions AS p JOIN drugs AS c ON p.drug_id = c.id GROUP BY c.name ORDER BY prescription_count DESC LIMIT 3"
3825f15fdd46e295e266d4e2,What was the specimen test ranked at five that was done most commonly since 1 year ago?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid FROM chartevents WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.itemid ORDER BY count(*) DESC LIMIT 1 OFFSET 4"
f870fc9332fe7c3778488b46,When was the first time patient 10011398 was prescribed drugs via po on their last hospital encounter?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'po' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT orderitems.orderSQL
98f8d45306d4c05c5916a214,What were the most frequent diagnoses among the top five in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
af7b45da0507ce22b22901c2,Tell me the insurance plan in place for patient 10000032 on the first hospital encounter.,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10000032 ORDER BY admissions.hadm_id ASC LIMIT 1
fc73eadf00468623cbf19884,Tell me what the top five most commonly prescribed drugs are since 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]",
4f56cb9467f8f3d5205a4396,What was the three most common lab test given?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
1a9e4c04cde439b3eb51a5ee,Could you tell me the top five most common procedures for patients aged 20s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
0dac4285b866c55eacef22d7,How much does patient 10018501 weigh difference last measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",WITH last_hospital_visits AS ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) SELECT ( MAX(chartevents.valuenum) - MIN(chartevents.valuenum) ) AS weight_difference FROM chartevents INNER JOIN last_hospital_visits ON chartevents.hadm_id = last_hospital_visits.hadm_id WHERE chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' )
1209cc6f2d89e79f32b5b025,Provide the sum total of inputs for patient 10029484 since 02/11/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-02-11'",[{'SUM(inputevents.totalamount)': 2540.0}],
4830ab94fb0c437406b08947,"Since 02/2100, when was patient 10021312's first microbiology test?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2113-08-16 16:22:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND datetime(chartevents.charttime) >= datetime('02/2100') ORDER BY chartevents.charttime ASC LIMIT 1
3b6ed4de3ab4d728ea08e28b,Show us the top three most common microbiology tests since 2100.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test_name, COUNT(*) AS count FROM microbiology_tests WHERE datetime(microbiology_tests.chartdate) >= datetime('2100-01-01') GROUP BY test_name ORDER BY count DESC LIMIT 3"
a6cec8e8e6020c8b18e14f57,Has patient 10016810 been provided with any medication since 05/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND medications.starttime >= '05/2100'
a5245904049b7aae3a154666,"Was hydrochlorothiazide, vial, or atenolol ordered in their last hospital encounter for patient 10016810?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( 'hydrochlorothiazide', 'vial', 'atenolol' )",[{'COUNT(*)>0': 0}],"SELECT DISTINCT medications.medication FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND medications.medication IN ('hydrochlorothiazide', 'atenolol') ORDER BY medications.starttime DESC LIMIT 1"
16daefeea8782307bdc2f5f7,Provide the daily maximum weight of patient 10031757 since 12 months ago.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-12 month') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT MAX(chartevents.valuenum), date(chartevents.charttime) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-12 month') GROUP BY date(chartevents.charttime) ORDER BY date(chartevents.charttime)"
6897e02993c3a8b24377556b,Has patient 9241 ever had any complication when undergoing a blood transfusion?,,,"SELECT COUNT(*)>0 FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE patients.subject_id = 9241 AND d_items.label IN ('blood transfusion', 'complication')"
a36cdf4e546071a6ffd31158,When was the first time patient 10020306 was discharged from hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020306 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2129-10-30 13:20:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020306 ORDER BY admissions.admittime ASC LIMIT 1
af98aa24749ee692f69ef110,"Since 1 month ago, what was patient 10021118's last weight measurement?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month') ORDER BY chartevents.charttime DESC LIMIT 1"
a6dfce8ef3e5a14b57bd2d11,What is the correct dosage of the prescribed opioid to patient 19428?,,,
0a8c46b684e72300d29c18aa,What drug was prescribed to patient 10010471 for the last time?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'LORazepam'}],SELECT medications.stopped AS drug FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ORDER BY medications.stopped DESC LIMIT 1
fabc6fda184e4c3f17a6f07e,What are the top five most common specimens being tested for patients who were diagnosed with transfusion related acute lung injury (trali) within 2 months since 1 year ago?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'transfusion related acute lung injury (trali)' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, chartevents.value, COUNT(*) AS count FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob < DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR) ) ) AND chartevents.charttime BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 2 MONTH) AND CURRENT_DATE AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) GROUP BY chartevents.itemid, chartevents.value ORDER BY count DESC LIMIT 5"
ef514e32ea077744d1c08f2e,Could you retrieve the top four most conducted lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS num_occurrences FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY num_occurrences DESC LIMIT 4"
0c46bd9e9a1925278db28a40,Can you name the procedure/treatment that patient 10038081 was given two or more times in 10/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-10' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_procedures.procedure, COUNT(*) AS frequency FROM d_procedures JOIN procedures ON d_procedures.procedure_id = procedures.procedure_id WHERE procedures.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND procedures.chartdate BETWEEN '2021-10-01' AND '2021-10-31' GROUP BY d_procedures.procedure HAVING frequency >= 2"
0e480dd5efb5afb7821bf264,What did patient 10018081 first have as output on 12/31/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-12-31' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
1a393a5c12d21a7f7e392418,Retrieve the monthly minimum amount of patient 10001725's pre-admission/non-icu intake input since 03/12/2100.,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pre-admission/non-icu intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-12' GROUP BY strftime('%Y-%m',inputevents.starttime)",[],"SELECT EXTRACT(MONTH FROM chartevents.charttime) AS month, MIN(chartevents.valuenum) AS min_input FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10001725 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%pre-admission%' OR d_items.label LIKE '%non-icu intake%' ) AND chartevents.charttime >= '03/12/2100' GROUP BY month ORDER BY month"
8146ea91c180f5ff5edacc7d,"When did patient 10026354 have the maximum value of sodium, whole blood last in 10/2100?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, whole blood' ) AND strftime('%Y-%m',labevents.charttime) = '2100-10' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sodium, whole blood' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2010-10-21 00:00:00' AND '2010-10-21 23:59:59' ORDER BY chartevents.valuenum DESC LIMIT 1"
56dc9b6a0a55ec1fc9f4a5c8,Could you inform me of the top four most common specimen tests that were conducted during this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents WHERE chartevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
df5256f4811843aaeca939a2,"For the last time , how much 0.9% sodium chloride (mini bag plus) was prescribed to patient 10026255?",SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND prescriptions.drug = '0.9% sodium chloride (mini bag plus)' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = '0.9% sodium chloride (mini bag plus)' ) ORDER BY chartevents.charttime DESC LIMIT 1
7c81288ded12d53cddc28dea,"In 2100, which are the three most frequent lab tests given to patients in the same month after they are diagnosed with atherosclerotic heart disease of native coronary artery without angina pectoris?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atherosclerotic heart disease of native coronary artery without angina pectoris' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,
3fcd3dd1926914800ea40cbb,What was the drug prescribed to patient 10016150 for the last time since 04/2100 via the im route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT prescriptions.drug, prescriptions.dosage, prescriptions.route FROM prescriptions WHERE prescriptions.subject_id = 10016150 AND prescriptions.route = 'IM' AND prescriptions.startdate >= '04/01/2010' ORDER BY prescriptions.startdate DESC LIMIT 1"
06f4ed18e0175feb847ceb18,Calculate the number of patients prescribed aluminum-magnesium hydrox.-simethicone in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'aluminum-magnesium hydrox.-simethicone' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT subject_id) FROM prescriptions WHERE prescriptions.drg_code = 2100 AND prescriptions.greps('Aluminum-Magnesium Hydrox.-Simethicone') > 0
74fa66a731eaa7d33a261eba,Calculate the length of stay in days for patient 10015860's first ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 0.7518518520519137}]","SELECT DATEDIFF(icustays.intime,admissions.admittime) AS LOS FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE admissions.subject_id = 10015860 ORDER BY icustays.intime ASC LIMIT 1"
73d71dd48759ebd3e31a1e91,How many patients had been diagnosed with unspecified place in hospital as the place of occurrence of the external cause?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified place in hospital as the place of occurrence of the external cause' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = 'E879'
c8111e2baf3638b5ee8951da,What specimen test has patient 10007795 received for the first time since 08/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.charttime >= '08/2100' AND d_items.category = 'Specimen' ORDER BY chartevents.charttime ASC LIMIT 1"
bea830fb10c315727fb3899b,When did since 05/2100 patient 10018081 take the last microbiology test?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2134-09-17 06:24:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND chartevents.charttime >= '05/2100' ORDER BY chartevents.charttime DESC LIMIT 1
d2f1256d39dcc2e6a1fea9cc,When was the first time the respiratory rate of patient 10020187 registered less than 20.0 on 02/03/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 20.0 AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-02-03' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187) AND d_items.label = 'Respiratory Rate' AND chartevents.valuenum < 20 AND chartevents.charttime >= '02/03/2100' AND chartevents.valuenum IS NOT NULL
dd2c47d5a140368a2b1f07a1,When was patient 10006053's last input during their last ICU visit?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2111-11-15 14:03:00'}],SELECT inputevents_cv.charttime FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND inputevents_cv.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY inputevents_cv.charttime DESC LIMIT 1
ae9c55faced4361a10905a51,What were the top five most common procedures since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
faa2fbd6a8db7bed5790ed25,Tell me the duration in days of patient 10022017's last stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 4.4736574068665504}]","SELECT intime,outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ORDER BY intime DESC LIMIT 1"
9e60028a3774be29f175d420,Can you tell me about patient 10016150's age in the last hospital visit?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT DATEDIFF(admissions.admittime, patients.dob) / 365 AS age FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10016150 ORDER BY admissions.admittime DESC LIMIT 1"
13540fd048d7adb5f077165f,"Do you know the maximum total protein, ascites value of patient 10006053?","SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, ascites' )",[{'MAX(labevents.valuenum)': None}],"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total protein, ascites' )"
46943daaedc4da5c2540a50c,"On 12/29/this year, what was the minimum value of the respiratory rate for patient 10004733?","SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-29'",[{'MIN(chartevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '12/29/%'
6247e4ff884d2882517e9fa9,How much divalproex (delayed release) was first prescribed to patient 10038999 in 05/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND prescriptions.drug = 'divalproex (delayed release)' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
c3f33ef0036d9efd71c23adc,What is the cost for the medicine phytonadione?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'phytonadione' ),,
6f8ec1a440771aa4151d974e,What was the drug that was prescribed to patient 10020740 for the last time in 03/2100 via the po route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) = '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT adm.drug FROM prescriptions adm WHERE adm.subject_id = 10020740 AND adm.route = 'PO' AND adm.drug_type = 'DIAGNOSED' AND datetime(adm.startdate) <= '2000-03-31' AND datetime(adm.enddate) >= '2000-03-01' ORDER BY adm.enddate DESC LIMIT 1
b180907473d137cd5300bdf3,How many days was patient 10001725's first stay in the ICU?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.338587962090969}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ORDER BY icustays.intime ASC LIMIT 1"
adead92d438c2cc8419cbb1a,What was the drug name that patient 10027445 was last prescribed through the tp route in 09/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.route = 'tp' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, discharge_time, subject_id, hadm_id, drug, dose, route, starttime, stoptime FROM prescriptions WHERE subject_id = 10027445 AND route = 'TP' AND ( starttime BETWEEN '2023-09-01 00:00:00' AND '2023-09-30 23:59:59' ) ORDER BY stoptime DESC LIMIT 1"
ed6f8d67b33854602df8651f,How much is the drug named cepacol (menthol)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'cepacol (menthol)' ),,
44e0c98b6f1723e728d1382d,Which are the top three most common lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) as test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY test_count DESC LIMIT 3"
d4efc7e55f28c5602d3467ae,Could you inform me of the minimum alkaline phosphatase value for patient 10018081 since 12/2100?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-12'",[{'MIN(labevents.valuenum)': None}],SELECT min(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'alkaline phosphatase' ) AND chartevents.charttime >= '12/01/2100 00:00:00'
73f03c4b396e0636de5ad08b,What are the three commonly taken specimens for patients that were diagnosed with family history of ischemic heart disease previously in the same hospital visit?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'family history of ischemic heart disease' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,
8b39463fdf4a8b3980e64af0,What is the ward identification of patient 7375 able to be admitted to?,,,
c204f2867fbb32ebf4703865,Calculate how many drugs patient 10006580 was prescribed in 04/last year.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND YEAR(prescriptions.startdate) = YEAR(CURRENT_DATE - INTERVAL 1 YEAR) AND MONTH(prescriptions.startdate) = 4
70d4f706eb7c1197729174d6,What were the five most common drugs prescribed since 1 year ago?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT drug, COUNT(*) AS prescription_count FROM prescriptions WHERE datetime(startdate) >= datetime(current_timestamp,'-1 year') GROUP BY drug ORDER BY prescription_count DESC LIMIT 5"
b9e107def562596e07c5c476,What is the average total hospital cost including a ck-mb index lab test?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ck-mb index' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(financials.totalcharges) FROM financials JOIN admissions ON financials.hadm_id = admissions.hadm_id WHERE admissions.hadm_id IN ( SELECT chartevents.hadm_id FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ck-mb index' AND d_items.linksto = 'labevents' ) )
d800d11c3e81f4be09d09c2f,When was first time the heart rate of patient 10027602 was greater than 63.0 in their first ICU stay?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 63.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.first_icu_stay = 1 AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 63 ORDER BY chartevents.charttime ASC LIMIT 1
40ce8982a0a966c5bbb74462,How much does the drug alprazolam cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'alprazolam' ),,
a7913ace036061bcf8f67934,Is patient 10037975's hemoglobin value last measured on the first hospital visit less than the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (min(labevents.valuenum) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime LIMIT 1 )) AS is_less FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1
6fc987dbdba9f552b5be7f44,Could you calculate the total amount of output from patient 10008454 since 192 days ago?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-192 day')",[{'SUM(outputevents.value)': 10834.0}],"SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= datetime(current_time,'-192 days')"
fd514da0acdf2220eacb5f1f,What was the name of the insurance used for patient 10001217 in their first hospital encounter?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT admissions.hospital_expire_flag FROM admissions WHERE admissions.subject_id = 10001217 ORDER BY admissions.hadm_id ASC LIMIT 1
911bb06c9471e1c057977c81,What medication was prescribed to patient 10006053 first time in 11/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
23bba64a79ae703a2b84c6e6,What was the last time patient 10007818 was discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10007818 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10007818 ORDER BY admittime DESC LIMIT 1
17f20674ea38a822c7cb6788,What time was the first time the systolic blood pressure of patient 10005817 was less than 128.0 in the first ICU stay?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 128.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.first_wardid = icustays.wardid ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Arterial Blood Pressure - Systolic' ) AND chartevents.valuenum < 128 ORDER BY chartevents.charttime ASC LIMIT 1
f531d0fed3a37f3e379fb328,Did patient 10022041 visit an emergency room in their first hospital visit?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admittime = ( SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10022041 ) AND admissions.admission_type = 'EMERGENCY'
36ed6cc232d6795e6492644d,How many days has it been since the first rhabdomyolysis diagnosis of patient 10021487 on the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'rhabdomyolysis' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - julianday(min(admissions.admittime)) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10021487 AND diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'rhabdomyolysis' )
26f7019ccc450e407b7f54db,Give me the top five most common lab tests since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 5"
b210336ce9274694af8855f6,What was an insurance plan for patient 10018845 on the first hospital encounter?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT insurance.planname FROM insurance WHERE insurance.subject_id = 10018845 AND insurance.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ORDER BY admissions.admittime ASC LIMIT 1 )
2e2da95ca5d2a04c74e036f7,When was the first time the systolic blood pressure of patient 10018081 was measured on this ICU encounter at less than 100.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 100.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = 51 INCORPORATING ITEMID 51 (which would be the itemid for systolic blood pressure) AND chartevents.valuenum < 100 ORDER BY chartevents.charttime ASC LIMIT 1
72544e79d8ced4be6541a0a1,"What were the four most commonly performed lab tests for patients who were previously diagnosed with other primary cardiomyopathies within 2 months, since 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other primary cardiomyopathies' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_items.label, COUNT(*) AS count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM diagnoses_icd WHERE ICD9_CODE = 4251 AND seq_num = 1 AND datetime(admissions.admit_time) BETWEEN datetime('2100-01-01 00:00:00', '+2 months') AND datetime('2100-12-31 23:59:59') ) ) GROUP BY d_items.label ORDER BY count DESC LIMIT 4"
09b0a7c875a861f6dca89576,What is patient 10011398's difference in heart rate from the value measured at 2100-12-27 10:00:00 compared to the value measured at 2100-12-27 09:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 10:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 09:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 10:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 09:00:00' )"": None}]",SELECT chartevents.valuenum - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = 10011398 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 09:00:00' ) FROM chartevents WHERE chartevents.hadm_id = 10011398 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 10:00:00'
88ef45f61812b1ec67818a35,When was the last time that patient 10022017 had the maximum value of respiratory rate since 203 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-203 day') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'RRT' ) AND datetime(chartevents.charttime) >= datetime(current_date,'-203 days') ORDER BY chartevents.valuenum DESC LIMIT 1"
553e1ea6ccc3dcb9caf59f18,When was the first time of input for patient 10027602 on this month/05?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '05' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT first_createtime FROM ( SELECT MIN(chartevents.charttime) AS first_createtime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.charttime LIKE '____-05-%' ) AS first_input_time
b76a7905227123a769fc9e14,How many individuals are current patients in their 40s?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 40 AND 49,,"SELECT COUNT(*) FROM patients WHERE patients.dob >= DATE_SUB(CURRENT_DATE, INTERVAL 50 YEAR) AND patients.dob < DATE_SUB(CURRENT_DATE, INTERVAL 40 YEAR) AND patients.dod IS NULL"
67ea2ec7c02ee83ea4a04d59,Tell me the total input for patient 10016742 since 07/23/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-23'",[{'SUM(inputevents.totalamount)': 36640.0}],
64b39620ce3e1a170ffb4a84,Could you provide me with the three most frequent output events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT chartevents.ITEMID, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.ITEMID = d_items.ITEMID WHERE chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY chartevents.ITEMID ORDER BY frequency DESC LIMIT 3"
e330c2e4df1717b019f638e1,"Tell me the average total hospital cost that includes personal history of transient ischemic attack (tia), and cerebral infarction without residual deficits.","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of transient ischemic attack (tia), and cerebral infarction without residual deficits' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(admissions.totalcharges) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ('V125', 'I63')"
61d45a73e8a0469f9bf963be,Can you tell me if patient 10020944 is male or female?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10020944,[{'gender': 'M'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10020944
90c0a4f23c31e61cee1395c2,Avapro - How much does it cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'avapro' ),,
f4a479361b2f03676b79359d,What was the total albumin 25% amount given for patient 10018081 since 12/07/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'albumin 25%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-07'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'albumin 25%' AND d_items.linksto = 'inputevents_cv' ) AND chartevents.charttime >= '12/07/2100' ORDER BY chartevents.charttime ASC
4b381a5f887c98f632753d0c,What is the protocol of the anticancer drugs?,,,
ea31ed3fce1a143af74ceab2,Tell me the minimum overall hospital cost that includes vitamin e?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'vitamin e' ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(totalcharges) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM icd9_diagnoses WHERE icd9_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE long_title LIKE '%vitamin e%' ) OR hadm_id IN ( SELECT hadm_id FROM icd9_procedures WHERE icd9_code IN ( SELECT icd9_code FROM d_icd_procedures WHERE long_title LIKE '%vitamin e%' ) ) )
8f05ca0c74199be8f6803a5c,How many days is it since patient 10021487 last received the lymphocytes lab test on this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(CURDATE(), MAX(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Lymphocytes' AND d_items.linksto = 'labevents' )"
4aec6b15c63a023c98af9fbd,When did patient 10018423 have the minimum mean blood pressure the last time on their first ICU visit?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],SELECT min(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.label = 'MEAN BLOOD PRESSURE' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_wardstay = 'Y' )
77056748c01969f4cedd4f49,What was the first medication that patient 10007795 was prescribed via po/ng route in 05/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND prescriptions.route = 'po/ng' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT medications.order_time, medications.greedy, medications.drug FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND medications.route = 'PO/NG' AND medications.order_time >= '2021-05-01' AND medications.order_time < '2021-06-01' ORDER BY medications.order_time ASC LIMIT 1"
94c416e60fecdda4973a6173,Has there been any organism detected during the last mrsa screen microbiology test of patient 10015860 since 05/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_drops.specimen_name FROM d_microbiology_drops WHERE d_microbiology_drops.specimen_name = 'mrsa screen' ) AND datetime(microbiologyevents.chartdate) >= datetime('05/2100') AND microbiologyevents.org_itemid IS NOT NULL
3783e47702fc97ed7cdea710,Can you provide the maximum monthly number of patients diagnosed with attention deficit disorder with hyperactivity?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'attention deficit disorder with hyperactivity' ) GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(monthly_count) FROM ( SELECT COUNT(*) AS monthly_count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '314%' GROUP BY YEAR(admissions.admittime), MONTH(admissions.admittime) ) AS monthly_counts"
81e40ba71ccb07316db2401c,When was the last time patient 10007058 had the minimum heart rate since 11/20/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-11-20' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid = 211 (assuming itemid 211 represents heart rate) AND chartevents.charttime >= '2000-11-20' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
ad9224e407b2a53c4120193b,Count the number of patients who took oxycodone sr (oxycontin) this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'oxycodone sr (oxycontin)' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT drugevents.subject_id) FROM drugevents JOIN d_items ON drugevents.itemid = d_items.itemid WHERE d_items.label = 'oxycodone sr (oxycontin)' AND YEAR(drugevents.startdate) = YEAR(CURDATE())
08e4e46ffbf10a71b11cc538,What was the amount of glucose gel dose prescribed to patient 10016150 during their last hospital encounter?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'glucose gel',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10016150 AND prescriptions.drug = 'glucose gel' ORDER BY prescriptions.start_date DESC LIMIT 1
24fdc72bfa641df5e25a4dd3,"What's the price of a procedure referred to as closed reduction of fracture with internal fixation, femur?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed reduction of fracture with internal fixation, femur' ) )",,
1938b1fa4edd438feb5ae416,Tell me the count of other laparoscopic umbilical herniorrhaphy procedures that took place.,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other laparoscopic umbilical herniorrhaphy' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'laparoscopic umbilical herniorrhaphy' )
583645b19b83246b4e37528d,What new drugs are prescribed for patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate BETWEEN date_sub(current_date, INTERVAL 1 DAY) AND current_date EXCEPT SELECT prescriptions FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate BETWEEN date_sub(current_date, INTERVAL 2 DAY) AND date_sub(current_date, INTERVAL 1 DAY)"
3c21d00c8e06bab6642fad1c,Show the weight changes of patient 10020944 measured at 2100-03-15 04:00:00 compared to the value measured at 2100-03-14 00:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-15 04:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-14 00:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-15 04:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-14 00:00:00' )"": None}]","SELECT chartevents.valuenum AS weight_change FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime IN ('2100-03-15 04:00:00','2100-03-14 00:00:00')"
1b4e7ac4a337c583b0d77b04,The name of the diagnosis received by patient 65582 at the other department.,,,
3df2ee46a071840f122d563f,"What's the minimum total cost of a hospital that involves other and unspecified alcohol dependence, in remission in 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified alcohol dependence, in remission' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
b8f95a496d90e442273b2a33,"What was the last time that patient 10022041 was prescribed acetaminophen iv and phosphorus in 06/2100, at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'acetaminophen iv' AND admissions.subject_id = 10022041 AND strftime('%Y-%m',prescriptions.starttime) = '2100-06' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'phosphorus' AND admissions.subject_id = 10022041 AND strftime('%Y-%m',prescriptions.starttime) = '2100-06' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT MAX(a.charttime) FROM prescriptions AS a JOIN prescriptions AS b ON a.hadm_id = b.hadm_id AND a.charttime = b.charttime WHERE a.subject_id = 10022041 AND (a.drug = 'acetaminophen iv' OR a.drug = 'phosphorus') AND a.charttime BETWEEN '2021-06-01' AND '2021-06-30'
c7279aab21fca4862f9c138a,"On the last hospital visit, what was patient 10026406's insurance plan?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Other'}],"SELECT admissions.hospstay_seq, admissions.insurance FROM admissions WHERE admissions.subject_id = 10026406 ORDER BY admissions.hospstay_seq DESC LIMIT 1"
4775d3a9d0fb326081985b5e,How was patient 10031404 admitted in terms of admission type for the first time?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10031404 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime ASC LIMIT 1",[{'admission_type': 'URGENT'}],"SELECT admissions.admittime, admissions.admission_type FROM admissions WHERE admissions.subject_id = 10031404 ORDER BY admissions.admittime ASC LIMIT 1"
95a56ae5ea17a6e60f36afb6,Can you provide me with an example of how many operating rooms are available now?,,,
54f536c0e9bc497653648fa1,What is the difference between SaO2 last measured on the last ICU visit compared to the first value measured on the last ICU visit for patient 10022041?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT MAX(chartevents.valuenum) - MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' )
c8c508b6537bf061dae5066a,What was the output that patient 10022880 first had on 04/03/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-04-03' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
c7841b68bdb2089ac264a977,List the top five most common events in 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT event_name, COUNT(*) AS frequency FROM icustays_events WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE admityear = 2100 ) GROUP BY event_name ORDER BY frequency DESC LIMIT 5"
3316ce93c81fea759846ffdb,Get me the top five most frequent events this year.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],
3f15a65a81b4cc91090d4562,What was the medicine that was prescribed to patient 10009035 in the same hospital encounter after undergoing extracorporeal circulation auxiliary to open heart surgery in 05/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '05' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND prescriptions.startdate >= '2022-05-01' AND prescriptions.startdate <= '2022-05-31' AND prescriptions.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) )
cac51b303e4b48200febb2a0,Could you provide the total volume of output for patient 10035185 since 02/02/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-02-02'",[{'SUM(outputevents.value)': 3905.0}],
2ecf6ed7b588701c5b61916c,What was the total volume of or urine patient 10035185 had on their first ICU visit?,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or urine' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN icustays.intime AND icustays.outtime
574263846551eca2f19ac645,What was the name of the output patient 10015931 first had since 06/06/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-06' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR EBL'}],
2dc83d6d0ed121d2f9b4c9ca,What medication was last given to patient 10005817 since 22 months ago?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-22 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'HYDROmorphone (Dilaudid)'}],"SELECT adm.drug FROM prescriptions adm WHERE adm.subject_id = 10005817 AND adm.startdate >= datetime(current_timestamp,'-22 month') ORDER BY adm.startdate DESC LIMIT 1"
dc2a2b0ab8c3da8e52bdaa44,What's the maximum total cost of the hospital visits that involve a procedure called closed [percutaneous] [needle] biopsy of kidney?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [percutaneous] [needle] biopsy of kidney' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT max(t2.total_cost) FROM procedures_icd AS t1 INNER JOIN admissions AS t2 ON t1.hadm_id = t2.hadm_id INNER JOIN d_icd_procedures AS t3 ON t1.icd_code = t3.icd_code WHERE t3.long_title LIKE '%closed percutaneous needle biopsy of kidney%' OR t3.long_title LIKE '%closed needle biopsy of kidney%'
a762ae81d4a2a3d7d99c19e7,Tell me the amount of total foley that patient 10010471 had since 07/14/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-14'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10010471 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total foley' ) AND chartevents.charttime > '07/14/2100' ORDER BY chartevents.charttime DESC LIMIT 1
a5b1c0e43266c3abbd391cf4,Tell me the number of patients who were prescribed ferric gluconate since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ferric gluconate' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
7c03fe01f161036f720f6d7e,Has there been any organism detected in the first microbiological examination of patient 10019385's urine on their last hospital encounter?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10019385 AND microbiologyevents.chartdate = ( SELECT MIN(microbiologyevents.chartdate) FROM microbiologyevents WHERE microbiologyevents.subject_id = 10019385 AND microbiologyevents.spec_itemid = ( SELECT itemid FROM d_items WHERE label = 'urine' ) ) AND microbiologyevents.org_itemid <> 0
f9db2f1ae379485d2157c06b,Calculate the length of stay in days for the last stay of patient 10001725 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.338587962090969}]","SELECT TIMESTAMPDIFF(DAY, icustays.intime, icustays.outtime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ORDER BY icustays.intime DESC LIMIT 1"
6d037a4951c5f57d0e001cee,"What was the name of the medicine that was given to patient 10038999 within 2 days post procedure of drainage of left pleural cavity, percutaneous approach in 06/this year?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '06' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '06' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admittime, dischargeime, icu.stay_id FROM admissions adm JOIN icustays icu ON adm.hadm_id = icu.hadm_id WHERE adm.subject_id = 10038999 AND adm.admittime BETWEEN '06/01/2022' AND '06/30/2022'"
75cb3e513ae45223b3f00a57,When was patient 10022017's first discharge?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10022017 ORDER BY admittime LIMIT 1
c1a94ccad673ddf5a68e93e3,What are the four most regularly ordered treatments for patients previously diagnosed with noncompliance with renal dialysis in the same hospital visit in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'noncompliance with renal dialysis' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,
e253c035e9ea72b0f867ad77,"What new medications are there for patient 10039831 today, compared to the prescriptions given yesterday?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND prescriptions.startdate >= current_date - INTERVAL 1 DAY EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND prescriptions.startdate >= current_date - INTERVAL 2 DAY
52b6906b922b93a286a69090,What is the average total cost of a hospital that involves a procedure named other diagnostic procedures on lung or bronchus during this year?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other diagnostic procedures on lung or bronchus' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(tot_charges) FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%other diagnostic procedures on lung or bronchus%' AND YEAR(admissions.admittime) = YEAR(CURDATE())
fb908288af351cf6ad047aec,List the top five most frequently tested specimens throughout this year.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime BETWEEN '2022-01-01' AND '2022-12-31' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
029b91056c419bf0d15c3c15,What precautions should you follow after the nonop cardiac/vasc exam procedure?,,,
1495b796ffe9d906c0df1b75,Has any prescriptions been given to patient 10016810?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10016810
e96d3b106469bfd953cd2583,"Was the potassium, urine reading for patient 10014078 second measured on the last hospital visit less than the value first measured on the last hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, urine' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT first.valuenum < second.valuenum FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '25846-3' AND d_labitems.label LIKE '%potassium, urine%' ) ORDER BY labevents.charttime ASC LIMIT 1 ) AS first, ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '25846-3' AND d_labitems.label LIKE '%potassium, urine%' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) AS second"
23e582ea53646d1236eee37e,"In total, what was the input amount of dextrose 5% that patient 10027602 received on 11/23/this year?","SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '11-23'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE d_items.label = 'D5W' ) AND admissions.subject_id = 10027602 AND inputevents_cv.charttime LIKE '2022-11-23%'
9401e788946c189532687a96,Do you think patient 14203 may have a family history of any diseases?,,,
39d97a0dad007c5882b2d34b,"For patients who received destruction of right main bronchus, via natural or artificial opening endoscopic in 2100, what are the top three most frequent diagnoses that followed afterwards within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right main bronchus, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT dx.icd9_code, COUNT(*) as count FROM admissions ad JOIN icustays icu ON ad.hadm_id = icu.hadm_id JOIN procedures_icd proc ON icu.hadm_id = proc.hadm_id JOIN diagnoses_icd dx ON ad.hadm_id = dx.hadm_id WHERE proc.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right main bronchus, via natural or artificial opening endoscopic' ) AND proc.hadm_id = ad.hadm_id AND dx.chartdate BETWEEN ad.admittime AND DATE_ADD(ad.admittime, INTERVAL 2 MONTH) GROUP BY dx.icd9_code ORDER BY count DESC LIMIT 3"
c9769b44044478c7148aed85,What's the diastolic blood pressure difference of patient 10021118's body last measured on the last ICU visit compared to the value first measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH last_icu_stay AS ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ORDER BY icustays.intime DESC LIMIT 1 ) SELECT first_dbp.valuenum - last_dbp.valuenum AS dbp_difference FROM ( SELECT chartevents.valuenum FROM chartevents JOIN last_icu_stay ON chartevents.stay_id = last_icu_stay.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) AS first_dbp, ( SELECT chartevents.valuenum FROM chartevents JOIN last_icu_stay ON chartevents.stay_id = last_icu_stay.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) AS last_dbp"
486aad9ca1f13f573fabc677,How much is the cost for the drug sodium chloride 0.9%?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'sodium chloride 0.9%' ),,
f2f331a5387ccf3bfd476a39,Was patient 10037861 through any surgery in the first hospital visit?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE a.subject_id = 10037861 AND a.admittime = (SELECT MIN(admittime) FROM admissions WHERE subject_id = 10037861) AND p.icd_code IN (SELECT icd_code FROM d_icd_procedures WHERE category = 'Surgery')
132963e711d7f2dfe87f94dc,What was the last hospital admission type for patient 10021666 during?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10021666 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10021666 ORDER BY admissions.admittime DESC LIMIT 1
eedf0ba9662962adc4283987,"The last time , when was patient 10002495 prescribed insulin and atorvastatin at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'insulin' AND admissions.subject_id = 10002495 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'atorvastatin' AND admissions.subject_id = 10002495 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT admittime, dischargeime FROM admissions WHERE subject_id = 10002495 AND admittime IN ( SELECT admittime FROM admissions WHERE subject_id = 10002495 AND dischargeime IN ( SELECT dischargeime FROM admissions WHERE subject_id = 10002495 AND admittime IN ( SELECT admittime FROM admissions WHERE subject_id = 10002495 AND dischargeime IN ( SELECT dischargeime FROM admissions WHERE subject_id = 10002495 AND admittime IN ( SELECT admittime FROM admissions WHERE subject_id = 10002495 AND dischargeime IN ( SELECT dischargeime FROM admissions WHERE subject_id = 10002495 AND admittime IN ( SELECT admittime FROM admissions WHERE subject_id = 10002495 AND dischargeime IN ( SELECT dischargeime FROM admissions WHERE subject_id = 10002495 AND admittime IN ( SELECT admittime FROM admissions WHERE subject_id = 10002495 AND dischargeime IN ( SELECT dischargeime FROM admissions WHERE subject_id = 1"
53fca8bfc5f88cb4209eec38,Can you tell me how old patient 10035185 was on the first hospital visit?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10035185 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id WHERE patients.subject_id = 10035185 ORDER BY admissions.admittime ASC LIMIT 1"
b8c79b9be82f4813cd52ed92,How many hospitalized patients are there now?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admittime < current_timestamp AND dischtime > current_timestamp
0f42767e5be8f1f3825dbebf,What was the total jackson pratt #1 output of patient 10020740 since 02/04/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'jackson pratt #1' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-02-04'",[{'SUM(outputevents.value)': None}],
77caf8ab10948c4b56ca183d,What are the five most ordered lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_items.name, COUNT(*) AS order_count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY d_items.name ORDER BY order_count DESC LIMIT 5"
4334a09dd6d34538cc7445dc,What was the drug prescribed to patient 10007795 for the first time via im route during the first hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'im' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT prescriptions.drug, prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.route = 'IM' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime IN ( SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10007795 ) ) ORDER BY prescriptions.startdate ASC LIMIT 1"
f06393ab8b048f69f34b0dd2,When was the last time since 141 days ago patient 10010471's SaO2 was less than 100.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 100.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-141 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE 'SaO2%' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 100.0 AND chartevents.charttime >= datetime(current_time,'-141 days') ORDER BY chartevents.charttime DESC LIMIT 1"
d162e9cc060eadbc00511ac2,What methods are used to ingest lisinopril?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'lisinopril',"[{'route': 'ORAL'}, {'route': 'PO/NG'}]",
51bf2e035e47da3885e46b70,"Since 03/03/2100, when was the first input time for patient 10018423?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-03' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2167-05-05 19:22:00'}],SELECT first_crd.charttime FROM inputevents_cv AS first_crd JOIN inputevents_cv AS all_crd ON first_crd.subject_id = all_crd.subject_id WHERE all_crd.subject_id = 10018423 AND all_crd.charttime >= '03/03/2100' AND first_crd.charttime = ( SELECT MIN(charttime) FROM inputevents_cv WHERE subject_id = 10018423 AND charttime >= '03/03/2100' ) LIMIT 1
3f0035e87fa9e0e54608b6e8,What were the name of the treatment received by patient 10029291 two or more times during the last hospital visit?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_items.name FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) GROUP BY chartevents.itemid HAVING COUNT(*) >= 2
6767d8e3b7af5307480d3e8c,How many patients in 2100 received percutaneous abdominal drainage in the same hospital encounter after being diagnosed with unspecified viral hepatitis c with hepatic coma?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified viral hepatitis c with hepatic coma' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM admissions AS A JOIN diagnoses_icd AS D ON A.hadm_id = D.hadm_id JOIN icd_diagnoses AS DD ON D.icd_code = DD.icd_code JOIN icustays AS I ON A.hadm_id = I.hadm_id JOIN procedures_icd AS P ON I.stay_id = P.stay_id JOIN d_icd_procedures AS DP ON P.icd_code = DP.icd_code WHERE A.hospstay_seq = 1 AND DD.short_title = 'unspecified viral hepatitis c with hepatic coma' AND DP.short_title = 'percutaneous abdominal drainage' AND A.hospital_expire_flag = 1 AND A.hospital_id = 2100
b678b8112793dc9ca55c90b3,Calculate the number of patients discharged from the hospital this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.dischtime)=YEAR(CURDATE())
a7bf9a18f2ed133ccc62c5c3,"In 2100, has patient 10039708 been diagnosed with anything?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100'",,
f5ddb5194586e227ab8610fc,I would like to know what dr. reeves's on today's outpatient schedule.,,,
6d770f5dad11c867295ac4f0,How many hours has elapsed since the last time during their current hospital encounter patient 10018081 had received a specific gravity lab test?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'specific gravity' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now')-julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'specific gravity' ) ORDER BY chartevents.charttime DESC LIMIT 1
7e79e5876cb4505b0d14e7f2,Could you tell me the average total cost in a hospital where methylprednisolone sodium succ is used in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'methylprednisolone sodium succ' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT administrations.hadm_id FROM administrations WHERE administrations.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hospital_expire_flag = 2100 ) AND administrations.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'icustays' AND d_items.category = 'Medications' AND d_items.label LIKE '%methylprednisolone sodium succ%' ) )
92968aac60b31a25b1b7a9e2,Get me the top four most frequent drugs that patients were prescribed in the same month after being diagnosed with other place in hospital as the place of occurrence of the external cause throughout this year.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other place in hospital as the place of occurrence of the external cause' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT drug_name, COUNT(*) AS frequency FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time, '-1 year') AND admissions.hospital_expire_flag = 1 AND prescriptions.startdate >= admissions.admittime AND prescriptions.startdate <= admissions.admittime + INTERVAL 1 MONTH GROUP BY drug_name ORDER BY frequency DESC LIMIT 4"
5ae7505a2520a19129c81edd,What is the body weight change of patient 10020740 last measured on the first hospital visit compared to the second to last value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH first_visit AS ( SELECT chartevents.valuenum, ROW_NUMBER() OVER (ORDER BY chartevents.charttime DESC) as rownum FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10020740 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime IN ( SELECT MAX(chartevents.charttime) FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10020740 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.hadm_id ) ), second_to_last AS ( SELECT chartevents.valuenum FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10020740 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents"
ebd3a49f285aab80f2f09b02,When did the last hospital discharge of patient 10020786 occur?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020786 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2189-06-13 17:20:00'}],SELECT MAX(admitdate) FROM admissions WHERE subject_id = 10020786
6f9e8ee2deac4ff0313cfd13,When has patient 10029484 been prescribed medication for the first time in 11/this year via the po/ng route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND prescriptions.route = 'po/ng' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '11' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT admints.charttime FROM admints WHERE admints.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND admints.route IN ('PO', 'NG') AND admints.charttime >= '2023-11-01' AND admints.charttime < '2023-12-01' ORDER BY admints.charttime ASC LIMIT 1"
27640049ed54c86d051fc8ff,"What is the maximum total hospital cost including a cholesterol, ldl, calculated lab test?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, ldl, calculated' ) ) GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(costs.total_cost) FROM costs JOIN labevents ON costs.subject_id = labevents.subject_id WHERE labevents.itemid IN ( SELECT itemid FROM d_labitems WHERE label LIKE '%cholesterol%' OR label LIKE '%ldl%' OR label LIKE '%calculated%')
18d6cbfdf913f50a3617e481,"What is patient 10029291's difference in fibrinogen, functional from the last value measured on the first hospital visit compared to the first value measured on the first hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'fibrinogen, functional' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'fibrinogen, functional' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'fibrinogen, functional' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'fibrinogen, functional' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first_value - last_value) FROM ( SELECT first_value.valuenum AS first_value, last_value.valuenum AS last_value FROM ( SELECT valuenum FROM chartevents WHERE subject_id = 10029291 AND itemid = ( SELECT itemid FROM d_items WHERE label LIKE '%fibrinogen, functional%' AND linksto = 'chartevents' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10029291 ORDER BY admittime LIMIT 1 ) ORDER BY charttime ASC LIMIT 1 ) AS first_value, ( SELECT valuenum FROM chartevents WHERE subject_id = 10029291 AND itemid = ( SELECT itemid FROM d_items WHERE label LIKE '%fibrinogen, functional%' AND linksto = 'chartevents' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10029291 ORDER BY admittime LIMIT 1 ) ORDER BY charttime DESC LIMIT 1 ) AS last_value )"
57e26730a40f2a68869265ef,Has patient 10031404 undergone any procedure since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND procedures_icd.chartdate >= '2100-01-01'
84ba0d560e8d6b40089569b5,"Was patient 10005909 prescribed with the medication enoxaparin sodium, docusate sodium, or 5% dextrose in their last hospital visit?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( 'enoxaparin sodium', 'docusate sodium', '5% dextrose' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10005909 AND prescriptions.drug IN ('enoxaparin sodium', 'docusate sodium', '5% dextrose') AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ORDER BY admissions.admittime DESC LIMIT 1 )"
ae87fc8fc5ccf8578f0ec36c,"What is the cost of introduction of nutritional substance into upper gi, via natural or artificial opening?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into upper gi, via natural or artificial opening' ) )",,
5fd4f4ab7afda4e90c2af26a,What is the average monthly number of patients suffering from personal history of sudden cardiac arrest since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of sudden cardiac arrest' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,
db0814178ef902c3c2b96f95,How was patient 10018845 admitted to the hospital in terms of admission type for the first time?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018845 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime ASC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018845 ORDER BY admissions.admittime ASC LIMIT 1
ba575890ff7ebaa1dcaa88c2,How many artificial tear ointment prescription instances occurred?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'artificial tear ointment',[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug LIKE '%artificial tear ointment%'
a229a64f2bf74f9fc9dfa626,In what ways can nystatin cream be ingested?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'nystatin cream',[],
055f3e16faecc90b5ba954f2,What new medications were prescribed to patient 10018081 today as compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.startdate, prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate BETWEEN datetime(current_time,'-1 day') AND datetime(current_time,'-0 day') EXCEPT SELECT prescriptions.startdate, prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate BETWEEN datetime(current_time,'-2 day') AND datetime(current_time,'-1 day')"
4ebb5e52ed23ff0830bbedbf,What are the four most frequently prescribed drugs?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]","SELECT d_items.label, COUNT(*) as frequency FROM prescriptions JOIN d_items ON prescriptions.drg_id = d_items.drg_id GROUP BY d_items.label ORDER BY frequency DESC LIMIT 4"
5d2e380e135d1c3beebbb4b8,Display the top four most commonly prescribed drugs.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]","SELECT drug, COUNT(*) AS count FROM prescriptions GROUP BY drug ORDER BY count DESC LIMIT 4"
44a6d21d8264b4fa98a0113f,Tell me the price of gemfibrozil.,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'gemfibrozil' ),,
af5718c6edddceb0646a23e6,How many current patients exist?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],
48ea16ef9a9f1871ed032c14,What are the three most often performed treatments for patients aged 60 or above in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT treatment_name, COUNT(*) AS count FROM treatments JOIN patients ON treatments.patient_id = patients.patient_id WHERE patients.age >= 60 AND patients.admit_year = 2100 GROUP BY treatment_name ORDER BY count DESC LIMIT 3"
6e7eea4d83bc22c485bd34f3,What is the maximum monthly number of people diagnosed with compression of brain since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'compression of brain' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(monthly_count) FROM ( SELECT COUNT(*) AS monthly_count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '34%' AND admissions.admittime >= '2100-01-01' GROUP BY YEAR(admissions.admittime), MONTH(admissions.admittime) ) AS monthly_counts"
493ddb9a69efd787e0396f81,Has patient 10027602 received any laboratory testing in this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(labevents.charttime) >= datetime(current_date,'-1 year')"
8c24b509ca406f3cf4ea3e2a,Calculate the number of patients who were in the pacu careunit this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'pacu' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND admissions.dischtime <= CURDATE() AND admissions.icustay_id IN (SELECT icustays.icustay_id FROM icustays WHERE icustays.careunit = 'PACU')"
8d3d64b56c340125f70300f3,Count the number of drugs prescribed since 24 months ago for patient 10003046.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-24 month')",[{'COUNT(*)': 84}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-24 month')"
896c8f2f1440f307d4f71409,How many patients were administered ipratropium bromide neb?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ipratropium bromide neb' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'ipratropium bromide neb'
5d7c5f7770c961d7c84c8499,When did patient 10019172 have the maximum ph value the last time in 11/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) AND strftime('%Y-%m',labevents.charttime) = '2100-11' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) AND labevents.charttime <= '2020-11-30' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1"
21a13676c67585e41b8f6a67,Dosage of opioid prescribed for patient 8116?,,,
4ad13911a0c3cadf96e3052c,Fetch the top four most frequent procedures that were administered to patients within 2 months after they had continuous invasive mechanical ventilation for 96 consecutive hours or more since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'continuous invasive mechanical ventilation for 96 consecutive hours or more' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= '2100-01-01' AND EXISTS (SELECT 1 FROM icustays WHERE icustays.hadm_id = admissions.hadm_id AND icustays.intime <= admissions.admittime AND icustays.outtime >= admissions.admittime AND icustays.total_care_hours >= 96 AND icustays.icustay_id IN (SELECT icustay_id FROM chartevents WHERE itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%continuous invasive mechanical ventilation%' OR label LIKE '%mechanical ventilation - invasive%'))) GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 4"
d1c26e1486ac8b878082f4ea,Retrieval of the top three most frequent outputs in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT chartevents.outputvalue, COUNT(*) AS count FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 2100 ) GROUP BY chartevents.outputvalue ORDER BY count DESC LIMIT 3"
62d9af32c3698f6545567c3e,"During the last year, was patient 10025612 diagnosed with any disease?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND datetime(diagnoses_icd.admittime) >= datetime(current_time,'-1 year')"
ec6cfedc417520a4d86f2365,"Has patient 10025612 been on scopolamine patch, 5% dextrose, or acetaminophen as prescribed since 09/2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND prescriptions.drug IN ( 'scopolamine patch', '5% dextrose', 'acetaminophen' ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10025612 AND datetime(prescriptions.startdate) >= datetime('09/2100') AND ( prescriptions.drug IN ( SELECT d_r_drugs.name FROM d_r_drugs WHERE d_r_drugs.genericname = 'scopolamine' ) OR prescriptions.drug IN ( SELECT d_r_drugs.name FROM d_r_drugs WHERE d_r_drugs.formulary_drug_cd = 'D5W' ) OR prescriptions.drug IN ( SELECT d_r_drugs.name FROM d_r_drugs WHERE d_r_drugs.formulary_drug_cd = 'acetaminophen' ) )
0a8995a9063c29d358b7b288,Tell me the average total hospital cost that involves atenolol in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'atenolol' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(finance.total_cost) FROM finance JOIN admissions ON finance.hadm_id = admissions.hadm_id JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE YEAR(finance.transfertime) = 2010 AND prescriptions.drug = 'ATENOLOL'
aefb5d2e178ea9fa647cd5fe,Has patient 10000032 been given any procedure since 1 year ago?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
9259d15f15a7db0e59aaff9d,Could you inform me of the maximum rdw value for patient 10021118 in 12/this year?,"SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12'",[{'MAX(labevents.valuenum)': None}],"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rdw' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_timestamp, 'start of year') AND datetime(chartevents.charttime) < datetime(current_timestamp, 'start of year', '+1 year')"
bf1ccb5ac4a847d66be6bc96,What was the organism detected in patient 10027602's first mini-bal microbiology test on their first hospital encounter?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'mini-bal' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'MINI-BAL' ORDER BY microbiologyevents.chartdate LIMIT 1
742320113523a87f95b0f270,Can you tell me the name of the last output of patient 10018845 since 10/02/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-02' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
dc56faa6ef9caadfd8ca6880,What is the number of ICU visits for patient 10025612 in 2100.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND strftime('%Y',icustays.intime) = '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.intime LIKE '2100%' )
45055dee9d62c2fec5046a84,What medication was prescribed to patient 10021312 last time during the last hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Metoprolol Tartrate'}],"SELECT prescriptions.stop_date, prescriptions.order_time, d_cpt.cpt, d_cpt.long_desc FROM prescriptions JOIN d_cpt ON prescriptions.cpt_cd = d_cpt.cpt WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ORDER BY prescriptions.stop_date DESC, prescriptions.order_time DESC LIMIT 1"
45fe917c7821d64a778aee8e,Tell me the total input for patient 10004733 yesterday.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND datetime(inputevents.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[{'SUM(inputevents.totalamount)': None}],
0a103802ca827b13141a5a60,"For patient 10018081, how many hours have passed since the last diagnosis with long-term (current) use of anticoagulants in their current hospital encounter?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long-term (current) use of anticoagulants' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - julianday(last_diagnosis.charttime) as hours_passed FROM ( SELECT MAX(diagnoses_icd.charttime) as charttime FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10018081 AND diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%anticoagulants%' ) AND diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AS last_diagnosis
46f0cc9294673a19abea3ead,"During what last time during the first hospital visit did patient 10038992 have the maximum urea nitrogen, urine level?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen, urine' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen, urine' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
0dbcca2edb8dc4ada9f1ae3a,When did patient 10038081 receive a peritoneal fluid microbiology test first?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND microbiologyevents.spec_type_desc = 'peritoneal fluid' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'peritoneal fluid microbiology' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
cd7621aeaf5bf1a22ca8394e,Has patient 91768 ever had any additional blood culture tests done.,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 91768 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%blood culture%' )
366c5a5077a210313a50c552,Get me the top four most frequent drugs that patients were prescribed within 2 months after being diagnosed with esophageal reflux since 2100.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophageal reflux' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT c.particle, COUNT(*) as frequency FROM ( SELECT icustays.subject_id FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '530.1' AND icustays.intime >= '2100-01-01' ) AS a JOIN prescribings AS b ON a.subject_id = b.subject_id WHERE b.startdate <= a.intime AND b.enddate >= a.intime AND b.enddate <= DATEADD(month, 2, a.intime) JOIN d_items AS c ON b.itemid = c.itemid GROUP BY c.particle ORDER BY frequency DESC LIMIT 4"
bec56d5d887095fdec4a748d,How many prescriptions were prescribed in 2100 for iso-osmotic sodium chloride?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'iso-osmotic sodium chloride' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 2100 AND prescriptions.drug = 'iso-osmotic sodium chloride'
a431657836c3ed7ccacaf64a,What was the name of the outputs that patient 10038933 first had since 03/26/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-26' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Foley'}],
53ac27ef5178d9758e371569,What output did patient 10007818 first have on 07/03/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-07-03' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
be8af28d0bb7aa9b2af1434f,Can you provide the name of the drug that was prescribed to patient 10027602 within 2 days post arteriography of cerebral arteries procedure since 12/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of cerebral arteries' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-12' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,
537ba5b0d8bba89f02aeaf41,"Since 06/14/2100, when did patient 10019172 have his last input?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-14' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2118-11-19 19:30:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime >= '2010-06-14' ORDER BY chartevents.charttime DESC LIMIT 1
be691057d7c16aac7ebabc58,Using the other anticancer drugs is the protocol of the anticancer drugs,,,
695030002227c1585f70824e,"Among patients diagnosed with accidental fall on or from other stairs or steps since 2100, what are the top three medications prescribed within the same month to patients in their 30s?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidental fall on or from other stairs or steps' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 30 AND 39 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m.subject_id, m.drug, m.dose, m.units, m.route, m.start_date FROM ( SELECT p.subject_id, p.drug, p.dose, p.units, p.route, p.start_date, COUNT(*) AS prescription_count FROM prescriptions p JOIN admissions a ON p.hadm_id = a.hadm_id JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id WHERE d.icd_code = 'E882X' AND a.admittime >= '2100-01-01' AND a.admittime < '2100-02-01' AND a.admit_age BETWEEN 30 AND 39 GROUP BY p.subject_id, p.drug, p.dose, p.units, p.route, p.start_date ORDER BY prescription_count DESC LIMIT 3 ) m JOIN patients pt ON m.subject_id = pt.subject_id WHERE pt.dob BETWEEN '1970-01-01' AND '1980-12-31' ORDER BY m.prescription_count DESC LIMIT 3"
e8162ad0bfd3adb9a2c2f908,Does patient 13473 have a report of stricture of artery in his / her family?,,,
a12e0ce3ce5a8ad2bd8f3a5d,"What's the cost for drainage of right pleural cavity with drainage device, percutaneous approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right pleural cavity with drainage device, percutaneous approach' ) )",,"SELECT costitems.totalactual FROM costitems WHERE costitems.costcenter = 'OR' AND costitems.prc_code = ( SELECT prc.prc_code FROM prc WHERE prc.prc_name = 'drainage of right pleural cavity with drainage device, percutaneous approach' ) LIMIT 1"
26ea9369abea20ebb7ca20ae,What was the last value of the o2 saturation pulseoxymetry for patient 10038999 since 06/03/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-06-03' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 saturation pulseoxymetry' ) AND chartevents.charttime >= '2100-03-06' ORDER BY chartevents.charttime DESC LIMIT 1
61b15d7e2318959ccf6194ba,How much did patient 10037975 weigh the first time it was measured since 22 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-22 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-22 month') ORDER BY chartevents.charttime ASC LIMIT 1"
39b8b45889cc5475dedfa102,Count the ICU visits of patient 10018328 since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 1}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND icustays.intime >= datetime(current_time,'-1 year')"
8aff2d41878a4fe47a7284aa,Show me the length of stay in days of patient 10015860 from the last stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 0.6421874999068677}]","SELECT icustays.intime, icustays.outtime, julianday(icustays.outtime) - julianday(icustays.intime) as length_of_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ORDER BY icustays.intime DESC LIMIT 1"
55ea65a1f7c485a457c4696d,What number of patients stayed in med/surg/gyn?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/gyn' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE transfers.careunit LIKE 'med%surg%gyn%'
549e20a8edaac5f7b05ecb41,Did patient 68280 experience side effects during a blood transfusion?,,,SELECT COUNT(*)>0 FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id JOIN patients AS pat ON a.subject_id = pat.subject_id WHERE pat.subject_id = 68280 AND p.icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'blood transfusion') AND EXISTS (SELECT * FROM medications WHERE hadm_id = a.hadm_id AND med_dose_amount LIKE '%side effect%')
298e26144b0f329a5a0615a2,What was the name of the output patient 10022880 last had in their first ICU visit?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY outputevents.charttime DESC LIMIT 1 ),[{'label': 'Void'}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.first_care_unit = 'ICU' ORDER BY icustays.intime LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
02b3b650c8a76d49c5223798,Is patient 3277 subject to covid-19 testing?,,,
9258a1a83e5bbfc697468adf,What is the count of prochlorperazine prescriptions made since 1 year ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'prochlorperazine' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'prochlorperazine' AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year')"
6c4b2c8d659fcb229d747557,Is patient 32168 in the family of a person with react-indwell urin cath?,,,
e138f038c01ab7ff83cbbb98,What is the price of a procedure named arteriography of other specified sites?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other specified sites' ) ),,
fe581d0039127b044368f739,"In their last hospital visit, what was the insurance of patient 10016150?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],"SELECT admissions.hospital_expire_flag, admissions.insurance FROM admissions WHERE admissions.subject_id = 10016150 ORDER BY admissions.admittime DESC LIMIT 1"
8fe130affd01259653e65799,Can you show me the four most frequently taken lab test?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 4"
a8e86dcf95b5f3203f351589,What was the total number of drugs patient 10039997 was prescribed during their first hospital encounter?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)': 45}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ORDER BY admissions.admittime LIMIT 1 )
3280dd533a7cef123247bde5,When did the last hospital discharge of patient 10004720 occur?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10004720 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2186-11-17 18:30:00'}],SELECT admittime FROM admissions WHERE subject_id = 10004720 ORDER BY admittime DESC LIMIT 1
8509828abb4a1380dd44f76c,Did patient 10011398 receive any disease diagnoses during the last year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM admissions AS admission JOIN diagnoses_icd ON admission.hadm_id = diagnoses_icd.hadm_id WHERE admission.subject_id = 10011398 AND diagnoses_icd.icd9_code != 'NaN' AND admission.admittime >= datetime(current_time,'-1 year')"
e157dcdbd534ede0dfd40a1f,What was the name of the organism found in the last microbiological examination of patient 10027602's mini-bal since 01/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'mini-bal' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-01' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microspecimens.org_name FROM microspecimens WHERE microspecimens.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microspecimens.spec_type_desc = 'MINI-BAL' AND datetime(microspecimens.chartdate) >= datetime('01/2100') ORDER BY microspecimens.chartdate DESC LIMIT 1
2ddc5aa70252d046606081e2,What organism was found in patient 10004733's first sputum test since 08/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microevents.org_name FROM microevents WHERE microevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND microevents.chartdate >= '08/2100' ORDER BY microevents.chartdate ASC LIMIT 1
5b28d4b561ee2e25d84025fb,What's the number of patients who were pulmonary congestion and hypostasis diagnosed?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pulmonary congestion and hypostasis' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT adm.subject_id) FROM admissions adm INNER JOIN diagnoses_icd d ON adm.hadm_id = d.hadm_id WHERE d.icd_code LIKE '518.3%' OR d.icd_code LIKE '786.7%'
acef00fb099d89d41958c435,Does patient 49176 have experience travelling abroad?,,,
1816be0b35b828a815b17b16,How many days has it been since the first acquired absence of intestine (large) (small) diagnosis for patient 10018081 on the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acquired absence of intestine (large) (small)' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT julianday('now') - julianday(min(admissions.admittime)) AS days_since_diagnosis FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10018081 AND diagnoses_icd.icd_code IN ('569.61', '569.62')"
8c1904ba5ce5733337e19e75,Can you report the first heart rate for patient 10018845?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
99248704a41adef41854911d,How much is the average total hospital cost associated with hyperkalemia since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperkalemia' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
c9bd206b23c8ece065ccbc5f,Retrieve the top four most frequent lab tests during this year.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_FORMAT(NOW() ,'%Y-01-01 00:00:00') GROUP BY d_labitems.itemid ORDER BY frequency DESC LIMIT 4"
98d4523a1fa9d300734adcb5,How much did patient 10020944 weigh when measured for the last time since 28 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month') ORDER BY chartevents.charttime DESC LIMIT 1"
fa4ebfb881b70db087e81779,Has patient 10008454 got a lymphocytes laboratory test in 12/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND strftime('%Y-%m',labevents.charttime) = '2100-12'",[{'COUNT(*)>0': 0}],
c26e31b284f5bd28c5239fc8,Tell me the name of the drug which patient 10021487 was prescribed within 2 days after having had a closed [endoscopic] biopsy of bronchus procedure since 9 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [endoscopic] biopsy of bronchus' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-9 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-9 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admittime, dischargeime FROM admissions WHERE subject_id = 10021487 AND admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 9 MONTH)"
890eb501221e32541f524d63,What are the three most frequently prescribed drugs?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]","SELECT prescriptions.drug, COUNT(*) AS frequency FROM prescriptions GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 3"
05bb819666668fc43bad2666,When did the last discharge from the hospital happen for patient 10023239?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10023239 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],"SELECT admittime, dischtime FROM admissions WHERE subject_id = 10023239 ORDER BY dischtime DESC LIMIT 1"
97acefe23c241af475dc236d,"Has patient 10029291 been treated with introduction of other thrombolytic into central vein, percutaneous approach this year?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other thrombolytic into central vein, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS pi JOIN admissions AS ad ON pi.hadm_id = ad.hadm_id WHERE pi.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other thrombolytic into central vein, percutaneous approach' ) AND ad.subject_id = 10029291 AND pi.chartdate >= DATE_FORMAT(NOW() ,'%Y-01-01')"
e5de01d16191eb56d2a17817,Has patient 10037861 been given a diagnosis in 2100?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10037861 AND diagnoses_icd.icd9_code LIKE '2100%'
ffefdb9195190d8fcb86fa14,How much does it cost for phenytoin sodium (iv)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'phenytoin sodium (iv)' ),,
c79aa16d36ce764a13078e7b,How can i disinfect the room in which there is a quarantine?,,,
468732462fc76ffb0eabb559,What was the admission type for patient 10003046 during their last hospital admission?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10003046 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.admittime DESC LIMIT 1",[],"SELECT admissions.admittime, admissions.admission_type FROM admissions WHERE admissions.subject_id = 10003046 ORDER BY admissions.admittime DESC LIMIT 1"
c35d03883eff2c60ecc563cf,How many patients in 2100 were prescribed bupivacaine 0.1%?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'bupivacaine 0.1%' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob BETWEEN '2021-01-01' AND '2021-12-31' ) AND prescriptions.drug = 'bupivacaine' AND prescriptions.formulary_drug_cd = 'BUP-0.1%'
2814f1edb1bea5a93666884f,Number of patients who were given a insertion or replacement of other neurostimulator pulse generator procedure.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of other neurostimulator pulse generator' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of other neurostimulator pulse generator' )
8683f07aa65fa12c04532cd7,What were the top five most common procedures that occurred within the same month for patients who had central venous catheter placement with guidance before in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT procedures_icd.subject_id FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' AND YEAR(procedures_icd.chartdate) = 2010 AND MONTH(procedures_icd.chartdate) = 1 ) ) AND YEAR(procedures_icd.chartdate) = 2010 AND MONTH(procedures_icd.chartdate) = 1 GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 5"
86f9f9f4d49dd3a3f7c9fedf,What was the new drug for patient 10039831 today compared to the one prescribed yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT NEW.drug_name, OLD.drug_name FROM ( SELECT chartevents.itemid, chartevents.value, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.charttime >= current_date - INTERVAL 1 DAY AND chartevents.charttime < current_date ORDER BY chartevents.charttime DESC LIMIT 1 ) NEW JOIN ( SELECT chartevents.itemid, chartevents.value, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.charttime >= current_date - INTERVAL 2 DAY AND chartevents.charttime < current_date - INTERVAL 1 DAY ORDER BY chartevents.charttime DESC LIMIT 1 ) OLD ON NEW.itemid = OLD.itemid"
3f384b70bd3be24de7ec5ac2,What was the admission type for patient 10001725 during their last hospital admission?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10001725 ORDER BY admissions.admittime DESC LIMIT 1,[{'admission_type': 'EW EMER.'}],SELECT admissions.admitype FROM admissions WHERE admissions.subject_id = 10001725 ORDER BY admissions.admittime DESC LIMIT 1
3018865bd3e3ef7fcede4eb2,Could you list the five most common specimen tests carried out since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]",
820528745b6eb9d481abf58f,Can you tell me the top four most common treatments for patients in their 30s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT treatment_name, COUNT(*) AS frequency FROM treatments INNER JOIN patients ON treatments.patient_id = patients.patient_id WHERE patients.age BETWEEN 30 AND 39 GROUP BY treatment_name ORDER BY frequency DESC LIMIT 4"
137099cf125111be9c3e94c3,Is there a method for disinfecting the quarantine room?,,,
9c16ed565a5fe37955e8407d,Was a procedure performed on patient 10015860 during the previous year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
99bcce6bc0fdda73e97057c2,When was patient 10027602's first input time since 07/21/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-21' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2201-10-30 12:08:00'}],SELECT inputevents_mv.inputtime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(inputevents_mv.inputtime) >= datetime('07/21/2100') ORDER BY inputevents_mv.inputtime ASC LIMIT 1
5c292b2eff5ea33b4c5658b2,What was the total cerebral ventricular #1 volume that patient 10027602 had since 03/08/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'cerebral ventricular #1' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-08'",[{'SUM(outputevents.value)': None}],
00bc7d25ccf848dbe8ebd03d,Show me the top three most frequent specimens tested since 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]",
f599a974b9f48dd1b8bee774,"Since 1 year ago, has patient 10020187 been in an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') AND admissions.admission_type = 'E'"
7bf454dec8755f5d448775d0,"What is the cost of a surgery called performance of urinary filtration, multiple?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of urinary filtration, multiple' ) )",,
c1b05b990820fdea69b71d1a,What are the five most commonly diagnosed diagnoses for patients who had previously received parenteral infusion of concentrated nutritional substances within 2 months since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'parenteral infusion of concentrated nutritional substances' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT icd.icd_code, icd.icd_title, COUNT(*) as count FROM ( SELECT admissions.hadm_id FROM admissions INNER JOIN patients ON patients.subject_id = admissions.subject_id INNER JOIN chartevents ON chartevents.hadm_id = admissions.hadm_id WHERE patients.dob = '2100-01-01' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE 'parenteral infusion%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-2 month') ) AS hadm_ids INNER JOIN admissions ON admissions.hadm_id = hadm_ids.hadm_id INNER JOIN icustays ON icustays.hadm_id = admissions.hadm_id INNER JOIN procedures_icd ON procedures_icd.icustay_id = icustays.icustay_id INNER JOIN d_icd_diagnoses as icd ON icd.icd_code = procedures_icd.icd_code GROUP BY icd.icd_code, icd.icd_title ORDER BY count DESC LIMIT 5"
eefb36fdfc2d06211f4348ec,Has patient 10038999 been given any magnesium sulfate (bolus) medication in 12/last year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',inputevents.starttime) = '12'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%magnesium sulfate%' ) AND chartevents.storetime BETWEEN datetime('now', '-1 year') AND datetime('now')"
79356e6c9fbb5a33aa5bf030,Give me patient 10010471's total output on this month/16.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '16'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '%-%-16 %:%'
2ca1d1be2d4d07ebcd6b3235,Is patient 3403 subject to a covid-19 test?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 3403 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.fluid = 'RESPIRATORY TRACT' AND d_labitems.test_name LIKE '%COVID%')
c49e0c36f1c60e8aa2266956,Provide the length in days of the first visit for patient 10021118 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.4872453697025776}]","SELECT DATEDIFF(MAX(chartevents.charttime), MIN(chartevents.charttime)) AS length_of_stay FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ORDER BY icustays.intime ASC LIMIT 1 )"
bd35ad803e2438c6ada8a6b8,Calculate the length of patient 10025612's first stay in the ICU in days.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 5.229965277016163}]","SELECT DATEDIFF(MAX(chartevents.charttime), MIN(chartevents.charttime)) AS ICU_length FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612) GROUP BY icustays.stay_id ORDER BY MIN(chartevents.charttime) ASC LIMIT 1"
858671065bb8f7d96bf37f64,How was patient 10018328 last admitted to the hospital in terms of admission type?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018328 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'SURGICAL SAME DAY ADMISSION'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018328 ORDER BY admissions.admittime DESC LIMIT 1
8716193b576f9f33068e792d,Are any new drugs prescribed to patient 10004733 today compared to the ones yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT DISTINCT a.drg_name FROM prescriptions a JOIN prescriptions b ON a.hadm_id = b.hadam_id WHERE a.chartdate = current_date AND b.chartdate = current_date - 1 AND a.subject_id = 10004733 AND a.drg_name != b.drg_name
a544c5a0f893e479f14079f0,What was the total number of input patient 10018081 has received since 11/20/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-11-20'",[{'SUM(inputevents.totalamount)': 171300.0}],
5103a06a571d43b9da46cda7,Tell me the length in days of the first stay for patient 10020740 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 7.446423612069339}]",SELECT MIN(chartevents.charttime) - icustays.intime FROM icustays JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740) GROUP BY icustays.stay_id ORDER BY icustays.intime ASC LIMIT 1
8694ace52a01f31ca53cc69a,When has patient 10000032 been given urea nitrogen test for the first time in 08/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y-%m',labevents.charttime) = '2100-08' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND DATE(labevents.charttime) = '2010-08-01' ORDER BY labevents.charttime ASC LIMIT 1
c327e43875d95df50f74425e,"When was the first time that patient 10005817 had the hematocrit, calculated maximum value?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit, calculated' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit, calculated' )"
4a6773499778d85e09dc660a,"Since 2100, how many patients had been diagnosed with dementia, unspecified, without behavioral disturbance?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dementia, unspecified, without behavioral disturbance' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,"SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'Dementia, unspecified, without behavioral disturbance' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' )"
8419db544e116248cf67bf17,Count the number of patients who had their nucleated red cells tested in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'nucleated red cells' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Nucleated Red Cells' )
88b0fb242af55f296a52b5d8,Can you tell me the first value of the bicarbonate test for patient 10001725 since 04/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'BICARBONATE' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '04/2100' ORDER BY chartevents.charttime ASC LIMIT 1
3f1090acd1fbd153ed566e98,What is the percentile of 34.1 in the mchc lab test with the same age as patient 10022041 on the first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 34.1",,
0702bc77d929f78085010bb0,What was the name of the organism that was found during the last pleural fluid test of patient 10021487 during this hospital encounter?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND microbiologyevents.spec_type_desc = 'pleural fluid' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.textvalresult FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pleural fluid culture' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
5e86d97c72cc49ff2ce98709,"List the top five most frequent diagnoses that patients were diagnosed with within 2 months after receiving bypass coronary artery, one artery from left internal mammary, open approach throughout this year.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, one artery from left internal mammary, open approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM admissions JOIN d_icd_diagnoses ON admissions.diagnosis = d_icd_diagnoses.short_title WHERE admissions.admittime BETWEEN datetime(current_timestamp,'start of year') AND datetime(current_timestamp) AND EXISTS ( SELECT * FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%bypass coronary artery one artery from left internal mammary open approach%' ) ) AND admissions.admittime BETWEEN datetime(current_timestamp,'-2 month') AND datetime(current_timestamp) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
6c0d7988692dd2731863ec96,Have patient 96429s ever suffered any side effects from blood transfusions?,,,SELECT COUNT(*)>0 FROM transfusions INNER JOIN patients ON transfusions.subject_id = patients.subject_id WHERE patients.subject_id = 96429 AND transfusions.status_description = 'side effects'
af2c16c562788b5087cb46cf,When was the first time that patient 10016150 has been prescribed acetaminophen and glucagon at the same time in 05/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'acetaminophen' AND admissions.subject_id = 10016150 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'glucagon' AND admissions.subject_id = 10016150 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(prescriptions.startdate) FROM prescriptions INNER JOIN drugs ON prescriptions.drug_id = drugs.drug_id INNER JOIN drug_strength ON drugs.drug_strength_id = drug_strength.drug_strength_id WHERE prescriptions.subject_id = 10016150 AND prescriptions.chartdate >= '05/01/2023' AND prescriptions.chartdate <= '05/31/2023' AND ( (drugs.name = 'acetaminophen' AND drug_strength.strength_unit = 'mg') OR (drugs.name = 'glucagon' AND drug_strength.strength_unit = 'ug') ) GROUP BY prescriptions.subject_id HAVING COUNT(DISTINCT drugs.name) = 2
e4e425cc7d58d5e7949bf727,"Since 1 year ago, has patient 10019917 received a diagnosis?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND datetime(diagnoses_icd.admittime) >= datetime(current_time,'-1 year')"
7d6cd973b881473d4b309a26,Provide the count of ICU visits for patient 10022017 last year.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND datetime(icustays.intime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year') AND datetime(icustays.intime) <= datetime(current_time)"
35cf8678b7b636890f6218de,How many patients were staying in medicine since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medicine' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admityear = YEAR(CURDATE()) - 1 AND admittime >= SUBTIME(CURTIME(), CONCAT(CAST(YEAR(CURDATE()) - 1 AS CHAR), ' year')) AND dischtime IS NULL AND admitting_service = 'MED/SURG'"
5487ee77cca76c582ae0fd80,What was the first measurement of o2 saturation pulseoxymetry that patient 10022017 had on the first ICU stay?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ) ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 saturation pulseoxymetry' ) ORDER BY chartevents.charttime ASC LIMIT 1
95a628ad73ca8b9a1ccdf74a,Find out the number of drugs given to patient 10013049 in 06/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-06'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10013049 AND datetime(prescriptions.startdate) >= datetime('2006-01-01') AND datetime(prescriptions.enddate) <= datetime('2006-12-31')
12d278afa5aced986bad28bf,"Was the chloride, whole blood value of patient 10018423 last measured on the last hospital visit less than the value second to last measured on the last hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood') ORDER BY chartevents.charttime DESC LIMIT 1) < (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood') ORDER BY chartevents.charttime DESC LIMIT 2, 1)"
5768b3ec354138c3fd79bb7f,"What is the maximum total hospital cost for a patient suffering from acute edema of lung, unspecified since 1 year ago?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute edema of lung, unspecified' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(costs.total_cost) FROM costs INNER JOIN admissions ON costs.hadm_id = admissions.hadm_id INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '518.9' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
3a16651efda4705bb6cbe794,"What was the name of the drug patient 10007818 was prescribed with during the same hospital visit after having received a introduction of nutritional substance into central vein, percutaneous approach procedure since 11 months ago?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into central vein, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-11 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-11 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, admittime + INTERVAL 11 MONTH AS window_end FROM admissions WHERE subject_id = 10007818 AND admittime IN ( SELECT admissions.admittime FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'introduction of nutritional substance into central vein, percutaneous approach' ) )"
71319107f961de47a8a7b439,What percentile is the mchc value of 34.6 among patients of the same age as patient 10026354 during their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10026354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 34.6",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY labevents.hadm_id) FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCHC' AND d_labitems.linksto = 'labevents' ) AND admissions.dob = ( SELECT admissions.dob FROM admissions WHERE admissions.subject_id = 10026354 ) AND labevents.valuenum = 34.6 AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ORDER BY admissions.admittime DESC LIMIT 1 )
7bd7e129fb3ef8370555bf1b,What specimen test was first given during their last hospital encounter to patient 10011398?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1
bb7840631855547af8253009,When was the last time that patient 10011398 was prescribed a medication since 10/2100 via im?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT presc.charttime FROM prescriptions AS presc WHERE presc.subject_id = 10011398 AND presc.drug_type = 'im' AND datetime(presc.startdate) >= datetime('10/2100') ORDER BY presc.charttime DESC LIMIT 1
ee69065549df2afefab7aae1,What is patient 10018328's gender?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10018328,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10018328
5e33fcec4342525311fca4cc,"When was the last time the respiratory rate of patient 10018081 was greater than 21.0, on this ICU visit?",SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 21.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' ) AND chartevents.valuenum > 21.0 ORDER BY chartevents.charttime DESC LIMIT 1
95f50999819423b14b82ff47,Calculate the number of patients who were in the vascular careunit in the previous year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'vascular' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
aa513e26eaa857febb6f4db0,What are the new drugs for patient 10004733 today compared to the earlier ones yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT a.* FROM ( SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10004733 AND chartevents.charttime BETWEEN datetime(current_date, '-1 day') AND datetime(current_date) ) a JOIN ( SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10004733 AND chartevents.charttime BETWEEN datetime(current_date, '-2 day') AND datetime(current_date, '-1 day') ) b ON a.itemid <> b.itemid WHERE a.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.category = 'Medications' )"
1ac4bb5a24bb2e2beea14966,Is the respiratory rate reading for patient 10014078 last measured on the first ICU visit greater than the value second to last measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (chartevents.valuenum > ( SELECT chartevents.valuenum FROM chartevents AS CE2 JOIN icustays ON icustays.stay_id = CE2.stay_id WHERE CE2.charttime < chartevents.charttime AND CE2.itemid = 615 AND chartevents.subject_id = 10014078 AND CE2.subject_id = 10014078 ) ) FROM chartevents JOIN icustays ON icustays.stay_id = chartevents.stay_id WHERE chartevents.itemid = 615 AND chartevents.subject_id = 10014078 ORDER BY chartevents.charttime DESC LIMIT 1
22a17e0cd02cf807c470a259,Can you tell me the total volume of pre-admission output for patient 10037975 since 351 days ago?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pre-admission' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime) >= datetime(current_time,'-351 day')",[{'SUM(outputevents.value)': None}],"SELECT COALESCE(SUM(chartevents.valuenum), 0) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND d_items.label = 'pre-admission output' AND chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 351 DAY)"
e11c8d2b04cdfacf76cca4dd,Has patient 29806 had any other stool tests?,,,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 29806 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'Stool' AND d_labitems.fluid = 'Solid') AND labevents.itemid != (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.fluid = 'Solid' AND d_labitems.category = 'Stool' AND d_labitems.label = 'Stool for ova and parasites, routine')"
aa46c093a028ee5e0201520e,"Tell me the maximum total hospital cost that includes introduction of nutritional substance into lower gi, via natural or artificial opening.","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into lower gi, via natural or artificial opening' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(costs.totalcost) FROM costs JOIN d_items ON costs.itemid = d_items.itemid WHERE d_items.label IN ('introduction of nutritional substance into lower gi, via natural or artificial opening')"
c41797e8b4af4e6ab554fdc5,What is the name of the treatment given to patient 10007795 two or more times since 28 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-28 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month') GROUP BY chartevents.itemid HAVING COUNT(chartevents.charttime) >= 2"
0097bca5984143bf4c458509,What were the top three most common lab tests done this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01 00:00:00') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
42fb2b34ffcff69466b09384,What was the admission type during patient 10007795's last entry into the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10007795 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10007795 ORDER BY admissions.admittime DESC LIMIT 1
e8f9739dbbd0348fee454966,"During their last hospital encounter, what was patient 10037975's insurance plan?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],SELECT admits.insurance FROM admits WHERE admits.subject_id = 10037975 ORDER BY admits.admittime DESC LIMIT 1
9273f8ff183822a0ce4f95be,Ciprofloxacin iv - How much does it cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ciprofloxacin iv' ),,
0de3b7f259a662ea8dea4d2b,How much is the difference of patient 10019777's weight last measured on the last hospital visit compared to the value first measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH last_visit AS (SELECT MAX(admissions.admittime) AS admittime FROM admissions WHERE admissions.subject_id = 10019777) SELECT first_measurement.valuenum - last_measurement.valuenum AS weight_difference FROM (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT last_visit.admittime FROM last_visit) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents') ORDER BY chartevents.charttime ASC LIMIT 1) AS first_measurement, (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT last_visit.admittime FROM last_visit) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents') ORDER BY chartevents.charttime DESC LIMIT 1) AS last_measurement"
016d92926546ac6ede02409b,What is the anion gap percentile of 11.0 among patients of the same age as patient 10014729 during their first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10014729 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 11.0",,SELECT percentile_cont(0.5) within group (order by labevents.valuenum) OVER (PARTITION BY admissions.admittime) FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) AND admissions.dob = ( SELECT admissions.dob FROM admissions WHERE admissions.subject_id = 10014729 ) AND labevents.charttime = ( SELECT MIN(labevents.charttime) FROM labevents WHERE labevents.hadm_id = admissions.hadm_id AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ) AND labevents.valuenum = 11.0
6fc2d38e2e0de21eec21ab72,Count the number of patients that were discharged in the last year from the hospital.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
9e1a47f578512d0f3910fa36,Tell me the number of operating rooms available?,,,
27c5230565a9e53ebebd7913,Show me patient 10004733's total volume of output since 05/19/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-05-19'",[{'SUM(outputevents.value)': 17410.0}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2010-05-19' AND chartevents.valuenum IS NOT NULL
78c1ef777fd6564ef1b1164f,When was the first time patient 10014729 had been prescribed medication through the td route on the first hospital visit?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'td' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10014729 AND prescriptions.route = 'TD' AND admissions.admittime = ( SELECT min(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10014729 ) ORDER BY prescriptions.startdate ASC LIMIT 1
a8feb694e864b90b3695fce8,Can you tell me how many days patient 10015860 stayed in the ICU during their last stay?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 0.6421874999068677}]",SELECT MAX(icustays.outtime) - MIN(icustays.intime) AS days_in_icu FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10015860
81aaa658176632cb934fc8b2,Has patient 10012853 been given a diagnosis?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10012853
46beded22d8893f7ce7fbb8d,Show me the top five most frequent lab tests since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY labevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
83f52912d78ee9b03c4a66a7,"Did patient 10018423 have a introduction of other therapeutic substance into heart, open approach on the first hospital encounter?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ORDER BY admissions.admittime LIMIT 1 )"
03cc245c1d997582959cd48a,What is the average monthly number of cases for other specified coagulation defects since 1 year ago?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified coagulation defects' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT COUNT(*)/12 FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') AND diagnoses_icd.icd9_code LIKE '286.9%' AND diagnoses_icd.hadm_id = admissions.hadm_id"
b594bc62abf53801dd98efe3,Please count the hospital visits made by patient 10012853 in 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10012853 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10012853 AND YEAR(admissions.admittime) = 2100
f2d594c951cd6c02275e0a17,Has there been any organism detected in the first microbiological examination of patient 10020944's sputum in 03/this year?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.specimen_source = 'Sputum' AND microbiologyevents.chartdate >= '2023-03-01' AND microbiologyevents.chartdate < '2023-04-01' AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND microbiologyevents.organism IS NOT NULL
e63b87cee280daecb46a2af6,"So, the first asparate aminotransferase (ast) test result for the patient 10019172 was?",SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'aspartate aminotransferase (AST)' AND d_items.linksto = 'labevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
44ff2488f2d3d5682b6994b8,The last time patient 19175 had something to take on a regular basis?,,,SELECT prescriptions.stop_date FROM prescriptions WHERE prescriptions.subject_id = 19175 ORDER BY prescriptions.stop_date DESC LIMIT 1
055d52386664ba496c850da1,Can you tell me the cost for the procedure called fluoroscopy of multiple coronary arteries using other contrast?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) ),,
42cb30e92eb50866f96a3d15,Calculate the sum of patient 10004235's input since 01/20/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-01-20'",[{'SUM(inputevents.totalamount)': 122382.0}],
c68f338d371ce9d209a15844,Reveal the drug name that was first prescribed to patient 10007818 via the iv route since 05/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.route = 'iv' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT medications.drug FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND medications.startdate >= '05/21/2010' AND medications.route = 'IV' ORDER BY medications.startdate ASC LIMIT 1
f111218b574bd10dcf361deb,What are the four most frequent procedures for patients who are in their 60 or above in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE YEAR(admissions.admittime) = 2100 AND patients.dob <= DATE_SUB(admissions.admittime, INTERVAL 60 YEAR) GROUP BY d_icd_procedures.icd_code ORDER BY frequency DESC LIMIT 4"
51825ade8dabf4e61477d4d8,"Since 10/2100, has patient 10039708 undergone a lab test?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-10'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND labevents.charttime >= '2010-10-01 00:00:00'
aa9cf98a6cfcfc591fd1d744,What is the maximum yearly number of patients affected by other specified hypotension?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified hypotension' ) GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(year), MAX(total_number_of_patients) FROM ( SELECT EXTRACT(YEAR FROM admissions.admittime) AS year, COUNT(DISTINCT admissions.subject_id) AS total_number_of_patients FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'I95%' GROUP BY EXTRACT(YEAR FROM admissions.admittime) ) AS yearly_patient_count"
6e592987e710b1b2fcd180e0,What's the red blood cells change of patient 10009628 last measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT first_value(chartevents.valuenum) OVER (ORDER BY chartevents.charttime ASC) - last_value(chartevents.valuenum) OVER (ORDER BY chartevents.charttime DESC) AS diff FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cells' AND d_items.linksto = 'chartevents' )
70fb08c9ae39f471ccb4c81a,Can you show me the top five most common procedures conducted?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )","[{'long_title': 'Insertion of Infusion Device into Superior Vena Cava, Percutaneous Approach'}, {'long_title': 'Venous catheterization, not elsewhere classified'}, {'long_title': 'Central venous catheter placement with guidance'}, {'long_title': 'Coronary arteriography using two catheters'}, {'long_title': 'Other nonoperative respiratory measurements'}]","SELECT d_icd_procedures.long_title, COUNT(*) as procedure_count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code GROUP BY procedures_icd.icd_code ORDER BY procedure_count DESC LIMIT 5"
15e2ea64a2fe87620f2135f7,When was patient 10005348 last blood culture microbiologic test since 07/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' AND d_items.label LIKE '%blood culture%' ) AND datetime(chartevents.charttime) >= datetime('2000-07-01') ORDER BY chartevents.charttime DESC LIMIT 1
2ada7dac8b465ec817534276,What was the amount of neutra-phos that was prescribed to patient 10036156 for the first time in 07/this year?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND prescriptions.drug = 'neutra-phos' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
04f71c7e519351b6f93b7777,List the top five most frequent diagnoses that patients were diagnosed with within 2 months after receiving diagnostic ultrasound of digestive system since 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of digestive system' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label = 'diagnostic ultrasound of digestive system' ) AND charttime >= '2100-01-01' ) ) AND BETWEEN charttime AND date_add(charttime, INTERVAL 2 MONTH) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
0056cade81e16f20fe9fe322,Has patient 10023239 had any medication prescribed since 05/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10023239 AND datetime(prescriptions.startdate) > datetime('2021-05-01')
368dc6fa47ea7885905c48d5,How is olanzapine (disintegrating tablet) taken?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'olanzapine (disintegrating tablet)',[],
0821be3636ee8eab640a750b,"Show me the top four most frequent diagnoses that patients were diagnosed with within 2 months after receiving extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic in 2100.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS frequency FROM diagnosis_icd INNER JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= '2100-01-01' AND admissions.admittime <= '2100-12-31' AND diagnosis_icd.icd_code IN (SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title LIKE '%extirpation of matter from left lower lobe bronchus, via natural or artificial opening%') AND admissions.admittime <= DATE_SUB(admissions.admittime, INTERVAL 2 MONTH) GROUP BY diagnosis_icd.icd_code ORDER BY frequency DESC LIMIT 4"
c040519bfaa35e04239eecbd,Has patient 10020944 been admitted into an emergency room?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.admission_type = 'EMERGENCY'
d4729c0ab6ae0748e9626cab,"In relation to others of the same age, where does a ph value of 7.34 for patient 10026255 rank in percentiles in their first hospital visit?","SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10026255 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 7.34",,
58c7b81fff91803d70fcd674,What should i do following the coronar arteriogr-2 cath procedure?,,,
355c64d2875efbf6a8cd7683,What was the name of the output which patient 10019172 had first had since 04/07/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-07' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Foley'}],
bf0f46e8fb7361b565f0acd6,Tell me patient 10005817's total volume of output on 12/25/this year.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '12-25'",[{'SUM(outputevents.value)': None}],SELECT sum(chartevents.volume) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.charttime BETWEEN '12/25/this year 00:00:00' AND '12/25/this year 23:59:59' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total volume of output' AND d_items.linksto = 'chartevents' )
86cbd6023ea3c6b4277ad089,Quantify the number of patients who were tested since 2100 for ferritin.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ferritin' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ferritin' ) AND datetime(labevents.charttime) >= datetime('2100-01-01')
c6af3f026c0e32b6e92878fe,When did patient 10007928 first receive a lab test for urea nitrogen on their first hospital encounter?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007928 AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%urea nitrogen%') AND admissions.hospital_expire_flag = 0 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE subject_id = 10007928)
8767ec4e6f5bb384a55e1f3a,"Since 2100, what are the top five most frequent procedures that patients received within 2 months after being diagnosed with pseudomonas infection in conditions classified elsewhere and of unspecified site?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pseudomonas infection in conditions classified elsewhere and of unspecified site' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE icd_diagnoses.icd_code LIKE 'A41%' AND icustays.intime BETWEEN icd_diagnoses.charttime AND DATE_ADD(icd_diagnoses.charttime, INTERVAL 2 MONTH) AND icd_diagnoses.seq_num = 1 GROUP BY d_icd_procedures.long_title ORDER BY COUNT(*) DESC LIMIT 5"
39a3cf3e83759a824ed64266,Has patient 10008287 been given any diagnosis since 1 year ago?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(diagnoses_icd.admittime) >= datetime(current_time,'-1 year')"
3bb6bf7407b7133944318142,When was patient 10005909 prescribed a acetaminophen and oxycodone (immediate release) at the same time for the first time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'acetaminophen' AND admissions.subject_id = 10005909 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'oxycodone (immediate release)' AND admissions.subject_id = 10005909 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10005909 AND prescriptions.drug IN ('acetaminophen', 'oxycodone (immediate release)') GROUP BY prescriptions.subject_id, prescriptions.drug HAVING COUNT(DISTINCT prescriptions.drug) = 2 LIMIT 1"
c07d03f18cb3b7eb6a97c463,Tell me the amount of foley patient 10039831 had since 266 days ago.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime) >= datetime(current_time,'-266 day')",[{'SUM(outputevents.value)': None}],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-266 days')"
a8030f14c8d26bf536bbb2e7,Has patient 10001217 got a l laboratory test this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'l' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND YEAR(labevents.charttime) = YEAR(CURRENT_DATE)
d11f27c0322c15dc8f10c8b2,What is the reimbursement standard for cerebrovascular mri?,,,
a811c24da8966874201c1f03,What was the last time of input of patient 10021487 since 03/20/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-20' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2117-03-09 14:20:00'}],
ee73ce9db61eca17bccfc7ee,Does patient 57050 have a past overseas travel experience?,,,
a8f04b428e4feaac42d610de,Has patient 10015860 come to the ER during this year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10015860 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
0186746594c1cf90e38d4ffd,Has patient 10006053 had a lab test for basophils since 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) AND labevents.charttime >= '2100-01-01'
62458787b60bd28c2b337541,"During their first hospital encounter, when did patient 10014354 receive their last medication via the im route?",SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'im' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ORDER BY admissions.admittime LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.storetime LIKE '%IM%' ) ORDER BY chartevents.charttime DESC LIMIT 1
23b4c91212b33b3feec1624d,Calculate the number of patients who underwent a laboratory test for % hemoglobin a1c since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%hemoglobin a1c%' ) AND datetime(labevents.charttime) > '2100-01-01' LIMIT 1
18b181c1e5e0cb0999cf255c,"In total, what was the input amount of gt flush that patient 10038933 received in their last ICU stay?",SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gt flush' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv INNER JOIN icustays ON inputevents_cv.icustay_id = icustays.icustay_id WHERE inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gt flush' ) AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ORDER BY inputevents_cv.charttime DESC LIMIT 1
6b473d162048ac1a1c32fab8,Could you retrieve the top four diagnoses that have the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS mortality_count FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN mortality ON admissions.hadm_id = mortality.hadm_id WHERE mortality.mortality = 1 AND datetime(admissions.admittime) <= datetime(current_time,'-6 month') GROUP BY diagnoses_icd.icd_code ORDER BY mortality_count DESC LIMIT 4"
ac99a2f4b7ce6677c8f21cf0,What are the five most frequently ordered medications that patients in their 40s were prescribed within 2 months after being diagnosed with esophageal reflux in this year?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophageal reflux' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m1.short_name, COUNT(*) as num_orders FROM prescribings AS m JOIN admissions AS a ON m.hadm_id = a.hadm_id JOIN patients AS p ON a.subject_id = p.subject_id WHERE p.dob >= '1970-01-01' AND p.dob < '1980-01-01' AND a.admittime >= '2022-01-01' AND a.admittime < '2023-01-01' AND a.diag_in > '530' AND a.diag_in < '531' AND m.starttime > a.admittime AND m.starttime < date_add(a.admittime, INTERVAL 2 MONTH) GROUP BY m1.short_name ORDER BY num_orders DESC LIMIT 5"
f59080441b975f79286dcd09,Tell me the top five most common lab tests since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]",
c6a37b7e4bf30a4820758f4a,When was the last time that patient 10004235 was prescribed heparin and sodium chloride 0.9% in 07/2100 at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'sodium chloride 0.9%' AND admissions.subject_id = 10004235 AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'heparin' AND admissions.subject_id = 10004235 AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT MAX(prescriptions.startdate) FROM prescriptions INNER JOIN patients ON patients.subject_id = prescriptions.subject_id WHERE prescriptions.subject_id = 10004235 AND prescriptions.drug = 'heparin' AND prescriptions.formulary_drug_cd = 'heparin' AND prescriptions.dose_unit = 'ml' AND prescriptions.formulary_drug_cd = 'sodium chloride 0.9%' AND prescriptions.dose_unit = 'ml' AND prescriptions.stopdate >= '2007-01-01' AND prescriptions.stopdate <= '2007-12-31'
55298e7d2d87edab46d2e4e0,How many patients received a globulin lab test since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'globulin' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
67cfd4b9ba04c04a487ec39f,What are the precautions after the spinal canal explor nec procedure?,,,
1aa68945724425b2f49cb5f1,What output did patient 10015860 generate first since 10/04/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-04' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Void'}],
74d3878c8b5bd8025d7a304d,When was the last time that patient 10018081 had the minimum value of diastolic blood pressure on 12/29/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-29' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime, chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'diastolic blood pressure' ) AND chartevents.charttime LIKE '12/29/%' ORDER BY chartevents.valuenum ASC LIMIT 1"
1eb6a80e3bcffd099385b474,When did patient 10020944 have the maximum sodium value for the last time in their first hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime ASC LIMIT 1) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Sodium') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
b3f9074de167c69e1b75d061,Has patient 10037928 in 11/this year been given a urea nitrogen lab test?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '11'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.charttime >= '2023-11-01' AND labevents.charttime <= '2023-11-30'
314918b25acf3b59dd2f8ad6,Can you tell me the top five most common treatments for patients in their 50s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT t2.short_title, COUNT(*) AS count FROM procedures_icd AS t1 JOIN d_icd_procedures AS t2 ON t1.icd_code = t2.icd_code JOIN admissions AS t3 ON t1.hadm_id = t3.hadm_id JOIN patients AS t4 ON t3.subject_id = t4.subject_id WHERE t4.anchor_age BETWEEN 50 AND 59 GROUP BY t2.short_title ORDER BY count DESC LIMIT 5"
9a8d0a7f72b2f306a779ac82,Has patient 10010471 been checked into the hospital since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10010471 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10010471 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
5c94acc60a698d8e066b2346,Show me the top four most frequent lab tests.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 4"
1ba68173e9103374da571bcf,What was patient 10018423's insurance name on their last hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Other'}],"SELECT admittime, dischtime, insurance FROM admissions WHERE admissions.subject_id = 10018423 ORDER BY dischtime DESC LIMIT 1"
cba569373f71ae7e9628bf97,What was the accumulated output for patient 10009628 on 10/02/this year?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '10-02'",[{'SUM(outputevents.value)': None}],SELECT sum(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'urine output' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND datetime(chartevents.charttime) BETWEEN datetime('2022-10-02') AND datetime('2022-10-03')
03cee97f39a5dbd735cc25ea,How many patients in 2100 were discharged from the hospital?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.hospital_expire_flag = 1 AND admissions.hadm_id LIKE '2100%'
955058f5985e47dd049eded6,Provide the four most common medications in 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],
a693683961d00b054d159be0,What was patient 10019385's total input amount of nacl 0.9% on 03/12/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-12'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.amount) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = '0.9% NaCl' AND d_items.linksto = 'inputevents' ) AND chartevents.charttime BETWEEN '03/12/2100 00:00:00' AND '03/12/2100 23:59:59'
05424dfd1bc74bf21ddc5688,What were the top five diagnoses most frequently diagnosed in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
95523c3c68ef7d68aa2cd797,Tell me the total volume of input that patient 10021938 was given since 07/12/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-12'",[{'SUM(inputevents.totalamount)': 1754.0}],SELECT SUM(chartevents.volume) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime >= '07/12/2100'
444002e65b58c6f479197866,Can you calculate how many patients were prescribed gemfibrozil?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'gemfibrozil' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'gemfibrozil'
51cdecbb594a8e0b5f169388,What was the last time on their current hospital visit patient 10021487 had the maximum plasma cells.,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'plasma cells' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'plasma cells' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
a14cb4f846f35ff7611f1dbc,List the top three most frequent lab tests since 1 year ago.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS freq FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= datetime('now', '-1 year') GROUP BY d_labitems.label ORDER BY freq DESC LIMIT 3"
ce3af199fd7438f9504a0ed5,What was the name of the medication that was first prescribed to patient 10010471 since 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Rosuvastatin Calcium'}],
f4526c3446deb95d067dc788,How long took entral infus nutrit sub for patient 10855?,,,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion, nutritional support, sub' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10855 )"
c6de512d1247fb7333ad1c80,What was the last time that patient 10031757 had a maximum systolic blood pressure since 92 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-92 day') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT MAX(chartevents.valuenum) , chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid = 51, chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 92 DAY) GROUP BY chartevents.charttime ORDER BY chartevents.charttime DESC LIMIT 1"
db18ec5bfbe1e3422939cf2b,How much is drainage of pancreatic cyst by catheter?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pancreatic cyst by catheter' ) ),,
bb9f9e41ece52e577d67ea85,Is there a code that matches icd-11 for male gen inflam dis nec in icd-10?,,,
0653e85d090882590ea6b4ce,Can you tell me about patient 10022880's age on the last hospital encounter?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10022880 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) AS age FROM patients JOIN admissions ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10022880 ORDER BY admissions.admittime DESC LIMIT 1"
27f86a5f461f220f2b2ed647,How many days have passed since patient 10021487 first visited the careunit emergency department on this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT julianday(MAX(admissions.admittime)) - julianday(MIN(admissions.admittime)) AS days_since_first_visit FROM admissions WHERE admissions.subject_id = 10021487
b9709f43c5ff64a2dd1b4d47,When was the last time that patient 10037975's SaO2 was measured at less than 90.0 on their last ICU stay?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 90.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2 from SpO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 90 ORDER BY chartevents.charttime DESC LIMIT 1
facfba9ab5edcbd30634f5b1,What was the average value of the SaO2 of patient 10023239?,SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ),[{'AVG(chartevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' )
5137f76e33516dfdead9f682,Has patient 10004733 been given any gastric meds medication since 12/19/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-19'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND prescriptions.startdate >= '12/19/2100' AND prescriptions.drug IN ( SELECT d_rndrug.name FROM d_rndrug WHERE d_rndrug.category = 'gastric_meds' )
232c1cf9aed1b4611fb6d99a,"Since 2100, what are the top five most frequent drugs prescribed to patients within 2 months after the diagnosis of atrial flutter?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atrial flutter' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN admissions ON chartevents.stay_id = admissions.icustay_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '427.32' AND chartevents.charttime >= admissions.admittime AND chartevents.charttime <= date(admissions.admittime, '+2 month') AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE category = 'Medications') AND chartevents.valuenum >= 2100 GROUP BY d_items.itemid ORDER BY frequency DESC LIMIT 5"
464395597c069391d5a6f398,Show us the top three most common microbiology tests in this year.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3",[],"SELECT d_microbiology_test_name.test_name, COUNT(*) AS test_count FROM microbiologyevents JOIN d_microbiology_test_name ON microbiologyevents.testname=d_microbiology_test_name.test_name WHERE microbiologyevents.chartdate >= datetime(current_date, '-1 year') GROUP BY d_microbiology_test_name.test_name ORDER BY test_count DESC LIMIT 3"
33d0ec324183f0e65eb1f466,When was the first time patient 10020740 was prescribed drugs via po in 07/this year?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.route = 'po' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT admits.admittime FROM admissions AS admits JOIN icustays AS iu ON admits.hadm_id = iu.hadm_id JOIN inputevents_mv AS imv ON iu.stay_id = imv.stay_id WHERE admits.subject_id = 10020740 AND imv.order_category_name = 'PO' AND imv.charttime >= '07-01-2022' AND imv.charttime < '08-01-2022' ORDER BY imv.charttime ASC LIMIT 1
d9585c679577af82dd88c509,What is the number of drugs patient 10019172 was prescribed since 1 year ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 168}],SELECT count(DISTINCT pitemid) FROM prescriptions WHERE subject_id = 10019172 AND starttime >= current_date - INTERVAL '1 YEAR'
a2c56aa731442cc35b8f88dc,When has patient 10002495 been prescribed medication for the first time on the first hospital encounter via the iv route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'iv' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND prescriptions.route = 'IV' ORDER BY prescriptions.startdate ASC LIMIT 1
4f945a0ea52625d2facbf443,What was the minimum platelet count value for patient 10021118 on their first hospital visit?,SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ),[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label = 'Platelet Count' ) AND admissions.subject_id = 10021118 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE subject_id = 10021118 )
4e6d83c0c7ba1ea3a2bf658b,How many patients were diagnosed with acute diastolic (congestive) heart failure in the same month after the previous diagnosis with hypokalemia in 2100?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypokalemia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute diastolic (congestive) heart failure' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(*) FROM diagnoses_icd AS d1 JOIN diagnoses_icd AS d2 ON d1.subject_id = d2.subject_id WHERE d1.icd_code LIKE '4280%' AND d2.icd_code LIKE '2762%' AND MONTH(d1.chartdate) = MONTH(d2.chartdate) AND YEAR(d2.chartdate) = 2100
e01675d4835c5611d02521e2,What was the first time in 05/2100 patient 10009035 had the maximum mchc value?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND strftime('%Y-%m',labevents.charttime) = '2100-05' ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],
afce68a2f7090e5fa3220930,What was the insurance for patient 10040025 during the first hospital encounter?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],"SELECT admittime, dischtime, insurance FROM admissions WHERE admissions.subject_id = 10040025 ORDER BY admittime ASC LIMIT 1"
4678e394b805643ece243dbd,"What are the top four most common microbiology tests that patients were diagnosed with after the diagnosis of spinal stenosis, lumbar region, without neurogenic claudication within the same hospital visit?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'spinal stenosis, lumbar region, without neurogenic claudication' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT test.name, COUNT(*) AS count FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN microbiologyevents ON admissions.hadm_id = microbiologyevents.hadm_id JOIN test ON microbiologyevents.test_id = test.test_id JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code = 'M480' AND microbiologyevents.specimen_type = 'BODYSITE' AND test.name IN ( SELECT test.name FROM microbiologyevents JOIN test ON microbiologyevents.test_id = test.test_id WHERE microbiologyevents.specimen_type = 'BODYSITE' AND d_icd_diagnoses.icd_code = 'M480' GROUP BY test.name ORDER BY COUNT(*) DESC LIMIT 4 ) GROUP BY test.name ORDER BY count DESC LIMIT 4"
271a7ff6c3f876ddc5c5cbfc,How many patients were given a triiodothyronine (t3) lab test since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'triiodothyronine (t3)' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.charttime >= datetime(current_time,'-1 year') AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'triiodothyronine (t3)' )"
73bfff1ea31aa4d903100d70,What is the code which corresponds to the icd-11 for cerebral edema in icd-10?,,,
ad25eb02b71d4d267ce0abfc,Can you tell me the id of patient 1372's ward that he or she may be admitted to?,,,
848a65292fc28285ffa82551,Please calculate the total output for patient 10022017 since 06/06/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-06'",[{'SUM(outputevents.value)': 14835.0}],
6ec318a2ef73df94df5bdcae,Has any organism been found in patient 10007058's last microbiological serology/blood test in 11/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND microbiologyevents.spec_type_desc = 'serology/blood' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-11' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],
cdeaa55f2c3e7ba95eec9c4a,When did patient 10021487 have the minimum value of creatinine first in the current hospital encounter?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],SELECT labevents.charttime FROM labevents INNER JOIN admissions ON admissions.hadm_id = labevents.hadm_id WHERE admissions.subject_id = 10021487 AND labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine') AND labevents.charttime = (SELECT MIN(labevents.charttime) FROM labevents WHERE labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine') AND admissions.hadm_id = labevents.hadm_id) ORDER BY labevents.charttime ASC LIMIT 1
42b510fee11c5b77449a9840,What is the maximum total cost of the hospital visits that included injection of anesthetic into spinal canal for analgesia in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'injection of anesthetic into spinal canal for analgesia' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(T1.total) FROM ( SELECT SUM(item_cost) AS total FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%injection of anesthetic into spinal canal%' ) AND admissions.subject_id = 2100 ) AS T1
b5b17c29fa86af65cfe72d48,Has patient 10018423 been to the E.R.?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.admittime IN ( SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10018423 ) AND admissions.hospital_expire_flag = 0
1d8e1854e955b721c482a91d,What was the last hospital admission type for patient 10005866?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10005866 ORDER BY admissions.admittime DESC LIMIT 1,[{'admission_type': 'OBSERVATION ADMIT'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10005866 ORDER BY admissions.admittime DESC LIMIT 1
a6b419a3f82d564950633030,Could you tell me the gender of patient 10016742?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10016742,[{'gender': 'F'}],SELECT gender FROM patients WHERE subject_id = 10016742
facfa7d227ce410e9a85def3,What is the title of the medication that was given to patient 10014078 first via the sc means on the last hospital stay?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'sc' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10014078 AND chartevents.valuenum > 0 AND chartevents.stopresult IS NULL AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND d_items.linksto = 'chartevents' AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' AND linksto = 'chartevents' ) AND chartevents.charttime IN ( SELECT MIN(charttime) FROM chartevents WHERE chartevents.subject_id = 10014078 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' AND linksto = 'chartevents' ) AND chartevents.valuenum > 0 AND chartevents.stopresult IS NULL AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id
f1e1021aefe5f99b0283d0b0,How much is the maximum total cost of the hospital visits that involve a drug named bisacodyl since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'bisacodyl' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
a857fe023621b88d5229e66e,What treatment were provided to patient 10021938 two or more times since 07/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-07' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT cSQL
315e7c004443575bb2996afc,When was patient 10015272's last maximum chloride value in their first hospital encounter?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND ROW_NUMBER() OVER (PARTITION BY admissions.subject_id ORDER BY admissions.admittime) = 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Chloride' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1"
1aaa39bc1ab0805e5a3b83be,"What percentile is the fibrinogen, functional value of 86.0 in the same age group as patient 10013049 during the first hospital encounter?","SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'fibrinogen, functional' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 86.0",,
c0fcaebf5fe4de9b0da7c35c,How much morphine sr (ms contin) had been prescribed to patient 10021312 in total in 08/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.drug = 'morphine sr (ms contin)' AND strftime('%Y-%m',prescriptions.starttime) = '2100-08'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c_totaldose) FROM prescriptions WHERE prescriptions.subject_id = 10021312 AND prescriptions.drug = 'Morphine SR (MS Contin)' AND prescriptions.charttime BETWEEN '2008-01-01' AND '2008-12-31'
83ef051d3b1070d79701011f,What were the five most frequent output events?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT chartevents.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Output Events' GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
23a3bff9e2c821e3f091088a,When did patient 10019777 get an input for the last time since 03/04/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-04' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2187-02-17 20:00:00'}],
296dc134fad4a300a3e8605b,"What is the minimum total cost at a hospital including a glucose, ascites laboratory test in 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, ascites' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
e98f22d20d446f796e001b97,I want to know the total volume of input patient 10019777 has received on 03/03/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-03'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.volume) FROM chartevents WHERE chartevents.subject_id = 10019777 AND chartevents.charttime >= '03/03/2100 00:00:00' AND chartevents.charttime <= '03/03/2100 23:59:59' AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Input')
3e6c40802e7951b28402583b,When was the last input time of patient 10027602 since 11/26/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-11-26' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2201-12-13 16:51:00'}],
cb29881e7d27f8f23e3a8502,Give a count of the number of ICU visits of patient 10004720 during their last hospital visit.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ORDER BY admissions.admittime DESC LIMIT 1 )
065b726dbf86eb804accd168,"For the last time since 02/2100, what was the drug that patient 10014078 was prescribed via iv drip route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND prescriptions.route = 'iv drip' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND prescriptions.route = 'IV' AND prescriptions.starttime <= '02/2100' ORDER BY prescriptions.starttime DESC LIMIT 1
eff7745b76fcafa8bf36d64d,What was the specimen test ranked at three that was done most commonly?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]",
407f290d6f4319cdd21a777e,What was the last weight of patient 10005817 recorded since 14 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime DESC LIMIT 1"
5272430cbc48927e9597669b,"On 07/26/this year, when did patient 10016742 receive an input for the first time?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '07-26' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND DATE(chartevents.charttime) = '2022-07-26' ORDER BY chartevents.charttime ASC LIMIT 1
8e22c703d632798f42282434,"What was the last dose of nifedipine in 11/2100, prescribed to patient 10021938?","SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND prescriptions.drug = 'nifedipine' AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10021938 AND prescriptions.drug = 'nifedipine' AND prescriptions.d_start_date <= '11/21/2000' AND prescriptions.d_end_date >= '11/21/2000' ORDER BY prescriptions.d_start_date DESC LIMIT 1
728bd4f1812fb837f2f3ff6b,What was the first value of a epithelial cells lab test of patient 10016150?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) ORDER BY labevents.charttime ASC LIMIT 1
c9fe1f1b8ec77f4a772615c7,"What was the last time, on the last ICU stay, that patient 10025612's heart rate was greater than 75.0?",SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 75.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 75.0 ORDER BY chartevents.charttime DESC LIMIT 1
19aa80f1a14f42697fdcba60,What was the total ostomy (output) volume that patient 10018081 had since 11/30/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ostomy (output)' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-30'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ostomy (output)' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '11/30/2100'
dbe29d2282f5b3aed0d011d3,Has patient 10029291 gone to an emergency room since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.admittime >= '2100-01-01 00:00:00'
2c69aa2c7d2c6989277b55bb,Calculate patient 10027602's total input amount of nacl 0.9% on this month/05.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '05'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.valueuom) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = '0.9% NaCl' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-05-01' AND chartevents.charttime < '2022-06-01'
222d8247ed139a5d5cd17c02,What was the name of the drug patient 10027602 was prescribed within 2 days after having received a percutaneous [endoscopic] gastrostomy [peg] procedure since 12/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-12' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT medications.meds FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND medications.starttime >= ( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%percutaneous endoscopic gastrostomy%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ORDER BY procedures_icd.charttime DESC LIMIT 1 ) AND medications.starttime <= DATE_ADD(( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%percutaneous endoscopic gastrostomy%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ORDER BY procedures_icd.charttime DESC LIMIT 1 ), INTERVAL 2 DAY)"
69670441a1821ea09ab84daa,Show me patient 10018081's total ostomy (output) output amount since 07/25/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ostomy (output)' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-25'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ostomy (output)' ) AND chartevents.charttime >= '2007-25-10'
1ab67d97d6f153a086427f61,What was the name of the specimen given to patient 10002495 for the first time since 04/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'MRSA SCREEN'}],
5e947ca43ffbad49cde64c05,"I mean, what is the reimbursement standard for cerebrovascular mri?",,,
cc6c86acab499b90014c3eac,"Since 1 year ago, has patient 10022281 come to the ER?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022281 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022281 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
26ce902d74db9f732e88776c,What was the total number of patients staying in hematology/oncology since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'hematology/oncology' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time, '-1 year') AND admissions.hospital_service LIKE '%Hematology/Oncology%'"
e0d157e7655d68add3bb76d5,"What is the cost of a diagnosis of surgical operation with anastomosis, bypass, or graft, with natural or artificial tissues used as implant causing abnormal patient reaction, or later complication, without mention of misadventure at time of operation?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'surgical operation with anastomosis, bypass, or graft, with natural or artificial tissues used as implant causing abnormal patient reaction, or later complication, without mention of misadventure at time of operation' ) )",,
ffc00c5a91336c29e74e82e7,Name the three most frequently prescribed drugs in the same hospital visit following a diagnosis of pure hypercholesterolemia.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pure hypercholesterolemia' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT dd_short.name, count(*) as frequency FROM diagnoses_icd AS d JOIN admissions AS a ON d.hadm_id = a.hadm_id JOIN prescriptions AS p ON a.hadm_id = p.hadm_id JOIN drugs AS dd ON p.drug_id = dd.drug_id WHERE d.icd_code LIKE '272.0%' GROUP BY dd_short.name ORDER BY frequency DESC LIMIT 3"
ce7977eba118e89d42bc63b2,What was the diagnosis for patient 10029484 the last time during this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT admittime, discharge diagnoses FROM admissions WHERE subject_id = 10029484 AND YEAR(admittime) = YEAR(CURRENT_DATE()) ORDER BY admittime DESC LIMIT 1"
5e25f7703857496eb27b9a2a,Has patient 13329 experienced any side effects during a blood transfusion?,,,SELECT COUNT(*)>0 FROM transfusions JOIN side_effects ON transfusions.transfusion_id = side_effects.transfusion_id WHERE transfusions.patient_id = 13329
5e629ad0ef424581e32da93e,Count the current patients who are in the 50s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 50 AND 59,,SELECT COUNT(*) FROM patients WHERE patients.dob BETWEEN '1950-01-01' AND '1959-12-31'
5572350469c75b9bc5b406cd,"What are the five most frequently given diagnoses for patients who had previously had extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic in the same month, since 1 year ago?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as frequency FROM admissions JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN icu_procedures ON admissions.hadm_id = icu_procedures.hadm_id WHERE icu_procedures.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND icu_procedures.chartdate >= datetime(current_time,'-1 year') ) AND icd_diagnoses.seq_num <= 15 GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
77b6bd619a1302c0e9f16e66,What was the drug that was last prescribed to patient 10039708 via the ih route since 08/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND prescriptions.route = 'ih' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10039708 AND prescriptions.route = 'ih' AND datetime(prescriptions.dosedatetime) >= datetime('08/2100') ORDER BY prescriptions.dosedatetime DESC LIMIT 1
9628d71c349327c8e53e3df4,Could you provide me with the three most frequent output events this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_FORMAT(CURDATE(),'%Y-01-01') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
3ba76ddc2f81e4273838d8ae,"What is the average total hospital cost that involved ileostomy, not otherwise specified since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(admissions.totalhospitalcost) FROM admissions WHERE admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.stay_id IN ( SELECT procedures_icd.stay_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) ) ) AND admissions.admittime >= '2100-01-01'"
643390539a60fbe52d9fc05a,Has patient 10019385 had a hospital admission since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019385 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.admittime > '2100-01-01'
381c1509334fff03b367f5e0,When did patient 10035185 have a base excess lab test for the first time in 05/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'base excess' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND strftime('%Y-%m',labevents.charttime) = '2100-05' ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'base excess' ) AND strftime('%m/%Y', labevents.charttime) = '05/2100' ORDER BY labevents.charttime ASC LIMIT 1"
2c4de5ffe5ea946437ba33a6,"During the last hospital encounter, how old was patient 10019172?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) AS age FROM patients JOIN admissions ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10019172 ORDER BY admissions.admittime DESC LIMIT 1"
19514defe49fe155ab776c71,What were the top five most frequent specimens ordered for patients after being diagnosed with proteus (mirabilis) (morganii) infection in conditions classified elsewhere and of unspecified site within the same hospital visit?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'proteus (mirabilis) (morganii) infection in conditions classified elsewhere and of unspecified site' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM microbiologyevents WHERE micro_organism = 'Proteus (mirabilis) (morganii)' AND spec_type_desc = 'Specimen classified elsewhere and of unspecified site' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = chartevents.hadm_id ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5
b4cddff0a459aeb457378e32,Gather the total number of times patient 10007795 visited the hospital.,SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10007795,[{'COUNT( DISTINCT admissions.hadm_id )': 5}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10007795
146e130f4ab60443b1facefb,"For patient 10016150, what were the first lymphocytes lab results?",SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%lymphocytes%' ) ORDER BY labevents.charttime ASC LIMIT 1
06aaefb80b31fdff1837ad61,Has any medicine been prescribed to patient 10029291 since 2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10029291 AND datetime(prescriptions.startdate) >= datetime('2100-01-01')
b51cf6ccd388a090596b77a3,When was patient 10004720's first hospital discharge?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10004720 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2186-11-17 18:30:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10004720 ORDER BY admissions.admittime LIMIT 1
37805d9674cc2e4525168916,"Among patients in their 60 or above this year, what were the top four most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM admissions WHERE admissions.admittime >= DATE_FORMAT(CURRENT_DATE, '%Y-01-01') AND admissions.admittime <= CURRENT_DATE AND patients.dob <= DATE_FORMAT(CURRENT_DATE, CONCAT('%Y', '-', LPAD(MONTH(CURRENT_DATE) - 60, 2, '0'), '-01')) AND patients.dob > DATE_FORMAT(CURRENT_DATE, CONCAT('%Y', '-', LPAD(MONTH(CURRENT_DATE) - 61, 2, '0'), '-01')) JOIN admissions_diagnoses ON admissions.hadm_id = admissions_diagnoses.hadm_id JOIN d_icd_diagnoses ON admissions_diagnoses.icd9_code = d_icd_diagnoses.icd9_code GROUP BY icd9_code ORDER BY frequency DESC LIMIT 4"
eae749337c708ec5697cf97e,What was the name of the medicine prescribed to patient 10020740 for the first time since 03/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Sodium Chloride 0.9%  Flush'}],
6349f71964ff7e144cdd2cba,Retrieve the top four most common lab tests since 1 year ago.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
63963fa9f83cbade78c334a0,Can you count how many operating rooms there is now,,,
7a2a83f4a894b5b5f2076da6,What is today's outpatient schedule for dr. gaylor?,,,
33b3c4f8d9aabedcd9066605,What was the medication that patient 10019777 was prescribed for within 2 days after receiving other endoscopy of small intestine in 03/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endoscopy of small intestine' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND prescriptions.startdate >= ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopy of small intestine, other' ) AND procedures_icd.subject_id = 10019777 ) AND prescriptions.startdate <= ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopy of small intestine, other' ) AND procedures_icd.subject_id = 10019777 ) + INTERVAL 2 DAY AND prescriptions.startdate >= '2023-03-01' AND prescriptions.startdate < '2023-04-01'"
5f1dc42ba1c4cd7cad30e93d,What was the last time of input of patient 10027602 on last month/28?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',inputevents.starttime) = '28' ORDER BY inputevents.starttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 day') ORDER BY chartevents.charttime DESC LIMIT 1"
98eb6c243d1dff5092eb4c38,What's the best way to disinfect a quarantine room?,,,
3cfbe0e30b718f625d69a2c5,When did patient 10013049 get the mcv lab test on the last hospital stay for the last time?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCV' ) ORDER BY labevents.charttime DESC LIMIT 1
e0d6ebb9ae85186bd60eadb3,What are the four most commonly ordered medications since 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]",
39a0e7eaffab936c1439a5fa,Is the respiratory rate level of patient 10026406 measured at 2100-01-12 13:00:00 less than measured at 2100-01-12 12:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 13:00:00' ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 12:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 13:00:00' ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 12:00:00' )"": None}]",SELECT chartevents.valuenum < (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10026406 AND chartevents.itemid = 618 AND chartevents.charttime = '2100-01-12 12:00:00') FROM chartevents WHERE chartevents.subject_id = 10026406 AND chartevents.itemid = 618 AND chartevents.charttime = '2100-01-12 13:00:00'
76f01a85f8f50fc5f408fa3b,How many dofetilide prescription instances occurred in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'dofetilide' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_type = 'DOFETILIDE' AND YEAR(prescriptions.startdate) = 2100
ad2310914d9164e853dba7ed,Tell me the amount of total foley that patient 10007058 had since 11/23/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-23'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total foley' ) AND chartevents.charttime >= '11/23/2021' ORDER BY chartevents.charttime DESC LIMIT 1
a39d417e2b49ba956a7d03a7,What diagnosis did patient 10014078 have last in their first hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,"SELECT admittime, discharge diagnoses FROM admissions WHERE subject_id = 10014078 ORDER BY admittime ASC LIMIT 1"
a6c506df1317e23580129055,Does patient 6921 have an overseas history of travel?,,,SELECT COUNT(*)>0 FROM patients WHERE patients.subject_id = 6921 AND patients.INSURANCE LIKE '%overseas%' OR patients.DIAGNOSIS LIKE '%overseas%' OR patients.INSURANCE LIKE '%travel%' OR patients.DIAGNOSIS LIKE '%travel%'
85217448903d24f91d5ea081,What is the maximum total hospital cost for a person with streptococcal septicemia since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'streptococcal septicemia' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
df0baa783ad628147be24b1a,"When, during their last ICU stay, was patient 10002495's respiratory rate measured greater than 21.0 for the first time?",SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 21.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' ) AND chartevents.valuenum > 21.0 AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.subject_id = 10002495 ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1
ac5dd63a7a7e12dbdb8de9e2,Was patient 10005817 given any sort of diagnosis on the first hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT diagnosis.description FROM diagnosis WHERE diagnosis.subject_id = 10005817 AND diagnosis.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ORDER BY admissions.admittime ASC LIMIT 1 )
01f974128b8f1c4383263191,What was the aggregate input volume for patient 10027602 since 09/26/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-26'",[{'SUM(inputevents.totalamount)': 81320.0}],SELECT sum(chartevents.valuenum) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10027602 AND chartevents.charttime >= '2000-09-26' AND d_items.category = 'Input' AND chartevents.valuenum IS NOT NULL
a13c273dcddfa537845c91d0,What medication was last given to patient 10038933?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Heparin Flush (10 units/ml)'}],"SELECT adm.drug FROM ( SELECT drug, ROW_NUMBER() OVER (PARTITION BY subject_id ORDER BY starttime DESC) as rn FROM medications ) adm WHERE adm.subject_id = 10038933 AND adm.rn = 1"
bbe074710272a9a159c13d10,"Since the last time patient 10021487 was diagnosed with injury to liver without mention of open wound into cavity laceration, unspecified in the current hospital encounter, how many days have passed?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'injury to liver without mention of open wound into cavity laceration, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT datediff(CURDATE(), max(admissions.admittime)) FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.hospital_expire_flag = 0 AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN admissions_diagnoses ON admissions_diagnoses.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = admissions_diagnoses.icd_code WHERE d_icd_diagnoses.short_title = 'injury to liver without mention of open wound into cavity laceration, unspecified')"
8131eb8d99a9ae08b543fab4,Has patient 10026255 been tested in the hemoglobin lab in 10/this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.charttime BETWEEN '2023-01-01' AND '2023-12-31'
65026ec4c48a494f09194273,Retrieve the top three most frequent lab tests in 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT itemid, label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE YEAR(charttime) = 2100 GROUP BY itemid ORDER BY frequency DESC LIMIT 3"
e7b0a2fb743b8d418360896e,Calculate the total amount of foley of patient 10006580 in the first ICU visit.,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents INNER JOIN icustays ON icustays.stay_id = chartevents.stay_id WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND icustays.intime = ( SELECT icustays.intime FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'chartevents' )
df2943ec147894b6e5bfbe4f,What is dr. caron's outpatient schedule today?,,,
aca1e0e3be80e222d3b95be5,"How many hours has it been since the first time that patient 10021487 was diagnosed with cardiac complications, not elsewhere classified on this hospital encounter?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cardiac complications, not elsewhere classified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT TIMEDIFF(NOW(), (SELECT min(chartevents.charttime) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487) AND d_items.shortcut = 'CCCR') ) AS time_diff FROM DUAL"
d4677f8cd4b45df639326bef,Get the count of hospital visits by patient 10000032 since 1 year ago.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10000032 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 4}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.admittime >= datetime(current_time,'-1 year')"
f235f99faeb9fd03302dd63c,Get me the top four most frequent events since 1 year ago.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]",
69d1179ddab59c8ffa8e22d7,What was the first time of input for patient 10009049 on 06/14/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '06-14' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '06/14/YYYY' ORDER BY chartevents.charttime ASC LIMIT 1
853d39a04eeeedbb0a28a7d6,How much was the difference in weight of patient 10004422 measured at 2100-01-25 05:00:00 compared to the value measured at 2100-01-24 06:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-25 05:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-24 06:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-25 05:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-24 06:00:00' )"": None}]",SELECT valuenumeric - ( SELECT valuenumeric FROM chartevents AS t1 WHERE t1.subject_id = 10004422 AND t1.itemid = 226734 AND t1.charttime = '2100-01-24 06:00:00' ) FROM chartevents AS t2 WHERE t2.subject_id = 10004422 AND t2.itemid = 226734 AND t2.charttime = '2100-01-25 05:00:00'
880dda6394687e6af314914f,"Tell me the three most common microbiology tests for patients who were previously diagnosed with adverse effect of penicillins, initial encounter within 2 months.","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'adverse effect of penicillins, initial encounter' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"WITH PenicillinPatients AS ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE icd_code LIKE 'T%36%' ) ) SELECT testname, COUNT(*) AS test_count FROM microbiologyevents INNER JOIN PenicillinPatients ON microbiologyevents.hadm_id = PenicillinPatients.hadm_id WHERE microbiologyevents.chartdate BETWEEN DATE_SUB(NOW(), INTERVAL 2 MONTH) AND NOW() GROUP BY testname ORDER BY test_count DESC LIMIT 3"
bf8b0be840875d402d706d58,Can you show me the top five most frequent lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 5"
116aad46ae0fef5a747954b1,"For patients diagnosed with iatrogenic pneumothorax since 1 year ago, what are the top five most recurrent treatments during the same hospital visit?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'iatrogenic pneumothorax' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT treatment, COUNT(*) AS frequency FROM ( SELECT icustays.stay_id FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%iatrogenic pneumothorax%' ) AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') UNION SELECT hadm_id FROM labevents WHERE itemid IN ( SELECT itemid FROM d_labitems WHERE label LIKE '%iatrogenic pneumothorax%' ) AND datetime(charttime) >= datetime(current_time,'-1 year' ) ) AS patient_visits JOIN treatments ON patient_visits.stay_id = treatments.stay_id GROUP BY treatment ORDER BY frequency DESC LIMIT 5"
f06966c4eb707fc9298cf8ed,When has patient 10015272 last had the creatine kinase (ck) minimum value?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase (ck)' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Creatine kinase (CK)' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
1d73f76e9729625f5d313029,Is the white blood cells level of patient 10001725 last measured on the first hospital visit less than the first measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT first_value(chartevents.valuenum) OVER (ORDER BY chartevents.charttime ASC) < first_value(chartevents.valuenum) OVER (ORDER BY chartevents.charttime DESC) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10001725 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'WBC' AND d_items.linksto = 'chartevents' )
339bd7b7cb9460146cc1f5a0,What is the percentile ranking of a glucose test value of 176.0 for patients of the same age as patient 10038992 on the last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 176.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY labevents.hadm_id) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) AND labevents.valuenum = 176.0
620be6a2707f02d1b5444ed9,Could you list the monthly minimum piggyback input of patient 10011398 since 12/22/2100?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'piggyback' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-22' GROUP BY strftime('%Y-%m',inputevents.starttime)",[],
5b78e15830003c4050414093,Was patient 10006053 diagnosed with anything during their first hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ORDER BY admissions.admittime ASC LIMIT 1 )
ab353a41c3fc36453bfc931c,What was the name of the diagnosis that patient 10007795 received for the last time?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT admittime FROM admissions WHERE subject_id = 10007795 ORDER BY admittime DESC LIMIT 1
5542edc6eab94af30e250d96,What was the name of the drug that in the last hospital encounter patient 10038992 was first prescribed?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Sodium Chloride 0.9%  Flush'}],"SELECT admittime, subject_id, drug FROM prescriptions WHERE subject_id = 10038992 ORDER BY admittime DESC, starttime ASC LIMIT 1"
7d5c2f5180cb8edef4ee7d95,Calculate the number of hospital visits made by patient 10036156 during this year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10036156 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],SELECT COUNT(*) AS num_visits FROM admissions WHERE admissions.subject_id = 10036156 AND YEAR(admissions.admittime) = YEAR(CURDATE())
131ea45cf61be3a504988801,"In total, how many patients were prescribed vancomycin since 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'vancomycin' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 136}],
0aab4dbdaf2cafdd4466a80a,Could you list the three most common specimen tests carried out?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT d_items.label, COUNT(*) as test_count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.valtype = 'result' AND chartevents.storetime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_items.label ORDER BY test_count DESC LIMIT 3"
82db68532c1fe0fc76c6c017,Calculate the number of hospital visits made by patient 10015272 since 1 year ago.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10015272 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.admittime >= datetime(current_timestamp, '-1 year')"
ee04db0976616af28ba6a8a5,Can I know the total output amount for patient 10014078 since 172 days ago?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-172 day')",[{'SUM(outputevents.value)': 9445.0}],"SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output amount' ) AND chartevents.charttime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 172 DAY) AND CURRENT_DATE"
cb28a22dfa640e40700d6ace,What were the top five most common microbiology tests for patients who were previously diagnosed with encounter for attention to other artificial openings of digestive tract in the same hospital encounter?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'encounter for attention to other artificial openings of digestive tract' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT mtest.test, COUNT(*) AS count FROM ( SELECT microbiologyevents.testresult AS test FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd9_code = 'V492' ) ) mtest GROUP BY mtest.test ORDER BY count DESC LIMIT 5"
6e294cbd69afc45c3375e07d,Has patient 10005909 had any diagnoses?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10005909
903e1faa90ee9926eebe6781,"Today compared to yesterday, what new medication does patient 10018081's prescription include?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],
0dd4139bd1f8141dabb5746b,When will patient 92846 be next seen by the hospital?,,,
ecf8d3921fe7ec039f51e46e,What was the total metformin (glucophage) dose that patient 10020306 has been prescribed on the first hospital encounter?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'metformin (glucophage)',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT sum(dose) FROM prescriptions WHERE subject_id = 10020306 AND stay_id IN (SELECT stay_id FROM admissions WHERE subject_id = 10020306 ORDER BY admittime ASC LIMIT 1) AND drug LIKE 'metformin%' OR drug LIKE 'glucophage%'
44d5008230190a09f20e3682,Has patient 10022017 undergone a free calcium laboratory test since 04/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'free calcium' ) AND chartevents.charttime >= '04/2100'
f97301033f6fab945614f220,Has any organism been found in the first mrsa screen microbiological test of patient 10029484 since 05/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10029484 AND microbiologyevents.spec_itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa%' ) AND datetime(microbiologyevents.chartdate) >= '05/2100' AND microbiologyevents.organism IS NOT NULL
03126bd2f49e133b299a8f4d,How many times was olanzapine prescribed since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'olanzapine' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 1}],
fdc2cf2c322ae8d1a991cb88,"Since 01/2100, how much did patient 10031757 weigh during the first measurement?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-01' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2021-01-01' ORDER BY chartevents.charttime LIMIT 1
59db7aeb6bea824b6c800d5e,"When was the first time patient 10004733, on this month/25, had the minimum heart rate?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '25' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND DATE(chartevents.charttime) = '2023-07-25'
33c954c2cec837a4ccd734f7,What was the total output that patient 10014354 had since 07/09/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-09'",[{'SUM(outputevents.value)': 26195.0}],
79af64ce3260e4d25b227939,What was the amount of tramadol (ultram) prescribed to patient 10012552 in total in 04/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND prescriptions.drug = 'tramadol (ultram)' AND strftime('%Y-%m',prescriptions.starttime) = '2100-04'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cptevents.amount) FROM cptevents WHERE cptevents.subject_id = 10012552 AND cptevents.chartdate BETWEEN '04/01/2000' AND '04/30/2000' AND cptevents.cpt_cd IN ( SELECT cpt4.code FROM cpt4 WHERE cpt4.long_description LIKE '%tramadol%' OR cpt4.long_description LIKE '%ultram%' )
f2b643094d07ac4dcac036f6,"What is the total count of drainage of pericardial cavity with drainage device, percutaneous approach procedures that were done?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity with drainage device, percutaneous approach' )",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity with drainage device, percutaneous approach' )"
e3050cd2b1f00826b18a4be8,What is the price for ursodiol?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ursodiol' ),,
70b635d6cbd4d6a5cf0cccfa,How many days was patient 10038933 in the intensive care unit during their last visit?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 5.355196759104729}]",SELECT MAX(icustays.outtime) - MIN(icustays.intime) FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10038933
3d5c60968afcd59588d2af3b,What was the name of the medication which patient 10025463 was prescribed within 2 days after receiving other electric countershock of heart since 11/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-11' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT medications.gre_date FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND medications.startdate BETWEEN datetime(( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) ), '+2 days') AND datetime(( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) ), '+4 days')"
36fa0c204674ed02e032e699,When is the earliest of patient 7400's next visit to other departments?,,,SELECT MIN(admittime) FROM admissions WHERE subject_id = 7400
08996b07e2ed8aa176fe423e,Could you tell me the five most frequent microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test, COUNT(*) AS count FROM microbiologyevents GROUP BY test ORDER BY count DESC LIMIT 5"
23d5a55f9d6248b8d743d970,When was the first time patient 10004422 was prescribed a medication in 01/this year via the pr route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND prescriptions.route = 'pr' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '01' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10004422 AND prescriptions.drug_type = 'Medication' AND prescriptions.route = 'PR' AND prescriptions.startdate >= '01/01/2022' ORDER BY prescriptions.startdate ASC LIMIT 1
92eed7c2713d3eb38d53dcd1,What is the maximum total cost of the hospital visits that include hemodialysis since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
c921eab7b5888cd147156703,When was the first time in which patient 10018081 had the maximum mean blood pressure in the current ICU encounter?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
ecbc2ee919ccc6a0dea03692,"What are the top four most frequent medications prescribed within 2 months to the patients in their 60 or above after they were diagnosed with alcohol abuse, unspecified?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alcohol abuse, unspecified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT m1.medication_name, COUNT(*) as freq FROM ( SELECT admissions.hadm_id FROM admissions WHERE admissions.dob <= DATE_SUB(admissions.dod, INTERVAL 60 YEAR) AND admissions.dod IS NOT NULL AND EXISTS ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = admissions.hadm_id AND diagnoses_icd.icd_code = '571.0' ) ) AS t1 JOIN ( SELECT prescriptions.hadm_id, d_cpt.cpt_name AS medication_name FROM prescriptions JOIN d_cpt ON prescriptions.cpt_cd = d_cpt.cpt_cd WHERE prescriptions.startdate >= DATE_SUB(admissions.admittime, INTERVAL 2 MONTH) ) AS m1 ON t1.hadm_id = m1.hadm_id GROUP BY m1.medication_name ORDER BY freq DESC LIMIT 4"
7f8e8713a9f47bec5ebb47bb,What is the total number of patients discharged from the hospital in the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
10ed8799a239ae7d1d0f79c9,What is the correct dosage of the prescribed opioid to patient 42829?,,,
a61a197e35f3b625c9540a0a,"In 2100, what are the top four most common specimens tested for patients previously diagnosed with obstructive chronic bronchitis with (acute) exacerbation within 2 months?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'obstructive chronic bronchitis with (acute) exacerbation' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,
af6abe939c498f156e856916,How much morphine sulfate (oral solution) 2 mg/ml was first prescribed to patient 10021312 in 08/this year?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.drug = 'morphine sulfate (oral solution) 2 mg/ml' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10021312 AND prescriptions.startdate >= '2022-08-01' AND prescriptions.startdate <= '2022-08-31' AND prescriptions.drug = 'Morphine sulfate (oral solution)' AND prescriptions.dose = 2 ORDER BY prescriptions.startdate ASC LIMIT 1
b208f8a2d2336ea49139fb02,Give me the top three most frequent lab tests that patients were given after being diagnosed with knee joint replacement in the same month in 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'knee joint replacement' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '81.5%' AND YEAR(admissions.admit_dt) = 2100 ) AND MONTH(admissions.admit_dt) = MONTH(labevents.charttime) GROUP BY labevents.itemid ORDER BY count DESC LIMIT 3"
3c902daacd4588721711f210,Give me the top five most commonly prescribed medications.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT d_cpt.cpt_cd, d_cpt.long_desc, COUNT(*) AS count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code INNER JOIN d_cpt ON d_cpt.cpt_code = d_icd_procedures.cpt_cd GROUP BY d_cpt.cpt_cd, d_cpt.long_desc ORDER BY count DESC LIMIT 5"
25036a06119f918d2956f2e6,Give me the total amount of output since 11/16/2100 for patient 10010471.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-16'",[{'SUM(outputevents.value)': 180.0}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.subject_id = 10010471 AND chartevents.itemid = 226554 AND chartevents.charttime >= '2010-11-16' AND chartevents.valuenum IS NOT NULL
16690ffc32c0b935ca799d7f,What are the five most frequently performed treatments for patients in their 60 or above in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code INNER JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob <= '1950-01-01' AND admissions.admittime LIKE '2100%' GROUP BY d_icd_procedures.long_title ORDER BY count DESC LIMIT 5"
a6965f79793a92b7e6553d61,Can you tell me which were the top five most frequent specimens tested since 1 year ago?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND d_items.category = 'Specimen' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
beb64497e8a5dd3747e96f78,What is the percentile of 38.1 in the laboratory test with hematocrit at the same age of patient 10019568 on the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 38.1",,
7597553ab7e09923b877dd3e,What was the first specimen test given to patient 10018328 in 02/this year?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10018328 AND chartevents.charttime BETWEEN '02/01/' || YEAR(CURRENT_DATE) AND '02/28/' || YEAR(CURRENT_DATE) ORDER BY chartevents.charttime LIMIT 1
c916df49979cb247be8c50a6,Give me the total volume of output for patient 10039831 since 01/19/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-01-19'",[{'SUM(outputevents.value)': 6680.0}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' ) AND chartevents.charttime >= '2100-01-19'
c9b9077631942180f3a3b0ed,What is the precautionary measure following the head & neck endarter nec procedure?,,,
0e1a076c06d4a3c6b66107e3,What's the maximum total cost of the hospital visits that involve a procedure called arteriography of femoral and other lower extremity arteries since 1 year ago?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of femoral and other lower extremity arteries' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(T1.amount) FROM finance_chargeevents AS T1 INNER JOIN icustays AS T2 ON T1.hadm_id = T2.hadm_id INNER JOIN d_icd_procedures AS T3 ON T2.hadm_id = T3.hadm_id WHERE T1.charttime >= DATE_SUB(NOW(), INTERVAL 1 YEAR) AND T3.long_title = 'arteriography of femoral and other lower extremity arteries'"
767f78eb035eac463d6a7505,Get me the top five most common diagnoses during this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) AS count FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2022-01-01' AND '2022-12-31' ) GROUP BY icd9_code ORDER BY count DESC LIMIT 5"
e7e44b96a9f8a6f93d886bbd,What is the pricing for topiramate (topamax)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'topiramate (topamax)' ),,
5d27d425de44d1e9e60bb681,What was the count of patients who were tested for troponin t since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'troponin t' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
be826cd58248f2874aea7651,Tell me the length of stay in days of patient 10016810's first ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.488912038039416}]",SELECT icustays.intime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND icustays.first_careunit IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1
6dd0dd2307f507f9c42eea63,What medicine does patient 80555 take after being prescribed by the other medical department of our hospital?,,,
1d69c2e9a177101cfd62efed,What was the last asparate aminotransferase (ast) value in 10/this year for patient 10019172?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.charttime BETWEEN '2023-10-01' AND '2023-10-31' ORDER BY labevents.charttime DESC LIMIT 1
2723a0b2a202e96ddb72ec44,What were the three most common drugs prescribed throughout this year?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3",[],"SELECT prescriptions.drug, COUNT(*) AS frequency FROM prescriptions WHERE YEAR(prescriptions.start_date) = YEAR(CURRENT_DATE) GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 3"
5a435c4f165c08508edbd449,"How many patients in the last year were diagnosed with hypertensive chronic kidney disease, unspecified, with chronic kidney disease stage i through stage iv, or unspecified?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertensive chronic kidney disease, unspecified, with chronic kidney disease stage i through stage iv, or unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(DISTINCT hadm_id) FROM diagnoses_icd WHERE diagnoses_icd.icd_code IN ('403.9', '588.9', '588.1', '588.2', '588.3', '588.4', '588.5', '588.6', '588.7', '588.8', '588.9') AND diagnoses_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
7183861df46553ab538458ae,Whats the protocol for the anticancer drugs?,,,
934088633430fb5451e8191e,What was the last measured value of heart rate for patient 10018423 since 289 days ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-289 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.charttime >= ( SELECT DATE_SUB(NOW(), INTERVAL 289 DAY) ) ORDER BY chartevents.charttime DESC LIMIT 1"
1ca13ce347fd46ac69499979,What was diagnosed for patient 10037928 the first time in their first hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,"SELECT admittime, dischtime, diagnoses_icd.icd_code FROM diagnoses_icd INNER JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10037928 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10037928 ) ORDER BY diagnoses_icd.seq_num ASC LIMIT 1"
4f3f80819d74ba44d60716b2,Retrieve the top three most frequent medications that patients were prescribed in the same month after being diagnosed with cerebral edema.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cerebral edema' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT topmeds.medication, topmeds.frequency FROM ( SELECT medications.medication, COUNT(*) AS frequency FROM medications JOIN diagnoses ON medications.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cerebral edema' ) AND datetime(medications.starttime) >= datetime(diagnoses.charttime) AND datetime(medications.starttime) <= datetime(diagnoses.charttime,'+1 month') GROUP BY medications.medication ORDER BY frequency DESC LIMIT 3 ) AS topmeds"
588567d3a7f9d7e575cf5435,What was the last arterial blood pressure mean value that patient 10022017 had on 10/03/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-10-03' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' ) AND chartevents.charttime <= '10/03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
1efc0b4233b41debd5e85794,What is the number of ICU visits for patient 10031404 since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 1}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
83e367047d0aa921f3cb6d91,When are dr. lail's rounds and procedures?,,,
6a6f09403ba82cc0aaa73daa,When in 12/2100 did patient 10021118 get the last microbiology test?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND chartevents.charttime BETWEEN '2021-12-01' AND '2021-12-31' ORDER BY chartevents.charttime DESC LIMIT 1
82d8a7640bee5ba7059a425f,When was the last hospital discharge time for patient 10014354?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10014354 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10014354 ORDER BY admittime DESC LIMIT 1
fec026b891afb9bccb1664e9,"Count the number of patients who received dilation of left external iliac vein with intraluminal device, percutaneous approach within 2 months after being diagnosed with operating room of hospital as the place of occurrence of the external cause in the last year.","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'operating room of hospital as the place of occurrence of the external cause' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left external iliac vein with intraluminal device, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM patients p JOIN admissions a ON p.subject_id = a.subject_id JOIN procedures_icd pi ON a.hadm_id = pi.hadm_id JOIN diagnoses_icd di ON a.hadm_id = di.hadm_id WHERE pi.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left external iliac vein with intraluminal device, percutaneous approach' ) AND di.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'operating room of hospital as the place of occurrence of the external cause' ) AND a.admittime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND CURRENT_DATE AND pi.chartdate BETWEEN a.admittime AND DATE_ADD(a.admittime, INTERVAL 2 MONTH)"
99db8d08ce7c7dc5e23bb2ab,Has patient 10007928 had a hospital admission during this year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007928 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.admittime BETWEEN date_format(current_timestamp(), '%Y-01-01') AND current_timestamp()"
21fe976dd2fd2be6db9c01b6,When are dr. davis's rounds and procedures?,,,
9fba75551c882938367916bc,Can you tell me how old patient 10029291 was on their last hospital encounter?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT admissions.admittime, patients.anchor_age FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10029291 ORDER BY admissions.admittime DESC LIMIT 1"
7b2aaf2bdc86d0afb00d3cef,What was the last respiratory rate value patient 10027602 had on 12/04/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-04' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10027602 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2100-12-04%' ORDER BY chartevents.charttime DESC LIMIT 1
7a01a7e71c780f176eb7b360,Can you give me the three most common output events since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT outputevents.outputevent_id, outputevents.value FROM outputevents WHERE outputevents.charttime >= '2100-01-01' GROUP BY outputevents.value ORDER BY COUNT(outputevents.value) DESC LIMIT 3"
fa8dc90654adb35a8f98e8e2,"Patient 10005817, when was your last mrsa screen microbiology test since 10/2100?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],
290b08ec95402e357dd162b0,Can you please tell me the name of the diagnosis that patient 54894 received in another department?,,,
74be377366123df29a790c8c,How many patients received esophagogastroduodenoscopy [egd] with closed biopsy treatment within 2 months after being diagnosed with acute posthemorrhagic anemia in 2100?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute posthemorrhagic anemia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'esophagogastroduodenoscopy [egd] with closed biopsy' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'D%2100' AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'esophagogastroduodenoscopy egd
d939b033b5e6b326580d0570,How many hours have passed since patient 10004733 had the last pt lab test in their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT (UNIX_TIMESTAMP(current_timestamp) - UNIX_TIMESTAMP(chartevents.charttime)) / 3600 FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND d_items.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Labs' ) ORDER BY chartevents.charttime DESC LIMIT 1
cf4eb47f352c6460fa580827,"What are the three most frequently ordered medications that patients in their 40s were prescribed during the same month after they were diagnosed with hyperlipidemia, unspecified since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperlipidemia, unspecified' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m2.formulary_drug_name, COUNT(*) AS frequency FROM diagnoses_icd d JOIN patients p ON d.SUBJECT_ID = p.SUBJECT_ID JOIN chartevents m ON m.STAY_ID = d.HADM_ID JOIN formulary_drugs m2 ON m.ITEMID = m2.FORMULARY_DRUG_CD WHERE d.ICD9_CODE LIKE '272%' AND p.AGE BETWEEN 40 AND 49 AND d.CHARTTIME >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND m.ITEMID IN (SELECT ITEMID FROM chartevents WHERE CHARTTIME >= d.CHARTTIME) AND m.STAY_ID = m2.STAY_ID AND m.CHARTTIME >= d.CHARTTIME AND YEAR(m.CHARTTIME) = YEAR(d.CHARTTIME) AND MONTH(m.CHARTTIME) = MONTH(d.CHARTTIME) GROUP BY m2.formulary_drug_name ORDER BY frequency DESC LIMIT 3"
4cc7f474aee41be6f9a8dc37,What is the code in icd-11 for klebsiella pneumoniae in icd-10?,,,
80343317e0783f2a96a603d5,Does patient 59275 have a travel history to another country?,,,
5f2be37c9bd6389d80599c5f,"How many patients were diagnosed with other diseases of bronchus, not elsewhere classified in 2100 after already being diagnosed with unspecified convulsions during the same month?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified convulsions' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other diseases of bronchus, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(*) FROM admissions AS adm1 INNER JOIN diagnoses_icd AS diag1 ON adm1.hadm_id = diag1.hadm_id INNER JOIN diagnoses_icd AS diag2 ON adm1.hadm_id = diag2.hadm_id WHERE diag1.icd_code LIKE 'G40.9%' AND diag2.icd_code LIKE 'J45%' AND adm1.admittime >= DATE_SUB('2010-01-01', INTERVAL 1 MONTH) AND adm1.admittime < '2010-01-01' AND diag1.seq_num < diag2.seq_num"
ff7c3e66b7fe93c4c036fe1e,What is patient 10017492's difference in rbc from the last value measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH first_visit AS ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ORDER BY admissions.admittime ASC LIMIT 1 ), first_rbc AS ( SELECT chartevents.valuenum as first_value FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = (SELECT hadm_id FROM first_visit) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RBC' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ), last_rbc AS ( SELECT chartevents.valuenum as last_value FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = (SELECT hadm_id FROM first_visit) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RBC' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) SELECT last_rbc.last_value - first_rbc.first_value AS difference FROM first_rbc"
523f9419c20f37e75f17f229,What was the amount of ondansetron that patient 10027445 were prescribed in total?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.drug = 'ondansetron',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(casestatus.amount) FROM casestatus WHERE casestatus.subject_id = 10027445 AND casestatus.drug_name = 'ondansetron'
b4c01b9c3a018f29ade4acf5,When was the last time that patient 10001725 has been prescribed medication via the po/ng route in their first hospital visit?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'po/ng' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT orderitems.starttime FROM orderitems INNER JOIN admissions ON orderitems.hadm_id = admissions.hadm_id WHERE orderitems.subject_id = 10001725 AND orderitems.status = 'Final' AND orderitems.ordercategoryname = 'Medication' AND orderitems.route = 'PO/NG' AND admissions.admittime <= ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10001725 ) ORDER BY orderitems.starttime DESC LIMIT 1
51b0ff1fc9bfcd9831928425,What was the name of the specimen test that patient 10002428 had for the last time in 07/this year?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10002428 AND chartevents.charttime LIKE '%07%' ORDER BY chartevents.charttime DESC LIMIT 1"
56902909daa613c259aedbde,What is the average total expenditure of a hospital that involves the medication miconazole nitrate vag cream 2% during this year?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'miconazole nitrate vag cream 2%' ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(total_expenditure) FROM ( SELECT SUM(item_cost) as total_expenditure FROM ( SELECT pd.orderid, pd.dosage, pd.formulary_drug_cd, pd.catalog_cost * pd.dosage as item_cost FROM prescriptions pd JOIN d_items di ON pd.ITEMID = di.ITEMID WHERE di.label = 'miconazole nitrate vag cream 2%' AND pd.charttime >= DATE_FORMAT(NOW() ,'%Y-01-01') ) AS subquery GROUP BY pd.orderid ) AS subquery"
179e0c7223f1d82e5c946ad0,"How many congestive heart failure, unspecified patients in this year were diagnosed during the same month after being diagnosed with other nonspecific abnormal finding of lung field?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other nonspecific abnormal finding of lung field' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'congestive heart failure, unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(*) FROM ( SELECT admissions.admittime, admissions.hadm_id FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.short_title = 'congestive heart failure, unspecified' AND YEAR(diagnoses_icd.seq_num) = 2 AND MONTH(diagnoses_icd.seq_num) = MONTH(admissions.admittime) AND YEAR(admissions.admittime) = YEAR(CURDATE()) ) AND admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.short_title = 'other nonspecific abnormal finding of lung field' AND diagnoses_icd.seq_num < 2 ) ) AS temp"
3fa947a7c4c696baf058e932,Is the value of hemoglobin of patient 10006580 last measured on the last hospital visit less than the value second to last measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (L.valuenum < LL.valuenum) FROM ( SELECT labevents.valuenum, labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 ) AS L JOIN ( SELECT labevents.valuenum, labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ) AS LL ON L.hadm_id = LL.hadm_id"
6af5326ec076b32f85b4e657,How much is the cost of the encounter for palliative care diagnosing?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'encounter for palliative care' ) ),,SELECT SUM(admissions.totalcharges) FROM admissions INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title = 'palliative care'
54afc6318164ae9f335372fe,Is there any new medication in the prescription of patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT cpi.cpidrug != PREV(cpi.cpidrug) FROM ( SELECT pcp.patientid, pcp.cpdate, pcp.cpidrug FROM prescriptions pcp WHERE pcp.patientid = 10018081 AND pcp.cpdate IN (SELECT cpdate FROM prescriptions WHERE patientid = 10018081 AND cpdate = CURDATE()-1, CURDATE()) ORDER BY pcp.cpdate ASC ) AS cpi"
750dbf95a8c1c5e4d75ecefe,How many times was patient 10023239 in the hospital this year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10023239 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01')"
90c8f7dcff48de642efa7222,Tell me what the top three most common diagnoses of patients with an age of 60 or above throughout this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT diagnosis_icd.icd_code, COUNT(*) AS diagnosis_count FROM diagnosis_icd JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR) AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY diagnosis_icd.icd_code ORDER BY diagnosis_count DESC LIMIT 3"
a1faad0653a8f9dc687564e5,Could you calculate the total amount of output from patient 10012552 since 04/02/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-02'",[{'SUM(outputevents.value)': 8408.0}],
8499e24e138f45443a93fa6d,How much did patient 10002495 weigh when measured for the last time since 12 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-12 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-12 month') ORDER BY chartevents.charttime DESC LIMIT 1"
6fa5f1bd8164edcb10243287,What is the ward id that patient 10278 may be admitted?,,,
3f720ea93f94700efe7fe7ee,What is the percentile of 4.46 for a red blood cells test given the same age as patient 10026406 on the first hospital stay?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 4.46",,
e7b550eaa8e671a43a12d80f,Has there been any dextrose 5% given to patient 10004720 since 07/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-07'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.subject_id = 10004720 AND inputevents_cv.starttime > '07/21/1000' AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%5%%dextrose%' AND d_items.linksto = 'inputevents_cv' )
527f4ad3f397267a5cdd7622,Tell me about the most common three output events.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT event, COUNT(*) as count FROM outputevents GROUP BY event ORDER BY count DESC LIMIT 3"
f8c81bc0c7a1707c6d543598,Tell me the name of the prescription drug that patient 10007058 was prescribed in the same hospital visit after having a fluoroscopy of multiple coronary arteries using other contrast procedure in 11/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '11' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '11' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime, pvt.name FROM admissions as a JOIN patients as p ON p.subject_id = a.subject_id JOIN prescriptions as pvt ON pvt.hadm_id = a.hadm_id WHERE a.subject_id = 10007058 AND a.admittime <= pvt.startdate AND a.dischtime >= pvt.enddate AND pvt.order_type = 'RX' AND EXISTS (SELECT * FROM procedures_icd WHERE procedures_icd.hadm_id = a.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.short_title = 'fluoroscopy' AND d_icd_procedures.long_title LIKE '%multiple coronary arteries%other contrast') AND procedures_icd.chartdate BETWEEN '2023-11-01' AND '2023-11-30')"
e1c93dd5e81567e826a17f47,"Since 2100, what are the top five most common microbiology tests that patients were diagnosed with after the diagnosis of noncompliance with renal dialysis in the same hospital encounter?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'noncompliance with renal dialysis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT tests.test_name, COUNT(*) as count FROM tests JOIN diagnoses ON tests.encounter_id = diagnoses.encounter_id WHERE diagnoses.diagnosis_name = 'noncompliance with renal dialysis' AND tests.test_date >= '2100-01-01' GROUP BY tests.test_name ORDER BY count DESC LIMIT 5"
65f0a54b0c223f74168d1b02,How many days have it been since the last stay of patient 10004733 in their current hospital visit in the careunit medicine?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medicine' ORDER BY transfers.intime DESC LIMIT 1",[],SELECT COUNT(*) FROM timeneeded WHERE timeneeded.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND timeneeded.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.db_source = 'ICUSTAYS' AND icustays.icustay_id = ( SELECT MAX(icustays.icustay_id) FROM icustays WHERE icustays.db_source = 'ICUSTAYS' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND icustays.db_source = 'ICUSTAYS' AND icustays.careunit = 'MEDICINE' )
4f90e141b3068b6b2ff3d1a5,Is there any medication that patient 10039831 has received in 2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND prescriptions.startdate >= '2100-01-01' AND prescriptions.enddate <= '2100-12-31'
80a3a1b02bca2873dc0308c4,"This year, has patient 10031757 been diagnosed with any disease?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.admittime >= current_date - interval '1 year' AND admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE 'E%' OR diagnoses_icd.icd_code LIKE 'N%' OR diagnoses_icd.icd_code LIKE 'I%' OR diagnoses_icd.icd_code LIKE 'C%' OR diagnoses_icd.icd_code LIKE 'D%' OR diagnoses_icd.icd_code LIKE 'K%' OR diagnoses_icd.icd_code LIKE 'J%' OR diagnoses_icd.icd_code LIKE 'H%' OR diagnoses_icd.icd_code LIKE 'G%' OR diagnoses_icd.icd_code LIKE 'F%' OR diagnoses_icd.icd_code LIKE 'E%' OR diagnoses_icd.icd_code LIKE 'D%' OR diagnoses_icd.icd_code LIKE 'C%' OR diagnoses_icd.icd_code LIKE 'B%' OR diagnoses_icd.icd_code LIKE 'A%' )
51ad9f66e93f33042ccc4669,When did patient 10039831 get their first input since 11/24/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-11-24' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2115-12-28 20:38:00'}],
59ecedfe8f2703a51503c566,Tell me the name of the specimen test that patient 10009049 first received since 02/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'MRSA SCREEN'}],"SELECT microbiologyevents.spec_type_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND microbiologyevents.chartdate >= '02/2100-01-01' ORDER BY microbiologyevents.chartdate, microbiologyevents.charttime LIMIT 1"
2a1243e7e7beeb3198544ff2,"Tell me the name of the prescription drug that patient 10015931 was prescribed in the same day after having a replacement of aortic valve with zooplastic tissue, percutaneous approach procedure since 4 months ago?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-4 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-4 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT prescriptions.drug FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.subject_id = 10015931 AND datetime(prescriptions.startdate) >= datetime(current_time,'-4 month') AND EXISTS (SELECT * FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code = (SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach') AND datetime(procedures_icd.chartdate) <= datetime(prescriptions.startdate)) AND datetime(prescriptions.startdate) = datetime(procedures_icd.chartdate)"
ed2e1e9eb814e9ee71358ddb,When was the first input of patient 10004733 since 05/10/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-05-10' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2174-12-04 12:34:00'}],
0925d99c93fdf4626caf71cc,Get the count of hospital visits by patient 10019777 during this year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10019777 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.admittime >= DATE_FORMAT(NOW(),'%Y-01-01 00:00:00')"
c464ddc6ede81a650537c328,"When, on 01/28/2100, was patient 10019917's heart rate measured less than 73.0 for the last time?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 73.0 AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-01-28' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum < 73.0 AND chartevents.charttime < '01/28/2100' ORDER BY chartevents.charttime DESC LIMIT 1
b0b4926abc6fba2f9b78a017,"How many patients were diagnosed with hyperlipidemia, unspecified during the same hospital encounter after the previous diagnosis with presence of cardiac pacemaker throughout this year?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'presence of cardiac pacemaker' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hyperlipidemia, unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM diagnoses_icd AS d1 JOIN diagnoses_icd AS d2 ON d1.hadm_id = d2.hadm_id JOIN admissions ON admissions.hadm_id = d1.hadm_id WHERE d1.icd_code LIKE '398%' AND d2.icd_code LIKE '475%' AND YEAR(admissions.admit_datetime) = YEAR(CURDATE())
9068933037510c1817c920bd,What was the total amount of output from patient 10014078 since 04/09/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-09'",[{'SUM(outputevents.value)': 9445.0}],
9b71dfdbadbc316c5802b20d,"In 05/2100, what was the first drug that patient 10016150 was prescribed through the iv route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND prescriptions.route = 'iv' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT medications.medication FROM medications WHERE medications.subject_id = 10016150 AND medications.startdate >= '2050-01-01' AND medications.startdate < '2051-01-01' AND medications.route = 'IV' ORDER BY medications.startdate ASC LIMIT 1
6f9909683d56ed89f9e559bc,Is patient 20589 a person with a family history of any health problems?,,,
43ac9cba569c151427df4304,What did patient 10021666 have last as the output since 03/28/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-28' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
785d76bc0b177869d3d36d87,How many operating rooms is there now,,,
9ee9faec0727283454a64f52,What is the number of (aorto)coronary bypass of four or more coronary arteries procedures carried out?,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = '(aorto)coronary bypass of four or more coronary arteries' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%(aorto)coronary bypass of four or more coronary arteries%' )
e219db6bec1a6b0c74699c00,"When did patient 10039831 last have the minimum amount of sodium, whole blood in 12/2100?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, whole blood' ) AND strftime('%Y-%m',labevents.charttime) = '2100-12' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, whole blood' ) AND labevents.charttime >= '2012-12-21' AND labevents.charttime < '2013-01-01' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
f1308ea9b8bbc94c5e296e34,How much does the neutrophils change in patient 10004733 last measured on the current hospital visit compared to the first value measured on the current hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'neutrophils' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'neutrophils' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'neutrophils' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'neutrophils' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH first_measurement AS ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'neutrophils' ) ORDER BY chartevents.charttime ASC LIMIT 1 ), last_measurement AS ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'neutrophils' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) SELECT last_measurement.valuenum - first_measurement.valuenum AS change FROM first_measurement, last_measurement"
6084f134b156953797d6aff8,Can you tell me the name of the last output of patient 10004235?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) ORDER BY outputevents.charttime DESC LIMIT 1 ),[{'label': 'Foley'}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
19dd65ead0ee8862ebf01011,What was the accumulated output for patient 10039831 since 10/26/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-26'",[{'SUM(outputevents.value)': 6680.0}],
d37a478c48d46a196ddaac05,What is the average total hospital cost for a patient diagnosed with abnormal involuntary movements?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abnormal involuntary movements' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(admissions.total_coust) FROM admissions INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title = 'abnormal involuntary movements'
7b5324a4c69137200e0d74e2,What was the total amount of output from patient 10018081 since 12/19/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-19'",[{'SUM(outputevents.value)': 66945.0}],
53c2c01705d8513ebac151eb,What was the total of potassium chloride (powder) patient 10021118 had been prescribed since 12/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND prescriptions.drug = 'potassium chloride (powder)' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(prescriptions.dose) FROM prescriptions WHERE prescriptions.subject_id = 10021118 AND prescriptions.startdate >= '12/01/2010' AND prescriptions.drug = 'potassium chloride (powder)'
ae7068db15837f529f79fa01,Share the five most frequently performed procedures since 1 year ago.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS num_performed FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_icd_procedures.long_title ORDER BY num_performed DESC LIMIT 5"
304008138415ff886f9fa539,Show me the total amount of patient 10008454's output on this month/02.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '02'",[{'SUM(outputevents.value)': None}],"SELECT SUM(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.subject_id = 10008454 AND admissions.admittime >= DATE_FORMAT(CURDATE(), '%Y') + '-02-01' AND chartevents.itemid = 226557 AND chartevents.valuenum IS NOT NULL"
1c0ad5aee8b258ad464b0c2d,What is the name of a procedure patient 10038081 underwent two or more times since 07/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-07' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_icd_procedures.long_title, COUNT(*) FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND datetime(procedures_icd.chartdate) >= datetime('07/01/2021') GROUP BY d_icd_procedures.icd_code HAVING COUNT(*) >= 2"
980016183fee2c1f4ae611ae,Has patient 10007818 undergone laboratory tests since 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND labevents.charttime >= '2100-01-01'
f094acde3e855985c85bc122,What were the top five diagnoses most frequently diagnosed since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
072f960a91e48e6fe38d81a1,Calculate the number of prescribed drugs for patient 10001725 in 04/this year.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10001725 AND prescriptions.startdate >= '04/01/2022' AND prescriptions.enddate <= '04/30/2022'
683c48b602131b125efece68,"For the last time in 03/this year, when was patient 10019777 prescribed vancomycin and iso-osmotic dextrose at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vancomycin' AND admissions.subject_id = 10019777 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'iso-osmotic dextrose' AND admissions.subject_id = 10019777 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT MAX(rxrx_orders.order_time) FROM rxrx_orders JOIN patients ON rxrx_orders.patient_id = patients.patient_id WHERE patients.subject_id = 10019777 AND rxrx_orders.order_time BETWEEN '2022-03-01' AND '2022-03-31' AND rxrx_orders.drug_name IN ('vancomycin', 'iso-osmotic dextrose')"
c578a495c2dae5a5b4a612bd,Can you get me the top five most conducted lab tests in 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],
7c5c504415d7c151349eda86,When did patient 10019385 have a last free calcium laboratory test?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'free calcium' ) ORDER BY labevents.charttime DESC LIMIT 1
84bfcde2dd95748732f9e8a4,When was patient 10019172 prescribed a medication via the po route the last time in 11/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10019172 AND prescriptions.route = 'PO' AND prescriptions.startdate < '11/30/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
736dfe17a5c5844830732c5c,What was the name of the drug that patient 10001217 was prescribed with during the same hospital visit after undergoing spinal tap since 30 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'spinal tap' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-30 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-30 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admittime >= datetime(current_time,'-30 month') ORDER BY admissions.admittime DESC LIMIT 1"
0a52d95713114e75cad62068,How many patients had a diagnosis of edema of male genital organs?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'edema of male genital organs' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'edema of male genital organs' AND icd_type = 'diagnosis') )
86831d5ce56c04ce7f23fd47,How many patients left the hospital during the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time, '-1 year') AND datetime(admissions.dischtime) <= datetime(current_time)"
ead0a72fbee21b877251d88f,How much does malignant neoplasm of central portion of female breast cost to get diagnosed?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of central portion of female breast' ) ),,
4f2d444fc44c6244f4d959c7,Tell me the top four most commonly prescribed drugs in 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],
26ca7defafe27bfa854cf965,Calculate the number of ICU visits for patient 10009628 last year.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND datetime(icustays.intime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year') AND datetime(icustays.intime) < datetime(current_time)"
3a8edca352170e0eec95d919,Give me the top three most common lab tests throughout this year.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_FORMAT(CURDATE(),'%Y-01-01') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
592fc15a830589ea90962e04,How many patients were present in the emergency department observation in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'emergency department observation' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
3753ef6947f42f1a4e5a6a63,Has patient 9474 ever experienced any side effects during a blood transfusion?,,,SELECT COUNT(*)>0 FROM transfusions INNER JOIN patients ON transfusions.subject_id = patients.subject_id WHERE patients.subject_id = 9474 AND transfusions.blood_product = 'packed red blood cells' AND transfusions.side_effect IS NOT NULL
91f98b68f8351708b09a3b5f,When was the time of patient 10018328's first hospital discharge?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10018328 ORDER BY admissions.dischtime ASC LIMIT 1,[{'dischtime': '2154-02-09 15:15:00'}],SELECT admittime FROM admissions WHERE admissions.subject_id = 10018328 ORDER BY admittime ASC LIMIT 1
11bb6b4e96dfc29737cec768,What was the duration of the circumcision procedure for patient 3277?,,,
388d3f6a45be242b02005c5c,How many hours have passed since patient 10018081 got her last diagnosis of other and unspecified hyperlipidemia on their current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified hyperlipidemia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - julianday(diagnoses_icd.charttime) FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10018081 AND diagnoses_icd.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified hyperlipidemia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1
dba29179e51c6b419b68143d,Can you tell me which were the top three most frequently tested specimens?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE linksto = 'labevents' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
45fcb3df912430805e7d3f94,What was the medication patient 10005817 was prescribed for the last time on the last hospital encounter via the ng route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'ng' ORDER BY prescriptions.starttime DESC LIMIT 1,[],"SELECT prescriptions.drug, prescriptions.stopdate FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10005817 AND prescriptions.route = 'NG' ORDER BY prescriptions.stopdate DESC LIMIT 1"
063d2d7c311c16f3cc0916a7,What were the top five most common specimen tests conducted throughout this year?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents WHERE datetime(chartevents.charttime) >= datetime(current_time, '-1 year') GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
b6199c44eb942b29559195b3,Has patient 17944 arranged an appointment with another department?,,,
1bd7abf7a8f3aefc71dd2357,What was the drug last prescribed to patient 10019568 since 11 months ago?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-11 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'HYDROmorphone (Dilaudid)'}],"SELECT medications.dose FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) AND medications.starttime >= datetime(current_time,'-11 month') ORDER BY medications.starttime DESC LIMIT 1"
1dea4d1c505f3a5797f16236,When did patient 10038999 have the last SaO2 to be less than 99.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 99.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.valuenum < 99 ORDER BY chartevents.charttime DESC LIMIT 1
aa2c37cca4ef58130e2faadd,Tell me the amount of or urine patient 10019172 had since 11/12/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or urine' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-12'",[{'SUM(outputevents.value)': None}],
a4914a96d11642f0050fc3d3,Tell me the three most common diagnosis.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 3"
a7391e86f5ef2065e3ea2a57,Has patient 10001725 been given a diagnosis?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001725
df128c1c320ab7a3577dbe3e,When did patient 10020187 get discharged from the hospital for the first time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020187 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020187 ORDER BY admissions.admittime ASC LIMIT 1
1403522fcefbc7af92918f1c,"What was the drug that patient 10019385 was prescribed with within the same day after the performance of cardiac output, continuous in 03/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT c
6ad5a9078781b4734aa37e35,What is the total count of patients who stayed in careunit vascular in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'vascular' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE icustays.icu_id = 2100 AND patients.gender = 'F'
a3453842fa6d5f908f2e8c6e,What was the medication patient 10010471 was prescribed for the first time via po in 05/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND prescriptions.route = 'po' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.stopdate FROM prescriptions WHERE prescriptions.subject_id = 10010471 AND prescriptions.route = 'PO' AND prescriptions.startdate >= '2021-05-01' ORDER BY prescriptions.startdate ASC LIMIT 1
39292afed1a39dd0e0b8a031,Count the number of patients who stayed during the last year at pacu.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'pacu' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.icustay_id IN ( SELECT transfers.icustay_id FROM transfers WHERE transfers.careunit = 'post anesthesia care unit' AND transfers.intime >= datetime(current_time,'-1 year') AND transfers.outtime <= datetime(current_time) )"
133bfd224364a0a162d9e323,Does patient 57050 have some overseas travel history.,,,
15f218ddc4b0e3bc25f8f534,Was patient 10026255 checked into the hospital in the previous year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026255 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026255 AND datetime(admissions.admittime) >= datetime(current_date,'-1 year') AND datetime(admissions.admittime) < datetime(current_date)"
6d3b33c130ee573fc9b4e5f8,Can you retrieve the top four most frequent lab tests patients had following a diagnosis of closed fracture of seven ribs in the same hospital visit since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of seven ribs' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,
a0c6ba5a4eba9f8602ca88de,"In the last hospital encounter, was patient 10035185 diagnosed with any disease?",SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10035185 AND diagnoses_icd.hadm_id IN ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10035185 )
a19797fad6ac2c57326769e0,"In 2100, has patient 10005909 been diagnosed with any illness?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100'",,
b0c7bdb6be37ebfe3feb04a6,"What are the four frequently ordered medications for patients diagnosed with hemorrhage of rectum and anus previously within 2 months, in this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemorrhage of rectum and anus' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT mdcodes.code, mdcodes.short_description, COUNT(*) AS frequency FROM medchartevents AS med JOIN mdcodes ON mdcodes.code = med.mdcodes WHERE med.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%hemorrhage of rectum and anus%' ) AND chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH ) ) AND med.charttime >= DATE_FORMAT(CURRENT_DATE, '%Y-01-01') GROUP BY mdcodes.code ORDER BY frequency DESC LIMIT 4"
04c9a043e311b54b777c1b7d,Can you tell the five most frequent lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 5"
960af01d63ac5e922c0eb129,"What are the top five most common specimens being tested for patients who were diagnosed with personal history of irradiation, presenting hazards to health within the same month in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of irradiation, presenting hazards to health' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob < '1900-01-01' AND patients.dod BETWEEN '2100-01-01' AND '2100-12-31' ) ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'specimen test' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.valuenum ORDER BY COUNT(*) DESC LIMIT 5
646dc3c2d9906fbf675e6443,How many hours have it been since patient 10004733 had received a hematocrit laboratory test on the current hospital encounter for the last time?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(labevents.charttime), NOW()) AS time_since_test FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733) AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'hematocrit')"
bf8467e0d8948ac0db8f7fa1,"What are the three most frequently taken specimens for patients diagnosed with spinal stenosis, lumbar region, without neurogenic claudication previously within 2 months, in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'spinal stenosis, lumbar region, without neurogenic claudication' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, chartevents.valuenum FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id JOIN d_items ON d_items.itemid = chartevents.itemid WHERE chartevents.charttime BETWEEN '2021-01-01' AND '2021-12-31' AND admissions.drg_code IN ( SELECT admissions.drg_code FROM admissions JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = admissions.diag_code WHERE d_icd_diagnoses.short_title = 'spinal stenosis, lumbar region, without neurogenic claudication' ) AND chartevents.charttime >= datetime(current_time,'-2 month') GROUP BY chartevents.itemid ORDER BY SUM(chartevents.valuenum) DESC LIMIT 3"
3e2742de9d17a14d3e82aa41,What are the newly prescribed medicines for patient 10004733 today compared to those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT medications.medication_name FROM medications WHERE medications.subject_id = 10004733 AND medications.charttime BETWEEN datetime(current_time, 'start of day') AND datetime(current_time, 'end of day') EXCEPT SELECT medications.medication_name FROM medications WHERE medications.subject_id = 10004733 AND medications.charttime BETWEEN datetime(current_time, 'start of day', '-1 day') AND datetime(current_time, 'end of day', '-1 day')"
ff9d739f6aef4f0e6a4fad34,What are the five most common laboratory tests undertaken by patients in the same month following a diagnosis of personal history of other venous thrombosis and embolism since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of other venous thrombosis and embolism' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) AS count FROM labevents INNER JOIN d_items ON labevents.itemid = d_items.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN admissions_adtype ON admissions.adid = admissions_adtype.adid INNER JOIN d_adtype ON admissions_adtype.adtype = d_adtype.adtype INNER JOIN d_icd_diagnoses ON admissions.adid = d_icd_diagnoses.adid INNER JOIN d_icd_procedures ON admissions.adid = d_icd_procedures.adid WHERE d_icd_diagnoses.short_title = 'personal history of other venous thrombosis and embolism' AND d_icd_procedures.long_title = 'diagnosis of personal history of other venous thrombosis and embolism' AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) ) GROUP BY d_items.itemid ORDER BY count DESC LIMIT 5"
9c299b7dcbfbd561bf0f6f6b,When did patient 10038081 last have a blood culture microbiology test in 09/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-09' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'blood culture' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.charttime LIKE '09/%/2100%' ORDER BY chartevents.charttime DESC LIMIT 1
5c5679626e1a978f60f24793,What is the difference between weights last measured on the first hospital visit compared to the second to last value measured on the first hospital visit for patient 10004720?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720)) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') ORDER BY chartevents.charttime DESC LIMIT 1) - (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720)) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') ORDER BY chartevents.charttime DESC LIMIT 1,1)"
3ba74bf54de10d143025c7db,How many prescriptions were prescribed since 1 year ago for pseudoephedrine?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'pseudoephedrine' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND prescriptions.drug LIKE '%pseudoephedrine%'"
0468ce0daa5a2cba57e45350,What is the number of patients who were prescribed ramipril since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ramipril' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 4}],
84a492082c7e8112ea7f1544,When was the last time that patient 10037861 was given a specific gravity lab test?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'specific gravity' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'specific gravity' ) ORDER BY labevents.charttime DESC LIMIT 1
7c84a7a9dd72cfd25b8b859c,"Count the number of patients who received a procedure since 2100 for extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) AND procedures_icd.chartdate >= '2100-01-01'"
79fe38dca4831802e82026a6,Has patient 10025612 taken a packed red blood cells drug in 12/last year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',inputevents.starttime) = '12'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND inputevents_cv.starttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%packed red blood cells%' )"
e45d3d0893b986609bb61212,What should not be administered during a proc-vessel bifurcation procedure?,,,
f26956b68a52957757b13e45,What was the last time that patient 10015272 had the maximum value of white blood cells?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%white blood cells%' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
72666450524051b2095429f8,Is it patient 10012552's arterial blood pressure mean last measured on the first ICU visit less than first measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (MIN(chartevents.valuenum) < MAX(chartevents.valuenum)) AS result FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) )
53ff8403c661d26f398402c6,What is the average yearly number of patients who suffer from unspecified sinusitis (chronic)?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified sinusitis (chronic)' ) GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,SELECT COUNT(DISTINCT p.subject_id) / COUNT(DISTINCT YEAR(admittime)) AS average_yearly FROM admissions a JOIN patients p ON a.subject_id = p.subject_id WHERE diagnosis LIKE '%unspecified sinusitis (chronic)%'
ff8f65ff38e91c62de0fab77,What is the maximum total hospital cost involving a drug named aspirin (buffered) since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'aspirin (buffered)' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
061afbb7908a8ff0d6a68a50,Has patient 10005866 been admitted into an emergency room since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.admittime >= datetime(current_time,'-1 year')"
0ce9c8a93ef40fa209454a71,Find out the number of drugs given to patient 10014729 in 04/this year.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10014729 AND prescriptions.startdate LIKE '04/%'
f1189d2c589416c9c81ca80e,"Since the first time patient 10004733 was diagnosed with chronic kidney disease, unspecified in this hospital visit, how many days have passed?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic kidney disease, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), MIN(admissions.admittime)) AS days_since_diagnosis FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10004733 AND diagnoses_icd.icd_code = 'N18.9'"
531895a8f6c3cd6a5748843b,How many days have elapsed since patient 10004733 had received a mch lab test for the last time in their current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(CURDATE(), MAX(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'MCH' )"
d24509cc1ab0dd341bb53f33,What was the last sodium chloride 0.9% dose that patient 10022880 was prescribed in 04/this year?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND prescriptions.drug = 'sodium chloride 0.9%' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10022880 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Sodium Chloride 0.9%' ) AND chartevents.charttime >= '2023-04-01' AND chartevents.charttime < '2023-05-01' ORDER BY chartevents.charttime DESC LIMIT 1
2366c7c9140924ccf9f4b123,How many patients last year left the hospital?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_date,'-1 year') AND datetime(admissions.dischtime) <= datetime(current_date)"
56950cbe39154cd6825d8851,What are the four most frequently tested specimens for patients that received parenteral infusion of concentrated nutritional substances previously in the same month in this year?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'parenteral infusion of concentrated nutritional substances' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%parenteral infusion of concentrated nutritional substances%' ) AND admissions.admittime BETWEEN '2023-01-01' AND '2023-12-31' ) GROUP BY chartevents.itemid, d_items.label ORDER BY count DESC LIMIT 4"
77eb3ba985eb3df7b7b03d98,What was the oxycodone-acetaminophen dose that patient 10022281 was last prescribed in 06/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND prescriptions.drug = 'oxycodone-acetaminophen' AND strftime('%Y-%m',prescriptions.starttime) = '2100-06' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10022281 AND prescriptions.drug = 'oxycodone-acetaminophen' AND prescriptions.startdate <= '06/01/2000' AND prescriptions.enddate >= '06/01/2000' ORDER BY prescriptions.enddate DESC LIMIT 1
615149dac9c4e11fbde8d9bc,How many patients had a lymphs lab test since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphs' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphs' ) AND datetime(labevents.charttime) >= datetime('2100-01-01')
5255f208c2e8f59e3a5737fd,What was the last prescription for patient 10005817?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'HYDROmorphone (Dilaudid)'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10005817 ORDER BY prescriptions.startdate DESC LIMIT 1
a4ca19a5c33291f0beacd6c2,"What was the first time that the heart rate of patient 10018081 was, in the current ICU encounter, less than 85.0?",SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 85.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 85 ORDER BY chartevents.charttime ASC LIMIT 1
0544bc6c320c47d80b7b3c78,Calculate the total number of medications that patient 10023117 was prescribed on the first hospital encounter.,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)': 18}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ORDER BY admissions.admittime ASC LIMIT 1 )
f5565e8dca592ac7658c9ee6,What was patient 10004720's daily average value of body weight in 2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],
35727539614c8de00c1936fa,Has a procedure been performed on patient 10013049?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 )
0f1dd768a428334842bfec50,What specimen tests did patient 10001217 undergo for the first time since 12/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'CSF;SPINAL FLUID'}],
a40106b94aad93108e39fdbe,What was the drug prescribed to patient 10031757 for the first time via po route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND prescriptions.route = 'po' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT medications.medications FROM medications WHERE medications.subject_id = 10031757 AND medications.route = 'PO' ORDER BY medications.starttime ASC LIMIT 1
362ddfa50f43176eb146320b,"Among patients who underwent excision of other bile duct , what were the top four diagnoses they received within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of other bile duct' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9, COUNT(*) AS diagnosis_count FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'excision of other bile duct' ) ) AND admittime >= DATE_SUB(( SELECT admittime FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'excision of other bile duct' ) ) ), INTERVAL 2 MONTH ) GROUP BY icd9 ORDER BY diagnosis_count DESC LIMIT 4"
dae5f9c47a5e0608624786d7,"On the current hospital visit, how many days passed since the last anxiety state, unspecified diagnosis of patient 10004733?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anxiety state, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT (current_date - admissions.admittime) - (admissions.admittime - diagnoses_icd.hadm_seq) AS days FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10004733 AND diagnoses_icd.icd_code = 'F41.10' ORDER BY diagnoses_icd.hadm_seq DESC LIMIT 1
b669eb9d598ff80ab9e5f8e6,Has patient 10002495 had any surgeries in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM procedures_icd AS T1 JOIN admissions AS T2 ON T1.hadm_id = T2.hadm_id WHERE T2.subject_id = 10002495 AND YEAR(T1.chartdate) = 2100
a70c341de1bc993eef26586f,Was magnesium sulfate (bolus) administrated to patient 10007928 in 04/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) = '2100-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10007928 AND medications.medication = 'magnesium sulfate (bolus)' AND medications.starttime LIKE '04/2100%'
4c0ba2326075b47121880872,Give me patient 10035185's total amount of nacl 0.9% input.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(c.amount) FROM carevue_drug c JOIN d_carevue_drugs d ON c.cgid = d.cgid WHERE c.subject_id = 10035185 AND d.name = 'nacl 0.9%'
cd5de61128bf4493b8a116a3,Did patient 10018423 undergo a alkaline phosphatase test in 05/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND strftime('%Y-%m',labevents.charttime) = '2100-05'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '845048' AND d_labitems.label = 'Alkaline phosphatase' ) AND labevents.charttime BETWEEN '2000-05-01 00:00:00' AND '2000-05-31 23:59:59'
d83c8510ff1184c1d92ff459,What was patient 10014354's first measurement for respiratory rate on 10/20/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '10-20' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2023-10-20%' ORDER BY chartevents.charttime ASC LIMIT 1
94693223b09516e219df459b,What was the minimum daily number of patients who had intestinal infection due to clostridium difficile in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'intestinal infection due to clostridium difficile' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,
bd799ac5e9eb3fc8ae226402,What was the organism's name of the last foreign body microbiology test done on patient 10007795?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'foreign body' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microspecimens.orgname FROM microspecimens JOIN microbiologyevents ON microspecimens.microid = microbiologyevents.microid WHERE microbiologyevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'FOREIGN BODY' ORDER BY microspecimens.chartdate DESC LIMIT 1
b755ff2035aac255f467595c,So tell me what to do before you go for hemodialysis.,,,
b789cd80cfb8838ab901d4a4,Has patient 10007795 been given any sort of diagnosis?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.hadm_id IN (SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id)
c3ec8c1023fa687bb2624e68,Can you provide me the daily average amount of or colloid intake that patient 10039831 received in their current hospital visit?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or colloid intake' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut IN ('OR', 'COLLOID') ) GROUP BY chartevents.hadm_id"
24ad2857877ae3f6da374f4c,How many medications were assigned to patient 10038999 throughout this year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10038999 AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
c87fdda7e48ed877eae86d9a,Has there been any organism found in the first microbiological pleural fluid test of patient 10014729 since 2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND microbiologyevents.spec_type_desc = 'pleural fluid' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y',microbiologyevents.charttime) >= '2100' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10014729 AND microbiologyevents.spec_itemid = 227912 AND datetime(microbiologyevents.chartdate) >= datetime('2100-01-01') AND microbiologyevents.org_itemid IS NOT NULL
aa8a3e6c3b2e1ac22610e5df,Retrieve the top three most frequent lab tests since 1 year ago.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 3"
eacb97f691e333004c824387,"Can you provide the name of the drug that was prescribed to patient 10038999 during the same day post excision of left upper lobe bronchus, via natural or artificial opening endoscopic, diagnostic procedure in 06/this year?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left upper lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '06' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '06' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT dd_shortname FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND prescriptions.charttime IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left upper lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND admissions.subject_id = 10038999 AND procedures_icd.chartdate BETWEEN '2022-06-01' AND '2022-06-30' )"
130ed6628164c3afe9589f2d,"What were the three most commonly ordered lab tests for patients who were previously diagnosed with hemorrhage of rectum and anus during the same hospital visit, since 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemorrhage of rectum and anus' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE d_icd_diagnoses.long_title LIKE '%hemorrhage of rectum and anus%' AND labevents.chartdate >= '2100-01-01' GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
3922a8bf089907b9a543783e,"After receiving enteral infusion of concentrated nutritional substances during this year, what are the three most common diagnoses that patients received within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%enteral infusion%' AND category = 'Nutritional Support' AND linksto = 'chartevents' ) AND valuenum > 0 AND charttime >= DATE_FORMAT(NOW(),'%Y-01-01') ) ) AND BETWEEN charttime AND DATE_ADD(charttime, INTERVAL 2 MONTH) GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 3"
c3771288ef450c465644693b,What was the first drug that was prescribed to patient 10021487 via the pr route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.route = 'pr' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT admittime, subject_id, drug FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.route = 'PR' ORDER BY admittime ASC LIMIT 1"
f93cc51e5d7120ee4b957451,What was the total volume of void that patient 10007058 had since 09/10/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-09-10'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '09/10/2100' ORDER BY chartevents.charttime ASC
0831dece04ef846871b1b934,What was the diagnosis for patient 10003046 the first time in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,
a9fa2caa73b48c01d20c7f01,What was the name of the medication that patient 10012552 was prescribed in the same hospital encounter after receiving a single internal mammary-coronary artery bypass procedure in 04/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'single internal mammary-coronary artery bypass' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '04' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 AND admissions.admittime >= '2022-04-01' AND admissions.admittime < '2022-05-01' ) AND prescriptions.orderid IN ( SELECT procedure_events.orderid FROM procedure_events WHERE procedure_events.hadm_id = prescriptions.hadm_id AND procedure_events.procedure_type = 'Surgery' AND procedure_events.description = 'internal mammary-coronary artery bypass' AND procedure_events.starttime <= prescriptions.starttime AND procedure_events.endtime >= prescriptions.starttime )
ac2e5b4fdd7c9a6ea505a929,What changes were made in the prescription of patient 10004733 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT ( SELECT adm.admittime FROM admissions adm WHERE adm.subject_id = 10004733 ) + INTERVAL 1 DAY AS yesterday, ( SELECT adm.admittime FROM admissions adm WHERE adm.subject_id = 10004733 ) + INTERVAL 2 DAY AS today, ( SELECT pcp.drug FROM prescriptions pcp WHERE pcp.stay_id IN ( SELECT ic.icustay_id FROM icustays ic WHERE ic.hadm_id IN ( SELECT adm.hadm_id FROM admissions adm WHERE adm.subject_id = 10004733 ) ) AND pcp.starttime BETWEEN yesterday AND yesterday + INTERVAL 1 DAY ) AS yesterday_prescription, ( SELECT pcp.drug FROM prescriptions pcp WHERE pcp.stay_id IN ( SELECT ic.icustay_id FROM icustays ic WHERE ic.hadm_id IN ( SELECT adm.hadm_id FROM admissions adm WHERE adm.subject_id = 10004733 ) ) AND pcp.starttime BETWEEN today AND today + INTERVAL 1 DAY ) AS today_prescription"
f4312adc1652536556c92455,What was patient 10018423's last input time on 05/21/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-05-21' ORDER BY inputevents.starttime DESC LIMIT 1",[],
db0532f93811b5c3527eb224,During a blood transfusion has patient 18866 ever experienced any side effects?,,,SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 18866 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%blood transfusion%' OR d_items.category = 'blood transfusion' ) AND chartevents.valuenum > 0 AND chartevents.error = 1
e9f0066c2e5b7c4c2d7fe515,How many patients had a diagnosis of methicillin susceptible pneumonia due to staphylococcus aureus during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'methicillin susceptible pneumonia due to staphylococcus aureus' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'METHICILLIN SUSCEPTIBLE PNEUMONIA DUE TO STAPHYLOCOCCUS AUREUS' ) AND admissions.admittime >= '2021-01-01' AND admissions.admittime < '2022-01-01'
e4b74a53ea1be8cc09b170cb,What are the steps after the cystoscopy nec?,,,
0ae32bee1adc6a16d66b16de,What was patient 10036156's documented weight on the last record since 12 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-12 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= datetime('now', '-12 months') ORDER BY chartevents.charttime DESC LIMIT 1"
07c7d0b230f28eb2bba883d4,Has patient 10005909 been provided any medications since 11/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10005909 AND datetime(medications.startdate) >= datetime('11/2100')
d8ee53098c33deb8fdb3b50b,What is the type of blood patient 97330 has.,,,
fd1fe8945ba7f1d84a6e557a,When was the last discharge time of patient 10020944 from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10020944 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],"SELECT admittime, dischtime FROM admissions WHERE subject_id = 10020944 ORDER BY dischtime DESC LIMIT 1"
163f4af47f19becb80903c30,How many medications were assigned to patient 10035185 since 8 months ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-8 month')",[{'COUNT(*)': 104}],"SELECT COUNT(*) FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND datetime(medications.starttime) >= datetime(current_time,'-8 month')"
919fd2fec23929480d56959a,How much is the difference of urea nitrogen of patient 10021118 second measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (chartevents1.valuenum - chartevents2.valuenum) AS difference FROM chartevents AS chartevents1 INNER JOIN chartevents AS chartevents2 ON chartevents1.hadm_id = chartevents2.hadm_id AND chartevents1.itemid = chartevents2.itemid AND chartevents1.charttime > chartevents2.charttime WHERE chartevents1.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents1.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen' AND d_items.linksto = 'chartevents' ) AND chartevents2.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents2.charttime ASC LIMIT 1
5767b253bcb5c54fa1aaaadc,Tell me the top five most commonly prescribed medications.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT m1.medication, COUNT(m1.medication) AS total_prescriptions FROM ( SELECT CASE WHEN drug_name IN ( SELECT DISTINCT drug_name FROM prescriptions WHERE drug_name IS NOT NULL ) THEN drug_name ELSE NULL END AS medication FROM prescriptions WHERE drug_name IS NOT NULL GROUP BY drug_name ORDER BY COUNT(*) DESC LIMIT 5 ) m1 GROUP BY m1.medication ORDER BY total_prescriptions DESC LIMIT 5"
ef68de2dc19e6a02e19bace9,What was the medication that patient 10004733 was prescribed for in the same day after receiving central venous catheter placement with guidance in this hospital visit?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT medications.meds FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND medications.starttime >= ( SELECT MAX(procedures_icd.chartdate) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) ORDER BY medications.starttime ASC LIMIT 1
62ce1e3f90c3aa7b3c7ffd03,Can you provide the total number of outputs patient 10011398 had since 12/26/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-26'",[{'SUM(outputevents.value)': 4314.0}],
cd0bcb070c47177a7ad4ff35,"In the last year, how many patients were provided with vancomycin oral liquid?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'vancomycin oral liquid' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'VANCOMYCIN ORAL LIQUID' AND prescriptions.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
e406dc4e0b4d87d40b90a07f,When did patient 10038933 receive sputum microbiology test the first time since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND microbiologyevents.spec_type_desc = 'sputum' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'sputum_mic' ) AND chartevents.charttime >= '03/01/2100' ORDER BY chartevents.charttime ASC LIMIT 1
f34ae2771a3ae71a42d66a89,What was the first dose of insulin prescribed to patient 10014729 in 03/this year?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND prescriptions.drug = 'insulin' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.dose, prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10014729 AND prescriptions.drug = 'insulin' AND prescriptions.startdate >= '2022-03-01' AND prescriptions.startdate < '2022-04-01' ORDER BY prescriptions.startdate ASC LIMIT 1"
215bb31f610d65f9b86033ff,How many hours is it since patient 10021487 first received the epithelial cells lab test during the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MIN(chartevents.charttime), CURRENT_TIME) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'epithelial cells' AND d_items.linksto = 'chartevents' )"
7e0d52249e45d956b457e7f7,Can you report the last arterial blood pressure mean for patient 10031757 during the first ICU stay?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) ) ORDER BY chartevents.charttime DESC LIMIT 1
2d292b7a053eb9f6d89638af,Retrieve patient 10027602's monthly maximum weight since 1 year ago.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT EXTRACT(MONTH FROM chartevents.charttime) as month, MAX(chartevents.valuenum) as max_weight FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) AND chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY month ORDER BY month"
37cae934208b2a009d5fa703,Has patient 10038081 received any other endoscopy of small intestine treatment since 1 year ago?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endoscopy of small intestine' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS pi JOIN admissions AS a ON pi.hadm_id = a.hadm_id WHERE a.subject_id = 10038081 AND pi.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND pi.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%endoscopy of small intestine%' )"
23652e6ecf5fc87dd7d50a98,"How many patients were diagnosed with nicotine dependence, cigarettes, uncomplicated during the same month after they were first diagnosed with long term (current) use of antithrombotics/antiplatelets in 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long term (current) use of antithrombotics/antiplatelets' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'nicotine dependence, cigarettes, uncomplicated' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN diagnoses_icd AS diag1 ON admissions.hadm_id = diag1.hadm_id INNER JOIN diagnoses_icd AS diag2 ON admissions.hadm_id = diag2.hadm_id WHERE diag1.icd_code LIKE 'V125%' AND diag2.icd_code LIKE 'D67%' AND YEAR(admissions.admit_date) = 2010 AND MONTH(admissions.admit_date) = 1
55106da0f8f7722ca97968ca,What was the first time patient 10004733 received ph in a lab test in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) AND labevents.charttime LIKE '2023-12%' ORDER BY labevents.charttime ASC LIMIT 1
9c9100431bbeace3679922e0,How much does it cost to purchase phenobarbital?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'phenobarbital' ),,
bfff3b930069caa7a3444608,When was patient 10006053's respiratory rate last measured greater than 17.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 17.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 17.0 ORDER BY chartevents.charttime DESC LIMIT 1
b6207dcfe0579ae33b721201,What was the last time that patient 10040025 had the maximum value of hematocrit in 03/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '03' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' ) AND datetime(chartevents.charttime) >= datetime('2022-03-01') AND datetime(chartevents.charttime) < datetime('2022-04-01') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
0f1253fab8016b9da9f6e223,When was the first time that patient 10015272 in 06/this year was given a asparate aminotransferase (ast) lab test?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10015272 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE 'asparate aminotransferase%' ) AND chartevents.charttime >= '2022-06-01' AND chartevents.charttime < '2022-07-01'
f65f6f053430f63b922aef1d,How many days has it been since the first time that patient 10004733 was diagnosed with other iatrogenic hypotension on the current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other iatrogenic hypotension' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), MIN(admissions.admittime)) FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other iatrogenic hypotension' ) )"
bc12c47d96a21b5e21142ed7,Show me the top five microbiology tests.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test_name, COUNT(*) AS test_count FROM microbiologyevents GROUP BY test_name ORDER BY test_count DESC LIMIT 5"
f0d3b6aed52a69df797206eb,What were the five most frequent events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime('now', '-1 year') GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
a3d0c04ad119ac98baeec6ac,"Since 04/04/2100, when did patient 10018501 have their last input?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-04' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2141-08-01 19:44:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime >= '2004-04-04' ORDER BY chartevents.charttime DESC LIMIT 1
a5f1e48fb3c060e9e95251f2,"Total number of patients who had drainage of peritoneal cavity, percutaneous approach in 2100.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of peritoneal cavity, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,"SELECT COUNT(*) FROM admissions JOIN patients ON patients.subject_id = admissions.subject_id JOIN procedures_icd ON procedures_icd.hadm_id = admissions.hadm_id WHERE patients.dob = '2100' AND procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'drainage of peritoneal cavity, percutaneous approach' )"
f0042425f5c80fc4ec492cf0,What are the top five most common medications prescribed within 2 months to the patients aged 60 or above after they were diagnosed with diplopia?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'diplopia' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescriptions.drug, COUNT(*) AS frequency FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'H51%' AND admissions.admittime >= datetime(current_time,'-2 months') AND admissions.dob <= datetime(current_time,'-60 years') GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 5"
ff717f132bef7b20380c93f7,What was the name of the organism that was found in the last microbiology test on patient 10021487's abscess since 02/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'abscess' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT micro_specimen.org_name FROM micro_specimen JOIN microbiologyevents ON micro_specimen.microid = microbiologyevents.microid WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND micro_specimen.site = 'abscess' AND datetime(microbiologyevents.chartdate) >= '02/2100' ORDER BY micro_specimen.charttime DESC LIMIT 1
16836caa5b38e5fa22166c1a,Is the pt level of patient 10027445 last measured on the last hospital visit greater than the second to last measurement on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT last_value.valuenum > second_to_last_value.valuenum FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'PT/INR' AND d_items.linksto = 'labevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) last_value, ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'PT/INR' AND d_items.linksto = 'labevents' ) ORDER BY chartevents.charttime DESC LIMIT 2,1 ) second_to_last_value"
01fe648fde411db8cc5023ce,What is the maximum total hospital cost for a drug named vancomycin during this year?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'vancomycin' ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(costs.total_cost) FROM costs JOIN d_items ON costs.itemid = d_items.itemid WHERE d_items.label = 'Vancomycin' AND costs.charttime >= DATE_FORMAT(NOW(),'%Y-01-01')"
7a94050770d72ccb6594539a,Can you give me patient 10008454's daily average packed red blood cells input?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells input' AND d_items.linksto = 'inputevents_mv' )
91405986ac7029c89c4e111c,Tell me the name of an output that patient 10013049 has first had since 03/07/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-07' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR Urine'}],
4e87cca0b7f4f1c42928e016,How much will it cost me to get laparoscopic robotic assisted procedure done?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic robotic assisted procedure' ) ),,
8a498aa27f9b433e78ba0a00,What is the type of blood that patient 60136 has?,,,
e0699671e9dc302a776e8354,"Since 1 year ago, has patient 10021938 visited an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND admissions.admission_type = 'Urgent'"
a3703a6f4da15988521301ef,List the top four diagnoses that have the highest 3-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis_icd.icd_code, d_icd_diagnoses.long_title, COUNT(*) / COUNT(DISTINCT patients.subject_id) AS mortality_rate FROM diagnosis_icd JOIN patients ON patients.hadm_id = diagnosis_icd.hadm_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = diagnosis_icd.icd_code WHERE patients.dod BETWEEN patients.admit_dt AND DATE_ADD(patients.admit_dt, INTERVAL 3 MONTH) GROUP BY diagnosis_icd.icd_code ORDER BY mortality_rate DESC LIMIT 4"
d6b45e0644198773e61b027c,How many patients since 2100 were diagnosed with suicidal ideation within the same month after the first diagnosis with panic disorder without agoraphobia?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'panic disorder without agoraphobia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'suicidal ideation' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(DISTINCT adm.subject_id) FROM admissions adm JOIN diagnoses_icd d1 ON adm.hadm_id = d1.hadm_id JOIN diagnoses_icd d2 ON adm.hadm_id = d2.hadm_id WHERE d1.icd_code LIKE 'F41.0%' AND d2.icd_code LIKE 'F41.0%' AND adm.admittime >= '2100-01-01' AND MONTH(adm.admittime) = MONTH(d2.admittime) AND YEAR(adm.admittime) = YEAR(d2.admittime) AND d1.seq_num < d2.seq_num
f32d842f0e3bf602efb3e22f,Calculate how many patients were in medical/surgical intensive care unit (micu/sicu) in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
a6fe11704f68e1f821cfc45e,Count the number of people who were diagnosed with postprocedural heart failure following other surgery since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'postprocedural heart failure following other surgery' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
d97ce57b0238741d318dd305,What is the number of patients who were prescribed phenytoin infatab since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'phenytoin infatab' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT adm.subject_id) FROM admissions adm JOIN prescriptions pres ON adm.hadm_id = pres.hadm_id WHERE pres.drug = 'phenytoin infatab' AND pres.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
1cd31dccc70c46d3c3d8d825,Can you show me the drug that patient 10016150 was last prescribed in their last hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Aspirin'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) ORDER BY prescriptions.starttime DESC LIMIT 1
42ec95f5707880f8478c4eb9,What were the four most often conducted microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}]","SELECT d_microbiology_results.test_name, COUNT(*) AS test_count FROM microbiologyevents INNER JOIN d_microbiology_results ON microbiologyevents.microcode = d_microbiology_results.microcode WHERE datetime(microbiologyevents.chartdate) >= datetime(current_date,'-1 year') GROUP BY d_microbiology_results.test_name ORDER BY test_count DESC LIMIT 4"
6b4f7abe50c5cf5f9fe5385a,Tell me the top four most frequent lab tests that patients were given within 2 months after being diagnosed with encounter for immunization since 1 year ago.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'encounter for immunization' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_items.label, COUNT(*) AS freq FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN d_items ON labevents.itemid = d_items.itemid WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR) AND labevents.charttime BETWEEN DATE_SUB(admissions.admittime, INTERVAL 2 MONTH) AND admissions.admittime AND admissions.dtypesubstring LIKE '%encounter for immunization%' GROUP BY d_items.label ORDER BY freq DESC LIMIT 4"
88f1c32259e7e65db186fc61,Tell me the protocol of anticancer drugs?,,,
d59d0db4be4aa6b37d49b1ef,Has any organism been found in patient 10005817's last stool test conducted?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND microbiologyevents.spec_type_desc = 'stool' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.spec_type_desc = 'STOOL' AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ORDER BY microbiologyevents.chartdate DESC LIMIT 1
778dec17c4569dd7f4da476a,What kind of medicine does patient 17638 take after they got the instruction of another department at our hospital,,,
b631a1615445ca9ec8e26a42,What procedure was given to patient 10019777 two times since 21 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-21 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT d_procedures.procedure_name FROM d_procedures JOIN procedures ON d_procedures.procedure_id = procedures.procedure_id WHERE procedures.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND procedures.chartdate >= DATE_SUB(CURDATE(), INTERVAL 21 MONTH) GROUP BY d_procedures.procedure_name HAVING COUNT(*) = 2"
21c6f3b0cb788bda4faf8249,Tell me the number of patients who stayed in med/surg/gyn.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/gyn' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.hospital_service = 'MED/SURG/GYN'
5bdb71007a2f5b2c33e4bd71,What was the organism detected in patient 10016742's first swab microbiology test since 07/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND microbiologyevents.spec_type_desc = 'swab' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT microbespec.microorganism FROM microbespec WHERE microbespec.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND microbespec.chartdate >= '07/01/2010' ORDER BY microbespec.chartdate ASC, microbespec.charttime ASC LIMIT 1"
9b97c77977d5e0060179aa15,What is the number of operating rooms available at this time?,,,
645da0fe1582ef9cccf3adb7,Is the type of blood of patient 12775?,,,
358cc7b4a0a0a45ee24a26fd,"What was the first instance when the SaO2 of patient 10031757 was less than 97.0, during their last ICU stay?",SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 97.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.dischtime IN ( SELECT max(icustays.dischtime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 97.0 ORDER BY chartevents.charttime ASC LIMIT 1
2815edbcab8252d5b617ad55,When did patient 10029484 last depart from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10029484 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10029484 ORDER BY admittime DESC LIMIT 1
a124aa7b3370848af7ee0c6b,What was the weight of patient 10038081 last since 5 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-5 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-5 month') ORDER BY chartevents.charttime DESC LIMIT 1"
d50ac96f2f625bb2840762bf,What was the last dose of alteplase (catheter clearance) that on their last hospital visit was prescribed to patient 10019777?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'alteplase (catheter clearance)' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions JOIN patients ON prescriptions.subject_id = patients.subject_id JOIN admissions ON admissions.hadm_id = prescriptions.hadm_id WHERE patients.subject_id = 10019777 AND prescriptions.drug_name = 'Alteplase (Catheter clearance)' AND admissions.dischtime = (SELECT MAX(admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10019777) ORDER BY prescriptions.startdate DESC LIMIT 1
92a24aa83e1c66451f13de62,When did patient 10031757 last get swab's microbiology test during their last hospital encounter?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'swab' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents INNER JOIN microbiologyevents ON chartevents.hadm_id = microbiologyevents.hadm_id WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Swab') AND microbiologyevents.spec_type_desc = 'swab' ORDER BY chartevents.charttime DESC LIMIT 1
cc8811490b346c0fe68bf66b,How much does patient 10027602's weight differ from the second value measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (last_chartevents.valuenum - second_last_chartevents.valuenum) as weight_difference FROM chartevents as last_chartevents INNER JOIN chartevents as second_last_chartevents ON last_chartevents.stay_id = second_last_chartevents.stay_id WHERE last_chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND second_last_chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND last_chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND second_last_chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND second_last_chartevents.charttime < last_chartevents.charttime ORDER BY last_chartevents.charttime ASC, second_last_chartevents.charttime DESC LIMIT 1"
98340bd550d51478d6ada232,Could you inform me the total output amount of patient 10012552 on 04/04/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-04-04'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.subject_id = 10012552 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output amount' ) AND chartevents.charttime LIKE '04/04/2100%'
99ec0658e0c4b37ac1798c46,When was the first discharge of patient 10022880 from the hospital?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022880 ORDER BY admissions.dischtime ASC LIMIT 1,[{'dischtime': '2177-03-19 14:25:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022880 ORDER BY admissions.admittime ASC LIMIT 1
0d4e20e0fef8cae36b234d1b,When did patient 10004422's first input on 01/25/2100 occur?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-01-25' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT inputevents_cv.starttime FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND inputevents_cv.charttime >= '01/25/2100' ORDER BY inputevents_cv.starttime ASC LIMIT 1
b58e546890ee6007f8e2974b,"Last year, how many patients were diagnosed with hypertensive chronic kidney disease, unspecified, with chronic kidney disease stage i through stage iv, or unspecified?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertensive chronic kidney disease, unspecified, with chronic kidney disease stage i through stage iv, or unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code IN ( SELECT icd_diagnoses.icd_code FROM icd_diagnoses WHERE icd_diagnoses.long_title IN ('hypertensive chronic kidney disease, unspecified', 'chronic kidney disease stage i', 'chronic kidney disease stage ii', 'chronic kidney disease stage iii', 'chronic kidney disease stage iv', 'chronic kidney disease, unspecified') ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN datetime(current_date,'-1 year') AND datetime(current_date) )"
85d696e2a18d54f7bdd92de8,What was the last instance when the respiratory rate of patient 10018501 was less than 35.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 35.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],"SELECT chartevents.charttime, chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' ) AND chartevents.valuenum < 35.0 ORDER BY chartevents.charttime DESC LIMIT 1"
07d28012648c5a33f74fb154,What were the three most common tests conducted on specimens since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]",
deb0649dc5dfba070e57b20a,"What were the top four most common procedures that occurred within the same hospital visit for patients who had extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic before since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS occurrences FROM procedures_icd INNER JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE admissions.admittime >= datetime(current_time,'-1 year') AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic' ) GROUP BY d_icd_procedures.long_title ORDER BY occurrences DESC LIMIT 4"
7b04b1222708b5e1f1411219,"What was the maximum value of creatinine, urine for patient 10038992 during the last hospital visit?","SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine, urine' )",[{'MAX(labevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10038992 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%creatinine%' AND linksto = 'chartevents' ) AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime
26e74aadac80448d7df8bab6,What immuno-cancer medications have been used for the last five years?,,,
afc288ae1efdf1107f545e9d,When did patient 10004720 receive the last prescription of soln and bag at the same time since 12/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'soln' AND admissions.subject_id = 10004720 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'bag' AND admissions.subject_id = 10004720 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10004720 AND prescriptions.drug LIKE '%soln%' AND prescriptions.dosage LIKE '%bag%' AND prescriptions.startdate <= '12/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
fd369ed514a6f2c485af417b,"When was the last time that patient 10018081 had the calcium, total minimum value during this hospital encounter?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Calcium, Total' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
1b93bd516c9f2988ad2965d8,"In total, what was the input amount of packed red blood cells that patient 10008454 received on 12/04/this year?","SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '12-04'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_mv.input).0 FROM inputevents_mv WHERE inputevents_mv.subject_id = 10008454 AND inputevents_mv.starttime >= '12/04/this year' AND inputevents_mv.starttime < '12/05/this year' AND inputevents_mv.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%packed red blood cells%')
bfc0ef948f41f613e7769bc1,Does patient 23070 have overseas travel history?,,,
b70079e92720b4a5b0ac3a9a,Has patient 10004733 had an input of nepro (full) since 12/29/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nepro (full)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-29'",[{'COUNT(*)>0': 0}],
285483bc9981158e35956874,"What was the number of dilation of left common iliac vein with intraluminal device, percutaneous approach procedures performed last year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date, '-1 year')"
90b567e91dc4ca2e45144a58,What is the standard amount of reimbursement for a drug?,,,
9c5b3244cf12068e0fc12891,Will patient 28443 receive any additional immunology test?,,,
b562038e8a76b7d15b8694eb,What was the organism detected during the last abscess microbiology test of patient 10001217 in the last hospital visit?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'abscess' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND microbiologyevents.spec_type_desc = 'ABSCESS' ORDER BY microbiologyevents.chartdate DESC, microbiologyevents.charttime DESC LIMIT 1"
cc3ae3ee46938d74fbd6ba5e,Number of patients who were diagnosed throughout this year with hepatic encephalopathy.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hepatic encephalopathy' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '572.2' AND admissions.admittime BETWEEN date_format(curdate(),'%Y-01-01 00:00:00') AND date_format(curdate(),'%Y-12-31 23:59:59')"
1e3f74247a6a94fae1151382,How much was the difference in weight of patient 10038081 second measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime DESC LIMIT 1) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents') ORDER BY chartevents.charttime ASC LIMIT 1) - (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime DESC LIMIT 1) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents') ORDER BY chartevents.charttime ASC LIMIT 1, 1)"
d73c8f5b0105e85440aa6baf,What are the maximum yearly number of patients diagnosed with glucocorticoid deficiency since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'glucocorticoid deficiency' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,
e6c07526b6246ff9377949ba,"Since 07/2100, what was the last drug that patient 10004720 was prescribed through the po/ng route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT drug_name FROM prescriptions WHERE subject_id = 10004720 AND route = 'PO/NG' AND order_time >= '2000-07-01' ORDER BY order_time DESC LIMIT 1
6e78d418898692d8783374c7,Have any lab tests been performed on patient 10026406?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 )
d0b77b1523060bc5563a0484,Tell me the five most common microbiology tests for patients who were previously diagnosed with coronary atherosclerosis of autologous vein bypass graft in the same month in 2100.,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'coronary atherosclerosis of autologous vein bypass graft' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT mtest, COUNT(*) AS count FROM ( SELECT admissions.subject_id, chartevents.charttime, microbiologyevents.testname AS mtest FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id JOIN microbiologyevents ON chartevents.stay_id = microbiologyevents.stay_id JOIN d_icd_diagnoses ON chartevents.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code LIKE '414%' AND chartevents.charttime BETWEEN datetime(chartevents.charttime, 'start of month', '-1 month') AND datetime(chartevents.charttime, 'start of month', '+1 month') ) AS combined_data GROUP BY mtest ORDER BY count DESC LIMIT 5"
f9f4d6def655d54dcbd63348,What is the dose of opiate prescribed for patient 8908?,,,"SELECT order_detail.quantity, order_detail.unit FROM order_detail JOIN orders ON order_detail.order_id = orders.order_id JOIN d_items ON orders.itemid = d_items.itemid WHERE orders.subject_id = 8908 AND d_items.category = 'Narcotics' AND d_items.subcategory = 'Opiate'"
8349ae15ee5f76bb723596fb,How much does patient 10004733's heart rate differ from the last value measured on the last ICU visit compared to the second to last value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH heart_rate_data AS ( SELECT chartevents.valuenum, ROW_NUMBER() OVER (ORDER BY chartevents.charttime DESC) AS row_num FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) ) SELECT valuenum - LAG(valuenum) OVER (ORDER BY row_num) FROM heart_rate_data WHERE row_num = 1 OR row_num = 2"
0266d6e5d007484e57bf12d6,What was the name of the drug that was first prescribed to patient 10020944 through the iv drip route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND prescriptions.route = 'iv drip' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT admittime, admittime, charttime, itemid, value, storetime FROM prescriptions WHERE prescriptions.subject_id = 10020944 AND prescriptions.route = 'IV' ORDER BY charttime ASC LIMIT 1"
cea6be007be41bfc9fde406e,Could you fetch the top five most common specimens tested during this year for me?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.chartdate BETWEEN '2022-01-01' AND '2022-12-31' AND d_items.label LIKE '%specimen%' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
5e54019ee712a69d9eb50369,"What are the three frequently tested specimens for patients that received extirpation of matter from left femoral vein, percutaneous approach previously within 2 months this year?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.specimen_id, COUNT(*) AS count FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) ) ) AND chartevents.charttime >= datetime(current_time,'-2 month') AND chartevents.charttime <= datetime(current_time) GROUP BY chartevents.specimen_id ORDER BY count DESC LIMIT 3"
ca03ac7bbb7eccf0152f825a,How do you proceed with the anticancer drugs?,,,
d6121ad75765bc51dceaf4c9,When patient 10018501 was last discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10018501 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2141-08-05 18:06:00'}],SELECT admittime FROM admissions WHERE subject_id = 10018501 ORDER BY admittime DESC LIMIT 1
cb5360f692863a0eab68182e,What is the change in the medication of patient 10004733 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],
214a7cc494b5ad3fd78e9765,"So, when is the earliest patient 28343 is going to come in the hospital?",,,SELECT min(admittime) FROM admissions WHERE subject_id = 28343
8444ba22b9c952cf50e50901,Can you confirm what was the first temperature celsius for patient 10021487 in their first ICU visit?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Temperature Celsius' ) AND chartevents.stay_id IN ( SELECT MIN(icustays.stay_id) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) LIMIT 1
2348bda143e013d91131d2d9,What are patient 10037861's changes in ph last measured on the last hospital visit compared to the second to last value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT c1.valuenum - c2.valuenum AS change FROM chartevents AS c1 JOIN chartevents AS c2 ON c1.subject_id = c2.subject_id AND c1.itemid = c2.itemid WHERE c1.subject_id = 10037861 AND c1.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%ph%' ) AND c1.hadm_id IN ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10037861 ) AND c2.hadm_id IN ( SELECT MAX(admissions.hadm_id) - 1 FROM admissions WHERE admissions.subject_id = 10037861 ) ORDER BY c1.charttime DESC, c2.charttime DESC LIMIT 1"
cb1a4e3e68a3305cbed774f1,What was the name of the drug that was prescribed first to patient 10022017 since 04/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Sodium Chloride 0.9%  Flush'}],SELECT admittime FROM admissions WHERE subject_id = 10022017 AND admittime >= '04/2100' ORDER BY admittime ASC LIMIT 1
6cc10dddb478d438f52a9dfb,What was the specimen test ranked at three that was done most commonly in 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],
ec5cf43c52672339fb5e9d7f,What is the maximum total hospital cost for a patient suffering from early satiety since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'early satiety' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
ee666395a082d03bb08f340b,What number of patients stayed in coronary care unit (ccu) in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'coronary care unit (ccu)' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE adm_type = 'CCU' AND admittime LIKE '2100%'
476e4488035d145ab89ef7ae,How many patients stayed in careunit discharge lounge?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'discharge lounge' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.unit = 'discharge lounge'
085c8ca9cb97ef04b07e9465,Was there a genetic test that patient 76494 received?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 76494 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'Genetics' )
484f6763a7263dfc6dd3843b,What's the platelet count change of patient 10021487 last measured on the current hospital visit compared to the second to last value measured on the current hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH latest_measurements AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'platelet count' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 2 ) SELECT latest_measurements.valuenum, latest_measurements.charttime FROM latest_measurements ORDER BY latest_measurements.charttime ASC LIMIT 1,1"
8946a6077d0e165e482e261f,What are the four most frequent microbiology tests in this year?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4",[],"SELECT test_name, COUNT(*) as frequency FROM microbiologyevents WHERE chartdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') GROUP BY test_name ORDER BY frequency DESC LIMIT 4"
9dea9102653c7bfb36386393,"How many days have passed since patient 10004733 got her first diagnosis of cerebral artery occlusion, unspecified with cerebral infarction on their current hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cerebral artery occlusion, unspecified with cerebral infarction' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), MIN(admissions.admittime)) FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = '434.91' AND admissions.subject_id = 10004733"
28150962c7244064887e1cfd,What is the minimum daily number of cases for acute diastolic (congestive) heart failure in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute diastolic (congestive) heart failure' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,SELECT MIN(diagnosis_icd.num_cases) FROM diagnosis_icd WHERE diagnosis_icd.year = 2100 AND diagnosis_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'acute diastolic (congestive) heart failure')
cbcdc4db6f2c0f87986c08eb,"What was the first time that patient 10018501 had a minimum value of calcium, total?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'calcium, total' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
694ecac71896531f9afc039a,What was the medication patient 10021118 was prescribed for the last time via im since 10/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10021118 AND admittime > '10/2100' ORDER BY admittime DESC LIMIT 1
b9aa9ee30245b8000f1127e3,"How many patients underwent extirpation of matter from left femoral vein, percutaneous approach in this year?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) AND YEAR(procedures_icd.chartdate) = YEAR(CURRENT_DATE)"
0b19e40d278a97e915037e52,"Compared to yesterday, what were the new prescriptions for patient 10039831 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.drug, prescriptions.dose, prescriptions.units, prescriptions.route FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 day') AND datetime(prescriptions.startdate) < datetime(current_time) AND NOT EXISTS (SELECT 1 FROM prescriptions yesterday_prescriptions WHERE yesterday_prescriptions.subject_id = 10039831 AND yesterday_prescriptions.drug = prescriptions.drug AND datetime(yesterday_prescriptions.startdate) >= datetime(current_time,'-2 day') AND datetime(yesterday_prescriptions.startdate) < datetime(current_time,'-1 day'))"
07cfa2305771336777be3c17,How many current patients are there that are 60 or above?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,
0cd0b92b050e9e355d9c8775,What's the total of avapro prescriptions in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'avapro' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT SUM(prescriptions.dose) FROM prescriptions INNER JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE d_items.label = 'avapro' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31')
bd64eba2a9801db69c14dd75,How much did patient 10005817 weigh the first time it was measured in 12/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) = '2100-12' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10005817 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label = 'Daily weight' ) AND chartevents.charttime >= '12/01/2010' AND chartevents.charttime < '01/01/2011' ORDER BY chartevents.charttime ASC LIMIT 1
4e9b234a6ce9fa0007c2e212,When was patient 10015860 prescribed with a drug via the im route for the last time on the first hospital stay?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'im' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10015860 AND prescriptions.route = 'IM' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.startdate DESC LIMIT 1
2ba257c83dfd7776e8506244,"Throughout this year, what are the top five most common lab tests ordered for patients in the same hospital encounter after dysphagia, oropharyngeal phase?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dysphagia, oropharyngeal phase' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS count FROM chartevents JOIN d_labitems ON chartevents.itemid = d_labitems.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code LIKE 'K75%' ) AND chartevents.charttime BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') AND DATE_FORMAT(NOW(),'%Y-12-31') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 5"
61a27855d733cbb01f805863,What was the procedure conducted on patient 10000032 two or more times?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT procedures_icd.icd_code FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) GROUP BY procedures_icd.icd_code HAVING count(*) >= 2 )
631830633e3ef0505c85ca98,Calculate the total number of medications that patient 10004457 was prescribed throughout this year.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10004457 AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
e5f98987539902de04cf8a9e,Could you tell me how many patients stayed in the med/surg careunit during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN d_careg_units ON admissions.careunit = d_careg_units.careunit WHERE d_careg_units.careunit = 'Med/Surg' AND YEAR(admissions.admittime) = YEAR(CURDATE())
8c6f20f6c2e2c7185fddb381,What is the average total hospital expense that includes malignant neoplasm of rectosigmoid junction since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of rectosigmoid junction' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
ddcee3c0f498777f0ac3fe7c,Calculate the total volume of patient 10026354's input since 03/22/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-22'",[{'SUM(inputevents.totalamount)': 7100.0}],
59e81ba463402dfebb19a04b,What's the cost to get other endovascular procedures on other vessels?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endovascular procedures on other vessels' ) ),,
51beaf6f4ac792c505183c8f,Could you list the top three most common lab tests in 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],
efd275d1b7116eb72bf67aaa,Calculate the number of closed [endoscopic] biopsy of bronchus procedures performed in 2100.,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [endoscopic] biopsy of bronchus' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed endoscopic
cb78a1c0f1fe2f58edc2d283,Was the value of patient 10020786's white blood cells second measured on the first hospital visit greater than the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT second_valuenum > first_valuenum FROM ( SELECT MIN(chartevents.charttime) AS first_charttime, MIN(chartevents.valuenum) AS first_valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'white blood cell count' AND d_items.linksto = 'chartevents' ) UNION SELECT chartevents.charttime, chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'white blood cell count' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1, 1 ) AS subquery"
fd67ddabf75b779af8cfe4ac,Please provide the four most common tests performed on specimens this year.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS freq FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= CURRENT_DATE - INTERVAL 1 YEAR GROUP BY chartevents.itemid ORDER BY freq DESC LIMIT 4"
28bf2891ea69cdd52915b657,"Among patients who took respiratory ventilation, greater than 96 consecutive hours in 2100, what are the top three most frequent diagnoses that followed within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN icustays ON diagnoses_icd.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%Respiratory ventilation%' ) AND chartevents.valuenum > 96 AND chartevents.charttime BETWEEN icustays.intime AND DATE_ADD(icustays.intime, INTERVAL 2 MONTH) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 3"
2202303447142eaeb02bfd69,What is the minimum value of phosphate on patient 10021666 in 03/2100?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(valuenum) FROM labevents WHERE subject_id = 10021666 AND itemid IN ( SELECT itemid FROM d_labitems WHERE label LIKE '%phosphate%' ) AND charttime LIKE '03/2100%'
fa03821db7826057951a8f17,"What are the four most commonly prescribed medications for patients who were diagnosed with percutaneous transluminal coronary angioplasty status previously within 2 months, since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'percutaneous transluminal coronary angioplasty status' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT top 4 c.prdname FROM (SELECT m.prdname FROM prescriptions AS m INNER JOIN admissions AS a ON m.hadm_id = a.hadm_id WHERE a.admittime BETWEEN datetime(current_timestamp,'-1 year') AND datetime(current_timestamp) AND m.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '36.11' AND dtime BETWEEN datetime(current_timestamp,'-2 months') AND datetime(current_timestamp)) GROUP BY m.prdname ORDER BY COUNT(*) DESC) AS c"
45de049f9307b8c592a68f2c,What is the total number of patients discharged from the hospital in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
02960e704986efbe2e56a892,What's the weight difference of patient 10038081's body second measured on the last hospital visit compared to the value first measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (first.valuenum - second.valuenum) as weight_difference FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.charttime IN ( SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) GROUP BY chartevents.hadm_id ) ORDER BY chartevents.charttime DESC LIMIT 1 ) AS second JOIN ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions
b56a5ca8c263bc1137aded80,What are the immuno-cancer drugs of last 5 years.,,,
d2edfd01c7ab2bfa13268728,How many days have elapsed since patient 10004733 has first received a eosinophils lab test during this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'eosinophils' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT COUNT(*) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'EOSINOPHILS' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) > datetime(( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'EOSINOPHILS' AND d_items.linksto = 'chartevents' )))
32eaf17262d5b8862394bdba,What was the name of the drug prescribed for patient 10004235 within the same day after having received a anastomosis of hepatic duct to gastrointestinal tract procedure in 07/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'anastomosis of hepatic duct to gastrointestinal tract' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-07' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT c.pdname FROM prescriptions AS c JOIN admissions AS a ON c.hadm_id = a.hadm_id WHERE a.subject_id = 10004235 AND c.startdate = '07/2100' AND c.stopped = '07/2100' AND c.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%anastomosis of hepatic duct to gastrointestinal tract%' ) )
a711973109553fda82475f0b,Tell me the name of the drug which patient 10017492 was prescribed within 2 days after having had a spinal tap procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'spinal tap' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT d_items.name FROM d_items JOIN chartevents ON d_items.itemid = chartevents.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND chartevents.charttime BETWEEN datetime(( SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) ) AND d_items.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'spinal tap' ) ORDER BY chartevents.charttime LIMIT 1 ), '+2 day') AND d_items.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'drug' OR d_items.label = 'medication' OR d_items.label = 'prescription' )"
bc8f51d9cc16b51ab2a55aaa,Count the number of patients who had their uric acid tested.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'uric acid' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'uric acid'
2cceb4c8bccd163def8170ce,Has there been a alpha-fetoprotein lab test performed on patient 10038081 since 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alpha-fetoprotein' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '55702-8' ) AND datetime(labevents.charttime) >= datetime('2100-01-01')
9b2ab198452a5ac2f78b9ebf,Could you provide the top five most common output events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
7d9bd95cb1ec8590bac2746b,What was the duration in days of patient 10018328's first stay in the ICU?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 7.702511574141681}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) ORDER BY icustays.intime ASC LIMIT 1"
64417089c0eeb8c42da6c9c2,Count the number of patients who were given the phosphorus since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'phosphorus' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
383586ac765d783e5374a6c0,What was the name of the drug that during their first hospital visit patient 10016150 was first prescribed?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Nitroglycerin SL'}],SELECT makedrug FROM prescriptions WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10016150 ORDER BY admittime ASC LIMIT 1 ) ORDER BY startdate ASC LIMIT 1
e6301d5787e165024081b9d7,"What drug was patient 10022017 prescribed for within the same day after undergoing bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach in 10/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-10' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-10' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.admittime = '10/2100' ) AND prescriptions.startdate IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.admittime = '10/2100' ) )"
b3b289b80bbadf3f9be2ebc4,What was the time it took for patient 14467 to undergo cv cath plcmt w guidance?,,,
94401d1b08ae71f5ad65ac7b,What was patient 10020944's total volume of output on 03/10/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-03-10'",[{'SUM(outputevents.value)': None}],SELECT chartevents.outputvolume FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.charttime = '03/10/2100' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total volume of output' )
a1b0068465d08286b72f7de4,Tell me the duration in days of patient 10005909's first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 3.677384258713573}]","SELECT TIMESTAMPDIFF(DAY, icustays.intime, icustays.outtime) AS duration FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909) ORDER BY icustays.intime ASC LIMIT 1"
e238659bcf9847845f0c8f30,Give me patient 10007928's length of stay in days for the last ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.859664352145046}]",SELECT icustays.outtime - icustays.intime AS LOS FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ORDER BY icustays.intime DESC LIMIT 1
368476b74ef69f3552e2cb3d,Describe all prescriptions that patient 54894 received in the other department.,,,SELECT prescriptions.* FROM prescriptions INNER JOIN admissions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 54894 AND admissions.hospitalunit != 'ICU'
408df91458c4945438a0d705,"What are the three frequently tested specimens for patients that received bypass coronary artery, one artery from aorta with autologous venous tissue, open approach previously in the same month in 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, one artery from aorta with autologous venous tissue, open approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, chartevents.value, chartevents.valuenum, chartevents.storetime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2010-01-01' AND admissions.admittime <= '2010-12-31' AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN d_cpt ON d_cpt.cpt_cd = admissions.cpt_cd WHERE d_cpt.cpt_title LIKE '%bypass%coronary%artery%' AND d_cpt.cpt_title LIKE '%one%artery%from%aorta%' AND d_cpt.cpt_title LIKE '%autologous%venous%tissue%' AND d_cpt.cpt_title LIKE '%open%approach%' ) ) AND admissions.admittime >= '2010-01-01' AND admissions.admittime <= '2010-12-31' ) AND chartevents.storetime >= admissions.admittime AND chartevents.storetime <="
45cd303621fb1f3007600184,What are the prices of the drug propranolol?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'propranolol' ),,
fba8a54ba42e25b3a395f35b,"Did patient 10002495 have a irrigation of genitourinary tract using irrigating substance, via natural or artificial opening procedure on the first hospital encounter?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'irrigation of genitourinary tract using irrigating substance, via natural or artificial opening' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'irrigation of genitourinary tract using irrigating substance, via natural or artificial opening' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ORDER BY admissions.admittime ASC LIMIT 1 )"
18f859e690e5c53434768ab0,What diagnosis did patient 10031757 receive in 2100 for the first time?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,"SELECT admittime, discharge diagnoses FROM admissions WHERE subject_id = 10031757 AND hadm_id IN (SELECT hadm_id FROM diagnoses_icd WHERE seq_num = 1) ORDER BY admittime ASC LIMIT 1"
543a7a730e5752f6d23804e0,"Did patient 10015931 receive the procedure of a replacement of aortic valve with zooplastic tissue, percutaneous approach during their last hospital encounter?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd AS p INNER JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE a.subject_id = 10015931 AND p.icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach') ORDER BY a.admittime DESC LIMIT 1"
152ff0308ad4afd9693231f2,What was the last time when patient 10013049 received a bicarbonate lab test in their first hospital visit?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname LIKE '%bicarbonate%' ) ORDER BY labevents.charttime DESC LIMIT 1
cfc537434f52b06b620d9254,What is the minimum total expenditure of a hospital that involves the medication clarithromycin since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'clarithromycin' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
5dbb876ab254d8863d9a17ce,What is the daily average input of d5 1/2ns that patient 10022281 is getting during their last ICU stay?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'd5 1/2ns' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'd5 1/2ns' AND d_items.linksto = 'input' )
5190a9c7556f440558510c86,What new medications were added in the prescription of patient 10039831 today versus those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT a.* FROM prescriptions a JOIN prescriptions b ON a.drug = b.drug AND a.subject_id = b.subject_id WHERE a.subject_id = 10039831 AND a.startdate >= curdate() AND b.startdate < curdate() AND NOT EXISTS ( SELECT * FROM prescriptions c WHERE c.drug = a.drug AND c.subject_id = a.subject_id AND c.startdate = b.startdate )
18010be66782b5371bb31160,What were the four most commonly given diagnoses for patients who had received percutaneous abdominal drainage before within 2 months since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diagnosis_icd.icd_code, d_icd_diagnoses.long_title, COUNT(*) AS count FROM diagnosis_icd JOIN d_icd_diagnoses ON diagnosis_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnosis_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') AND datetime(admissions.admittime) <= datetime(current_time,'-11 months') ) ) GROUP BY diagnosis_icd.icd_code ORDER BY count DESC LIMIT 4"
e72e07c6e4ff2480d2708585,Could you list the four diagnoses that had the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnoses_icd.icd_code, diagnoses_icd.short_title, COUNT(*) AS mortality_count FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN patients ON icustays.subject_id = patients.subject_id WHERE patients.dod BETWEEN patients.dob AND DATE_ADD(admissions.admit, INTERVAL 6 MONTH) GROUP BY diagnoses_icd.icd_code, diagnoses_icd.short_title ORDER BY mortality_count DESC LIMIT 4"
f750f0fa41e0b4e4dbe37ba3,Tell me the amount of multivitamins input that patient 10021666 received.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'multivitamins' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT sum(chartevents.value) FROM chartevents WHERE chartevents.subject_id = 10021666 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%multivitamin%' )
c296b026cf38437fb7dfc933,How many people were given prescriptions for albumin 25% (12.5g / 50ml) since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'albumin 25% (12.5g / 50ml)' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_code IN ( SELECT d_cpt.cpt_code FROM d_cpt WHERE d_cpt.cpt_code = '00202' AND d_cpt.cpt_label = 'albumin 25% (12.5g / 50ml)' ) AND datetime(prescriptions.start_date) >= datetime(current_date,'-1 year')"
b2d4a908cb2de00418d09277,How much does it cost for a other specified disorders of stomach and duodenum diagnosis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified disorders of stomach and duodenum' ) ),,
eb588610d7a73daedf0f76c1,Was the value of patient 10001217's monocytes last measured on the first hospital visit greater than the value second to last measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (SELECT valuenum FROM labevents WHERE subject_id = 10001217 AND itemid IN (SELECT itemid FROM d_labitems WHERE label LIKE '%MONOCYTE%') AND hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10001217 ORDER BY admittime ASC LIMIT 1) ORDER BY charttime DESC LIMIT 1) > (SELECT valuenum FROM labevents WHERE subject_id = 10001217 AND itemid IN (SELECT itemid FROM d_labitems WHERE label LIKE '%MONOCYTE%') AND hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10001217 ORDER BY admittime ASC LIMIT 1) ORDER BY charttime DESC LIMIT 2 OFFSET 1)
d9c4c3a85c5787478f083a3a,What are three of the most frequent specimens taken since 1 year ago?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime('now', '-1 year') AND d_items.category = 'Specimen' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
781ef8abeed146047598411d,Can you tell me how many extracorporeal circulation auxiliary to open heart surgery procedures were done in 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,
2701dd64f96330440b0d5b10,Is a genetic test that patient 95057 has had?,,,SELECT COUNT(*)>0 FROM genetics WHERE genetics.subject_id = 95057
85e40ee7c74d7603718dca90,"Among patients who were administered dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic this year, what were the top three most common treatments that they received in the same hospital encounter?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT chartevents.itemid, chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') AND admissions.admittime < datetime(current_time) ) ) AND patients.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_careunit IN ( SELECT d_items.value FROM d_items WHERE d_items.label = 'dilation of left main bronchus with intraluminal device, via natural or artificial opening endoscopic' ) ) ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 3"
efd16ed6fcf1c6e667f9bca7,Calculate the number of people who had arteriography of cerebral arteries last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of cerebral arteries' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,SELECT COUNT(*) FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE p.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE 'arteriography of cerebral arteries%' ) AND YEAR(p.chartdate) = YEAR(CURRENT_DATE)-1
6e32e4314cb1b08ef73c4739,What was the last diagnosis for patient 10040025 since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND diagnoses_icd.seq_num = 1 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime DESC LIMIT 1"
4c0c525de0bed58277a23a11,What was the aggregate input volume for patient 10021312 since 07/16/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-16'",[{'SUM(inputevents.totalamount)': 3300.0}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021312 AND inputevents_cv.charttime >= '2000-07-16 00:00:00'
aeb553a68c282c81e16d7c44,Have you seen patient 47460 receiving additional blood (ebv) tests?,,,
cff67763de893e7028b45382,Is there any genetic test that patient 53392 received?,,,SELECT COUNT(*) > 0 FROM genetics WHERE genetics.subject_id = 53392
2eec2f8d9b73d99dd0701546,What are the five most commonly taken specimens for patients that received insertion of one vascular stent previously within 2 months this year?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of one vascular stent' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM icd_diagnoses WHERE icd_diagnoses.short_title = 'insertion of one vascular stent' AND datetime(admissions.admittime) >= datetime(current_date,'-2 month') AND admissions.admittime BETWEEN '2023-01-01' AND '2023-12-31' ) ) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
26ceeacb486699b10996ccda,Calculate the number of ICU visits of patient 10001725 in 2100.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND strftime('%Y',icustays.intime) = '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND YEAR(icustays.intime) = 2100
ba16c2749e29db98a6103a5f,And what was the first time patient 10038933 was prescribed medication using the iv drip route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND prescriptions.route = 'iv drip' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT orderitems.order_time FROM orderitems INNER JOIN d_items ON orderitems.itemid = d_items.itemid WHERE orderitems.subject_id = 10038933 AND d_items.category = 'Medications' AND orderitems.status = 'Final' AND orderitems.route = 'IV' ORDER BY orderitems.order_time ASC LIMIT 1
f54bb9ca547f05441bb1ce7d,"What is the diagnosis price for closed dislocation, multiple cervical vertebrae?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed dislocation, multiple cervical vertebrae' ) )",,
1aa406c499de99518294077e,Tell me the minimum total hospital cost that involves endoscopic control of gastric or duodenal bleeding?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopic control of gastric or duodenal bleeding' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(total_cost) FROM ( SELECT SUM(item_cost) AS total_cost FROM charges JOIN d_items ON charges.ITEMID = d_items.ITEMID WHERE d_items.DESCRIPTION = 'Endoscopic control of gastric or duodenal bleeding' OR d_items.CGID = 'Endoscopic control of gastric or duodenal bleeding' GROUP BY charges.HADM_ID ) AS total_costs
434dfa0e21a4e11280d53e6e,What was patient 10005909's daily average value of body weight in 2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],
733c21a9f57a3bc179010c01,How many hours have elapsed since the first time on their current hospital encounter patient 10004733 got a epithelial cells lab test?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, min(chartevents.charttime), now()) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'epithelial cells')"
f838d7118ed779a45387d3aa,"How many patients were given occlusion of right femoral artery with intraluminal device, percutaneous approach in 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'occlusion of right femoral artery with intraluminal device, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'occlusion of right femoral artery with intraluminal device, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime LIKE '2100%' )"
221b036ed4f338f8d4bd1c8a,What was the total sum of inputs for patient 10038933 since 03/19/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-19'",[{'SUM(inputevents.totalamount)': 60779.0}],
a7deec7678c37db84888ba96,"What new medications are there for patient 10018081 today, compared to the prescriptions given yesterday?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT newprescriptions.order_time, newprescriptions.stop_time, newprescriptions.medication_name FROM ( SELECT prescriptions.order_time, prescriptions.stop_time, prescriptions.medication_name FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.order_time BETWEEN date_sub(current_date, interval 1 day) AND current_date AND prescriptions.stop_time IS NULL UNION SELECT prescriptions.order_time, prescriptions.stop_time, prescriptions.medication_name FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.order_time BETWEEN date_sub(current_date, interval 2 day) AND date_sub(current_date, interval 1 day) AND prescriptions.stop_time IS NULL ) AS newprescriptions WHERE newprescriptions.order_time BETWEEN date_sub(current_date, interval 1 day) AND current_date AND newprescriptions.medication_name NOT IN ( SELECT prescriptions.medication_name FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.order_time BETWEEN date_sub(current_date, interval 2 day) AND date_sub(current_date, interval 1 day) AND prescriptions.stop_time IS NULL )"
37949c207b150e40794621cb,"Compared to yesterday, what new drugs are present in the prescription of patient 10039831 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT prescription.* FROM ( SELECT drugs.* FROM drugs INNER JOIN admissions ON drugs.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10039831 AND drugs.startdate >= CURRENT_DATE - INTERVAL 1 DAY AND drugs.startdate < CURRENT_DATE ) prescription LEFT JOIN ( SELECT drugs.* FROM drugs INNER JOIN admissions ON drugs.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10039831 AND drugs.startdate >= CURRENT_DATE - INTERVAL 2 DAY AND drugs.startdate < CURRENT_DATE - INTERVAL 1 DAY ) yesterday ON prescription.drug = yesterday.drug WHERE yesterday.drug IS NULL
30b60fadbc9e5ba919ab8f81,"What were the number of patients who received a total nucleated cells, csf test throughout this year?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total nucleated cells, csf' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.charttime >= DATE_FORMAT(CURDATE(),'%Y-01-01 00:00:00') AND labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total nucleated cells, csf')"
5182aaa70c734958ef8e43ba,"Since 10/2100, when did patient 10038992 last get prescribed vitamin d and felodipine at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vitamin d' AND admissions.subject_id = 10038992 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'felodipine' AND admissions.subject_id = 10038992 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10038992 AND EXISTS (SELECT * FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.startdate >= '10/2100' AND (prescriptions.drug = 'vitamin d' OR prescriptions.drug = 'felodipine')) AND (EXISTS (SELECT * FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.startdate >= '10/2100' AND prescriptions.drug = 'vitamin d') AND EXISTS (SELECT * FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.startdate >= '10/2100' AND prescriptions.drug = 'felodipine'))
f21b3abcfb7c410d3b31bc30,Number of patients who were diagnosed with multiple myeloma not having achieved remission.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'multiple myeloma not having achieved remission' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = 'C90.0'
0e38c574dc705f0c26a2aa69,"On the first hospital encounter, what amount of bisacodyl was prescribed to patient 10025463?",SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'bisacodyl',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(medication_orders.dosage) AS total_dosage FROM medication_orders JOIN admissions ON medication_orders.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10025463 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE subject_id = 10025463) AND medication_orders.drug_name = 'bisacodyl'
261c55328ac8ffc4792c6e5e,What is the maximum total cost for a hospital visit that involved a uric acid lab test in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'uric acid' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
366c5196b25e3189805acc33,How long was temporary tracheostomy taking for patient 78131?,,,
e44cd0b41cda6c3cab6b967e,How many hours have elapsed since patient 10018081 stayed in the careunit emergency department for the last time on this hospital stay?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, carevue.charttime, now()) FROM carevue WHERE carevue.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND carevue.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'emergency department' AND d_items.linksto = 'carevue' ) ORDER BY carevue.charttime DESC LIMIT 1"
024e5c4760ca03ad0215c516,When was patient 10001725 first prescribed the medication via the im route during their last hospital encounter?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'im' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT MIN(cpi.startdate) FROM prescriptions AS p JOIN cpda AS cpa ON p.stay_id = cpa.stay_id JOIN cpda AS cpi ON p.stay_id = cpi.stay_id WHERE p.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ORDER BY admissions.admittime DESC LIMIT 1 ) AND cpa.routename = 'IM'
55a82d52a8bcc98c682b8a78,How long did patient 26286 have to undergo contr cerebr arteriogram?,,,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'contr cerebr arteriogram' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 26286 )
c8f9a04c499ddf84d314c397,What was the first thing patient 10018328 had as output on 05/09/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-05-09' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
cc5fbcfde89a0973970e7397,What was the total length of excise diaphragm lesion procedure for patient 594?,,,SELECT sum(procedures.procedure_length) FROM procedures WHERE procedures.subject_id = 594 AND procedures.procedure_name = 'excise diaphragm lesion'
93fdc53c054b08a886a68474,What was the total rosuvastatin calcium dose prescribed for patient 10039997 since 08/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND prescriptions.drug = 'rosuvastatin calcium' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(csq.csval_num) FROM care_site as cs JOIN care_gov as cg ON cs.cs_id = cg.cs_id JOIN care_drugs as csq ON cg.c_id = csq.c_id WHERE csq.patient_id = 10039997 AND csq.drug_name = 'rosuvastatin calcium' AND csq.start_date >= '08/2100'
a087cf65a777e7f24185f1a9,Is the patient 10009049 a male or female?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10009049,[{'gender': 'M'}],SELECT adm.gender FROM admissions adm WHERE adm.subject_id = 10009049
89541b5a85b5b5b3125bf003,Did patient 10016150 undergo the angiocardiography of left heart structures in their first hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'angiocardiography of left heart structures' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'angiography of left heart structures' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ORDER BY admissions.admittime ASC LIMIT 1 )
8174f666b42de86d7c8231a4,Calculate the length of stay in days for the last stay of patient 10005817 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 15.972812499850988}]","SELECT DATEDIFF(icustays.outtime, icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ORDER BY icustays.intime DESC LIMIT 1"
bf885e40699431f501098369,How does one disinfect a quarantine room?,,,
1413d85d169629ef664b2b96,How much is the cost for the drug nystatin cream?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'nystatin cream' ),,
bae3bed8ddded1a1b46a172f,"Of the patients aged 60 or above in 2100, what are the top three most common procedures?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.short_title, COUNT(*) AS procedure_count FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE patients.dob <= '1960-01-01' AND admissions.admittime >= '2010-01-01' AND admissions.admittime < '2011-01-01' GROUP BY d_icd_procedures.short_title ORDER BY procedure_count DESC LIMIT 3"
f3ecb8116711437750ac3fb5,What was the last time patient 10020740 was prescribed medications via the po/ng route on their first hospital visit?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'po/ng' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND prescriptions.route = 'PO/NG' ORDER BY prescriptions.startdate DESC LIMIT 1
749cd7577c772cdc228d8a49,"What percentile is the calcium, total value of 8.2 among patients of the same age as patient 10020740 on the last hospital stay?","SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 8.2",,"SELECT percent_rank(8.2) WITHIN GROUP (ORDER BY labevents.valuenum) FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10020740 AND labevents.itemid IN (SELECT itemid FROM d_labitems WHERE label = 'calcium, total') AND labevents.charttime = (SELECT MAX(charttime) FROM labevents WHERE hadm_id = admissions.hadm_id AND itemid IN (SELECT itemid FROM d_labitems WHERE label = 'calcium, total'))"
067face22845095ef5e901a0,What is the percentile of 104.0 in a chloride lab test conducted at the same age as patient 10016810 in the last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10016810 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 104.0",,
ddc7e149237d42b52700d717,What was the last value of the arterial blood pressure diastolic for patient 10008454 on their last ICU stay?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id = ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
8940911fa3f2d95d03fc272e,Show me the top three most common treatments for patients aged 40s in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
1c1615f9c154aca940cea316,When was patient 10038992's last discharge?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10038992 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10038992 ORDER BY admittime DESC LIMIT 1
405a65223844faf30d226448,"Give me the top five most frequently prescribed drugs within the same month for patients in their 40s who were diagnosed with acute alcoholic intoxication in alcoholism, continuous since 1 year ago.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute alcoholic intoxication in alcoholism, continuous' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT drugs.drug_name, COUNT(*) AS frequency FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN drugs ON drugs.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = admissions.hadm_id) WHERE diagnoses_icd.icd_code = 'F10.1' AND admissions.admittime >= datetime(current_date, '-1 year') AND admissions.anchor_age BETWEEN 40 AND 49 GROUP BY drugs.drug_name ORDER BY frequency DESC LIMIT 5"
2cbebf97accbbf3a5041776c,What is the outpatient schedule today for dr. leigh?,,,
3ca5f7f58238739a39418242,What was the last time patient 10012552 has had the minimum mean blood pressure?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime,chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
9dfc1f05e2a00f866e5a96b6,Does patient 31880 have a history of late effect acute polio in his/her family?,,,
ea237bbea67442bc6b962cce,How many patients were diagnosed with alkalosis after already being diagnosed with postinflammatory pulmonary fibrosis within 2 months?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'postinflammatory pulmonary fibrosis' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alkalosis' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,SELECT COUNT(DISTINCT alkalosis.subject_id) FROM ( SELECT admissions.subject_id FROM admissions INNER JOIN icd9 WHERE admissions.hadm_id = icd9.hadm_id AND icd9.icd9 BETWEEN '276.2' AND '276.3' ) AS alkalosis INNER JOIN ( SELECT admissions.subject_id AS subj_id FROM admissions INNER JOIN icd9 WHERE admissions.hadm_id = icd9.hadm_id AND icd9.icd9 BETWEEN '516.31' AND '516.33' ) AS fibrosis ON alkalosis.subject_id = fibrosis.subj_id WHERE alkalosis.chartdate - fibrosis.chartdate <= 2
5c3f52d548353aad5447d804,"On this month/04, what was the last heart rate reading for patient 10004720?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '04' ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'HeartRate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_FORMAT(CURRENT_DATE, '%Y-%m-04 00:00:00') AND chartevents.charttime < DATE_FORMAT(DATE_ADD(CURRENT_DATE, INTERVAL 1 MONTH), '%Y-%m-04 00:00:00') ORDER BY chartevents.charttime DESC LIMIT 1"
43a04bb201473909218db1f2,Has there been a epithelial cells lab test performed on patient 10018081 during this month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%epithelial cells%' ) AND datetime(labevents.charttime) >= datetime(current_time, '-1 month') AND datetime(labevents.charttime) < datetime(current_time)"
131676838dec830d875d80ad,Retrieve the top five most common diagnoses for patients with age 30s this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM admissions INNER JOIN d_icd_diagnoses ON admissions.diagnosis = d_icd_diagnoses.short_title WHERE admissions.admittime BETWEEN DATE_FORMAT(CURRENT_DATE, '%Y-01-01') AND CURRENT_DATE AND FLOOR((YEAR(admittime) - birthyear) / 365.25) BETWEEN 30 AND 39 GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
3f09bed66cb7c82a92b7dcb0,Could you retrieve the top three most common outputs?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]",
1f9d4e5d9ff5a5dce1860541,"What were the top four most common microbiology tests for patients who were previously diagnosed with spinal stenosis, lumbar region, without neurogenic claudication within 2 months?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'spinal stenosis, lumbar region, without neurogenic claudication' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT test, COUNT(*) AS count FROM ( SELECT chartevents.charttime, chartevents.itemid, d_items.label AS test FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code = 'M48.0' AND d_icd_diagnoses.short_title = 'spinal stenosis, lumbar region, without neurogenic claudication' AND admissions.admittime <= datetime(current_time,'-2 month') ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) ) AS subquery GROUP BY test ORDER BY count DESC LIMIT 4"
c3fd367fdc390db8d0461dff,When was patient 10007818's mean blood pressure first measured less than 75.0 since 241 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 75.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-241 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' ) AND chartevents.valuenum < 75 AND datetime(chartevents.charttime) >= datetime(current_time,'-241 days') ORDER BY chartevents.charttime ASC LIMIT 1"
a0c63dd8ba51ee400d101df7,Could you tell me the name of the drug prescribed to patient 10027602 in the same day after the insertion or replacement of external ventricular drain [evd] procedure since 05/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of external ventricular drain [evd]' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-05' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT p.prescription FROM prescriptions p WHERE p.subject_id = 10027602 AND p.startdate IN ( SELECT ce.charttime FROM chartevents ce WHERE ce.subject_id = 10027602 AND ce.charttime >= '05/2100' AND ce.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%external ventricular drain%' OR d_items.label LIKE '%evd%' )) AND p.drug = ( SELECT d_items.label FROM d_items WHERE d_items.itemid = p.itemid )
e487dbd0cdcc7e16522be18e,"In 2100, what are the top five most common microbiology tests that patients were diagnosed with in the same month after being diagnosed with personal history of malignant neoplasm of tongue?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of malignant neoplasm of tongue' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,
dc333dc95c29a9b3f3719647,"For patients previously diagnosed with nicotine dependence, cigarettes, uncomplicated , what were the five most frequent specimens tested in the same month afterward?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'nicotine dependence, cigarettes, uncomplicated' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM diagnoses_icd WHERE ICD9_CODE = '305.1' AND icd9_version = '25' ) ) AND chartevents.charttime BETWEEN datetime(chartevents.charttime, '-1 month') AND datetime(chartevents.charttime, '+1 month') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
95315cf3377aff338fc6744d,"What are the top four most common microbiology tests for people who were diagnosed with unspecified deficiency anemia earlier during the same month, in 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified deficiency anemia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,
6fd61e60148bb599c1a2a048,What is the sex of patient 10009035?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10009035,[{'gender': 'M'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10009035 LIMIT 1
387697552eec0b37359509db,What was the name of the drug that patient 10004235 was prescribed in the same day after having received a laparoscopic cholecystectomy procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic cholecystectomy' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT admittime, admittime, admittime FROM admissions WHERE subject_id = 10004235 AND hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'laparoscopic cholecystectomy' ) ) AND admittime IN ( SELECT starttime FROM prescriptions WHERE subject_id = 10004235 AND drug = ( SELECT drug FROM prescriptions WHERE subject_id = 10004235 AND starttime = admittime ) )"
06cb3e044663d50bd84a38f0,When has patient 10016742 had the first input since 03/25/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-25' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2178-07-04 01:00:00'}],
47fa8b1ea8f2a4b9b4e04657,When did patient 10006053 have the minimum value of polys last on the first hospital stay?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'polys' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ORDER BY admissions.admittime LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'polys' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
60bf7b753de50724e7fe0465,Quantify the number of patients who were tested for anticardiolipin antibody igm.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anticardiolipin antibody igm' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.fluid='Serum' AND d_labitems.test='Anticardiolipin IgM' )
adb4dc30adc6acdfe49dc9c0,"Compared to last measured on the first ICU visit, is the arterial blood pressure mean value of patient 10005817 less than second to last measured on the first ICU visit?",SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_careunit = 'ICU' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) ORDER BY chartevents.charttime ASC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icust
3cc0342acbb3992a4b0cf40b,Can you report the last respiratory rate for patient 10007058 since 09/08/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-09-08' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-08-09' ORDER BY chartevents.charttime DESC LIMIT 1
b2a5c5b1233bd06110dd5253,"Since 2100, what was the top four most frequent diagnoses patients were diagnosed with within 2 months after receiving excision of left main bronchus, via natural or artificial opening endoscopic, diagnostic?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,
f8a7c82b3eb920c707fa250b,"On this month/10, when was the first input time for patient 10021487?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '10' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT min(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'INPUT' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '____-10-%'
224e861c8a991fe5103027e4,Was patient 10020944 to the emergency room on their first hospital visit?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10020944 ) AND admissions.hospital_expire_flag = 1
264556fad0e8f61d4b7fe7e9,What were the first alkaline phosphatase lab test results for patient 10019172 in 10/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) AND strftime('%Y-%m',labevents.charttime) = '2100-10' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) AND labevents.charttime >= '2001-10-01 00:00:00' AND labevents.charttime <= '2001-10-31 23:59:59' ORDER BY labevents.charttime ASC LIMIT 1
5075b95436488f53e5f7976e,"Was patient 10007818 given a test on potassium, urine on the first hospital stay?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.admittime <= '2012-10-12' AND admissions.dischtime >= '2012-10-12' ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, urine' )"
94c43966b63036608d8e4089,What was the drug that patient 10018501 prescribed for within 2 days after the procedure of alcohol detoxification in 08/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-08' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admissions.subject_id, drug.chemdrug_name FROM admissions INNER JOIN drug ON admissions.hadm_id = drug.hadm_id INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE admissions.subject_id = 10018501 AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) AND drug.startdate BETWEEN ( SELECT MAX(procedures_icd.chartdate) FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) ) AND ( SELECT MAX(procedures_icd.chartdate) FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) ) + INTERVAL 2 DAY AND drug.stopdate >= '2008-10-"
a0ebb505e3207ec9be553166,What kind of diagnosis did patient 10036156 receive last throughout this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT admittime, dischargeime, diagnoses_icd.icd_code, d_icd_diagnoses.long_title FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND YEAR(admittime) = YEAR(CURDATE()) ORDER BY dischargeime DESC LIMIT 1"
5d8ba988aeacba3a822c6143,Retrieve the top five most frequent diagnoses of patients with age in their 50s.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM admissions JOIN d_icd_diagnoses ON admissions.diag_code = d_icd_diagnoses.icd_code WHERE admissions.admittime BETWEEN ( SELECT MAX(admittime) - INTERVAL 59 DAY FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM patients WHERE patients.dob BETWEEN ( SELECT MAX(admittime) - INTERVAL 55 YEAR FROM admissions ) AND ( SELECT MAX(admittime) - INTERVAL 50 YEAR FROM admissions ) ) ) AND ( SELECT MAX(admittime) - INTERVAL 50 YEAR FROM admissions ) GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 5"
45b872b3b1c160f0ef5249c5,What is the total number of patients who stayed in careunit emergency department observation since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'emergency department observation' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= '2100-01-01' AND admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.first_careunit = 'EMERGENCY DEPARTMENT OBSERVATION' )
7787b854dab1f43b718313bf,Was patient 10022017 diagnosed with anything last year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND diagnoses_icd.icd_code NOT IN ('E870','E879','E880','E881','E882','E883','E884','E885','E886','E887','E888','E889') AND diagnoses_icd.icd_code NOT LIKE 'E%' AND diagnoses_icd.icd_code NOT LIKE 'V%' AND diagnoses_icd.icd_code NOT LIKE 'W%' AND diagnoses_icd.icd_code NOT LIKE 'X%' AND diagnoses_icd.icd_code NOT LIKE 'Y%' AND diagnoses_icd.icd_code NOT LIKE 'Z%' AND YEAR(diagnoses_icd.admittime) = YEAR(NOW()) - 1"
5005d7619cfd562a1af8ba4e,What was the last time that patient 10003046 was discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10003046 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10003046 ORDER BY admittime DESC LIMIT 1
ff61f56376566ef1959962de,How was patient 10015931 admitted in terms of admission type for the last time?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime DESC LIMIT 1,[{'admission_type': 'URGENT'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime DESC LIMIT 1
659e84dd2728a7624246c318,What was the amount of potassium chl 20 meq / 1000 ml ns dose prescribed to patient 10015860 on their first hospital encounter?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'potassium chl 20 meq / 1000 ml ns',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10015860 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.orderid IN ( SELECT order_column.order_id FROM order_column WHERE order_column.ordercategoryname = 'Nursing' AND order_column.order_name = 'potassium chl 20 meq/1000 ml ns' ) LIMIT 1
407b4851260c5c0836e1d89e,Has patient 10003400 been diagnosed with any type of disease?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ),[{'COUNT(*)>0': 1}],SELECT DISTINCT admissions.dtypes FROM admissions WHERE admissions.subject_id = 10003400
6ee64a55e047a6157abffad9,Has any prescriptions been given to patient 10006580 since 03/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10006580 AND datetime(prescriptions.startdate) >= datetime('03/2100')
5fb41130df29e6ca3349cd41,What is the difference between respiratory rate second measured on the last ICU visit compared to the first value measured on the last ICU visit for patient 10019172?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT chartevents.valuenum - ( SELECT valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND datetime(chartevents.charttime) = ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions
6b368507937b705eba056861,"What are the five most frequently given lab tests for patients that were diagnosed with family history of malignant neoplasm of breast previously during the same hospital visit, in 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'family history of malignant neoplasm of breast' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'V105' AND admissions.admittime BETWEEN '2010-01-01' AND '2010-12-31' ) GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 5"
20c1cb7239a17a4dbbe96296,What was the total dosage of chlorpheniramine maleate prescribed to patient 10016810 in 07/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND prescriptions.drug = 'chlorpheniramine maleate' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c.totalamount) FROM prescriptions p JOIN prescriptions_dose c ON c.prescription_id = p.prescription_id WHERE p.subject_id = 10016810 AND p.drug = 'chlorpheniramine maleate' AND p.dosedate BETWEEN '07-01-' || YEAR(CURRENT_DATE) AND '07-31-' || YEAR(CURRENT_DATE)
ce45eba5e3053962a503afb0,Count the patients who are currently admitted.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],
411e30b09a68ac73906064aa,What are the current numbers of operating rooms available?,,,
446ee7d9f8e891fa807c4f29,How much of a difference is there in patient 10004720's weight last measured on the first hospital visit compared to the second to last value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT chartevents.valuenum - (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.admittime = (SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10004720)) ORDER BY chartevents.charttime DESC LIMIT 2,1) FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.admittime = (SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10004720)) ORDER BY chartevents.charttime DESC LIMIT 1)"
3b0e6898490e151ff0c9d63d,Calculate the number of patients with other ventral hernia without mention of obstruction or gangrene who were diagnosed.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other ventral hernia without mention of obstruction or gangrene' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'Other Ventral Hernia' AND d_icd_diagnoses.long_title NOT LIKE '%obstruction%' AND d_icd_diagnoses.long_title NOT LIKE '%gangrene%' )
ccf873476d02f981c461b5c0,Can you tell me the total amount of neutra-phos that patient 10004422 has been prescribed in 01/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND prescriptions.drug = 'neutra-phos' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '01'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c.amount) FROM prescriptions c JOIN patients p ON c.subject_id = p.subject_id WHERE c.subject_id = 10004422 AND p.dob LIKE '01%' AND c.drug = 'neutra-phos'
f80d944a40468e69f130d0ca,How much does personal history of other diseases of digestive system cost to get diagnosed?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of other diseases of digestive system' ) ),,
3591d10cf8e7b2175165ea6c,"When did patient 10006053 have the bilirubin, direct lab test for the first time during the last hospital visit?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, direct' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, direct' ) ORDER BY labevents.charttime ASC LIMIT 1"
ce91ec91b6aaa48439b33e96,What is the procedure of the anticancer drugs.,,,
bb12c097d6c3840101205ef8,What was the five most common lab test that was given in 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],
adac729f5e8b6d9ceaf2e454,Tell me the length of time in days for patient 10010471's first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 4.907152778003365}]","SELECT icustays.intime AS start_date, icustays.outtime AS end_date FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE admissions.subject_id = 10010471 AND icustays.first_careunit IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1"
f1e84b550c51a00e780daaa4,"What are the three most frequently administered laboratory tests for patients previously diagnosed with nontoxic uninodular goiter within the same hospital visit, in 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'nontoxic uninodular goiter' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,
5f2a159055d6adad640855a4,Show me the top four most frequent drugs that patients were prescribed during the same hospital visit after being diagnosed with hemorrhage complicating a procedure in this year.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemorrhage complicating a procedure' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT t1.drg_name, COUNT(*) FROM diagnoses_icd AS t2 JOIN drgcodes AS t1 ON t2.hadm_id = t1.hadm_id JOIN prescriptions AS t3 ON t2.hadm_id = t3.hadm_id WHERE t2.icd_code LIKE '998.8%' AND YEAR(t3.startdate) = YEAR(CURRENT_DATE) GROUP BY t1.drg_name ORDER BY COUNT(*) DESC LIMIT 4"
d653fc27e70a4eedd39bd936,What was the total amount of bisacodyl that patient 10001217 has been prescribed in 12/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND prescriptions.drug = 'bisacodyl' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12'",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(c.total) FROM prescriptions AS p JOIN (SELECT prescriptions.order_id, SUM(prescriptions.amount) AS total FROM prescriptions WHERE prescriptions.dosage_form = 'Tablet' AND prescriptions.form_valatime = 'bisacodyl' AND prescriptions.subject_id = 10001217 GROUP BY prescriptions.order_id) AS c ON c.order_id = p.order_id WHERE p.startdate >= '2022-12-01' AND p.enddate <= '2022-12-31'"
7793a26811956045c0aad41d,"For patients who were diagnosed with acute venous embolism and thrombosis of subclavian veins , what are the top four most common medications that followed afterward during the same hospital visit?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute venous embolism and thrombosis of subclavian veins' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT mdrugs.drug, COUNT(*) AS count FROM procedures_icd AS proc JOIN admissions AS adm ON proc.hadm_id = adm.hadm_id JOIN medications AS mdrugs ON adm.hadm_id = mdrugs.hadm_id WHERE proc.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'acute venous embolism and thrombosis of subclavian veins' ) AND mdrugs.startdate >= proc.chartdate GROUP BY mdrugs.drug ORDER BY count DESC LIMIT 4"
f301f472f3dfd88f91cb2316,How many hospitalized patients do we currently have?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admittime < CURRENT_TIMESTAMP AND dischtime > CURRENT_TIMESTAMP
bfa5ac0d983d25c1bae0ffdb,"Was yellow cadd cassette, docusate sodium, or naloxone prescribed on the last hospital encounter for patient 10019568?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( 'yellow cadd cassette', 'docusate sodium', 'naloxone' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10019568 AND prescriptions.drug IN ('yellow cadd cassette', 'docusate sodium', 'naloxone') ORDER BY prescriptions.enddate DESC LIMIT 1"
5933a57b83835c59ed518dbf,Can you tell me the first heart rate of patient 10007928 on the last ICU stay?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1
e8441aac72dc1ce7428bd942,Show me patient 10021487's total oral gastric output amount on this month/16.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'oral gastric' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '16'",[{'SUM(outputevents.value)': None}],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total oral gastric output' ) AND DATE(chartevents.charttime) = DATE(CURRENT_DATE, 'month', 0, 'day', 16)"
408a90b2c2390990c83c0be0,When was the last time patient 32592 had a medication which should be regularly taken?,,,SELECT MAX(chartevents.charttime) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 32592 AND d_items.category = 'Medications' AND d_items.abbreviation NOT LIKE '%prn%'
2532d7b2500ba53d5b6005e9,When had patient 10009035 first been prescribed for metoprolol tartrate and senna at the same time in 05/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'metoprolol tartrate' AND admissions.subject_id = 10009035 AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'senna' AND admissions.subject_id = 10009035 AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(orders.orderdatetime) FROM orders WHERE orders.subject_id = 10009035 AND orders.orderdatetime >= '05/01/2100' AND orders.orderdatetime <= '05/31/2100' AND orders.orderid IN ( SELECT order_detail.order_id FROM order_detail WHERE order_detail.greyclinic_drug_name IN ('metoprolol tartrate', 'senna') ) GROUP BY orders.orderid HAVING COUNT(order_detail.greyclinic_drug_name) > 1"
463dff1e23c71f21ca726e31,When did patient 10038999 last receive a pleural fluid microbiology test in 06/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'pleural fluid' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '06' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%pleural fluid microbiology%' ) AND chartevents.charttime >= '2022-06-01' AND chartevents.charttime <= '2022-06-30' ORDER BY chartevents.charttime DESC LIMIT 1
a2e0e5bf31da42c112583f6a,When did patient 10038933 first get prescribed famotidine and glyburide at the same time since 06/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'famotidine' AND admissions.subject_id = 10038933 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'glyburide' AND admissions.subject_id = 10038933 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(rxrxs1.prescription_start_time) FROM prescriptions rxrxs1 JOIN prescriptions rxrxs2 ON rxrxs1.subject_id = rxrxs2.subject_id WHERE rxrxs1.subject_id = 10038933 AND rxrxs1.prescription_start_time >= '2006-01-01' AND rxrxs2.prescription_start_time >= '2006-01-01' AND (rxrxs1.drug_name = 'famotidine' OR rxrxs2.drug_name = 'famotidine') AND (rxrxs1.drug_name = 'glyburide' OR rxrxs2.drug_name = 'glyburide') AND rxrxs1.prescription_start_time = rxrxs2.prescription_start_time
9e4d892692bac7261d1c86af,"What is the code which is assigned to icd-11, to referring to legal blindness-usa def that occurs in icd-10?",,,
fcd6e9ee48fbda60a4afb671,Has patient 10039831 taken a or colloid intake drug since 12/29/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or colloid intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-29'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND prescriptions.startdate >= '12/29/2100' AND prescriptions.drug IN ( SELECT d_cpt.cpt_code FROM d_cpt WHERE d_cpt.long_common_name LIKE '%or colloid intake%' OR d_cpt.cpt_code LIKE '%or colloid intake%' )
cd2f14c6acbcef17dcbd4989,What's the maximum yearly number of patients who had edema of male genital organs?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'edema of male genital organs' ) GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(YEAR(admissions.admittime)), COUNT(*) FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE patients.gender = 'M' AND d_icd_diagnoses.icd_code LIKE '456%' GROUP BY YEAR(admissions.admittime) ORDER BY COUNT(*) DESC LIMIT 1"
54ce172ad4dee0a2a6d24cd0,But does patient 11426 have an appointment in other department?,,,
9cdb25ef0c41840e0b599dbb,What is the pricing for ampicillin sodium?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ampicillin sodium' ),,
aeeff9dc3dd3312a35c0af6c,Did patient 10015860 have a lab test last year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(labevents.charttime) >= datetime(current_timestamp,'-1 year') AND datetime(labevents.charttime) <= datetime(current_timestamp)"
dbadc610a502fc0a6c69d44e,How was patient 10039997 admitted in terms of admission type for the last time at the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10039997 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10039997 ORDER BY admissions.admittime DESC LIMIT 1
4a22689b12923d592f28be83,Has there been any organism present in patient 10016742's first stool microbiology test since 03/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND microbiologyevents.spec_type_desc = 'stool' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.spec_itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'stool' ) AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(microbiologyevents.chartdate) > datetime('2003-01-01')
86c494ae04729b5345b49a12,"For patients diagnosed with epilepsy, unspecified, without mention of intractable epilepsy since 1 year ago, what are the top three most recurrent treatments during the same month?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'epilepsy, unspecified, without mention of intractable epilepsy' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT top 3 d_icd_procedures.short_title FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '780.3%' AND diagnoses_icd.icd_code NOT LIKE '780.39%' ) AND datetime(procedures_icd.chartdate) >= datetime(current_time,'-1 year') GROUP BY d_icd_procedures.short_title ORDER BY COUNT(*) DESC LIMIT 3"
d47700b1f0c8efe72117c59e,Tell me the five most common diagnoses since 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT icd9_description, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' ) GROUP BY icd9_description ORDER BY count DESC LIMIT 5"
b77757e9df39efd72596255e,What are the average monthly number of patients diagnosed with malignant neoplasm of unspecified part of unspecified bronchus or lung in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of unspecified part of unspecified bronchus or lung' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,
2a8475d3f201bfe0a949a29a,Has patient 10001217 since 2100 been given a l lab test?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'l' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.subject_id = 10001217 AND datetime(labevents.charttime) >= datetime('2100-01-01')
949e6e0fe8bdf465a1964e73,How was patient 10005348 first admitted to the hospital in terms of admission type?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10005348 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime ASC LIMIT 1",[{'admission_type': 'ELECTIVE'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10005348 LIMIT 1
d0ae32ba9d0feee58d99a6bc,Calculate the sum of patient 10018423's input since 03/21/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-21'",[{'SUM(inputevents.totalamount)': 18250.0}],
25766b07f551c549f6e3c32f,Tell me the maximum total cost of a hospital that contains anemia in chronic kidney disease?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anemia in chronic kidney disease' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(tot_chrg) FROM admissions WHERE diagnoses_icd.icd_code LIKE '285%' AND diagnoses_icd.hadm_id = admissions.hadm_id
217fb62b4029d43c8d4778f8,"In 2100, what were the top three most common specimens tested on patients within the same month after the diagnosis of body mass index (bmi) 35.0-35.9, adult?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'body mass index (bmi) 35.0-35.9, adult' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,
d7d112f41aba75a33dcbeb67,What is the cost for the drug haloperidol?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'haloperidol' ),,
dc27aa9c5779993d3b2034ed,What are the four most frequently tested specimens for patients that received arteriography of other intra-abdominal arteries previously within 2 months since 2100?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other intra-abdominal arteries' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, d_items.label, COUNT(*) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN admissions a2 ON admissions.subject_id = a2.subject_id INNER JOIN procedures_icd ON a2.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'angiography of intra-abdominal arteries' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 2100 ) AND procedures_icd.chartdate <= datetime(current_time,'-2 month') ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
77f1caca4c8a38d1fe942703,The value of metamyelocytes of patient 10002495 was last measured on the last hospital visit greater than second to last measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'metamyelocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'metamyelocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'metamyelocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'metamyelocytes' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT MAX(chartevents.charttime) AS last_charttime, MAX(chartevents.valuenum) AS last_value, MAX(chartevents.charttime) FILTER (WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 )) AS last_visit_charttime, MAX(chartevents.valuenum) FILTER (WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 )) AS last_visit_value, MAX(chartevents.charttime) FILTER (WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 )) AND chartevents.charttime < ( SELECT MAX(chartevents.charttime) FILTER (WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 )) ) AS second_last_visit_charttime, MAX(chartevents.valuenum) FILTER (WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 )) AND chartevents.charttime < ( SELECT MAX(chartevents.charttime"
2bbc414d187b0af13c72744e,"Tell me the top four most commonly prescribed medications in the same month to patients in their 60 or above who were diagnosed with congestive heart failure, unspecified since 2100.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'congestive heart failure, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT prescriptions.drug, COUNT(*) AS count FROM prescriptions JOIN admissions ON admissions.hadm_id = prescriptions.hadm_id JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code LIKE '428%' AND admissions.admittime >= '2100-01-01' AND admissions.dob <= '1960-12-31' GROUP BY prescriptions.drug ORDER BY count DESC LIMIT 4"
ce863b6ee4d6d50f7003ce48,"When did patient 10027602 have a total protein, csf lab test for the first time during the last hospital visit?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, csf' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10027602 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%total protein%' AND d_items.linksto = 'labevents' ) AND chartevents.charttime >= admissions.admittime ORDER BY chartevents.charttime ASC LIMIT 1
648035b87d03c40993442aeb,"On the current hospital visit, how many hours have passed since patient 10018081's first diagnosis of abnormal coagulation profile?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abnormal coagulation profile' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT TIMEDIFF(MAX(diagnoses_icd.charttime),MIN(diagnoses_icd.charttime)) AS time_diff FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10018081 AND diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'Abnormal coagulation profile') AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081)"
6cc5dc7c9bdf2cc361bd3a79,"What is the price of the drug, nystatin oral suspension?",SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'nystatin oral suspension' ),,
cb4e4e55e551ad021bb55fc0,When was the last time that patient 10015931 has had the minimum SaO2 on this month/08?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '08' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_FORMAT(NOW(),'%Y-08-01 00:00:00') AND chartevents.charttime < DATE_FORMAT(NOW(),'%Y-08-01 00:00:00') + INTERVAL 1 MONTH ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
e94967759cb45a5c074573d6,Has patient 10024043 been given any sort of diagnosis during this year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.admittime >= date('now', '-1 year')"
dcc6094fae5bc1bb4de3c989,What was the last time in this hospital visit patient 10004733 had the minimum protein.,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'protein' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
7fb6c6e5361721f050111d9f,What was the total volume of foley patient 10022880 had?,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],
90029829a3c76198a7de717b,What was the organism's name found in the first urine test of patient 10031757 in 10/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-10' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microresults.org_name FROM microresults INNER JOIN microbiologyevents ON microresults.micro_event_id = microbiologyevents.microevent_id WHERE microbiologyevents.chartdate = '2021-10-21' AND microbiologyevents.subject_id = 10031757 ORDER BY microbiologyevents.charttime ASC LIMIT 1
0d22f4703425e474ebd63580,"Compared to measured at 2100-03-10 23:00:00 , is the heart rate value of patient 10019777 greater than measured at 2100-03-10 22:00:00?",SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-10 23:00:00' ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-10 22:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-10 23:00:00' ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-10 22:00:00' )"": None}]",SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-10 23:00:00') > (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-03-10 22:00:00')
78c274657cd4e1d8e8b02190,Tell me the five most common diagnoses since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions ) AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 5"
e55cd6da77f12e9a3c3752aa,What were the three most frequent microbiology tests that occurred throughout this year?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3",[],"SELECT test_name, COUNT(*) AS frequency FROM microbiologyevents WHERE datetime(charttime) >= datetime(current_time,'-1 year') GROUP BY test_name ORDER BY frequency DESC LIMIT 3"
4b57287bb27a24b3ea3db358,Is it patient 10008454's arterial blood pressure systolic last measured on the first ICU visit less than second to last measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = chartevents.hadm_id ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY chartevents.charttime DESC LIMIT 1
7f6a053c4c7996cce251e27b,Tell me the average overall hospital cost that includes potassium chl 20 meq / 1000 ml d5lr since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'potassium chl 20 meq / 1000 ml d5lr' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
af48025f4da1ed8f5c1616e3,How many hours has it been since the first stay of patient 10004733 in the careunit medicine during this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medicine' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT julianday('now') - julianday(icustays.intime) AS hours_since_first_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.adm_id = ( SELECT MIN(admissions.adm_id) FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND icustays.d_items_id IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Medicine' )
67aeef950338b9e353377442,"How many hours has it been since patient 10018081's first urinary tract infection, site not specified diagnosis in their current hospital encounter?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'urinary tract infection, site not specified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT timestampdiff(HOUR, min(diagnoses_icd.hospital_expire_flag), now()) FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018081 AND diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'Urinary tract infection, site not specified' )"
943c84d543c4adfc73e1771b,What was the cost of the drug sodium glycerophosphate?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'sodium glycerophosphate' ),,
388eba2ee935cfefacdbbcf6,Could you provide the total volume of output for patient 10009049 on 06/13/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-06-13'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine output' OR d_items.label = 'gastric drainage output' ) AND DATE(chartevents.charttime) = '06/13/2100'
6b5916a645e1dcf8aaef7a8d,What is the name of the drug that shouldn't be administered during lt heart angiocardiogram?,,,
239fb5f5541fdf88fed6bf3c,What was patient 10004733's respiratory rate for the last time on 12/23/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-23' ORDER BY chartevents.charttime DESC LIMIT 1",[],
b57f674a925a484550b4afa9,When did patient 10004422 have the first diastolic blood pressure to be less than 64.0 in the first ICU stay?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 64.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],"SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.subject_id = 10004422 AND icustays.first_wardid = 1 AND chartevents.itemid = 51 INCASE itemid = 51,51 INCASE itemid = 51 ELSE chartevents.itemid IN (SELECT itemid FROM d_items WHERE d_items.itemid = 51 OR d_items.itemid = 51 OR d_items.itemid = 51) AND chartevents.valuenum < 64.0 ORDER BY chartevents.charttime ASC LIMIT 1"
36f1d4c5bd1c63cf74545e1f,What is the code in icd-11 for renal & ureteral dis nos in icd-10?,,,
adcd9306676f578f4acf1d8a,Get me the top five most frequent events since 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]",
bebeb2104d4c95aa591562d9,"In this year, what was the last diagnosis for patient 10015860?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT diagnosis_icd.icd_code FROM diagnosis_icd WHERE diagnosis_icd.subject_id = 10015860 AND diagnosis_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE) ) ORDER BY diagnosis_icd.seq_num DESC, diagnosis_icd.hadm_id DESC LIMIT 1"
91afc137c556b8c813b79b2a,"Since 03/2100, when did patient 10004235 receive the first sputum microbiology test?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND microbiologyevents.spec_type_desc = 'sputum' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%sputum%' AND d_items.linksto = 'microbiologyevents' ) AND chartevents.charttime >= '2000-03-01' ORDER BY chartevents.charttime ASC LIMIT 1
f2545d14686ea54127cc9c44,Has patient 10003046 been given any medication since 01/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-01'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10003046 AND medications.startdate >= '01/2100'
3fc571e83a604003d6461674,Calculate the number of patients who underwent a laboratory test for hematocrit since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
dce18218fbb62e3b07c34441,Has there been any diagnosis that patient 10020306 has received?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10020306
6a4f0f27325a4881d537e381,Show me the five most common specimens tested since 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, chartevents.value FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.category = 'specimen' ) AND chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
c1f3f0db61bac26ec0d7afba,What were the four most frequently given diagnoses for patients who received percutaneous abdominal drainage previously within 2 months?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diagnosis_icd.icd_code, d_icd_diagnoses.short_title, COUNT(diagnosis_icd.icd_code) as frequency FROM diagnosis_icd JOIN d_icd_diagnoses ON diagnosis_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnosis_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND procedures_icd.chartdate >= datetime(current_time,'-2 month') ) GROUP BY diagnosis_icd.icd_code ORDER BY frequency DESC LIMIT 4"
887f1892fedc575d080e8217,What's the heart rate difference of patient 10013049's body measured at 2100-06-24 12:00:00 compared to the value measured at 2100-06-24 11:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-24 12:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-24 11:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-24 12:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-24 11:00:00' )"": None}]",SELECT e1.valuenum - e2.valuenum AS heart_rate_difference FROM chartevents e1 JOIN chartevents e2 ON e1.hadm_id = e2.hadm_id WHERE e1.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND e1.itemid = e2.itemid AND e1.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND e1.charttime = '2100-06-24 12:00:00' AND e2.charttime = '2100-06-24 11:00:00'
ecd2a10f46954975185155af,What was during the last month patient 10038992's minimum alanine aminotransferase (alt) value?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'MIN(labevents.valuenum)': None}],"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'alanine aminotransferase (alt)' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 MONTH)"
6232ae4db195276a3e324143,Was patient 10000032 tested on pt in 08/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y-%m',labevents.charttime) = '2100-08'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt inr' ) AND labevents.charttime BETWEEN '08/01/2100' AND '08/31/2100'
226565b9dfa316da14138b50,"What was patient 10007795's maximum amylase, ascites value?","SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase, ascites' )",[{'MAX(labevents.valuenum)': None}],"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'amylase, ascites' )"
d8cfaf1fb8e89c395bcfc473,Calculate the total quantity of output of patient 10021487 on 12/18/this year.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '12-18'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.subject_id = 10021487 AND chartevents.charttime LIKE '12/18/%' AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' )
dff52a931ff5d9812d2e68c8,"How many patients were diagnosed with bradycardia, unspecified since 2100 after previously being diagnosed with polyneuropathy, unspecified in the same month?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'polyneuropathy, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bradycardia, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(*) FROM diagnoses_icd AS diag1 JOIN diagnoses_icd AS diag2 ON diag1.hadm_id = diag2.hadm_id WHERE diag1.icd_code LIKE 'I49%' AND diag2.icd_code LIKE 'G63%' AND diag1.seq_num > diag2.seq_num AND date_format(diag1.admittime, '%Y-%m') = date_format(diag2.admittime, '%Y-%m') AND diag2.admittime < diag1.admittime AND TIMESTAMPDIFF(MONTH, diag2.admittime, diag1.admittime) <= 1"
7b8292b0a8f2a804114ac706,"How many hours have elapsed since the last time during their current hospital encounter that patient 10004733 was diagnosed with chronic kidney disease, unspecified?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic kidney disease, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT UNIX_TIMESTAMP(MAX(chartevents.charttime)) - UNIX_TIMESTAMP(( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = '5859' ) )) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE admissions.subject_id = 10004733 )
4d0bc94cd3038c80ab777027,What was the last drug prescribed in 02/this year to patient 10020187?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '02' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10020187 AND prescriptions.startdate >= '2022-01-01' AND prescriptions.startdate < '2022-03-01' ORDER BY prescriptions.startdate DESC LIMIT 1
46a6c77172cbf9196d74a902,What were the top five most common specimen tests conducted?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Specimen' GROUP BY d_items.label ORDER BY COUNT(*) DESC LIMIT 5"
71d04374ffadf723feb6a4f5,When are dr. ford's rounds and procedures?,,,
c3cb7b770179052c67712e37,Patient 10009628's age during their last hospital visit was what?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT FLOOR(DATEDIFF(admissions.admit_datetime, patients.dob) / 365.25) AS age FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10009628 ORDER BY admissions.admittime DESC LIMIT 1"
3d45d365e05eb1ff7b926005,How many hours elapsed since patient 10018081 received his chloride lab test for the last time on their current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT MIN(chartevents.charttime) - MAX(chartevents.charttime) AS hours FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Chloride' AND d_items.linksto = 'chartevents' )
109bdf00fc8e0bc665794600,Has patient 10022880 entered the hospital since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022880 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022880 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
db84c0e7a45cffa783b0950f,What was the last arterial blood pressure systolic in patient 10020187's body on 02/04/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-02-04' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime <= '02/04/2100' ORDER BY chartevents.charttime DESC LIMIT 1
042ab61601f982ee4d6436fd,What did patient 10022041 get diagnosed with in 2100 for the first time?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,
2e71a00ad2d28b3a77dfcd7e,Count the number of current patients who are in their 60 or above.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,"SELECT COUNT(*) FROM patients WHERE patients.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR) AND patients.dod IS NULL"
0104804c5c294f840bfc43b0,What were the five most commonly performed lab tests during this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01 00:00:00') GROUP BY d_items.itemid ORDER BY count DESC LIMIT 5"
131f8932f899a611506ecd2b,How many hours have it been since the first stay of patient 10021487 on this hospital stay in the careunit trauma sicu (tsicu)?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT (datetime('now') - datetime(min(icustays.intime))) AS time_since_first_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.icu_stay = 'TSICU'
0f4c478ccc115578767ec3fb,When was patient 10004733 last given an input since 03/10/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-10' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2174-12-12 18:00:00'}],SELECT inputevents_mv.inputoffset FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(inputevents_mv.starttime) >= '03/10/2100' ORDER BY inputevents_mv.inputoffset DESC LIMIT 1
498d2f4e14ef15f20bc02818,What is the cost for a drug named vancomycin?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'vancomycin' ),,
015be3d8662ca93c5c0bab0b,Did patient 10015272 receive any disease diagnoses in the last hospital encounter?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10015272
4eafb35434eb46de4c718a26,What was the name of the drug which was prescribed to patient 10020740 within 2 days after having received a endoscopic removal of stone(s) from biliary tract procedure since 9 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopic removal of stone(s) from biliary tract' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-9 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-9 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT medications.medications FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND medications.startdate IN ( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopic removal of stone(s) from biliary tract' ) AND procedures_icd.hadm_id = admissions.hadm_id AND datetime(procedures_icd.charttime,'+2 day') >= datetime(current_time,'-9 month') )"
34bcde5942f36df939445209,How are the precautions after the creat esophagastr sphinc procedure?,,,
7a05f054a0d752aa65a229c4,When did patient 10039997 last receive an input since 08/11/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-08-11' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2134-09-08 17:50:00'}],
e280cc138d720a1fb7cde282,What was the last value of patient 10039831's lab test for platelet count in 12/this year?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Platelet Count' ) AND chartevents.charttime >= '2023-12-01' AND chartevents.charttime < '2023-12-31' ORDER BY chartevents.charttime DESC LIMIT 1
fd81b513857342c1199e0cf2,What was patient 10038999's last tested specimen during their first hospital encounter?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'PLEURAL FLUID'}],SELECT chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ORDER BY admissions.admittime LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) ORDER BY chartevents.charttime DESC LIMIT 1
65c849c2aad2c56207e5cd6e,What's the minimum total cost of the hospital encounters that involved a procedure called endoscopic insertion of stent (tube) into bile duct since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopic insertion of stent (tube) into bile duct' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(totalcharges) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'endoscopic insertion of stent (tube) into bile duct' ) ) AND admittime > '2100-01-01'
877f60bb26ea0d5229a4665b,What is the minimum total cost for the hospital when a rheumatoid factor lab test is involved since 1 year ago?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rheumatoid factor' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(costs.total_cost) FROM costs INNER JOIN d_labitems ON costs.itemid = d_labitems.itemid WHERE d_labitems.label = 'rheumatoid factor' AND datetime(costs.charttime) >= datetime(current_time,'-1 year')"
56fd4c77a08d2c69466f3daf,How is readi-cat 2 (barium sulfate 2% suspension) typically consumed?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'readi-cat 2 (barium sulfate 2% suspension)',[],
0efae2c62f95516d380e6775,How much is the average total hospital bill when it includes a % hemoglobin a1c lab test in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = '% hemoglobin a1c' AND d_items.linksto = 'labevents' ) ) AND admissions.hospstay_seq = 2100
db1b480d2286ade3469fa410,What is the body weight change of patient 10038933 second measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH first_weight AS ( SELECT chartevents.valuenum AS first_value, chartevents.charttime AS first_time FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Body Weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ), second_weight AS ( SELECT chartevents.valuenum AS second_value, chartevents.charttime AS second_time FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Body Weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) SELECT second_weight.second_value - first_weight.first_value AS weight_change FROM first_weight, second_weight"
563951219388e9d8f1ba0f30,How many days have passed since last time that patient 10004733 stayed in careunit neurology in their current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'neurology' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT COUNT(*)*24 FROM ( SELECT icustays.intime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.dbsource = 'carevue' AND icustays.careunit = 'NEUROLOGY' ORDER BY icustays.intime DESC LIMIT 1 ) AS laststay INNER JOIN ( SELECT now() AS currenttime ) AS currenttime ON 1 - TIMESTAMPDIFF(SECOND, laststay.intime, currenttime.currenttime) / 86400.0"
6a7324498e10c064190ceb7f,What are the three most frequently prescribed drugs since 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]",
96487dd035f8b985f4b01677,When is the earliest of patient 31880's next visit to other departments?,,,SELECT MIN(admissions.admittime) AS next_visit FROM admissions WHERE admissions.subject_id = 31880 AND admissions.admittime > ( SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 31880 ORDER BY admissions.dischtime DESC LIMIT 1 )
555044660eecd23dbd5c8fa2,Can you retrieve the top four most frequent lab tests patients had following a diagnosis of secondary malignant neoplasm of bone and bone marrow in the same month?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'secondary malignant neoplasm of bone and bone marrow' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT labevents.itemid, d_labitems.testname, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.diagnoses LIKE '%secondary malignant neoplasm of bone and bone marrow%' AND labevents.chartdate BETWEEN admissions.admittime AND datetime(admissions.admittime,'+1 month') GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 4"
cf8596ed1cee62a5ad2886d8,What is the price for felodipine?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'felodipine' ),,
ea34c337ef08f5bb39bce43e,How much is the difference of patient 10020944's weight last measured on the last hospital visit compared to the value first measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (t1.valuenum - t2.valuenum) FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) as t1, ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) as t2"
c395fa8a146f1042784e0d46,How much does patient 10006580's systolic blood pressure differ from the last value measured on the last ICU visit compared to the first value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (MAX(chartevents.valuenum) - MIN(chartevents.valuenum)) AS systolic_blood_pressure_difference FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'systolic blood pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ORDER BY icustays.intime DESC LIMIT 1 )
150069fefa392b944fd23073,What were the top five most commonly tested specimens?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) as occurrences FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%specimen%' ) GROUP BY chartevents.itemid ORDER BY occurrences DESC LIMIT 5"
61ac565159bfa5d3f30f2941,"What was the name of the prescription drug given to patient 10018081 within the same day after undergoing the ileostomy, not otherwise specified procedure?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT adm.drg_code FROM admissions AS adm JOIN procedures_icd AS proc ON adm.hadm_id = proc.hadm_id JOIN d_icd_procedures AS dproc ON proc.icd_code = dproc.icd_code JOIN prescriptions AS presc ON adm.hadm_id = presc.hadm_id WHERE adm.subject_id = 10018081 AND dproc.long_title LIKE 'ileostomy, not otherwise specified%' AND presc.starttime >= proc.chartdate AND presc.starttime <= proc.charttime AND presc.status = 'completed'"
43377e1ef48d695d15424da9,What is the cost for the medicine topiramate (topamax)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'topiramate (topamax)' ),,
acabae620677b5ffeff62317,Which are the four most common specimens tested since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= '2100-01-01' AND d_items.label LIKE '%specimen%' GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
88a7f40a049ecb037fdb2016,What was in 03/this year patient 10004235's minimum alveolar-arterial gradient value?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alveolar-arterial gradient' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '03'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid = (SELECT itemid FROM d_items WHERE label LIKE '%alveolar-arterial gradient%') AND admissions.subject_id = 10004235 AND chartevents.charttime BETWEEN '2022-03-01' AND '2022-03-31'
82de427493ba0005e55da2e9,Can you tell me the top five diagnoses with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS mortality_count FROM diagnoses_icd AS di JOIN icd_diagnoses AS d_di ON di.icd_code = d_di.icd_code JOIN patients AS pa ON di.subject_id = pa.subject_id WHERE datetime(pa.dod) BETWEEN datetime(pa.admittime) AND datetime(pa.admittime,'+3 months') GROUP BY d_di.short_title ORDER BY mortality_count DESC LIMIT 5"
8c465916ae512fb241ab372c,"In 2100, what are the top four most frequent procedures that patients received within 2 months after being diagnosed with subdural hemorrhage following injury without mention of open intracranial wound, with no loss of consciousness?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'subdural hemorrhage following injury without mention of open intracranial wound, with no loss of consciousness' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS count FROM admissions INNER JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id INNER JOIN icustays ON icustays.hadm_id = admissions.hadm_id INNER JOIN chartevents ON chartevents.stay_id = icustays.stay_id INNER JOIN procedures_icd ON procedures_icd.hadm_id = admissions.hadm_id INNER JOIN d_icd_procedures ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE YEAR(admissions.admit_dt) = 2100 AND diagnoses_icd.icd_code = '542.2' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label NOT LIKE '%loss of consciousness%' ) AND procedures_icd.chartdate BETWEEN admissions.admit_dt AND DATE_ADD(admissions.admit_dt, INTERVAL 2 MONTH) GROUP BY d_icd_procedures.icd_code ORDER BY count DESC LIMIT 4"
3f24154f91b27bdc47594852,What are some of the immunocancerous drugs of the last 5 years,,,
987c9d2214cdf8dd1eff384d,How much ciprofloxacin iv had been prescribed to patient 10018081 in total since 11/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.drug = 'ciprofloxacin iv' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cpoevents.amount) FROM cpoevents WHERE cpoevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND cpoevents.starttime >= '11/01/2100' AND cpoevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ciprofloxacin iv' AND d_items.linksto = 'cpoe' )
027706ca26ae55a15b9f1d91,"Among the patients of age 40s in 2100, what are the top three most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
8f621fd97d1842a4a61410fa,Calculate the number of ICU visits for patient 10016742 during the last hospital visit.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ORDER BY admissions.admittime DESC LIMIT 1 )
aef5e5dbf6c5848167e2f641,When was patient 10004720 prescribed a medication via the oral route the last time in this month?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND prescriptions.route = 'oral' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE prescriptions.subject_id = 10004720 AND d_items.formulary_name = 'oral' AND DATE_FORMAT(prescriptions.startdate, '%Y-%m') = DATE_FORMAT(CURDATE(), '%Y-%m') ORDER BY prescriptions.startdate DESC LIMIT 1"
b6ef3b8f901f6515811991a6,Tell me the total volume of input for patient 10039997 since 03/07/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-07'",[{'SUM(inputevents.totalamount)': 8840.0}],
ff6ea5e1101cdc2781d7466a,Please retrieve the monthly maximum amount of patient 10015931's nacl 0.9% input since 09/07/2100.,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-07' GROUP BY strftime('%Y-%m',inputevents.starttime)",[],
0f03144b28c1a640986c7ffc,When was the last test of patient 10008454's microbiology urine since 09/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND microbiologyevents.spec_type_desc = 'urine' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-09' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE subject_id = 10008454 AND chartdate >= '09/2100' ORDER BY charttime DESC LIMIT 1
b2690f1d201d900a6e245a5a,Tell me what the top three most commonly prescribed drugs are?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]","SELECT drug, COUNT(*) as occurrences FROM prescriptions GROUP BY drug ORDER BY occurrences DESC LIMIT 3"
0918bda2bde8b0408f60fc3e,Can you tell me the top five diagnoses with the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS death_count FROM admissions JOIN d_icd_diagnoses ON admissions.diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code WHERE admissions.has_chartevents_data = 1 AND admissions.hospital_expire_flag = 1 AND admissions.admittime <= datetime(current_time,'-6 month') GROUP BY d_icd_diagnoses.short_title ORDER BY death_count DESC LIMIT 5"
8521d760a18e114ce1c608b3,What is patient 10039997's gender?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10039997,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10039997
2a32cb9fdb4241702a454055,"For patients who received performance of cardiac output, continuous , what are the top five most frequent diagnoses that followed afterwards within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT diag_icd9.icd9_code, COUNT(*) as count FROM diag_icd9 JOIN admissions ON diag_icd9.hadm_id = admissions.hadm_id WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND diag_icd9.chartdate BETWEEN admissions.admittime AND datetime(admissions.admittime,'+2 month') GROUP BY diag_icd9.icd9_code ORDER BY count DESC LIMIT 5"
78deb17fb4b0f07c1c1b0051,How many medications were assigned to patient 10004422 in the previous year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10004422 AND datetime(prescriptions.startdate) >= datetime(current_time, '-1 year')"
9564984f5e6bba259c9cbe18,"What are the five most commonly diagnosed diagnoses for patients who had previously received extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic within the same month since 1 year ago?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT diagnosis_icd.icd_code, d_icd_diagnoses.long_title, COUNT(*) AS count FROM diagnosis_icd JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON diagnosis_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) AND diagnosis_icd.seq_num <= 10 AND diagnosis_icd.chartdate BETWEEN procedures_icd.chartdate AND DATE_ADD(procedures_icd.chartdate, INTERVAL 1 MONTH) GROUP BY diagnosis_icd.icd_code, d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 5"
0424a90b6986dc6ca2da8b3b,"During their last hospital encounter, when did patient 10023239 last receive a calcium, total test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Calcium, total' ) ORDER BY chartevents.charttime DESC LIMIT 1"
fb62db48ad7712c787e1d173,Tell me the dose of the prescribed opioid for patient 90019?,,,"SELECT order_detail.DOSAGE, order_detail.units FROM order_detail WHERE order_detail.order_id IN ( SELECT pharmacy.pharmacy_id FROM pharmacy WHERE pharmacy.subject_id = 90019 ) AND order_detail.order_detail_id IN ( SELECT medication.medication_id FROM medication WHERE medication.DRUG_NAME LIKE '%opioid%' )"
09315d12007c47ae3fb400b6,What drug was prescribed to patient 10005817 for the last time since 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'HYDROmorphone (Dilaudid)'}],
7ce2a21d5cd40b04d8cb2c75,Tell me the number of patients diagnosed with personal history of sudden cardiac arrest since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of sudden cardiac arrest' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
ae6519f14e5f7700af940f59,Has patient 10004235 received any treatment of laparoscopic cholecystectomy since 1 year ago?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic cholecystectomy' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE a.subject_id = 10004235 AND p.icd_code IN (SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%laparoscopic cholecystectomy%') AND p.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
5cb77adf0cc7efec9a38adba,Tell me the four most common diagnosis during this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) as occurrence FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.seq_num = 1 AND YEAR(admissions.admit_date) = YEAR(CURRENT_DATE) GROUP BY icd9_code ORDER BY occurrence DESC LIMIT 4"
9b8533703ff8eab23578f84c,Was patient 10022041 given a test on rdw in 06/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND strftime('%Y-%m',labevents.charttime) = '2100-06'",[{'COUNT(*)>0': 0}],
82c59daa8e3a56e7f5ad97c0,"Since 1 year ago, what are the top four most frequent procedures that patients received in the same hospital encounter after being diagnosed with unspecified disorder of kidney and ureter?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified disorder of kidney and ureter' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(procedures_icd.icd_code) AS freq FROM procedures_icd JOIN admissions ON admissions.hadm_id = procedures_icd.hadm_id JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN d_icd_procedures ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE diagnoses_icd.icd_code = (SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified disorder of kidney and ureter') AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') GROUP BY d_icd_procedures.long_title ORDER BY freq DESC LIMIT 4"
06b6972a43b2dba9856ec0bd,"In 2100, what are the top four most frequently tested specimens for patients during the same month after receiving introduction of other therapeutic substance into heart, open approach?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,
bc08d5ab35121023062e0264,What was the drug that patient 10004235 was prescribed for in the same hospital encounter after the procedure of laparoscopic cholecystectomy in 07/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic cholecystectomy' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-07' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-07' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND prescriptions.startdate > ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic cholecystectomy' ) AND procedures_icd.chartdate > '07/2100' ) ORDER BY prescriptions.startdate ASC LIMIT 1
17fee8730ce67c5cb81363da,Tell me the name of the diagnosis that patient 10019172 received the last time on the last hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,"SELECT d_coded_diagnoses.long_title FROM d_coded_diagnoses JOIN diagnoses_icd ON d_coded_diagnoses.icd_code = diagnoses_icd.icd_code WHERE diagnoses_icd.subject_id = 10019172 ORDER BY diagnoses_icd.hadm_id DESC, diagnoses_icd.seq_num DESC LIMIT 1"
36d78a53fb451b1de2c95f2f,How many patients in this year were discharged from the hospital?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE)
797af2b7be25b810c1fa0b00,Count the ICU visits of patient 10009035 since 2100.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND strftime('%Y',icustays.intime) >= '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND icustays.intime >= '2100-01-01'
55bae74b1c4dde44613794ce,What is the maximum total hospital cost which involves closed fracture of seven ribs since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of seven ribs' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
1696ad4b19442533de0141ff,"How many patients received enteral infusion of concentrated nutritional substances within the same month after being diagnosed with cerebral artery occlusion, unspecified with cerebral infarction?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cerebral artery occlusion, unspecified with cerebral infarction' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(DISTINCT patients.subject_id) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE admissions.admittime BETWEEN icustays.intime AND icustays.outtime AND d_items.label = 'enteral infusion' AND chartevents.valuenum > 0 AND chartevents.valuenum <= 100 AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime AND EXISTS (SELECT 1 FROM diagnoses_icd AS D1 JOIN diagnoses_icd AS D2 ON D1.hadm_id = D2.hadm_id WHERE D1.icd_code LIKE 'I63%' AND D2.icd_code LIKE 'I63%')
897c83c8728e2e3ada59235e,List the top four most frequent microbiology tests given to patients after being diagnosed with physical restraints status within 2 months.,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'physical restraints status' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"WITH recent_restraints AS ( SELECT patients.subject_id, admissions.admittime FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id WHERE EXISTS ( SELECT * FROM chartevents WHERE chartevents.subject_id = patients.subject_id AND chartevents.charttime BETWEEN admissions.admittime AND datetime(admissions.admittime, '+2 months') AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%restraints%' ) ) ), microbiology_tests AS ( SELECT recent_restraints.subject_id, microbiologyevents.testname FROM recent_restraints JOIN microbiologyevents ON recent_restraints.subject_id = microbiologyevents.subject_id ) SELECT testname, COUNT(*) as frequency FROM microbiology_tests GROUP BY testname ORDER BY frequency DESC LIMIT 4"
97d26f029a5f2f8e475529e6,What is patient 10026354's difference in respiratory rate from the last value measured on the last ICU visit compared to the second to last value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH last_icu_visit AS ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ORDER BY icustays.intime DESC LIMIT 1 ) SELECT (last_chartevents.valuenum - second_to_last_chartevents.valuenum) FROM ( SELECT chartevents.valuenum FROM chartevents JOIN last_icu_visit ON chartevents.stay_id = last_icu_visit.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) AS last_chartevents, ( SELECT chartevents.valuenum FROM chartevents JOIN last_icu_visit ON chartevents.stay_id = last_icu_visit.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) AS second_to_last_chartevents"
620fed67edcc618c82c9bb68,How many hours is it since patient 10004733 last received the magnesium lab test on their current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(chartevents.charttime), NOW()) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium' AND d_items.linksto = 'chartevents' )"
08777eb92c5be85c5613f0dd,When did the last hospital discharge of patient 10007795 occur?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10007795 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10007795 ORDER BY admittime DESC LIMIT 1
89f0db596b270220fda6c25f,Which were the five most frequently ordered laboratory tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime(current_time,'-1 year') GROUP BY d_items.itemid ORDER BY frequency DESC LIMIT 5"
171a187b546228165ca60f92,"The first time , when was patient 10004720 prescribed insulin and artificial tear ointment at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'insulin' AND admissions.subject_id = 10004720 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'artificial tear ointment' AND admissions.subject_id = 10004720 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10004720 AND prescriptions.drug IN ('insulin', 'artificial tear ointment')"
36961c041d723a40cd3af9bc,"How many instances of lumbar and lumbosacral fusion of the posterior column, posterior technique procedures have been completed?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'lumbar and lumbosacral fusion of the posterior column, posterior technique' )",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'lumbar and lumbosacral fusion of the posterior column, posterior technique' )"
8dc71388fea9c3fd6452055a,Has there been any organism detected in the last microbiological examination of patient 10019172's urine on the first hospital visit?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10019172 AND microbiologyevents.chartdate = ( SELECT MIN(admissions.admit_dt) FROM admissions WHERE admissions.subject_id = 10019172 ) AND microbiologyevents.spec_type_desc = 'URINE'
2c1feec1d1f2e0f1260812d2,What are the three most common diagnoses of patients in their 30s this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS occurrences FROM diagnoses_icd JOIN patients ON diagnoses_icd.subject_id = patients.subject_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE patients.dob BETWEEN '1980-01-01' AND '1990-12-31' AND YEAR(admittime) = YEAR(CURDATE()) GROUP BY d_icd_diagnoses.short_title ORDER BY occurrences DESC LIMIT 3"
d2eeacdc392b4745759a9da7,What is the name of the medication that was prescribed to patient 10007818 for the first time via the subcut route during their last hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'subcut' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT admittime , dischargeime FROM admissions WHERE subject_id = 10007818 ORDER BY admittime DESC LIMIT 1"
04252ccebd8d2d108f1880fc,What are the top three most frequent procedures since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
bbd60fbc1489752c6364f8bf,"On their last ICU visit, what was the last arterial blood pressure mean value of patient 10038933?",SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Arterial Blood Pressure mean' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.subject_id = 10038933 ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY chartevents.charttime DESC LIMIT 1
e7fcf849ac87ce9fbbd3cf84,What was the name of the procedure that was given two or more times to patient 10007795 since 12 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-12 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_procedures.procedure_name FROM d_procedures INNER JOIN ( SELECT procedures.procedure_id FROM procedures WHERE procedures.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND procedures.charttime >= datetime(current_time,'-12 month') GROUP BY procedures.procedure_id HAVING COUNT(*) > 1 ) AS proc_count ON d_procedures.procedure_id = proc_count.procedure_id"
5cc361b3a9d1cee29ed3d437,"How many patients in 2100 were diagnosed with insomnia, unspecified within the same hospital visit after the diagnosis of other postprocedural status?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other postprocedural status' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'insomnia, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM admissions a JOIN diagnoses_icd d1 ON a.hadm_id = d1.hadm_id JOIN diagnoses_icd d2 ON a.hadm_id = d2.hadm_id WHERE a.subject_id IN (SELECT subject_id FROM admissions WHERE hadm_id IN (SELECT hadm_id FROM diagnoses_icd WHERE icd_code LIKE 'E87%')) AND d1.icd_code LIKE 'G47%' AND d2.icd_code LIKE 'E87%' AND a.hospital_expire_flag = 0
c509b3b51764a1c88c5721c0,When did patient 10022017 first leave the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2189-09-16 15:00:00'}],SELECT MIN(admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10022017
855969a5637352d329e6b650,Which are the five top specimens that were tested in 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5",[],"SELECT chartevents.ITEMID, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.ITEMID = d_items.ITEMID WHERE chartevents.HADM_ID = 2100 GROUP BY chartevents.ITEMID ORDER BY count DESC LIMIT 5"
dba831b22948cb6030f2a0dd,Count how many current patients are aged 30s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 30 AND 39,,SELECT COUNT(*) FROM patients WHERE patients.dob > '1990-01-01' AND patients.dob < '1980-01-01' AND patients.dod IS NULL
44ccda4ff4ceaa8e1e95040c,When was the first microbiology test that was given to patient 10027445 since 08/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2142-07-31 06:07:00'}],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND d_items.category = 'Microbiology' AND chartevents.charttime > '08/2100' ORDER BY chartevents.charttime ASC LIMIT 1
003276cc7c1bc688813d5aca,Show me patient 10014354's total void output amount since 08/11/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-08-11'",[{'SUM(outputevents.value)': None}],
af69042027761577e56622e9,What is the length of time patient 89875 had to undergo packed cell transfusion?,,,SELECT SUM(intakeevents.intaketime) FROM intakeevents INNER JOIN admissions ON intakeevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 89875 AND intakeevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' )
232cc5cdd5e1b965d61da342,What is the total number of patients who were discharged from the hospital since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
ec92f2209fc00778cd5a3157,How much does patient 10020944 weigh based on the last measurement since 03/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-03' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
ef3149b9a35fb04e1492d336,When did the first time patient 10015272 had the minimum value of SaO2?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'SaO2' ) ORDER BY labevents.valuenum ASC LIMIT 1
c8d18210963921f83f907052,What are the top three most commonly diagnosed conditions since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT icd9_code, COUNT(*) as num_cases FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions ) AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') GROUP BY icd9_code ORDER BY num_cases DESC LIMIT 3"
2fa8b86ac44e632ee829dec6,What total amount of gabapentin was prescribed to patient 10002495?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND prescriptions.drug = 'gabapentin',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c_totalamount) FROM prescriptions WHERE prescriptions.subject_id = 10002495 AND prescriptions.drug = 'gabapentin'
133bff217be024035d5957e2,Was the urea nitrogen value last measured on the first hospital visit of patient 10027445 greater than first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT valuenoMSQL
d683e1297440d54816fb0549,"On 06/14/2100, what was the last value of heart rate of patient 10009049?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-06-14' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10009049 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '2010-06-14' ORDER BY chartevents.charttime DESC LIMIT 1
d53298425ae0be6acf19c43b,When for the first time in 08/2100 was patient 10031404 prescribed atorvastatin and acetaminophen at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'atorvastatin' AND admissions.subject_id = 10031404 AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'acetaminophen' AND admissions.subject_id = 10031404 AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(prescriptions.startdate) FROM prescriptions JOIN patients ON patients.subject_id = prescriptions.subject_id WHERE patients.subject_id = 10031404 AND prescriptions.drug IN ('ATORVASTATIN', 'ACETAMINOPHEN') AND prescriptions.startdate >= '2008-01-01' AND prescriptions.startdate <= '2008-12-31'"
f719a14ae6e71d9f9de23e63,When was the first time that patient 10021487 was tested for red blood cells in 12/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',labevents.charttime) = '2100-12' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cell count' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '12/01/2100' AND chartevents.charttime < '12/01/2101' ORDER BY chartevents.charttime ASC LIMIT 1
794da47ae77cd75fe2914cf2,"In the previous year, how many patients underwent a transcatheter embolization for gastric or duodenal bleeding within 2 months after the diagnosis of unspecified essential hypertension?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'transcatheter embolization for gastric or duodenal bleeding' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code LIKE '4019%' AND EXISTS ( SELECT procedures_icd.hadm_id FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%transcatheter embolization for gastric or duodenal bleeding%' AND procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.chartdate BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) ) AND YEAR(admissions.admittime) = YEAR(CURRENT_DATE) - 1 ) AS subquery"
4f0a03f732e95fdcb15376f7,Calculate the total volume of input for patient 10005817 since 06/23/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-06-23'",[{'SUM(inputevents.totalamount)': 166435.0}],SELECT SUM(inputevents_mv.volume) FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(inputevents_mv.starttime) >= '06/23/2100'
3438f141d7038a0bf312f74b,What was patient 10012552's last measured po2?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'po2' ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po2' ) ORDER BY chartevents.charttime DESC LIMIT 1
437e22cc3839c9e567107949,What is the average total cost of the hospital which involves chronic systolic (congestive) heart failure in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic systolic (congestive) heart failure' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(costs.total_cost) FROM costs INNER JOIN diagnoses_icd ON diagnoses_icd.hadm_id = costs.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%chronic systolic (congestive) heart failure%' ) AND costs.hospital_id = 2100
4dffe3f7f7770e47d3e5fdc8,Tell me patient 10029291's maximum value of mean blood pressure on the last ICU visit.,SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ),[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' )
47d86d0e205097ff162381f7,When did patient 10027602 last have a minimum value of diastolic blood pressure on last month/29?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '29' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' ) AND datetime(chartevents.charttime) >= datetime(current_time, '-1 month') AND datetime(chartevents.charttime) < datetime(current_time, '-1 month', '+1 day') ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
4b2e4f08510d69ad89b581ce,What percentile is the alkaline phosphatase value of 129.0 in the same age group as patient 10003046 during the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10003046 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 129.0",,
055c46f26772f5e92ff54ba1,What are the top four most frequent microbiology tests that patients were diagnosed with rheumatic disorders of both mitral and aortic valves in the same hospital encounter in 2100?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'rheumatic disorders of both mitral and aortic valves' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT test, COUNT(*) AS frequency FROM microbiology_results WHERE microbiology_results.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '424%' AND YEAR(admissions.admit_date) = 2100 ) GROUP BY test ORDER BY frequency DESC LIMIT 4"
e0871385561b20faaecfa48c,What is the total number of patients who were discharged from the hospital since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],
04d135a8d8db7bcb4130bb9b,Tell me the name of the diagnosis that patient 10027602 received first since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,
ebbbea82024643bb7a0d0271,Show me the top three most commonly prescribed drugs within 2 months to the patients aged 60 or above after diagnosed with do not resuscitate since 2100.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'do not resuscitate' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT TOP 3 cpoi.drg, COUNT(*) FROM chartevents ce JOIN cpoe cpoi ON ce.stay_id = cpoi.stay_id WHERE ce.valuenum >= 60 AND ce.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'age' AND d_items.linksto = 'chartevents' ) AND cpoi.ordercategoryname = 'do not resuscitate' AND datetime(ce.charttime) >= datetime('2100-01-01') AND datetime(cpoe.startdate) >= datetime(ce.charttime) AND datetime(cpoe.startdate) <= datetime(ce.charttime,'+2 month') GROUP BY cpoi.drg ORDER BY COUNT(*) DESC"
23a4576cc256bed45465d6f4,What is the code that corresponds in icd-10 to icd-11 for delirium d/t other cond?,,,
5e3559038c113cb814682141,What is the difference in patient 10007818's weights last measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first_valuenum - last_valuenum) FROM ( SELECT valuenum AS last_valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime IN ( SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ) ) AS last_val , ( SELECT valuenum AS first_valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' )"
50231ace46e9680780376e5f,Give me the top three most frequent procedures that patients were given within the same hospital visit after receiving parenteral infusion of concentrated nutritional substances in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'parenteral infusion of concentrated nutritional substances' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id JOIN d_icd_procedures ON p.icd_code = d_icd_procedures.icd_code WHERE a.hospstay_seq = 2100 AND EXISTS ( SELECT 1 FROM procedures_icd AS p2 JOIN d_icd_procedures AS dp2 ON p2.icd_code = dp2.icd_code WHERE p2.hadm_id = a.hadm_id AND dp2.long_title LIKE '%parenteral infusion of concentrated nutritional substances%' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
6b06f9b397dbfbab8b85f6e1,Tell me the percentile of the ptt value of 30.0 among patients of the same age as patient 10038999 during the last hospital visit.,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 30.0",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER (PARTITION BY admissions.dob) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.valuenum = 30.0 AND admissions.subject_id = 10038999 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ptt' AND d_items.linksto = 'chartevents' )
774183417c33e5ca1129707b,Tell me the average total hospital cost that involves methylnaltrexone in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'methylnaltrexone' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(tot_charged) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM icustays WHERE hadm_id IN ( SELECT hadm_id FROM prescriptions WHERE drug = 'methylnaltrexone' ) ) AND admittime >= '2021-01-01' AND admittime <= '2021-12-31'
1e5faf727375a9ada1941625,What is the average total hospital cost for a procedure involving total esophagectomy?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'total esophagectomy' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(admissions.totalcharges) FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%total esophagectomy%' )
e346948b183416231db2bb3c,Count the number of hospital visits that patient 10019917 had in 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10019917 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10019917 AND YEAR(admissions.admit_date) = 2100
b0fa39290a379ac3962d1215,Does patient 12410 have experience with overseas travel?,,,
c9cf1ade991005f5fffbd47d,What's the total of glucagon prescriptions since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'glucagon' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 0}],
d17c786dec93d192f68c22dd,When was the last time patient 10027602 had input on 12/03/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '12-03' ORDER BY inputevents.starttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '12/03/YEAR()' ORDER BY chartevents.charttime DESC LIMIT 1
38e7715444818223680cc90f,How many hours have passed since patient 10021487 last received a laboratory test of eosinophils during this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'eosinophils' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(labevents.charttime), NOW()) FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND labevents.itemid IN ( SELECT itemid FROM d_labitems WHERE label LIKE '%Eosinophils%' )"
79d16bbe75c1b79b191237dd,Can you tell the three most frequent lab tests in 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospital_expire_flag = 1 AND admissions.hospital_expire_date BETWEEN '2021-01-01' AND '2021-12-31' ) GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
447ce94b8c1311a33e0848fc,What new meds are prescribed to patient 10004733 today compared to the ones from yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT admissions.subject_id, admittime AS yesterday_admittime, current_time AS today_admittime, prescriptions.startdate, prescriptions.drug FROM admissions JOIN prescriptions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND prescriptions.startdate BETWEEN (SELECT admittime FROM admissions WHERE admissions.subject_id = 10004733) AND current_time AND NOT EXISTS (SELECT drug FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.startdate < current_time - INTERVAL 1 DAY)"
3c1f961554b4f7004f28ef81,What was the maximum value of heart rate for patient 10003046 in the last ICU visit?,SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ),[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate')
5768d20678cf5c0dad75054a,Give me patient 10027602's total output on 11/26/this year.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '11-26'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.value) AS total_output FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10027602 AND chartevents.charttime BETWEEN 'this year-11-26 00:00:00' AND 'this year-11-26 23:59:59' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine output' )
a3fbabc4125bd38ac2aed4db,Has patient 10039831 been given any drugs since 08/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' ) AND chartevents.charttime >= '08/2100'
e15aa00add2d775e41bd5338,Has patient 10004720 been prescribed any prescription drugs since 09/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09'",[{'COUNT(*)>0': 1}],SELECT DISTINCT adm.subject_id FROM admissions adm JOIN prescriptions pre ON adm.hadm_id = pre.hadm_id WHERE adm.subject_id = 10004720 AND pre.startdate >= '09/01/2010'
72046d186a8821cf81d3fec7,What was patient 10009035's weight the last time it was measured since 28 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 28 MONTH) ORDER BY chartevents.charttime DESC LIMIT 1"
e741a395203aabb321b46310,What was the drug that was prescribed to patient 10016150 for the last time in 05/this year via the po route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND prescriptions.route = 'po' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime,, FROM  WHERE  = 10016150"
7c2d471282f8777074560c57,What was the name of the output the first time patient 10007928 had on their first ICU stay?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY outputevents.charttime ASC LIMIT 1 ),[{'label': 'Foley'}],SELECT outputevents.outputname FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY outputevents.charttime ASC LIMIT 1 )
4daceca1922e2f7b36597c87,Expose the top three most frequent output events in 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = 2100 GROUP BY chartevents.itemid, d_items.label ORDER BY frequency DESC LIMIT 3"
72faafda75d4e4a844d6cd9d,Please provide the three most common tests performed on specimens since 1 year ago.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS test_count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY chartevents.itemid ORDER BY test_count DESC LIMIT 3"
a9a9222a8d37bab9e6d5a6a2,How many instances of the anastomosis of hepatic duct to gastrointestinal tract procedure were there?,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'anastomosis of hepatic duct to gastrointestinal tract' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%anastomosis of hepatic duct to gastrointestinal tract%' )
24bf28822b415fe4f9bd906c,What specimen tests did patient 10038992 undergo for the first time during the first hospital visit?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'spec_type_desc': 'BLOOD CULTURE'}],"SELECT labevents.specimen, labevents.itemid FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1"
721bfea157a6426f9d055a41,What was the total dose of 0.83% sodium chloride prescribed to patient 10018501 in the last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = '0.83% sodium chloride',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c bedsideevents.amount) AS total_dose FROM bedsideevents INNER JOIN bedsideitems ON bedsideevents.itemid = bedsideitems.itemid WHERE bedsideitems.name = '0.83% sodium chloride' AND bedsideevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) ORDER BY bedsideevents.charttime DESC LIMIT 1
f93686c3008e71187f331de5,What were the four most frequent lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS freq FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY freq DESC LIMIT 4"
f9c16377338fec42f126a765,What is patient 10019568's maximum value of magnesium during the first hospital encounter?,SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ),[{'MAX(labevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10019568 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10019568) AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'MAGNESIUM')
11cc0c3c5ddde55f2933b0a4,Calculate patient 10020740's total amount of foley output on their last ICU stay.,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= icustays.intime AND chartevents.charttime <= icustays.outtime
dcd2227eec0068298417064f,Give a count of the number of ICU visits of patient 10020187 throughout this year.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND datetime(icustays.intime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT icustays.stay_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.intime >= datetime(current_time,'-1 year')"
fceaf877c094825a80b15f57,"What were the last potassium, whole blood results for patient 10018081 since 12/2100?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-12' ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'potassium, whole blood' ) AND datetime(chartevents.charttime) > '12/2100' ORDER BY chartevents.charttime DESC LIMIT 1"
05a019fa9f7c243ee7ac5682,Can you give me the five most common output events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT chartevents.ITEMID,chartevents.VALUE,d_items.label FROM chartevents INNER JOIN d_items ON chartevents.ITEMID=d_items.ITEMID WHERE chartevents.charttime >= datetime('now', '-1 year') GROUP BY chartevents.ITEMID ORDER BY COUNT(*) DESC LIMIT 5"
7f1d3e5201103ad28842a180,Please tell me what to prepare for the flexible sigmoidoscopy procedure,,,
32955b67aaf8c2bd57e9ef2b,What was the name of the specimen given to patient 10005817 for the first time since 08/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'URINE'}],
240c55269dbe044f71ee51c5,What is the average yearly number of people diagnosed with rheumatic disorders of both mitral and aortic valves since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'rheumatic disorders of both mitral and aortic valves' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,
7809b76d2d7b213240cd949c,How many hours have passed since the first time that patient 10004733 stayed in careunit medicine on this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medicine' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, icustays.intime, now()) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.admission_type = 'ELECTIVE' AND admissions.hospital_expire_flag = 0 AND admissions.hospitalizaciones = 1 ) AND icustays.d_times = 'medicine'"
5cf893b312b240832f404b18,What is the void output for patient 10018845 since 103 days ago?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime) >= datetime(current_time,'-103 day')",[{'SUM(outputevents.value)': None}],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= ( SELECT DATE_SUB(NOW(), INTERVAL 103 DAY) ) ORDER BY chartevents.charttime DESC LIMIT 1"
0e2ed5b1977c59f79cff3b72,"How many patients with long-term (current) use of anticoagulants were diagnosed in the same hospital visit after previously being diagnosed with hypertensive chronic kidney disease, unspecified, with chronic kidney disease stage i through stage iv, or unspecified since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertensive chronic kidney disease, unspecified, with chronic kidney disease stage i through stage iv, or unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long-term (current) use of anticoagulants' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,"SELECT COUNT(*) FROM admissions AS a JOIN diagnoses_icd AS d1 ON a.hadm_id = d1.hadm_id JOIN diagnoses_icd AS d2 ON a.hadm_id = d2.hadm_id JOIN icd_diagnoses AS icd ON icd.icd_code = d1.icd_code WHERE d1.icd_code LIKE 'I12.9%' AND icd.short_title = 'hypertensive chronic kidney disease, unspecified' AND d2.icd_code IN (SELECT icd_code FROM icd_diagnoses WHERE short_title LIKE 'chronic kidney disease%stage%') AND icd.short_title NOT IN ('hypertensive chronic kidney disease, unspecified', 'hypertensive chronic kidney disease with chronic kidney disease stage v', 'hypertensive chronic kidney disease without mention of chronic kidney disease') AND a.hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id IN (SELECT subject_id FROM admissions WHERE hadm_id IN (SELECT hadm_id FROM diagnoses_icd WHERE icd_code LIKE 'V42.7%' AND icd_code NOT LIKE 'V42.7%4'))) AND a.admittime >= '2100-01-01'"
d11649ef6f1e014d999ead71,When was patient 10022017's last hospital discharge?,SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY admissions.dischtime DESC LIMIT 1,[{'dischtime': '2189-09-16 15:00:00'}],SELECT admittime FROM admissions WHERE subject_id = 10022017 ORDER BY admittime DESC LIMIT 1
26aa4388a8897474b77aa481,What was the total number of drugs patient 10005817 was prescribed since 08/2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08'",[{'COUNT(*)': 435}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10005817 AND datetime(prescriptions.startdate) >= datetime('08/2100')
fbd014c02af79a2d9c53a9d0,When was the first time patient 10038999 was prescribed a medication in 05/this year via the iv route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE prescriptions.subj_id = 10038999 AND d_items.category = 'Medications' AND prescriptions.route = 'IV' AND prescriptions.startdate >= '05-01-2022' AND prescriptions.startdate <= '05-31-2022' ORDER BY prescriptions.startdate ASC LIMIT 1
fe2ca53dea49bfb8f192692f,What was the first measurement of arterial blood pressure diastolic that patient 10005817 had?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' ) ORDER BY chartevents.charttime ASC LIMIT 1
6fbc822299d5ed6324fb6280,What immuno-cancer drugs have been in use for the last five years?,,,
d37cc2f82fab01c5b66069e1,What was the last time of input for patient 10039831 since 04/08/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-08' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2115-12-30 13:05:00'}],
ee1994bbfcf913af08ad4dd8,Can you tell me which were the top four most frequent specimens tested in 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
7b2e4a56a587f857df255484,What percentile is the value of 30.0 in calculated total co2 among patients of the same age as patient 10038999 on their first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 30.0",,"SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) AS median, percentile_cont(0.90) WITHIN GROUP (ORDER BY labevents.valuenum) AS ninety_percentile FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.dob = ( SELECT admissions.dob FROM admissions WHERE admissions.subject_id = 10038999 ) AND admissions.hospital_expire_flag = 0 )"
94b0437ac528f3909e945a5f,Tell me the four most common diagnosis since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time,'-1 year') ) GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 4"
ac9b3f14d853d992c65f6faa,Did patient 10027602 have jevity 1.2 (full) given in their last ICU visit?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'jevity 1.2 (full)' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id = admissions.hadm_id AND icustays.intime = ( SELECT MAX(icustays.intime) FROM icustays WHERE icustays.hadm_id = admissions.hadm_id ) ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'jevity 1.2 (full)' )
add9d8c55cfa9b469ea183bf,Which are the top four most frequent output events during this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT outputevents.charttime, outputevents.value, outputevents.itemid, d_items.label, COUNT(*) as frequency FROM outputevents INNER JOIN d_items ON outputevents.itemid = d_items.itemid WHERE outputevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01') GROUP BY outputevents.itemid ORDER BY frequency DESC LIMIT 4"
008eed7a13c0d37c26d9a293,Get me the top five most frequent diagnoses for patients of age 50s in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM diagnoses_icd WHERE hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob BETWEEN '1960-01-01' AND '1969-12-31' ) ) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 5"
ad935ae937227d5927667234,What was the count of patients who were prescribed dexamethasone since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'dexamethasone' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 7}],
696eddd60cdf06cbb9ee62d7,What is the price of a drug named ampicillin sodium?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ampicillin sodium' ),,
00c6c1102d545178bf7380f3,"Has acetaminophen, lidocaine 0.5%, or soln been prescribed for patient 10007928?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND prescriptions.drug IN ( 'acetaminophen', 'lidocaine 0.5%', 'soln' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10007928 AND prescriptions.drug IN ('acetaminophen', 'lidocaine 0.5% soln')"
811775f5b19375275b6b4825,Show me the total amount of patient 10007928's output since 04/07/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-07'",[{'SUM(outputevents.value)': 6660.0}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-07-04 00:00:00'
d5f33799e7f8110fd11cd073,What was the last time that patient 10008454 had a maximum value of lactate dehydrogenase (ld) in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate dehydrogenase (ld)' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime, labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate dehydrogenase (ld)' ) AND datetime(labevents.charttime) >= datetime('12-01-2023') AND datetime(labevents.charttime) < datetime('12-01-2024') ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1"
95b245de3db0ff301118f6ef,Was the hematocrit reading for patient 10001725 second measured on the last hospital visit less than the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (t2.valuenum < t1.valuenum) FROM labevents t1 INNER JOIN labevents t2 ON t1.hadm_id = t2.hadm_id WHERE t1.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND t1.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND t2.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND t1.charttime < t2.charttime ORDER BY t2.charttime DESC LIMIT 1
9e5c20a2a5d9bd9a11019222,What was patient 10004733's monthly maximum value of body weight since 20 months ago?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-20 month') GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"WITH RECURSIVE months(start_date, end_date) AS ( SELECT DATE('2000-01-01'), DATE('2000-01-31') UNION ALL SELECT DATE_ADD(start_date, INTERVAL 1 MONTH), DATE_ADD(end_date, INTERVAL 1 MONTH) FROM months WHERE start_date < DATE('now', '-20 months') ) SELECT months.start_date, MAX(chartevents.valuenum) AS max_weight FROM months JOIN chartevents ON chartevents.charttime BETWEEN months.start_date AND months.end_date AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) GROUP BY months.start_date"
9e84a6e731e2b335a972b488,What was the last drug that was prescribed to patient 10038992 in their last hospital encounter via the oral route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'oral' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT admittime FROM admissions WHERE subject_id = 10038992 ORDER BY admittime DESC LIMIT 1
fee1526403313e5913e5874b,How many other ascites patients since 1 year ago were diagnosed in the same hospital encounter after being diagnosed with posttraumatic stress disorder?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'posttraumatic stress disorder' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other ascites' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,"SELECT COUNT(*) FROM diagnoses_icd AS D1 JOIN diagnoses_icd AS D2 ON D1.hadm_id = D2.hadm_id WHERE D1.icd_code LIKE '298%' AND D2.icd_code LIKE '518%' AND D1.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
6012b1badcebf4d12139de0e,Get me patient 10026354's total output volume on 10/31/this year.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '10-31'",[{'SUM(outputevents.value)': None}],"SELECT SUM(chartevents.output) FROM chartevents WHERE chartevents.subject_id = 10026354 AND chartevents.charttime LIKE '10/31/%' AND chartevents.ITEMID IN ( SELECT d_items.ITEMID FROM d_items WHERE d_items.ITEMID IN ( 448, 455, 543, 551, 561, 565, 670, 678 ) )"
398d1c05773ae55b7220d406,What was the medication patient 10022017 was prescribed for the last time since 04/2100 via the sc route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND prescriptions.route = 'sc' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT medications.medication FROM medications WHERE medications.subject_id = 10022017 AND medications.order_id IN ( SELECT final_events.order_id FROM final_events WHERE final_events.route = 'sc' ) AND medications.charttime >= '04/2100' ORDER BY medications.charttime DESC LIMIT 1
d555deebd511e5b4c5c57695,"On 07/03/2100, did patient 10007818 have any input of dextrose 5%?","SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-07-03'",[{'COUNT(*)>0': 0}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10007818 AND chartevents.charttime = '07/03/2100' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%dextrose 5%' AND d_items.linksto = 'chartevents' )
814787a2d9c20960f6b872b9,Was patient 10020740 to the E.R. during the last year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10020740 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
a8ce51c1370a7fb07b65da1c,What's the protocol for anticancer drugs?,,,
c2e4f992fdf2b0fe03106e5a,Tell me the total number of patients in neuro stepdown since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro stepdown' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admittime >= datetime('now','-1 year') AND transfers.d Bay: I will correct the last SQL query to accurately reflect the intended question about the total number of patients in the neuro stepdown unit since 1 year ago:"
d84b738e8882f159cbf1debf,"Among patients who were diagnosed with postinflammatory pulmonary fibrosis, what were the top four most common microbiology tests conducted during the same month in 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'postinflammatory pulmonary fibrosis' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob = '2100-01-01' ) ) ORDER BY chartevents.charttime LIMIT 1; -- There is no data or table available that could answer this question, as postinflammatory pulmonary fibrosis is not a diagnostic code or condition that would be linked to microbiology test data in the provided schema, and the year 2100 is not a valid year for historical medical data."
b6403378bbfbec78e67126fc,Tell me the four most frequent treatments for patients aged 30s in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT procedures_icd.icd_code, d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime LIKE '2100%' AND admissions.anchor_age BETWEEN 30 AND 39 GROUP BY procedures_icd.icd_code ORDER BY frequency DESC LIMIT 4"
f727d26ce2437b323535a192,"For the patients with age 50s, what are the top five most frequent diagnoses since 2100?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
1c91054ab8b9cc71f46ad1dd,"Since 2100, how many patients were diagnosed with type 2 diabetes mellitus with diabetic polyneuropathy?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'type 2 diabetes mellitus with diabetic polyneuropathy' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE 'E11.4%' AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' )
24ad21be2a942f6c761d77d7,"During the first ICU stay, what was the first heart rate value of patient 10036156?",SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) ) ) AND chartevents.itemid = 220045 AND chartevents.valuenum IS NOT NULL ORDER BY chartevents.charttime ASC LIMIT 1
afa0e569514d9221f0ed8ad6,How much is the drug named tobramycin sulfate?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'tobramycin sulfate' ),,
228233a09c8164c6e564f551,"Has any organism been found in the first fluid,other microbiological test of patient 10021487 in 12/this year?","SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'fluid,other' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10021487 AND microbiologyevents.chartdate >= date('2021-12-01') AND microbiologyevents.chartdate < date('2022-01-01') AND microbiologyevents.spec_type_desc = 'Fluid, Other' AND microbiologyevents.org_id IS NOT NULL"
661a2833119e979de4228585,"Has patient 10029291 been prescribed with the medication perphenazine, furosemide, or neomycin-polymyxin-bacitracin since 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND prescriptions.drug IN ( 'perphenazine', 'furosemide', 'neomycin-polymyxin-bacitracin' ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT DISTINCT adm.subject_id FROM ( SELECT subject_id FROM prescriptions WHERE subject_id = 10029291 AND ( drug = 'perphenazine' OR drug = 'furosemide' OR drug = 'neomycin-polymyxin-bacitracin' ) ) AS adm
2374026e2104232fe78b6141,Did patient 10037975 have a enteral infusion of concentrated nutritional substances during their last hospital visit?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%enteral infusion%' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 0
3ee6a4091b6e165e3eab53d4,When is the earliest appointment for patient 14467 for other departments?,,,
426f5871dfa620cca1f14a84,Tell me the percentile for mcv of 89.0 among patients in the same age as patient 10020740 on the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 89.0",,
d594afe3713d185962186bc5,What was the organism's name of the first sputum microbiology test done on patient 10009049 in the last hospital encounter?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_specs.spec_itemid FROM d_microbiology_specs WHERE d_microbiology_specs.label = 'sputum' ) ORDER BY microbiologyevents.chartdate ASC LIMIT 1
baba1d99e845eb5d22b1c46a,Tell me the sum of the input volume for patient 10013049 since 05/12/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-05-12'",[{'SUM(inputevents.totalamount)': 10945.0}],
5a217759e9fc00e289c1d8c9,What are the newly prescribed medicines for patient 10018081 today compared to those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT a.* FROM ( SELECT * FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate >= CURDATE() AND prescriptions.startdate < DATE_ADD(CURDATE(), INTERVAL 1 DAY) ) a LEFT JOIN ( SELECT * FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND prescriptions.startdate < CURDATE() ) b ON a.drug = b.drug WHERE b.drug IS NULL"
1013430fc9817f02c815005a,Tell me the cost of a procedure known as continuous invasive mechanical ventilation for 96 consecutive hours or more.,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'continuous invasive mechanical ventilation for 96 consecutive hours or more' ) ),,
cfb16f496f6c359ae9e6da4e,"What are the costs of allergic rhinitis, cause unspecified diagnosis?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'allergic rhinitis, cause unspecified' ) )",,
2cffa622f6560d843482b50d,How much is the cost of the acute and subacute hepatic failure without coma diagnosing?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute and subacute hepatic failure without coma' ) ),,
dea9a4a3b6415cd9f853cbe4,"In 09/2100, how much dorzolamide 2%/timolol 0.5% ophth. has been prescribed to patient 10005348 in total?","SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND prescriptions.drug = 'dorzolamide 2%/timolol 0.5% ophth.' AND strftime('%Y-%m',prescriptions.starttime) = '2100-09'",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(c.totalamount) FROM prescriptions AS p JOIN pharmacy AS ph ON ph.stay_id = p.stay_id JOIN coalesce(prescriptions_detail AS pd, pharmacy AS ph) AS c ON c.prescription_id = p.prescription_id WHERE p.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND p.startdate >= '2009-01-01' AND p.startdate < '2010-01-01' AND p.drug = 'dorzolamide 2%/timolol 0.5% ophth.'"
be48ba72929ed97720c91848,What was the first time in 08/this year patient 10016742 had the maximum absolute eosinophil count value?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '08' ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'abs eosinophils' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2023-08-01' AND chartevents.charttime <= '2023-08-31' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
dbc236ec214beb6e0a9a5ff0,What is the treatment that patient 10016742 was given two or more times since 7 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-7 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(chartevents.charttime) >= datetime(current_time,'-7 month') GROUP BY chartevents.itemid HAVING COUNT(chartevents.charttime) >= 2"
0f7b20f0c3c6fb3264a2cc98,When did patient 10038933 get inputs for the first time on 09/22/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-09-22' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'inputs' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2000-09-22' ORDER BY chartevents.charttime ASC LIMIT 1
f9f35588ccc8bc79535ff166,Give me the three most common treatments since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
4805f5b946dd24bdc7c044c0,What are the four frequently ordered medications for patients diagnosed with paralytic ileus previously within the same month?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'paralytic ileus' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT m.* FROM (SELECT adm.hadm_id FROM admissions adm JOIN diagnoses_icd d ON adm.hadm_id = d.hadm_id WHERE d.icd_code LIKE '560.0' AND adm.admittime >= date_sub(CURRENT_DATE, INTERVAL 1 MONTH) GROUP BY adm.hadm_id) t JOIN prescriptions m ON t.hadm_id = m.hadm_id GROUP BY m.drug, m.strength, m.formulary_drug_cd ORDER BY COUNT(*) DESC LIMIT 4"
ffbd3d45d651d7e4ecf8aeaa,Could you fetch the top five most common specimens tested since 2100 for me?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
0ceee1a85a040c4d57c27a09,"Has patient 10008287 been ordered acetaminophen iv, dexamethasone, or heparin in 04/last year?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND prescriptions.drug IN ( 'acetaminophen iv', 'dexamethasone', 'heparin' ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10008287 AND prescriptions.startdate BETWEEN '2021-04-01' AND '2021-04-30' AND prescriptions.drug IN ('acetaminophen iv', 'dexamethasone', 'heparin')"
113cd45e55e5ce4b019aad28,What's the total of phenytoin infatab prescriptions since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'phenytoin infatab' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 0}],
ffe1a02ee978769dd4f4e53d,When did patient 10004733 get their last input on 12/24/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-12-24' ORDER BY inputevents.starttime DESC LIMIT 1",[],SELECT inputevents_mv.charttime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND inputevents_mv.charttime <= '12/24/2100' ORDER BY inputevents_mv.charttime DESC LIMIT 1
4a31a2d75cf6e073cdeef706,What was the name of the drug that was first prescribed for patient 10001725 since 04/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Ondansetron'}],SELECT admittime FROM admissions WHERE subject_id = 10001725 AND admittime >= '04/2100'
9f59f271601c4130d2301520,What was the weight of patient 10016742 first since 14 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime ASC LIMIT 1"
652d19150532597e8cba1e58,Has patient 10020306 been given any diagnosis since 2100?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100'",,SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10020306 AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' AND admissions.subject_id = 10020306 )
f2becb6d3806bef1b31ac86a,When was the first input time for patient 10008454 on this month/07?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '07' ORDER BY inputevents.starttime ASC LIMIT 1",[],"SELECT inputevents_mv.input_time FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND inputevents_mv.input_time >= date_format(current_timestamp, '%Y/%m/01') AND inputevents_mv.input_time < date_format(current_timestamp, '%Y/%m/01') + interval 1 month ORDER BY inputevents_mv.input_time ASC LIMIT 1"
f76e82ade10ee685ac166e82,What's the cost of a procedure named other endovascular procedures on other vessels?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endovascular procedures on other vessels' ) ),,
e5194571023c182470d8d9f8,When was the first time that patient 10005817's heart rate was measured at less than 84.0 on their first ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 84.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 84.0 ORDER BY chartevents.charttime ASC LIMIT 1
2ea0eb184438ab7110b6c335,"Fetch the top five most frequent procedures that were administered to patients within 2 months after they had drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(procedures_icd.icd_code) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN admissions ad2 ON admissions.subject_id = ad2.subject_id AND admissions.admittime >= ad2.admittime AND admissions.admittime <= ad2.admittime + INTERVAL '2 MONTH' WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' AND d_icd_procedures.category = 'procedure' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
ea8b16320ebc9e5ee3d92c14,"Since 03/2100, what was the last drug that patient 10012853 was prescribed through the iv route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) AND prescriptions.route = 'iv' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.drug FROM prescriptions INNER JOIN chartevents ON prescriptions.stay_id = chartevents.stay_id WHERE prescriptions.subject_id = 10012853 AND chartevents.charttime >= '03/2100' AND prescriptions.route = 'IV' ORDER BY chartevents.charttime DESC LIMIT 1
ef005db9fac61254bdbabbe7,What was the name of the drug that was prescribed last to patient 10011398 in 12/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, discharge_time FROM admissions WHERE subject_id = 10011398 AND admittime BETWEEN '2023-12-01' AND '2023-12-31' ORDER BY admittime DESC LIMIT 1"
ed4bfebb071d64a0de120838,How many of acetaminophen were prescribed to patient 10004235 in total in 07/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND prescriptions.drug = 'acetaminophen' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(csq.amount) FROM prescriptions AS pres JOIN d_cpt AS dc ON pres.cpt_cd = dc.cpt_cd JOIN d_items AS di ON pres.stop_reason = di.stop_reason JOIN daily_medication_summaries AS dms ON pres.order_date = dms.date JOIN daily_medication_summaries_quantities AS csq ON dms.id = csq.id WHERE pres.subject_id = 10004235 AND pres.order_date BETWEEN '2022-07-01' AND '2022-07-31' AND dc.cpt_title = 'acetaminophen'
9e339e1a8f7393ed2f0a342e,What are the new single rooms?,,,
8c389720f8914eabd76867e2,What are the five most common prescriptions in 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5",[],
db31b23e92a6097f61552803,Was patient 10005817 involved in any medical procedure last year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
32add9759f1cb2aad3668ce7,List the top four most common events that happened.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]","SELECT event_name, COUNT(*) AS event_count FROM events GROUP BY event_name ORDER BY event_count DESC LIMIT 4"
1089bbe66e821577636739ae,"In the last hospital encounter was readi-cat 2 (barium sulfate 2% suspension), glipizide xl, or sodium chloride 0.9% prescribed for patient 10029484?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( 'readi-cat 2 (barium sulfate 2% suspension)', 'glipizide xl', 'sodium chloride 0.9%' )",[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10029484 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ORDER BY admissions.admittime DESC LIMIT 1 ) AND ( prescriptions.drug = 'readi-cat 2' OR prescriptions.drug = 'glipizide xl' OR prescriptions.drug = 'sodium chloride 0.9%' )
9c3e936bd95a10b43339da38,When did patient 10007818 receive a mrsa screen microbiology test first in 07/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mrsa screen' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('2007-01-01') AND datetime(chartevents.charttime) < datetime('2008-01-01') ORDER BY chartevents.charttime ASC LIMIT 1
2ed30506921aece493589863,How much does a procedure known as partial hepatectomy cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'partial hepatectomy' ) ),,
4a5bb0f951af309dfe062485,When was the last time patient 10021487 had input on this month/11?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '11' ORDER BY inputevents.starttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND chartevents.charttime BETWEEN datetime(this_month||'/11','start of month') AND datetime(this_month||'/11','end of month') ORDER BY chartevents.charttime DESC LIMIT 1"
5c31e3d97360a4d0dc136eba,What was the five most common microbiology test conducted in 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],"SELECT d_micro.items, COUNT(*) FROM micro_results WHERE YEAR(micro_results.chartdate) = 2100 GROUP BY d_micro.items ORDER BY COUNT(*) DESC LIMIT 5"
14f4bb19aad791593fd86e30,Show me the top three most frequent output instances since 1 year ago.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
190982f3687093b621a95f14,"What's the cost to get drainage of pericardial cavity, percutaneous approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity, percutaneous approach' ) )",,
fcf30c1dc6ce58162c86998c,What was the five most common microbiology test conducted in this year?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],"SELECT test_name, COUNT(*) AS test_count FROM ( SELECT REPLACE(microbiologyevents.testname, ' / ', '/') AS test_name FROM microbiologyevents WHERE microbiologyevents.chartdate >= current_date - INTERVAL 1 YEAR ) AS subquery GROUP BY test_name ORDER BY test_count DESC LIMIT 5"
4a1dbfdbd15e295406eef0bf,Has patient 10020306 been treated with a unilateral simple mastectomy procedure since 1 year ago?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'unilateral simple mastectomy' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE a.subject_id = 10020306 AND p.icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'unilateral simple mastectomy') AND p.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
c630812541cf6dfbf08a52c9,List the top four most frequently tested specimens in this year.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4",[],"SELECT chartevents.itemid, chartevents.valuenum, d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.chartdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
f375194eb5908ee511e720c4,"What was the first reticulocyte count, automated value during the last month for patient 10039708?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'reticulocyte count, automated' ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'reticulocyte count, automated' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month') ORDER BY chartevents.charttime ASC LIMIT 1"
4d0e1664ae29fa72ddcd640f,How many patients were diagnosed with other specified retention of urine?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified retention of urine' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM diagnoses_icd WHERE ICD9_CODE = ( SELECT icd9_cm.icd9 FROM icd9_cm WHERE icd9_cm.long_title = 'Other specified retention of urine' )
1e888452b37ac8ca86b6980c,What the code that refers to icd-11 for senile dementia uncomp in icd-10?,,,
4fac3af5df19be6347d3c772,What is the price for acetazolamide sodium?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'acetazolamide sodium' ),,
f26a53de07f2471e33f3f8b5,What is the total number of excision of dental lesion of jaw procedures that took place in 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,
3dcaebddfb2987ddb1dc6ae7,Show me patient 10018081's daily average weight in 2100.,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) = '2100' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],
2dd85238210fd7a67447c15c,"Calculate the number of patients with altered mental status, unspecified who were diagnosed in 2100.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'altered mental status, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,"SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%altered mental status, unspecified%' ) AND EXTRACT(YEAR FROM admittime) = 2100"
982fb7efe92d6f33dcdb9848,What are the top five diagnoses associated with the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(death_icd.icd_code) AS death_count FROM admissions JOIN admissio icd ON admissions.hadm_id = admissio icd.hadm_id JOIN d_icd_diagnoses ON admissio icd.icd_code = d_icd_diagnoses.icd_code LEFT JOIN (SELECT icustays.hadm_id FROM icustays WHERE icustays.dod BETWEEN icustays.intime AND DATE_ADD(icustays.intime, INTERVAL 6 MONTH)) AS death_icd ON admissions.hadm_id = death_icd.hadm_id WHERE death_icd.hadm_id IS NOT NULL GROUP BY d_icd_diagnoses.short_title ORDER BY death_count DESC LIMIT 5"
b94c880fccb8435757f8e05b,Calculate patient 10008454's length of stay in days for the first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 4.983888888731599}]",SELECT julianday(icustays.intime)-julianday(icustays.outtime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ORDER BY icustays.intime ASC LIMIT 1
9c85a8ada2ee0422d27bcb39,What were the top five most common diagnoses that followed within 2 months for those who received insertion of endotracheal tube in this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of endotracheal tube' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) as diagnosis_count FROM ( SELECT admittime, icd9_code FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND EXISTS ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endotracheal tube insertion' ) ) AND admissions.admittime <= DATE_FORMAT(CURDATE(),'%Y-12-31') AND icd9_code NOT IN ( SELECT icd9_code FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endotracheal tube insertion' ) ) AND admissions.admittime <= DATE_ADD(procedures_icd.chartdate, INTERVAL 2 MONTH) ) AS subsequent_diagnoses GROUP BY icd9_code ORDER BY diagnosis"
1479c9147e64755116efc852,"In the last hospital visit, how much gemfibrozil has been prescribed to patient 10007795 in total?",SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'gemfibrozil',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdos.amount) FROM prescriptions AS p JOIN pharmacy AS cdos ON cdos.order_id = p.order_id JOIN d_items AS di ON di.itemid = p.stop_reason WHERE p.subject_id = 10007795 AND di.label = 'GEMFIBROZIL' ORDER BY p.hadm_id DESC LIMIT 1
8ab3e1bbd488c2eaae721412,Show me the top five most common treatments for patients aged 50s since 1 year ago.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT top 5 icustays.stay_id, icustays.hadm_id, icustays.first_careunit, icustays.last_careunit FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time,'-1 year') AND admissions.dob BETWEEN datetime(current_time,'-51 year') AND datetime(current_time,'-50 year') GROUP BY icustays.stay_id, icustays.hadm_id, icustays.first_careunit, icustays.last_careunit ORDER BY count(*) DESC"
2ff2e805ec42ef3feedcd1aa,What was the number of patients receiving thoracoscopic decortication of lung during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'thoracoscopic decortication of lung' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,"SELECT COUNT(*) FROM procedures_icd AS p INNER JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE p.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'thoracoscopic decortication of lung' ) AND a.admittime >= DATE_FORMAT(NOW(),'%Y-01-01')"
3f43e5ace937d4b9a8b18b3f,How many hours has it been since the first diagnosis of other iatrogenic hypotension in patient 10021487 on their current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other iatrogenic hypotension' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - julianday(diagnoses_icd.admittime) AS hours_since_diagnosis FROM diagnoses_icd INNER JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.subject_id = 10021487 AND diagnoses_icd.icd_code LIKE 'E%90%' AND admissions.dischtime IS NULL
3f525ce33fe40722b1b64deb,How many lidocaine jelly 2% (urojet) prescriptions took place in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'lidocaine jelly 2% (urojet)' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],
6ef2fe833cee5960612ae052,Does patient 10211 have an appointment in other department?,,,
c1e6eda2955990fe92f24709,What are the five frequently ordered drugs for patients diagnosed with unspecified condition of brain previously in the same month?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified condition of brain' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT drugs.drug, COUNT(*) as count FROM drugs INNER JOIN diagnoses ON drugs.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code = ( SELECT icd9cm.icd_code FROM icd9cm WHERE icd9cm.long_title LIKE '%unspecified condition of brain%' ) AND drugs.charttime >= DATE_FORMAT(CURDATE() ,'%Y-%m-01') AND drugs.charttime <= LAST_DAY(CURDATE()) GROUP BY drugs.drug ORDER BY count DESC LIMIT 5"
1d64d81dcd56c92b92cf34ad,Did patient 10021938 have any diagnoses during the first hospital encounter?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.hospital_expire_flag = 0 ORDER BY admissions.admittime ASC LIMIT 1 )
f3fb1b7298f0046e0b6c55ba,Has there been a hospital admission for patient 10016810 since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10016810 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10016810 AND admissions.admittime >= datetime(current_time, '-1 year')"
11bbd36c75760dc9c37a98e7,"What was the maximum value of patient 10038999's total protein, pleural since 03/2100?","SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, pleural' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-03'",[{'MAX(labevents.valuenum)': None}],"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total protein, pleural' ) AND chartevents.charttime >= '2000-03-01 00:00:00'"
792f2622a77b8638438de22f,"For patients diagnosed with other specified retention of urine before, what are the top five most common treatments in the same hospital visit?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified retention of urine' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM admissions INNER JOIN icd9_dgns_chls ON admissions.hadm_id = icd9_dgns_chls.hadm_id INNER JOIN d_icd_diagnoses ON icd9_dgns_chls.icd_code = d_icd_diagnoses.icd_code INNER JOIN icd9_prsnl_chls ON admissions.hadm_id = icd9_prsnl_chls.hadm_id INNER JOIN procedures_icd ON icd9_prsnl_chls.icd_code = procedures_icd.icd_code INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_diagnoses.short_title = 'Other specified retention of urine' GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
67a50f9b79bc4e4a7c653ac5,What are the five most frequent diagnoses that patients were diagnosed within 2 months after having received a excision of dental lesion of jaw procedure?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of dental lesion of jaw' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'excision of dental lesion of jaw' ) ) ) AND ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'excision of dental lesion of jaw' ) ) + INTERVAL 2 MONTH ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
04aa90b4226c2ae74327b579,What was the name of the output which patient 10004733 had last had since 03/07/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-07' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
5b3ff38fc5977d41f2919e7f,Show me the top four most commonly prescribed drugs since 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]",
7fc9012c75133098e145243a,"Retrieve the top four most frequent procedures that patients were given within 2 months after receiving occlusion of right vertebral artery with intraluminal device, percutaneous approach throughout this year.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'occlusion of right vertebral artery with intraluminal device, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'occlusion of right vertebral artery with intraluminal device, percutaneous approach' ) AND chartdate BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH) AND CURRENT_DATE ) ) ) GROUP BY d_icd_procedures.icd_code ORDER BY procedure_count DESC LIMIT 4"
c559da124dcc274c8d5b1e61,How many patients were given insulin human regular prescriptions since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'insulin human regular' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
f8afb5281dcdfe12ea07f322,How much is the price for lenalidomide (revlimide)15mg?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'lenalidomide (revlimide)15mg' ),,
74439a67da9347c057e1d1c8,When had patient 10016810 last been prescribed for pseudoephedrine and levothyroxine sodium at the same time since 06/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'pseudoephedrine' AND admissions.subject_id = 10016810 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'levothyroxine sodium' AND admissions.subject_id = 10016810 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT MAX(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10016810 AND prescriptions.drug IN ('pseudoephedrine', 'levothyroxine sodium') AND prescriptions.startdate >= '2000-06-01' AND prescriptions.dose_unit_id = 22 AND prescriptions.route_id = 2"
662a8bb09520c819a88e24a6,How many hours has it been since the last unspecified septicemia diagnosis of patient 10018081 during this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified septicemia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT (datetime(current_timestamp) - datetime(procedures_icd.chartdate)) / 60 / 60 AS hours_since_septicemia FROM procedures_icd WHERE procedures_icd.subject_id = 10018081 AND procedures_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified septicemia' ) ORDER BY procedures_icd.chartdate DESC LIMIT 1
d0de144bda7a040a2f9dfa07,Can you tell me when patient 10007818's first microbiology test was in 06/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-06' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.chartdate FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND microbiologyevents.chartdate LIKE '2100-06%' ORDER BY microbiologyevents.chartdate ASC LIMIT 1
86633ae70ad8fa5a8c7ee1ad,"Of the patients of age 40s , what were the top three most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as frequency FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code INNER JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.anchor_age BETWEEN 40 AND 49 GROUP BY diagnoses_icd.icd_code ORDER BY frequency DESC LIMIT 3"
08ae61222ba27e2b2592fc0d,"During the last year, was patient 10001217 at the emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admittime BETWEEN datetime(current_time, '-1 year') AND datetime(current_time) AND admissions.hospital_expire_flag = 0"
e277a867e388255263046134,"Tell me the average total cost of a hospital visit involving a phosphate, urine lab test?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate, urine' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(b.totalcharges) FROM admissions a JOIN totalcharges b ON a.hadm_id = b.hadm_id WHERE a.hadm_id IN (SELECT hadm_id FROM labevents WHERE itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%phosphate, urine%'))"
f67318674d2ce3452b9792f6,When did patient 10038933 since 07/17/2100 for the first time have an input?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-17' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2148-09-10 13:30:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '07/17/2100' ORDER BY chartevents.charttime ASC LIMIT 1
802527c0be8a9149dbd4a8eb,What was the name of the organism that was found during the last urine test of patient 10008454 in 12/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT micro_test_results.org_name FROM micro_test_results WHERE micro_test_results.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND datetime(micro_test_results.chartdate) = datetime('12/2100') ORDER BY micro_test_results.chartdate DESC LIMIT 1
9d8591acb0d3258f159e45cc,"What is the average yearly number of patients affected by diabetes mellitus without mention of complication, type ii or unspecified type, not stated as uncontrolled since 2100?","SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'diabetes mellitus without mention of complication, type ii or unspecified type, not stated as uncontrolled' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,"SELECT COUNT(*)/(strftime('%Y', MAX(admissions.admittime)) - strftime('%Y', MIN(admissions.admittime))) FROM admissions WHERE admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.dbsource = 'metavision' AND icustays.icustay_id IN ( SELECT inputevents_mv.icustay_id FROM inputevents_mv WHERE inputevents_mv.ordercategoryname = 'Nutrition' AND inputevents_mv.amount >= 50 AND inputevents_mv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'inputevents_mv' AND d_items.category = 'Medications' AND d_items.label LIKE '%diabetes mellitus without mention of complication%' AND d_items.dbtable = 'inputevents_mv' ) ) )"
a39b48bf94054784fed63d35,What is today's outpatient schedule with dr. welling?,,,
653d08c20f74e5bc126dbcac,"Get me the top five most frequent medications that patients were prescribed with during the same month after being diagnosed with personal history of other endocrine, nutritional and metabolic disease.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of other endocrine, nutritional and metabolic disease' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m1.medication, COUNT(*) AS frequency FROM medications m1 JOIN admissions a ON m1.hadm_id = a.hadm_id JOIN diagnoses d ON a.hadm_id = d.hadm_id WHERE d.icd_code = (SELECT icd_code FROM diagnoses WHERE long_title = 'personal history of other endocrine, nutritional and metabolic disease') AND MONTH(m1.starttime) = MONTH(d.charttime) AND YEAR(m1.starttime) = YEAR(d.charttime) GROUP BY m1.medication ORDER BY frequency DESC LIMIT 5"
49844eb3d519ede694dbad6b,List the top five most frequent specimens that patients were tested within 2 months after receiving percutaneous [endoscopic] gastrostomy [peg].,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime BETWEEN datetime((SELECT chartevents.charttime FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.shortcut = 'PEGS') ,'+2 month') AND datetime(current_time) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT chartevents.subject_id FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.shortcut = 'PEGS' ) ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
1b28768e1c1598353e806a5d,What was the daily maximum input of or colloid intake for patient 10039831 on the current ICU encounter?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND icustays.outtime IS NULL ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or colloid intake' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' OR d_items.label LIKE '%colloid%' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum IS NOT NULL GROUP BY chartevents.stay_id
d4e9772857153946f3bf287d,Can you indicate the daily average dose of replete with fiber (full) that patient 10021487 received since 9 months ago?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'replete with fiber (full)' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime) >= datetime(current_time,'-9 month') GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'replete with fiber (full)' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-9 month')"
77bf5aa2f4ab92df9d557a77,What was the drug name that patient 10037861 was first prescribed through the ih route on the last hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'ih' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT admittime, dischargeime, firstValue(medication_name) over (partition by subject_id order by admittime, dischargeime, medication_name) as first_medication FROM ( SELECT admissions.subject_id, admissions.admittime, admissions.dischtime, d_cpt.name as medication_name FROM admissions JOIN ( SELECT hadm_id, name FROM d_cpt WHERE d_cpt.route = 'ih' ) as temp ON admissions.hadm_id = temp.hadm_id WHERE admissions.subject_id = 10037861 ) AS subquery ORDER BY admittime DESC LIMIT 1"
fbe7d2b820e2ed531e0311d7,What is the pricing for 0.9% sodium chloride?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = '0.9% sodium chloride' ),,
c6fff4b55ab874dfb73037a3,"What are the four commonly given procedures for patients that also received reposition left mandible with external fixation device, percutaneous approach previously within 2 months, since 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'reposition left mandible with external fixation device, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT DISTINCT TOP 4 procedures_icd.procedure_name FROM procedures_icd JOIN admissions ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.procedure_name = 'reposition left mandible with external fixation device, percutaneous approach' AND admissions.admittime >= '2021-01-01' AND EXISTS ( SELECT * FROM procedures_icd AS p2 JOIN admissions AS a2 ON a2.hadm_id = p2.hadm_id WHERE p2.procedure_name = 'reposition left mandible with external fixation device, percutaneous approach' AND a2.admittime BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) ) ORDER BY COUNT(*) DESC"
2a21e251ed3b120d205aa09a,When was patient 10035185's first input time since 04/13/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-13' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2120-05-13 17:26:00'}],SELECT inputevents_mv.input_time FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND inputevents_mv.input_time > '2000-04-13' ORDER BY inputevents_mv.input_time ASC LIMIT 1
bbfa77367f4475e333c7a834,What is today's outpatient schedule with dr. burgess?,,,
fc0310f4a0e6c3791fc800f8,"What is the average expense for assistance with cardiac output using balloon pump, continuous?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) )",,"SELECT AVG(itemcharges.chargelist_charge) FROM itemcharges JOIN d_chargelist ON itemcharges.chargelist_id = d_chargelist.chargelist_id WHERE d_chargelist.description = 'Assistance with Cardiac Output using balloon pump, continuous'"
a8fc0b9f87df5a45d66da39e,"Can you tell me the cost for the procedure called drainage of left pleural cavity, percutaneous approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) )",,
d9cc62f7c052734452299128,What is the number of drugs patient 10037861 was prescribed?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ),[{'COUNT(*)': 265}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10037861
dd87fb2dfb9bf1eaf69c3a59,When has patient 10019172 had the first input since 03/05/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-05' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2118-11-16 11:20:00'}],
d7c14bbe3a56d6a3b48cc26d,When did patient 94757 last have medication that should be taken regularly?,,,SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 94757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.abbreviation IN ( SELECT d_items.abbreviation FROM d_items WHERE d_items.category = 'Medications' AND d_items.linksto = 'chartevents' AND d_items.abbreviation LIKE '%q%' ) ) ORDER BY chartevents.charttime DESC LIMIT 1
75349759bb3df71a7b6f7649,When was the last time patient 10038081 was prescribed medication via the iv route in 10/this year?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10038081 AND YEAR(admittime) = YEAR(CURRENT_DATE) AND MONTH(admittime) = 10 ORDER BY admittime DESC LIMIT 1
d6f34e43fb6592a8c64d3f94,Has patient 10019917 been checked into the hospital since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019917 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019917 AND admissions.admittime >= datetime('now','-1 year')"
75f06d4831e589b2c6c537f0,What medication was prescribed for the last time since 04/2100 to patient 10015931?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'LORazepam'}],"SELECT admittime, dischtime, subject_id, hadm_id, drug FROM prescriptions WHERE subject_id = 10015931 AND datetime(admittime) >= datetime('2021-04-01') ORDER BY dischtime DESC LIMIT 1"
87a08ba4fb163b2b667c4c13,When was the last time patient 10021487 was measured with a SaO2 greater than 97.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 97.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 97 ORDER BY chartevents.charttime DESC LIMIT 1
54ab42240e681be312ba36be,What was the name of the drug that was prescribed to patient 10020306 last time through the im route in 11/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020306 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10020306
9b39448454fb368c2b7fb229,Can you tell me what patient 10007795's last heart rate was during the first ICU visit?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1
2be33c796f39654a64acc2af,"What are the five most commonly tested specimens for patients who were diagnosed with chronic osteomyelitis, site unspecified previously within the same month, throughout this year?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic osteomyelitis, site unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.dischtime >= DATE_FORMAT(NOW(),'%Y-01-01') AND admissions.subject_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '720.0' ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'specimen' ) GROUP BY chartevents.valuenum ORDER BY COUNT(*) DESC LIMIT 5"
3e877dc92daa5d8f28115762,"What is the total count of performance of cardiac output, continuous procedures that were done since 1 year ago?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac output, continuous' ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
42d77c1fd11fc0abbd3449b8,How much simethicone was prescribed to patient 10022017 last on their first hospital visit?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'simethicone' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Simethicone' ) ORDER BY chartevents.charttime DESC LIMIT 1
dc972f955fcddfb8a89d6ba2,"List the top four most frequent microbiology tests given to patients after being diagnosed with accidental puncture or laceration during a procedure, not elsewhere classified in the same hospital visit throughout this year.","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidental puncture or laceration during a procedure, not elsewhere classified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT test_name, COUNT(*) AS count FROM microbiology_tests JOIN diagnoses_icd ON microbiology_tests.stay_id = diagnoses_icd.stay_id WHERE diagnoses_icd.icd_code = 'S240X0AA' AND microbiology_tests.chartdate BETWEEN DATE_FORMAT(CURDATE(),'%Y-01-01') AND CURDATE() GROUP BY test_name ORDER BY count DESC LIMIT 4"
e73df961ffb6ab9df8d8eeab,What specimen test was given in their last hospital encounter to patient 10013049 for the last time?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) ORDER BY chartevents.charttime DESC LIMIT 1
55fe6d305b76e501677eed35,What was the name of the specimen that patient 10001725 received for the last time?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'URINE'}],SELECT chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'specimen name' ) ORDER BY chartevents.charttime DESC LIMIT 1
e7d455d2f4e0704722248c62,"Since 08/11/2100, when was the last input time for patient 10039997?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-08-11' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2134-09-08 17:50:00'}],SELECT inputevents_mv.input_time FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND inputevents_mv.input_time >= '08/11/2100' ORDER BY inputevents_mv.input_time DESC LIMIT 1
0939295415266bebd843029a,Can you show me the five most frequent outputs in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT outputevents.outputvalue, COUNT(*) as count FROM outputevents WHERE outputevents.hadm_id = 2100 GROUP BY outputevents.outputvalue ORDER BY count DESC LIMIT 5"
2a3d64117cc11a9362dcd9fd,List the five most frequent diagnoses a patient was diagnosed with within 2 months after receiving central venous catheter placement with guidance since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM admissions JOIN admissions ON admissions.subject_id = admissions.subject_id JOIN icd diagnoses ON diagnoses.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN datetime(current_time,'-1 year') AND datetime(current_time) AND diagnoses.seq_num IN ( SELECT diagnoses.seq_num FROM diagnoses JOIN admissions ON admissions.hadm_id = diagnoses.hadm_id WHERE admissions.admittime BETWEEN datetime(current_time,'-1 year') AND datetime(current_time,'-2 month') AND diagnoses.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'central venous catheter placement with guidance' ) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
5d3b63e510deecde492912dc,What culture was patient 10021666 first tested?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],"SELECT chartevents.charttime, chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%culture%' ) ORDER BY chartevents.charttime ASC LIMIT 1"
ef1717a5f8cb73c78748607d,What is the disinfection technique in a quarantine room??,,,
fa39db2734c74d5812a74112,When was the first time patient 10027602 had input since 11/26/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-11-26' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2201-10-30 12:08:00'}],
8a73eab771e03264c24fffde,What was the first value of respiratory rate patient 10014078 had?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' ) ORDER BY chartevents.charttime ASC LIMIT 1
107acacd9df083f664395e57,How many times patient 10018501 came to the hospital in this year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10018501 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.admittime >= DATE_FORMAT(NOW(),'%Y-01-01 00:00:00')"
7b58a0880a46238d4e9722c0,What to prepare for the pulmon art wedge monitor procedure?,,,
bddff1513f83253443df0ee2,"Count the number of people who received drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic within 2 months after having been diagnosed with other cirrhosis of liver in 2100.","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other cirrhosis of liver' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE patients.dob = '2100-01-01' AND icd_diagnoses.icd_code LIKE 'K74%' AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.short_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND DATEDIFF(procedures_icd.chartdate, icd_diagnoses.chartdate) BETWEEN 1 AND 60"
7f130db92be0aad49a7104a6,What new drugs are prescribed for patient 10004733 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT admittime, dischtime, subject_id, hadm_id, drug FROM prescriptions WHERE subject_id = 10004733 AND startdate BETWEEN (SELECT date_sub(NOW(), INTERVAL 1 DAY)) AND NOW() GROUP BY drug HAVING COUNT(DISTINCT startdate) = 1"
c919552da540025ef269dfef,Tell me all of the prescriptions patient 2518 was given in the other department,,,"SELECT prescriptions.drug, prescriptions.dose, prescriptions.form, prescriptions.route, prescriptions.rate FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 2518 AND admissions.hospdept != 'other'"
b3c8c99b83e01986b79456be,What drugs are being added to the prescription of patient 10039831 today compared to those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT today.drug_name, yesterday.drug_name FROM ( SELECT prescriptions.drug_name, prescriptions.startdate FROM prescriptions JOIN patients ON patients.subject_id = prescriptions.subject_id WHERE patients.subject_id = 10039831 AND prescriptions.startdate = current_date ) today LEFT JOIN ( SELECT prescriptions.drug_name, prescriptions.startdate FROM prescriptions JOIN patients ON patients.subject_id = prescriptions.subject_id WHERE patients.subject_id = 10039831 AND prescriptions.startdate = current_date - INTERVAL 1 DAY ) yesterday ON today.drug_name = yesterday.drug_name WHERE yesterday.drug_name IS NULL"
42495442e7c6484bb48ed957,Tell me the icd-11 code for tobacco use disorder in icd-10?,,,
edf4e6f3df6825947d302e8e,When was the last time patient 10020944 measured its respiratory rate less than 21.0 since 348 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 21.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-348 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' ) AND chartevents.valuenum < 21.0 AND chartevents.charttime >= datetime('now', 'localtime', '-348 days') ORDER BY chartevents.charttime DESC LIMIT 1"
4f9e42945038788848999c30,Display the top five most commonly prescribed drugs since 1 year ago.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= NOW() - INTERVAL '1 YEAR' GROUP BY d_items.label ORDER BY frequency DESC LIMIT 5"
8652b04e3fb0b55bfcabf37a,What was the count of patients who were prescribed phosphorus during the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'phosphorus' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT pharmacy.orders.subject_id) FROM pharmacy.orders WHERE pharmacy.orders.order_time >= datetime(current_time,'-1 year') AND pharmacy.orders.item_name = 'phosphorus'"
2d745a50f391efc3dab3ccd8,What was the medication patient 10014354 was prescribed for the last time since 05/2100 via the im route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10014354 AND admittime >= '05/2100' LIMIT 1
a280ab4c51d6d7b334f1d575,Is the arterial blood pressure systolic level of patient 10018081 second measured on the current ICU visit less than first measured on the current ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT chartevents.valuenum AS second_measurement FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.intime <= current_time ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ABP Systolic' ) ORDER BY chartevents.charttime ASC LIMIT 1, 1 < ( SELECT chartevents.valuenum AS first_measurement FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.intime <= current_time ) AND chartevents.itemid = ( SELECT"
515fbb81432c9872301c377a,Which drug was the last one prescribed for patient 10007818 in 07/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT c.poeid FROM poe_events e JOIN poe_current c ON c.poeid = e.poeid JOIN patients pat ON pat.subject_id = e.subject_id WHERE e.subject_id = 10007818 AND e.charttime BETWEEN '2023-07-01' AND '2023-07-31' ORDER BY e.charttime DESC LIMIT 1
c0abdf612c0f0fba7baee7ec,Can you inform me of the first neutrophils test result for patient 10002495 in 06/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'neutrophils' ) AND strftime('%Y-%m',labevents.charttime) = '2100-06' ORDER BY labevents.charttime ASC LIMIT 1",[],
f460b01f60e21810e3c0e875,What would the average yearly number of patients diagnosed with coronary atherosclerosis of autologous vein bypass graft be since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'coronary atherosclerosis of autologous vein bypass graft' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,
c749d56aa8cacdcfa66338ba,Tell me all the prescriptions that patient 83062 received at the other department.,,,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 83062 AND admissions.hospital_service != ( SELECT admissions.hospital_service FROM admissions WHERE admissions.subject_id = 83062 LIMIT 1 ) )
d1d3935b2877cebd687efc35,How much difference is there in phosphate levels among patient 10015931 second measured on the first hospital visit compared to the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH first_visit AS ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 LIMIT 1 ), second_phosphate AS ( SELECT labevents.valuenum as second_value FROM labevents WHERE labevents.hadm_id = ( SELECT first_visit.hadm_id FROM first_visit ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY labevents.charttime ASC LIMIT 1, 1 ), first_phosphate AS ( SELECT labevents.valuenum as first_value FROM labevents WHERE labevents.hadm_id = ( SELECT first_visit.hadm_id FROM first_visit ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) ORDER BY labevents.charttime ASC LIMIT 1 ) SELECT (second_phosphate.second_value - first_phosphate.first_value) as difference FROM second_phosphate, first_phosphate"
1117a3336b3c103b088eb297,"For patients previously diagnosed with compression of vein in 2100, what were the four most frequent specimens tested during the same hospital visit afterward?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'compression of vein' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '2100' AND diagnoses_icd.icd_version = 9 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 4"
d28d6593912738578589157f,What is the percentile of 80.0 in the ferritin lab test with the same age as patient 10002428 on the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ferritin' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 80.0",,
5869a0526721f0fc5641901e,What is the name of a procedure patient 10007795 underwent two or more times since 14 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-14 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_procedures.procedure_name FROM d_procedures INNER JOIN procedures ON d_procedures.procedure_id = procedures.procedure_id WHERE procedures.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795) AND procedures.chartdate >= current_date - INTERVAL '14 MONTH' GROUP BY d_procedures.procedure_name HAVING COUNT(*) >= 2
3c7a16e5114441d4d413d8fd,Could you list patient 10011398's daily minimum weight on their first hospital encounter?,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT MIN(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10011398 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'Daily weight' )
3d09ada3209f58b132f11030,Show me the length of time in days patient 10031757 was in the ICU during the last visit.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.1996527779847383}]","SELECT DATEDIFF(MAX(chartevents.charttime), MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ORDER BY icustays.intime DESC LIMIT 1 )"
fd8bbc85aa480d84c446fef0,Tell me the maximum respiratory rate for patient 10039831's body since 06/29/2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-06-29'",[{'MAX(chartevents.valuenum)': None}],
a6e53a5c90ec55b54a024a95,When are dr. young's rounds and procedures?,,,
826d5f58864744f66f50a9f1,Is patient 44848 subject to a test for covid-19?,,,SELECT COUNT(*)>0 FROM chartevents WHERE subject_id = 44848 AND itemid IN ( SELECT itemid FROM d_items WHERE label = 'COVID-19 test' )
58b2237d10cf18728234ae55,How many patients were given heparin since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'heparin' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 2}],
69b33b1e544e77eca6472b64,Give me the four most common microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}]",
c7de791a9a6825a9859e12f1,Could you tell me the name of the drug prescribed to patient 10025463 within the same hospital visit after the cardiac mapping procedure since 08/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-08' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittimes.admittime, admittimes.dischtime, prescriptions.drug FROM admissions INNER JOIN admittimes ON admissions.admittime = admittimes.admittime INNER JOIN prescriptions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10025463 AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) ) AND admittimes.admittime >= '08/2100' AND prescriptions.startdate BETWEEN admittimes.admittime AND admittimes.dischtime"
f081cc4e63e6199eb7122b0c,Existe-t-il a genetic test that is recieved by patient 54700?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 54700 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'Genetic test' )
14db1e998fac387f2026f225,When was the last time patient 10021487 measured its mean blood pressure less than 63.0 since 339 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 63.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-339 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.label LIKE '%mean blood pressure%' ) AND chartevents.valuenum < 63 AND chartevents.charttime > datetime('now','-339 day') ORDER BY chartevents.charttime DESC LIMIT 1"
f35e3b8882888f20f738170e,Tell me what to prepare before the non-invasive mech vent procedure,,,
d15888d8cda931dc5035830d,Can you tell me which were the top three most frequent specimens tested?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT d_items.label, COUNT(*) AS frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Specimen' GROUP BY d_items.label ORDER BY frequency DESC LIMIT 3"
6b9aea1e113e3ec6de66929b,"What were the five most commonly performed lab tests for patients who were previously diagnosed with cholangitis in the same hospital visit, in this year?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cholangitis' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) as count FROM labevents INNER JOIN d_items ON labevents.itemid = d_items.itemid INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.admit_dt BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') AND CURDATE() AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN icd9 WHERE admissions.hadm_id = icd9.hadm_id AND icd9.icd9_code LIKE '576%' ) GROUP BY d_items.label ORDER BY count DESC LIMIT 5"
d44b7e9b8f15bdcd053d65f3,"Since 2100, how often was excision of left saphenous vein, percutaneous endoscopic approach done?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left saphenous vein, percutaneous endoscopic approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left saphenous vein, percutaneous endoscopic approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2000-01-01' )"
e7aa4b2720464fe5f689b5f0,When was the first hospital discharge time for patient 10035185?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10035185 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2120-05-17 16:00:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10035185 ORDER BY admissions.dischtime ASC LIMIT 1
1e644096c1912f2f70a3c917,What was patient 10015860's insurance name during the first hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT admissions.hospitalization.insurance FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime ASC LIMIT 1
51e820358aab679bf6555ec8,"Could you tell me the minimum total hospital cost that includes respiratory ventilation, greater than 96 consecutive hours since 1 year ago.","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(costs.total_cost) FROM costs JOIN admissions ON costs.hadm_id = admissions.hadm_id WHERE admissions.icd9_code LIKE '%respiratory ventilation%' AND costs.ccost > 96 AND datetime(admissions.admittime) >= datetime(current_timestamp,'-1 year')"
567d369cd559cd950e3354cf,"Since 1 year ago, what are the three common diagnoses of patients of age 20s?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM admissions JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE admissions.admit_dt >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND admissions.anchor_age BETWEEN 20 AND 29 GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 3"
acc3a9c211f42e9d6d154a20,What are the top five diagnoses associated with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS deaths FROM diagnoses_icd INNER JOIN icustays ON diagnoses_icd.hadm_id = icustays.hadm_id INNER JOIN patients ON icustays.subject_id = patients.subject_id WHERE patients.dod BETWEEN patients.dob AND DATE_ADD(icustays.intime, INTERVAL 3 MONTH) GROUP BY d_icd_diagnoses.short_title ORDER BY deaths DESC LIMIT 5"
394a6722595bd4c93789a2b6,"Metoprolol tartrate, phytonadione, or vitamin d has been prescribed for patient 10003400.","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003400 ) AND prescriptions.drug IN ( 'metoprolol tartrate', 'phytonadione', 'vitamin d' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10003400 AND prescriptions.drug IN ('Metoprolol tartrate', 'Phytonadione', 'Vitamin D')"
b3f1921213d20471bf74e2f5,What was the name of the drug that was prescribed to patient 10027445 in the same hospital encounter after having had a percutaneous balloon valvuloplasty procedure since 08/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous balloon valvuloplasty' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-08' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT medications.order_detail FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND medications.charttime > ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.subject_id = 10027445 AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'Percutaneous balloon aortic valvuloplasty' ) ) AND medications.order_type = 'DIAGNOSTIC' OR medications.order_type = 'DRUG' ORDER BY medications.charttime ASC LIMIT 1
880554dbb2de7644801cbf6e,Can you tell me the four most frequent diagnoses since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 4"
416848aeaf8b172ffb8fe4fb,What are the four most frequently performed treatments for patients in their 30s throughout this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT treatment, COUNT(*) AS frequency FROM ( SELECT chartevents.value AS treatment FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.admittime >= DATE_FORMAT(NOW(),'%Y-01-01') AND admissions.dob BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') - INTERVAL 31 YEARS AND DATE_FORMAT(NOW(),'%Y-01-01') - INTERVAL 30 YEARS ) AS treatments GROUP BY treatment ORDER BY frequency DESC LIMIT 4"
bfd7a42fc2f55f570373a0ef,What was the average value of monocytes for patient 10006053?,SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ),[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND d_items.label = 'monocytes'
edb3cbffb2caabbeb6d54ab6,Retrieve the top five most frequent output occurrences.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT value, COUNT(*) AS frequency FROM outputevents GROUP BY value ORDER BY frequency DESC LIMIT 5"
0bf13d65d6a6c37aaf9ffd42,How many patients were administered divalproex (delayed release) since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'divalproex (delayed release)' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_code = '2100' AND prescriptions.drug = 'divalproex (delayed release)'
0c36b014ddebc557e87c1e72,List the top five diagnoses that have the highest 6-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT diagnoses_icd.icd_code, d_icd_diagnoses.short_title, COUNT(deaths.hadm_id)/COUNT(diagnoses_icd.hadm_id)*100 AS mortality_rate FROM diagnoses_icd LEFT JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code LEFT JOIN deaths ON diagnoses_icd.hadm_id = deaths.hadm_id GROUP BY diagnoses_icd.icd_code ORDER BY mortality_rate DESC LIMIT 5"
09a725954294822d94f728cd,How many hours has it been since the last time in the current hospital encounter that patient 10018081 was diagnosed with hypopotassemia?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypopotassemia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT (CURRENT_TIMESTAMP - MAX(chartevents.charttime)) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label = 'hypopotassemia' )
56ed63e758861043fc857932,What was the first diagnosis for patient 10017492 since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,
ac30cc56e20308d54af2b8cd,When was the last time that patient 10022281 had a maximum SaO2 in the first ICU visit?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_careunit = 'ICU' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
258a0365b34cfcb6501ad3c2,How much did patient 10026354 weigh when measured for the last time since 14 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime DESC LIMIT 1"
27f061fabd9f7d2e99e832c3,Give me the total amount of dextrose 5% given to patient 10021487 since 10/04/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-04'",[{'SUM(inputevents.totalamount)': None}],
94ebd65b4f618bfded23ea2d,"Give me the count of drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic procedures that occurred in the last year.","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') ) AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' )"
54234a211c3fb7360ae4e161,What amount of fish oil (omega 3) has been prescribed to patient 10004457 for the last time during their last hospital encounter?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'fish oil (omega 3)' ORDER BY prescriptions.starttime DESC LIMIT 1,[],"SELECT orderitems.quantity, orderitems.formula FROM orderitems JOIN orders ON orderitems.order_id = orders.order_id WHERE orders.subject_id = 10004457 AND orders.order_type = 'DIAGNOSTIC' AND orderitems.formula LIKE '%fish oil%' OR orderitems.formula LIKE '%omega 3%' ORDER BY orders.order_date DESC LIMIT 1"
e17c8e6fc29a5b5e084734c4,What is the change in the medication of patient 10018081 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],
b78c0434ecf85c58970b853d,What is the cost of a diagnosis of long term (current) use of anticoagulants?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long term (current) use of anticoagulants' ) ),,
9baa4740ed5e93a3f8178055,Tell me the average total cost of a hospital visit involving esophageal reflux in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophageal reflux' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
e459f2e457c29b8387ed9964,"What are the three most frequently taken specimens for patients diagnosed with traumatic shock previously during the same hospital visit, since 1 year ago?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'traumatic shock' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'T36' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ) ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
8a1b6e9c62cf3eae76e1d86d,How many current patients are there in the 60 or above age group?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,"SELECT COUNT(*) FROM patients WHERE patients.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR)"
4d0cbd90ae58506f9467785f,When was the last time that patient 10001725 was tested for eosinophils on their first hospital encounter?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'eosinophils' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.admittime = ( SELECT min(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10001725 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'eosinophils' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
d84033aab28898c9a733e209,Can you tell me how old patient 10039708 was in their last hospital visit?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT admissions.admittime, patients.dob FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10039708 ORDER BY admissions.admittime DESC LIMIT 1"
5f697dd690488492bf17ca8e,What were some of the four common specimen tests given since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]",
32041f1a421a46a1ede56482,Calculate patient 10029484's total input amount of magnesium sulfate (bolus) on last month/23.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',inputevents.starttime) = '23'",[{'SUM(inputevents.totalamount)': None}],"SELECT SUM(inputevents_cv.amount) FROM inputevents_cv INNER JOIN d_items ON inputevents_cv.itemid = d_items.itemid WHERE inputevents_cv.subject_id = 10029484 AND d_items.name = 'MAGS SO4 20% 5ML VIAL' AND inputevents_cv.starttime >= DATE_FORMAT(NOW(), '%Y-%m-01') AND inputevents_cv.starttime < DATE_FORMAT(DATE_ADD(NOW(), INTERVAL -1 MONTH), '%Y-%m-01')"
2504708564dec501dc2fdde3,Was the platelet count value last measured on the last hospital visit of patient 10005866 less than first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 ) AS result
e48b5607cc89f2dc1adfa775,What was the last time patient 10016810 was prescribed a medication using the po route since 05/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10016810 AND prescriptions.route = 'PO' AND prescriptions.startdate > '05/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
3c7e00141c354983c6fb8742,What medication was first given to patient 10014729?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Milk of Magnesia'}],SELECT medications.orderdate FROM medications WHERE medications.subject_id = 10014729 ORDER BY medications.orderdate ASC LIMIT 1
37f2202c7041980e8e71b098,What are the top three most frequent microbiology tests that patients were diagnosed with malignant neoplasm of lower third of esophagus within 2 months since 2100?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of lower third of esophagus' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"SELECT mtest.test, COUNT(*) AS frequency FROM ( SELECT microbiologyevents.specimen_source AS test FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN datetime(current_time,'-2 month','-2100 day') AND datetime(current_time,'-2 month') AND EXISTS ( SELECT * FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = admissions.hadm_id AND diagnoses_icd.icd_code LIKE '150%' ) ) GROUP BY microbiologyevents.specimen_source ORDER BY frequency DESC LIMIT 3 ) mtest"
11f8c5631939928ad4f53641,What were the first phosphate results for patient 10039831 in 12/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND strftime('%Y-%m',labevents.charttime) = '2100-12' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND DATE(labevents.charttime) = '2010-12-01' ORDER BY labevents.charttime ASC LIMIT 1
5b981e188f8028d8f045d245,"What's the cost of a procedure named repair upper artery, open approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'repair upper artery, open approach' ) )",,
a410edd0be9764d12a841458,Has patient 52018 an appointment at the other department?,,,
5067e04f2073e7595e4a57ad,When did patient 10039708 receive the last blood culture microbiology test during the first hospital visit?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'blood culture' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_itemid = 227901 OR microbiologyevents.spec_type_desc = 'Blood culture' ORDER BY microbiologyevents.charttime DESC LIMIT 1
02bd66cb3a751f53d4accb0a,"What number of hours has it been since the last time patient 10004733 was diagnosed with dysphagia, oropharyngeal phase in their current hospital encounter?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dysphagia, oropharyngeal phase' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT TIMESTAMPDIFF(HOUR, MAX(chartevents.charttime), NOW()) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND d_items.label = 'dysphagia, oropharyngeal phase'"
ffed9e72b74c6090bd75fda4,"Tell me the name of the drug which patient 10022041 was prescribed in the same day after having had a open reduction of fracture with internal fixation, humerus procedure since 03/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'open reduction of fracture with internal fixation, humerus' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND prescriptions.startdate IN ( SELECT procedures_icd.chartdate + 1 AS date FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'open reduction of fracture with internal fixation, humerus' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND procedures_icd.chartdate BETWEEN '03/01/2010' AND '03/31/2010' )"
4293159f67c757b21ef6659a,Count the number of patients who had their other cell tested in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'other cell' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
e447bf35d8f5b5f515e7b40e,What is the minimum daily number of patients diagnosed with closed fracture of dorsal [thoracic] vertebra without mention of spinal cord injury since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of dorsal [thoracic] vertebra without mention of spinal cord injury' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,SELECT COUNT(*) AS min_daily_patients FROM diagnoses_icd AS T1 JOIN d_icd_diagnoses AS T2 ON T1.icd9_code = T2.icd9_code WHERE T2.long_title = 'closed fracture of dorsal vertebra without mention of spinal cord injury' AND datetime(T1.hadm_id) >= datetime('2100-01-01') GROUP BY DATE(T1.chartdate) ORDER BY min_daily_patients ASC LIMIT 1
ef8f70442734cae2d9b783a3,List the top three most common events since 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]",
aa3736eecab5271da4440d63,Calculate the number of patients discharged from the hospital in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) = '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(dischtime) = 2100
5c86eada276c78a8735e0dfb,What are the new drugs prescribed to patient 10039831 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT DISTINCT c.subject_id, c.hadm_id, c.icustay_id, c.startdate, c.enddate, c.drug_type, c.drug, c.dose, c.rate, c.doseunits, c.rateunits, c.duration, c.durationunits, c.formulary_drug_cd, c.route, c.order_type, c.linksto, c.orderid, c.linkorderid, c.statusdescription, c.stopped, c.start_formula, c.end_formula FROM chartevents AS c INNER JOIN admissions AS a ON c.hadm_id = a.hadm_id WHERE a.subject_id = 10039831 AND c.charttime BETWEEN current_date - 1 AND current_date MINUS SELECT DISTINCT c.subject_id, c.hadm_id, c.icustay_id, c.startdate, c.enddate, c.drug_type, c.drug, c.dose, c.rate, c.doseunits, c.rateunits, c.duration, c.durationunits, c.formulary_drug_cd, c.route, c.order_type, c.linksto, c.orderid, c.linkorderid, c.statusdescription, c.stopped, c.start_formula, c.end_formula FROM chartevents AS c INNER JOIN admissions AS a"
4f42b7f15b57fa921a5c03ea,How many hours has it been since the first other chronic nonalcoholic liver disease diagnosis of patient 10021487 on the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other chronic nonalcoholic liver disease' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT min(admissiondiag.chartdate - patients.dob)*24 FROM admissiondiag JOIN patients ON admissiondiag.subject_id = patients.subject_id WHERE admissiondiag.subject_id = 10021487 AND admissiondiag.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND admissiondiag.icd9_code = '571.2'
e2ae9a4a36ba36236e991b0e,How many patients underwent arteriography of other specified sites in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other specified sites' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE admissions.admittime LIKE '2100%' AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other specified sites')
ceb8581ad32d0000864d6c0b,What was the first value of patient 10019172's lab test for oxygen saturation in 11/this year?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'oxygen saturation' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '11' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%oxygen saturation%' ) AND labevents.charttime >= '2023-11-01 00:00:00' AND labevents.charttime < '2023-12-01 00:00:00' ORDER BY labevents.charttime ASC LIMIT 1
56eab13d0583a58c43247431,How many drugs have been prescribed to patient 10008454 since 2 months ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-2 month')",[{'COUNT(*)': 139}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND prescriptions.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH)"
1afcc723ae25dcbcaee4919e,When did patient 10018081 first get mrsa screen microbial tests in 12/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mrsa screen, microbial' ) AND chartevents.charttime LIKE '2023-12%'"
f2147dbedaab703750fcd937,Do you believe patient 97395 has received any additional fluid received in blood culture bottles test?,,,
7f24de340048d1b87aca545d,What is the total number of hospitalized patients now?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],
7109e759c570a654d53e3ee4,Was patient 10006053 involved in any medical procedure on their first hospital visit?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ORDER BY admissions.admittime ASC LIMIT 1 )
45ea928adb31250e23c1e7d7,What's the maximum total cost of a hospital that involves suicidal ideation?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'suicidal ideation' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(t1.total_cost) FROM ( SELECT SUM(admissions.totalcharges) AS total_cost FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title LIKE '%suicidal ideation%' GROUP BY admissions.subject_id ) t1
76de61af821cbfa636cc92fe,Calculate the total quantity of output of patient 10018081 since 12/12/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-12'",[{'SUM(outputevents.value)': 66945.0}],
e9de88c1ca4e544ff64bd3f9,"What is the total number of days that have passed since patient 10021487's first bilirubin, total, body fluid lab test during this hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, total, body fluid' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT DATEDIFF(MAX(chartevents.charttime), MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'bilirubin, total, body fluid' AND d_items.linksto = 'chartevents' )"
9206421c128de64e2474230a,What were the top five most frequently prescribed medicines since 1 year ago?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT prescriptions.orderd, d_items.label, COUNT(*) FROM prescriptions INNER JOIN d_items ON prescriptions.orderitemid = d_items.orderd WHERE prescriptions.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_items.orderd ORDER BY COUNT(*) DESC LIMIT 5"
bbe2b568ffdaf7c89fb508ab,How long did proximal gastrectomy take for patient 366?,,,SELECT operations.duration FROM operations INNER JOIN admissions ON operations.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 366 AND operations.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'proximal gastrectomy' )
28b46c82ec1854678938782d,Please tell me the sex of patient 10014078.,SELECT patients.gender FROM patients WHERE patients.subject_id = 10014078,[{'gender': 'F'}],SELECT sex FROM patients WHERE subject_id = 10014078
d55a49b733c16c813474898b,Retrieve the top five most common diagnoses for patients with age 50s this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS diagnosis_count FROM admissions JOIN d_icd_diagnoses ON admissions.icd9_code = d_icd_diagnoses.icd_code WHERE admissions.dob >= datetime(current_time,'-60 year') AND admissions.dob < datetime(current_time,'-50 year') AND admissions.admittime >= datetime(current_time,'-1 year') AND admissions.admittime < datetime(current_time) GROUP BY d_icd_diagnoses.long_title ORDER BY diagnosis_count DESC LIMIT 5"
a46388d3c77f04af56eb9f4a,What was the last famotidine dose that patient 10001725 was prescribed on their last hospital visit?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'famotidine' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10001725 AND prescriptions.drug = 'FAMOTIDINE' ORDER BY prescriptions.start_date DESC LIMIT 1
d8df22b2ce5cbb8d4e6d6f4d,How much is the drug named bag?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'bag' ),,
e5feed6651e93e164fbd7c11,What was patient 10036156's total input amount of po intake during the last ICU visit?,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po intake' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT sum(chartevents.value) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po intake' ) GROUP BY chartevents.icustay_id ORDER BY chartevents.intime DESC LIMIT 1
b2506d21f50185686a959e38,Count the number of times that other incision of brain was performed.,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other incision of brain' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'other incision of brain' )
c9e6ec1ba862ca6788412403,"In 2100, what are the top three most frequent medications prescribed within the same hospital visit to the patients in their 60 or above after they were diagnosed with other ascites?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other ascites' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT prescriptions.drg_code, COUNT(*) as frequency FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE prescriptions.startdate BETWEEN '2021-01-01' AND '2100-12-31' AND diagnoses_icd.icd_code LIKE '510%' AND admissions.admittime BETWEEN '2021-01-01' AND '2100-12-31' AND admissions.dob BETWEEN '1951-01-01' AND '1960-12-31' GROUP BY prescriptions.drg_code ORDER BY frequency DESC LIMIT 3"
11e5506de71d3706a53ac1ab,What was the organism found in the first blood culture test of patient 10038999?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'blood culture' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 0 ORDER BY chartevents.charttime ASC LIMIT 1
b6ebd9e060d890c353600a6a,What was the first measurement of respiratory rate that patient 10008287 had since 268 days ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-268 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-268 days') ORDER BY chartevents.charttime ASC LIMIT 1"
04da33946099754d422c8015,"Since 16 months ago, what was the monthly maximum dose of packed red blood cells for patient 10021487?","SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime) >= datetime(current_time,'-16 month') GROUP BY strftime('%Y-%m',inputevents.starttime)",[],"SELECT MAX(chartevents.valuenum), MONTHNAME(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'packed red blood cells' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-16 month') GROUP BY MONTHNAME(chartevents.charttime) ORDER BY chartevents.charttime ASC"
110ca8ef52a592fe8201ca1c,What diagnosis did patient 10005866 have last in the first hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT diagnoses_icd.icd9_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
e07aaf85d212b1a4dea88b36,What is the maximum total cost of the hospital visits that included right heart cardiac catheterization?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(SUM(c.cost)*c.amount) FROM charges c JOIN admissions a ON a.hadm_id = c.hadm_id JOIN procedures_icd p ON p.hadm_id = a.hadm_id WHERE p.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) GROUP BY c.hadm_id
f3303ed15c820c9b329af410,What are the top four most common diagnoses that patients were diagnosed with within 2 months after receiving partial hepatectomy's this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'partial hepatectomy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) as frequency FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE admittime >= DATE_SUB(CURDATE(), INTERVAL 2 MONTH) ) AND icd9_code IN ( SELECT icd9_code FROM procedures_icd WHERE icd9_code IN ( SELECT icd9_code FROM d_icd_procedures WHERE long_title = 'partial hepatectomy' ) ) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 4"
12a5396f55e7c3fd73c0c640,"For patients who undertook drainage of left main bronchus, via natural or artificial opening endoscopic, diagnostic in the same month, what are the top three most frequent specimens tested afterward since 1 year ago?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left main bronchus, via natural or artificial opening endoscopic, diagnostic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) AND admissions.admittime BETWEEN datetime(current_time,'-1 year') AND datetime(current_time) AND chartevents.hadm_id IN ( SELECT hadm_id FROM ( SELECT hadm_id, COUNT(*) AS count FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%left main bronchus drainage via natural or artificial opening endoscopic diagnostic%' ) GROUP BY hadm_id HAVING count >= 2 ) ) AND strftime('%Y-%m', admissions.admittime) = strftime('%Y-%m', chartevents.charttime) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
6dbf8d68ebe9d4efd1f714f1,What was the last input time of patient 10026354 since 03/12/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-12' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2119-10-27 14:02:00'}],
82eed12efc2bbbf2dd01b1c2,Tell me what to prepare before the peripheral nerve graft procedure :,,,
47ca8eab856cae1f24914f04,What were the last pt lab test results for patient 10022880 in 03/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03' ORDER BY labevents.charttime DESC LIMIT 1",[],
e1bb157131c54de5c76b3a0c,When did patient 10018081 have the first systolic blood pressure observed to be less than 130.0 on this ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 130.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10018081 AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sys bp' ) AND chartevents.valuenum < 130.0 ORDER BY chartevents.charttime ASC LIMIT 1
75b0b6062a202e39dc311504,What is the percentile of 26.2 in a mch lab test conducted at the same age as patient 10038081 during the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 26.2",,
fe0907fe6e75c814af68b01f,Has any organism been found in patient 10038999's last microbiological immunology (cmv) test since 2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'immunology (cmv)' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y',microbiologyevents.charttime) >= '2100' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.chartdate > '2100-01-01' AND microbiologyevents.spec_itemid IN ( SELECT d_microbiology_specs.spec_itemid FROM d_microbiology_specs WHERE d_microbiology_specs.spec_type_desc = 'Microbiology Immunology (CMV)' ) AND ( microbiologyevents.org_itemid > 0 OR microbiologyevents.org_name != '' )
f8d0aedd069c1450d7d6264f,What was the name of the drug that was prescribed last to patient 10019385 since 19 months ago?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-19 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Nitroglycerin SL'}],"SELECT adm.drug FROM ( SELECT pcp.patient_id, pcp.drug_name AS drug, pcp.stop_date FROM presc_info pcp WHERE pcp.patient_id = 10019385 AND pcp.stop_date >= DATE_SUB(CURRENT_DATE, INTERVAL 19 MONTH) ORDER BY pcp.stop_date DESC LIMIT 1 ) AS adm"
97618f1a942f1a7582d5b1a9,What are the new medications prescribed to patient 10039831 today compared to those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT admittime FROM admissions WHERE subject_id = 10039831
17bc287452c28a3ba71e2fe5,"Count the number of patients who received a excision of right internal mammary artery, percutaneous endoscopic approach procedure.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right internal mammary artery, percutaneous endoscopic approach' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right internal mammary artery, percutaneous endoscopic approach' )"
329d0bb92a0e71548c78f544,Can you tell me how many days patient 10007818 stayed in the ICU during their last stay?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 20.528680555988103}]","SELECT DATEDIFF(icustays.outtime, icustays.intime) as stay_duration FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ORDER BY icustays.intime DESC LIMIT 1"
40e6d3bcc00d291b26feb3e7,When did patient 10010471 first receive an input in their first ICU visit?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY inputevents.starttime ASC LIMIT 1,[{'starttime': '2155-12-02 20:54:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.icustay_id = ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) ORDER BY chartevents.charttime ASC LIMIT 1
740e35ffd9a5157bb6bf16ad,Count the number of people who were diagnosed with open fracture of shaft of femur.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'open fracture of shaft of femur' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'open fracture of shaft of femur' )
74a38dccf5ce3b494dd37197,What was the change in SaO2 in patient 10016742 last measured on the last ICU visit compared to the second to last value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT first.charttime AS first_charttime, first.valuenum AS first_value, second.charttime AS second_charttime, second.valuenum AS second_value, (first.valuenum - second.valuenum) AS difference FROM chartevents first JOIN chartevents second ON first.icustay_id = second.icustay_id AND first.itemid = second.itemid AND first.charttime > second.charttime WHERE first.subject_id = 10016742 AND first.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND second.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) ORDER BY first.charttime DESC LIMIT 1"
5780c98a714da7aa7512b363,Was patient 10021666 urea nitrogen tested in their first hospital encounter?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen' AND d_items.linksto = 'chartevents' )
569bfe18989623d3f5c6678a,Count up how many times patient 10006580 was admitted to the ICU since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 1}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
dd91706df84d8357cdef457f,What are the immuno-cancer drugs that have been on for the last 5 years.,,,
0d0fa264d945b5ef90978c92,What was the last hospital discharge time for patient 10022017?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2189-09-16 15:00:00'}],SELECT admittime FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY admittime DESC LIMIT 1
9f458a33e3737acb61d26a1c,Tell me about the four most common specimens tested since 1 year ago.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]","SELECT d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_items.label ORDER BY COUNT(*) DESC LIMIT 4"
fa56e6f995ce65468f6bac6a,How many of 0.9% sodium chloride were prescribed to patient 10005817 in total since 12/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND prescriptions.drug = '0.9% sodium chloride' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(prescriptions.dose_val_num * prescriptions.form_val_num) AS total_dose FROM prescriptions INNER JOIN patients ON prescriptions.subject_id = patients.subject_id WHERE patients.subject_id = 10005817 AND prescriptions.start_date >= '12/01/2100' AND prescriptions.drug = '0.9% sodium chloride'
953f77740c16c1a9a435f427,"Since 2100, what are the top three most frequently taken specimens for patients within 2 months after receiving percutaneous [endoscopic] gastrostomy [peg]?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, COUNT(*) as count FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.charttime BETWEEN datetime(current_time, '-2 month') AND current_time AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code LIKE '423.9%' AND admissions.admittime >= '2100-01-01' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 3"
3f5ac405fb5c105f76ea0b91,What was the output that patient 10004235 first had during the first ICU stay?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY outputevents.charttime ASC LIMIT 1 ),[{'label': 'Foley'}],SELECT chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.first_careunit = 'ICU' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1
95b867d0cf6c28bfdd679151,How many hours has it been since the first other staphylococcus pneumonia diagnosis for patient 10004733 in their current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other staphylococcus pneumonia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT TIMESTAMPDIFF(HOUR, MIN(admissions.admit_time), CURRENT_TIMESTAMP) FROM admissions WHERE admissions.subject_id = 10004733 AND EXISTS ( SELECT * FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = admissions.hadm_id AND diagnoses_icd.icd_code LIKE '038%' )"
fb06f32bc5c8aef557ce529e,When did patient 10004422 last get prescribed aspirin and milk of magnesia at the same time in 01/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'aspirin' AND admissions.subject_id = 10004422 AND strftime('%Y-%m',prescriptions.starttime) = '2100-01' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'milk of magnesia' AND admissions.subject_id = 10004422 AND strftime('%Y-%m',prescriptions.starttime) = '2100-01' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],
5837deca15847d294628637f,Can you tell me the cost of repair of atrial septal defect with tissue graft?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'repair of atrial septal defect with tissue graft' ) ),,
f0220d6aa14301805fc7e420,Is that patient 15945 has an appointment in another department?,,,
3bf09c03de716a687fc51856,What percentile is 0.69 on a troponin t test among patients of the same age as patient 10002495 in their first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'troponin t' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 0.69",,SELECT percentile_cont(0.69) WITHIN GROUP (ORDER BY labevents.valuenum) FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'troponin t' ) AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10002495 ) AND patients.dob = ( SELECT patients.dob FROM patients WHERE patients.subject_id = 10002495 )
2bc57e6b3e44d9ecf6f1c242,When did patient 10016742 get their last input?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2178-07-25 14:05:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) ORDER BY chartevents.charttime DESC LIMIT 1
cb7b80bbdfdc960e82ea8bf3,What precautions should i take after a pros repair atria def-cl procedure?,,,
1452ce7ea3c5edec118c2e61,Has patient 10021312 gotten any medication this year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10021312 AND prescriptions.startdate >= ( SELECT DATE_FORMAT(NOW(),'%Y-01-01') )"
a65675d809840dc8d6dda8a4,What percentile is rdw 13.5 among patients of the same age as patient 10020786 on their first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 13.5",,"SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY first_visit_rdw.valuenum) OVER (PARTITION BY first_visit_rdw.age) AS median_rdw FROM ( SELECT admissions.subject_id, admissions.dob, admissions.admittime, labevents.valuenum, TIMESTAMPDIFF(YEAR, admissions.dob, admissions.admittime) AS age FROM admissions JOIN labevents ON admissions.hadm_id = labevents.hadm_id WHERE labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'RDW') AND admissions.subject_id = 10020786 ORDER BY admissions.admittime ASC LIMIT 1 ) AS first_visit_rdw WHERE first_visit_rdw.valuenum = 13.5"
22f6471acc2d184e7cfeeb6f,Tell me the blood type of patient 58649?,,,SELECT patientsbloodtype.bloodtype FROM patientsbloodtype WHERE patientsbloodtype.subject_id = 58649
fe7e8800a8ef335ce9596217,Has any medicine been prescribed to patient 10038933 since 5 months ago?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-5 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-5 month')"
0af1a06bcce4aacbc5a936f4,Has patient 10008454 acquired any medication since 10/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10008454 AND datetime(prescriptions.startdate) > datetime('10/2100')
014255e2a1eb9d957a380379,Have any procedures been carried out on patient 10035185 since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND procedures_icd.chartdate >= '2100-01-01'
848f58c164e2f0878c1c9ce1,Has patient 10004235 been oxygen saturation tested in 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'oxygen saturation' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y',labevents.charttime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Oxygen saturation' ) AND chartevents.charttime BETWEEN '2100-01-01' AND '2100-12-31'
4ce7e0d7febc6b899fff7a21,What was the change in platelet count in patient 10029484 second measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first_val.valuenum - second_val.valuenum) AS delta FROM (SELECT labevents.valuenum FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10029484 AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count') AND labevents.charttime = (SELECT MIN(charttime) FROM labevents WHERE labevents.hadm_id = admissions.hadm_id AND labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count')) ORDER BY labevents.charttime ASC LIMIT 1) AS first_val, (SELECT labevents.valuenum FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10029484 AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count') AND labevents.charttime = (SELECT MIN(charttime) FROM labevents WHERE labevents.hadm_id = admissions.hadm_id AND labevents.itemid = (SELECT d_labitems.itemid"
49da3f4c781d729017455057,How much am I expected to pay for central venous catheter placement with guidance?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) ),,
7699b4e5c410adc67ecb3537,What is the treatment that patient 10007795 was given two or more times since 23 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-23 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT chartevents.itemid, d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(chartevents.charttime) >= datetime(current_time,'-23 month') GROUP BY chartevents.itemid HAVING count(chartevents.itemid) >= 2"
74f00dc121afbe12df42ad01,Provide the total input volume for patient 10023239 since 184 days ago.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND datetime(inputevents.starttime) >= datetime(current_time,'-184 day')",[{'SUM(inputevents.totalamount)': 34120.0}],"SELECT SUM(inputevents_cv.volume) FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND datetime(inputevents_cv.charttime) >= datetime(current_time,'-184 day')"
d4183c39d460be6d47009fdd,"What was the first total protein, csf reading for patient 10014078?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total protein, csf' ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10014078 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total protein, csf' ) ORDER BY chartevents.charttime ASC LIMIT 1"
0d8c124936a0fc726774b99e,What were the top three most frequently prescribed medicines in 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3",[],
4a7d4830011d65962d460041,What is the maximum cost to the hospital that involves nonalcoholic steatohepatitis (nash) since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'nonalcoholic steatohepatitis (nash)' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
d073173860e35bfa703b57ab,Display the top three most commonly prescribed drugs.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]","SELECT d_cpt.cpt_cd, d_cpt.cpt_desc, COUNT(*) AS num_prescribed FROM procedures_icd JOIN d_cpt ON procedures_icd.icd_code = d_cpt.cpt_cd GROUP BY d_cpt.cpt_cd, d_cpt.cpt_desc ORDER BY num_prescribed DESC LIMIT 3"
9a96aaa745308385eb906bb2,What was the name of the drug that patient 10012552 was prescribed in the same hospital visit after having received a single internal mammary-coronary artery bypass procedure?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'single internal mammary-coronary artery bypass' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT admittime FROM admissions WHERE subject_id = 10012552 AND hadm_id IN (SELECT hadm_id FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'single internal mammary-coronary artery bypass'))
6b87c27e7eaa3734d66015e0,How many medications were prescribed in 04/this year to patient 10012853?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10012853 AND prescriptions.startdate >= '2021-04-01' AND prescriptions.enddate <= '2021-04-30'
2ca4465dba3c16260aab1d62,Calculate the number of loratadine prescriptions in 2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'loratadine' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],
bbaf6db3927ca6221096a678,When are dr. smith's rounds and procedures?,,,
c1b3f37142e9c9cf9ba75b12,What was the condition patient 10014729 was diagnosed with last time during the first hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT diagnoses_icd.icd9_cm FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10014729 AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
adf57bf6800cbd7a1bcce75f,"When was the first time on the last hospital encounter that patient 10014078 had the maximum value of osmolality, measured?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'osmolality, measured' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'osmolality' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
85e6a823fac4aece9e3933ba,When did patient 10011398 get the microbiology test for the last time in 12/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE subject_id = 10011398 AND datetime(charttime) >= datetime('2022-12-01') AND datetime(charttime) < datetime('2023-01-01') ORDER BY charttime DESC LIMIT 1
5238005ffc47bc3719f52f2a,"Calculate the number of patients who underwent a laboratory test for urea nitrogen, urine since 1 year ago.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen, urine' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urea nitrogen, urine' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
b179e910614a955e056b279f,What is the maximum total hospital cost including a drug named vitamin d since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'vitamin d' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
1770a690d77ad9ec94532a67,What was the admission type when patient 10018423 last entered the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018423 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'EW EMER.'}],"SELECT admissions.admittime, admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018423 ORDER BY admissions.admittime DESC LIMIT 1"
19971ad86aeae49201fc7a93,"What are the four most commonly prescribed medications for patients diagnosed with monoclonal gammopathy previously within the same month, throughout this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'monoclonal gammopathy' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT prescriptions.drug, COUNT(*) as count FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%monoclonal gammopathy%' ) AND YEAR(admissions.admittime) = YEAR(CURDATE()) AND MONTH(admissions.admittime) = MONTH(CURDATE()) GROUP BY prescriptions.drug ORDER BY count DESC LIMIT 4"
aba66c29e51149f140d80325,What is the yearly maximum lr input for patient 10004733 since 113 days ago?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lr' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime) >= datetime(current_time,'-113 day') GROUP BY strftime('%Y',inputevents.starttime)",[],
2a09cc17e6b8947dbc425e98,How do i take precaution after the rt/left heart card cath procedure?,,,
ef58c8f426926b9b7c5610fc,"List the top three most frequent diagnoses that patients were diagnosed with within 2 months after receiving respiratory ventilation, greater than 96 consecutive hours.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN icustays ON diagnoses_icd.hadm_id = icustays.hadm_id WHERE icustays.intime <= diagnoses_icd.admittime AND diagnoses_icd.admittime <= DATE_ADD(icustays.outtime, INTERVAL 2 MONTH) AND icustays.d_items.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory ventilation' ) AND icustays.stay_length >= 96 GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 3"
620d90e5c2bc12b7e637d7b2,"In patients who had the other repair of vessel in 2100, what were the four most common diagnoses that followed within 2 months?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other repair of vessel' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other repair of vessel in 2100' ) ) AND datetime(admit_dt) >= datetime(adm_dt,'+2 month') GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 4"
6a8ea90422439952b0b95d0a,How many medications were prescribed since 27 months ago to patient 10027445?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-27 month')",[{'COUNT(*)': 230}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-27 month')"
9dfacc2c7888378be3ee3aac,Give me the five most common microbiology tests in 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],"SELECT testname, COUNT(*) FROM microbiologyevents WHERE chartdate BETWEEN '2021-01-01' AND '2021-12-31' GROUP BY testname ORDER BY COUNT(*) DESC LIMIT 5"
bbcd893acd5b02637bedbb4d,"Throughout this month, when did patient 10021118 last receive a absolute basophil count test?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute basophil count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'absolute basophil count' AND d_items.linksto = 'labevents' ) AND chartevents.charttime >= date_format(current_timestamp, '%Y-%m-01') AND chartevents.charttime < date_format(current_timestamp, '%Y-%m-01') + interval 1 month ORDER BY chartevents.charttime DESC LIMIT 1"
8511198e010ebb4b33fcc4e3,What was the aggregate input volume for patient 10007058 since 38 days ago?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND datetime(inputevents.starttime) >= datetime(current_time,'-38 day')",[{'SUM(inputevents.totalamount)': 10975.0}],"SELECT SUM(inputevents_cv.volume) FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND datetime(inputevents_cv.starttime) >= datetime(current_time,'-38 day')"
292e05db320f21dac9efa68e,When was the first time that patient 10038081 since 136 days ago had a respiratory rate that was less than 14.0?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 14.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-136 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' ) AND chartevents.valuenum < 14.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-136 day') ORDER BY chartevents.charttime ASC LIMIT 1"
f888fddd502f84dfdc3b3bcb,How many days has it been since the first time patient 10018081 stayed in their current hospital visit in the careunit trauma sicu (tsicu)?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT DATEDIFF(CURDATE(), MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.hospstay_seq IN ( SELECT admissions.hospstay_seq FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.careunit = 'TSICU'"
e54938671b05e5c6ac687af2,What were the top three most often performed treatments for patients in their 30s during this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT treatments.treatment, COUNT(*) AS occurrences FROM treatments INNER JOIN admissions ON treatments.hadm_id = admissions.hadm_id WHERE admissions.admittime >= DATE_FORMAT(NOW(), '%Y-01-01') AND admissions.dob BETWEEN DATE_FORMAT(NOW(), '%Y-01-01') - INTERVAL 39 YEAR AND DATE_FORMAT(NOW(), '%Y-01-01') - INTERVAL 30 YEAR GROUP BY treatments.treatment ORDER BY occurrences DESC LIMIT 3"
6256d1fb1cd3aeaba0eb11a8,Has patient 10009035 been prescribed a specific drug since 02/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02'",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10009035 AND datetime(prescriptions.startdate) >= datetime('02/2100', 'unixepoch')"
d41f44da71b3e6d40f476229,"Among patients diagnosed with impaired fasting glucose, what were the top three most common microbiology tests conducted within 2 months since 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'impaired fasting glucose' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"SELECT m_test, COUNT(*) AS count FROM ( SELECT admissions.subject_id, chartevents.charttime, microbiologyevents.testname AS m_test FROM admissions JOIN microbiologyevents ON admissions.hadm_id = microbiologyevents.hadm_id JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%impaired fasting glucose%' AND d_items.linksto = 'labevents' ) AND datetime(microbiologyevents.chartdate) >= datetime(chartevents.charttime,'-2 month') AND datetime(chartevents.charttime) >= datetime('2100-01-01') ) AS subquery GROUP BY m_test ORDER BY count DESC LIMIT 3"
0e303986f42987d1f61a3da5,"What drug was prescribed to patient 10021118 within 2 days after the procedure of performance of cardiac output, continuous during this month?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,SELECT admittime FROM admissions WHERE admissions.subject_id = 10021118 AND MONTH(admittime) = MONTH(CURRENT_DATE()) AND DAY(admittime) <= DAY(CURRENT_DATE()) ORDER BY admittime DESC LIMIT 1
2eabc9e68c01f195e82de460,What is the number of patients who were discharged from the hospital since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
f5897f6587ae16c7c674b41f,"Among patients in their 50s this year, what were the top three most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE YEAR(admissions.admit_dt) = YEAR(CURDATE()) AND patients.dob BETWEEN CURDATE() - INTERVAL 59 YEAR AND CURDATE() - INTERVAL 50 YEAR GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 3"
e65b59a5ae495773129a972f,Calculate the number of patients who were in the neuro stepdown careunit in this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro stepdown' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT patients.subject_id) FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE icustays.icu = 'neuro stepdown' AND YEAR(admissions.admittime) = YEAR(CURDATE())
95a2c61973863427b73ef937,What is the price for the drug levetiracetam?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'levetiracetam' ),,
70628d63be371358ecd526de,Which medication was patient 10009628 prescribed during the same hospital encounter following the extracorporeal circulation auxiliary to open heart surgery procedure in 10/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '10' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT medications.text FROM medications JOIN admissions ON medications.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10009628 AND medications.startdate >= admissions.admittime AND medications.startdate <= admissions.dischtime AND medications.startdate >= DATE_FORMAT(current_timestamp, '%Y-10-01') AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) )"
8c8b5170a56e94b0724e4b97,"For patients who were previously diagnosed with backache, unspecified, what are the top four most frequent treatments within 2 months since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'backache, unspecified' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icustays.hadm_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '724') ) AND icustays.intime >= datetime(current_time,'-1 year') AND icustays.outtime <= datetime(current_time,'-1 year','+2 month') GROUP BY icustays.hadm_id ORDER BY COUNT(*) DESC LIMIT 4"
fe2b896743388c3285fd2973,What's the rank of the top three most common output events since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 3"
0eb69f6e47ab63c055e2df90,Was patient 10038081 treated with percutaneous abdominal drainage on the first hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd AS p INNER JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE p.icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'percutaneous abdominal drainage') AND a.subject_id = 10038081 AND a.admittime = (SELECT MIN(admittime) FROM admissions WHERE subject_id = 10038081)
4d42e61430e34d4e1be887dc,What was the organism found in the first mrsa screen test of patient 10020740 since 05/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.subject_id = 10020740 AND microbiologyevents.spec_type_desc = 'MRSA screen' AND datetime(microbiologyevents.chartdate) >= datetime('05/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
764c1ad18155aabf053779ab,What was the first drug that was prescribed to patient 10027602 during this month via the po/ng route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND prescriptions.route = 'po/ng' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.greedy_generic_name FROM prescriptions WHERE prescriptions.subject_id = 10027602 AND prescriptions.route = 'PO/NG' AND prescriptions.startdate >= DATE_TRUNC('month', CURRENT_DATE) AND prescriptions.startdate < DATE_TRUNC('month', CURRENT_DATE) + INTERVAL '1 month' ORDER BY prescriptions.startdate ASC LIMIT 1"
94c68a26042492f18d7f5c60,What was the duration in days of patient 10014354's last stay in the ICU?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.2415625010617077}]",SELECT MAX(icustays.outtime) - MIN(icustays.intime) AS last_stay_duration FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 )
653ee6598cd92b3382f04431,"Has octreotide acetate, furosemide, or trazodone been prescribed since 20 months ago to patient 10019777?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND prescriptions.drug IN ( 'octreotide acetate', 'furosemide', 'trazodone' ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-20 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10019777 AND datetime(prescriptions.startdate) >= datetime(current_time,'-20 month') AND prescriptions.drug IN ('octreotide acetate', 'furosemide', 'trazodone')"
c3b9775f6f9f3f0a14d7ec29,"For the first time in 08/this year, how much scopolamine patch was prescribed to patient 10016742?","SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND prescriptions.drug = 'scopolamine patch' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
3d9d7abd6d9d5b5188725536,What was the total sum of inputs for patient 10007058 since 02/25/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-02-25'",[{'SUM(inputevents.totalamount)': 10975.0}],SELECT SUM(chartevents.amount) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND datetime(chartevents.charttime) >= '2000-02-25'
1844c94cefe167cfc46bbbc8,When did patient 10007818 first have their minimum heart rate on 07/03/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-07-03' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],
da7b960f34b7f3185ea6d045,What was the name of the medication that was first prescribed to patient 10029484 on their first hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Bisacodyl'}],"SELECT admittime, admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10029484 ) AND ( SELECT MIN(charttime) FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND ( SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10029484 ) AND charttime = ( SELECT MIN(charttime) FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10029484 ) ) ) AS first_drug"
2dfbec4e54ac5d6edf34216d,What was patient 10002495's first measured rdw-sd in 06/this year?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw-sd' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rdw-sd' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-06-01' AND chartevents.charttime < '2022-07-01' ORDER BY chartevents.charttime ASC LIMIT 1
fff1f1751b80965886ad5fbd,What was the total number of drugs patient 10000032 was prescribed since 03/2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)': 81}],SELECT COUNT(DISTINCT drugs.drug) FROM drugs WHERE drugs.subject_id = 10000032 AND drugs.startdate >= '03/2100'
d9de692b97657d92d074c361,How many times did patient 10006580 attend the hospital in the previous year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10006580 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.admittime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE()"
8f44537ed71e3c69bfd87f37,Was patient 10004422 given any procedure in the previous year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND procedures_icd.chartdate BETWEEN datetime(current_date,'-1 year') AND current_date"
77238633972ba57331af47e1,What was the total amount of ciprofloxacin 0.3% ophth soln that patient 10026354 has been prescribed since 10/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND prescriptions.drug = 'ciprofloxacin 0.3% ophth soln' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10'",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(cptevents.quantity) FROM cptevents WHERE cptevents.subject_id = 10026354 AND cptevents.chartdate >= '10/2100-01-01' AND cptevents.cpt_cd IN ( SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.long_description = 'ophthalmic anti-infective, ciprofloxacin 0.3% solution' )"
dc05a582149cb9a35f095c0b,What were the top four diagnoses of patients with age 20s in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT icd9_code FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE EXTRACT(YEAR FROM admittime) = 2100 AND DATEDIFF(admittime, dob)/365 BETWEEN 20 AND 29 ) GROUP BY icd9_code ORDER BY COUNT(*) DESC LIMIT 4"
97b11bd8315c504b3001f159,Expose the top five most frequent output events since 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT eventid, COUNT(*) AS frequency FROM outputevents WHERE outputevents.charttime >= '2100-01-01' GROUP BY eventid ORDER BY frequency DESC LIMIT 5"
28146fa3c758abba5cbdbfae,"How much is the total average cost for a hospital that includes a osmolality, measured lab test since 2100?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'osmolality, measured' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
b11ba285107d208de9e518f1,"Since the last diagnosis of patient 10018081 with overflow incontinence in this hospital encounter, how many hours have passed?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'overflow incontinence' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT (julianday('now') - julianday(last_diagnosis.charttime)) * 24 AS hours FROM ( SELECT MAX(admissions.admittime) as admittime, MAX(procedures_icd.chartdate) as chartdate FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE admissions.subject_id = 10018081 AND procedures_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'overflow incontinence' ) ) AS last_diagnosis"
9bae33f8c355733757e36325,What are the top three diagnoses of patients in their 60 or above since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT adm.dh admitting_diagnosis, COUNT(*) AS count FROM admissions adm JOIN diagnoses_icd d ON adm.hadm_id = d.hadm_id JOIN patients p ON adm.subject_id = p.subject_id WHERE p.dob < date('now','-60 years') AND adm.admittime > date('now','-1 year') GROUP BY adm.dh ORDER BY count DESC LIMIT 3"
83ee51e6e7fdc992ab579780,What was the drug prescribed to patient 10027602 for the last time via the pr route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND prescriptions.route = 'pr' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT medications.medication FROM medications WHERE medications.subject_id = 10027602 AND medications.route = 'pr' ORDER BY medications.starttime DESC LIMIT 1
92b7fb1f0888976bb221ed1d,List the preparations for cv cath plcmt w guidance,,,
c625c297bb0d8ff6dc0c20fa,"What was the drug that patient 10022017 prescribed for within 2 days after the procedure of excision of left saphenous vein, percutaneous endoscopic approach on their last hospital encounter?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left saphenous vein, percutaneous endoscopic approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admittime, dischtime, icustay_id, hadm_id, subject_id, first_careunit, last_careunit FROM admissions WHERE subject_id = 10022017 ORDER BY admittime DESC LIMIT 1"
c122bbbae5a9d7b44953325a,How many days has it been since the last bacteremia diagnosis for patient 10004733 on their current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bacteremia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT datediff(CURDATE(), max(admissions.admittime)) as days FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10004733 AND diagnoses_icd.icd_code = '038.9'"
e1a802bbddcfa313978c2d4b,Can you get me the top four diagnoses that have the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS death_count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime <= patients.dod AND patients.dod > admissions.admittime AND DATEDIFF(patients.dod, admissions.admittime) <= 90 GROUP BY d_icd_diagnoses.short_title ORDER BY death_count DESC LIMIT 4"
5febe2a89e917d60303afd4c,What were the top three most common diagnoses?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT d_icd_diagnoses.short_title, COUNT(*) as occurrences FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code GROUP BY d_icd_diagnoses.short_title ORDER BY occurrences DESC LIMIT 3"
ee04b4b7af645ba90c2bd384,What's the reimbursement standard for pharmaceuticals?,,,
88903941545e70b4a021e3b2,"In the last year, how many (aorto)coronary bypass of four or more coronary arteries procedures were conducted?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = '(aorto)coronary bypass of four or more coronary arteries' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%aorto%coronary bypass of four or more coronary arteries%' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
3e872f05856966755e671a77,What was the last time that patient 10012853 was discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10012853 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE admissions.subject_id = 10012853 ORDER BY admittime DESC LIMIT 1
b1cb5d3e6f5cc86239c34959,What is the maximum cost of a hospital that involves methicillin resistant pneumonia due to staphylococcus aureus since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'methicillin resistant pneumonia due to staphylococcus aureus' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
1a5433aa4aa1b3959ef3e77f,Which are the four most common specimens tested?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]","SELECT d_items.label, COUNT(specimen.subject_id) AS count FROM specimen JOIN d_items ON specimen.spec_type_desc = d_items.label WHERE specimen.spec_type_desc IS NOT NULL GROUP BY d_items.label ORDER BY count DESC LIMIT 4"
db2ec5a725e4b2775b055f88,What are the five commonly ordered medications that patients aged 50s were prescribed within 2 months after diagnosed with long-term (current) use of insulin?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long-term (current) use of insulin' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 50 AND 59 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m.finalstrength, COUNT(*) as count FROM admissions as a JOIN patients as p ON a.subject_id = p.subject_id JOIN prescriptions as m ON m.hadm_id = a.hadm_id JOIN d_items as d ON m.order_type = d.row_id JOIN icustays as i ON a.hadm_id = i.hadm_id WHERE d.label LIKE '%insulin%' AND p.dob BETWEEN '1950-01-01' AND '1959-12-31' AND a.admittime BETWEEN i.intime AND i.outtime AND m.startdate BETWEEN a.admittime AND a.admittime + INTERVAL '2 months' GROUP BY m.finalstrength ORDER BY count DESC LIMIT 5"
54714e162bde7b10c34ed1c1,"During the first hospital visit, what was patient 10012853's age?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT admissions.admittime, patients.dob, (julianday(admissions.admittime) - julianday(patients.dob))/365.25 AS age FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10012853 AND admissions.hospital_expire_flag = 0 ORDER BY admissions.admittime ASC LIMIT 1"
4e5496cc5a22509ea5c3e4e8,"Since 1 year ago, how many insertion of endotracheal airway into trachea, via natural or artificial opening procedures were there?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of endotracheal airway into trachea, via natural or artificial opening' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of endotracheal airway into trachea, via natural or artificial opening' ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
ce843fac6f9ff9ab4f1d2dc3,How many hours elapsed since the last time patient 10004733 received a urobilinogen lab test on this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urobilinogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urobilinogen' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
6b93b67bb974684b413b3c6a,Can I know the total output amount for patient 10018081 since 11/27/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-27'",[{'SUM(outputevents.value)': 66945.0}],
b8f6fd0f9b950b22019dc5f9,How many hours have elapsed since patient 10021487's first stay in the careunit trauma sicu (tsicu) during their current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT JULIANDAY('now') - JULIANDAY(icustays.intime) AS elapsed_hours FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.icustay_id = ( SELECT MIN(icustays.icustay_id) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.d_location = 'TSICU' )
c1f271e8baade40b3d9d4596,When did patient 10021666 first get urine microbial tests in 04/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%urine microbial%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-04-01' AND chartevents.charttime < '2022-05-01' ORDER BY chartevents.charttime ASC LIMIT 1
2fd61472c7569c2469bef07e,Has patient 10005348 received a medication prescription since 2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND datetime(prescriptions.startdate) >= datetime('2100-01-01')
931a6cae10afc8a4e19e7a2b,"What were the four most frequently diagnosed microbiology tests for patients who were diagnosed with encounter for palliative care before within the same hospital visit, since 1 year ago?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'encounter for palliative care' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_microitems.micro_item, COUNT(*) AS count FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN microevents ON chartevents.icustay_id = microevents.icustay_id JOIN d_microitems ON microevents.micro_itemid = d_microitems.micro_itemid WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%encounter for palliative care%' AND d_items.linksto = 'chartevents' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') ) GROUP BY d_microitems.micro_item ORDER BY count DESC LIMIT 4"
e1784c5485d83cd0645a3d4e,Tell me the five most frequent treatments for patients aged 40s in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) AS frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN '2021-01-01' AND '2021-12-31' AND admissions.dob BETWEEN '1970-01-01' AND '1979-12-31' GROUP BY d_items.label ORDER BY frequency DESC LIMIT 5"
c84349e69cbe2cf09f686cd5,Retrieve the top five most frequent medications that patients were prescribed within 2 months after being diagnosed with unspecified vascular insufficiency of intestine since 1 year ago.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified vascular insufficiency of intestine' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT m.drug, COUNT(*) AS frequency FROM admissions a JOIN diagnoses_icd d ON a.hadm_id = d.hadm_id JOIN prescriptions p ON a.hadm_id = p.hadm_id JOIN medications m ON p.nausea = m.code WHERE d.icd_code LIKE '558%' AND a.admittime BETWEEN datetime(current_time,'-1 year') AND current_time AND a.dischtime BETWEEN a.admittime AND datetime(a.admittime,'+2 months') GROUP BY m.drug ORDER BY frequency DESC LIMIT 5"
abb065f7fb28acb0c3c8fb68,Tell me the top four most common diagnoses for patients aged 20s.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS diagnosis_count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob BETWEEN '1970-01-01' AND '1980-12-31' ) ) GROUP BY d_icd_diagnoses.short_title ORDER BY diagnosis_count DESC LIMIT 4"
21f3520f8db52d400b139521,How many hours have passed since the last time patient 10004733 has received a anticardiolipin antibody igg-lab test on the current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anticardiolipin antibody igg' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'anticardiolipin antibody igg' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
9247b77bedc088fb1beb2f9c,What was the name of the organism discovered in the first sputum test of patient 10029291 in 02/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.spec_itemid IN ( SELECT d_specimen.spec_itemid FROM d_specimen WHERE d_specimen.spec_type_desc = 'sputum' ) AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND datetime(microbiologyevents.chartdate) = datetime('02/2100') ORDER BY microbiologyevents.charttime ASC LIMIT 1
e4946b7c7c8d1c41eb7d77e2,What is the percentile of the hemoglobin value of 10.4 among patients of the same age as patient 10020740 on their first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 10.4",,SELECT percentile_cont(0.5) within group (order by labevents.valuenum) OVER () as median_hemoglobin FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN labevents ON admissions.hadm_id = labevents.hadm_id WHERE patients.dob = ( SELECT patients.dob FROM patients WHERE patients.subject_id = 10020740 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.hadm_id IN ( SELECT MIN(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = patients.subject_id GROUP BY admissions.subject_id ) AND labevents.valuenum = 10.4
d1177dfd4cf0c6b2da2111a1,Give me the total amount of nacl 0.9% given to patient 10039831 since 03/03/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-03'",[{'SUM(inputevents.totalamount)': None}],
336b4ae66fafe9409bbf3780,Tell me the maximum SaO2 in patient 10007058 since 11/25/2100.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-11-25'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.charttime >= '2100-11-25'
07c2cabe27d018ef8bc90ed3,How many people got prescriptions for adde since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'adde' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 1}],
1f400039f5811e19f5da4593,Do you think patient 29540 is subject to covid-19 testing?,,,
de871565192e846d9c7ca39a,Did patient 10022017 have a pt test done in 10/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND strftime('%Y-%m',labevents.charttime) = '2100-10'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) AND labevents.charttime BETWEEN '2010-10-01' AND '2010-10-31'
062575cdb38e709723edbb54,What was the drug that patient 10018081 was prescribed for the last time using a po/ng route since 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10018081 AND admittime >= '12/2100'
feaaef960a419d81d79e5cfb,Tell me the total acetaminophen dose that patient 10037975 has been prescribed?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND prescriptions.drug = 'acetaminophen',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cpoevents.dose) FROM cpoevents WHERE cpoevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND cpoevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'acetaminophen' AND d_items.category = 'Medications')
333d0beec3e1c8b7b38dc15e,"Has patient 10021487 been given a test on bilirubin, total, body fluid in 2100?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, total, body fluid' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y',labevents.charttime) = '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Bilirubin, Total, Body Fluid' ) AND labevents.charttime LIKE '2100%'"
81b76631822bb19d0aaa0811,Has patient 10000032 undergone the percutaneous abdominal drainage procedure in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND YEAR(procedures_icd.chartdate) = 2100
fe646e876da3a9452e4e05ea,"What's the number of patients who were laceration of intercostal blood vessels, left side, initial encounter diagnosed since 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'laceration of intercostal blood vessels, left side, initial encounter' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,"SELECT COUNT(*) FROM admissions WHERE admittime >= '2100-01-01' AND hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'laceration of intercostal blood vessels, left side, initial encounter' ) )"
e7fa38bcee63c4dff174564d,When did patient 10012853 depart hospital for the first time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10012853 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2175-04-10 16:55:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10012853 ORDER BY admissions.admittime LIMIT 1
d126628b6dfa7ff021c37cc5,"Since 06/2100, when did patient 10039831 receive the first mrsa screen microbiology test?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-06' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'MRSA screen' AND chartevents.subject_id = 10039831 AND chartevents.charttime >= '2010-06-01' ORDER BY chartevents.charttime ASC LIMIT 1
f710a9e23d2b119bb3cbd7d6,"During the last year, how many extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic procedures were conducted?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lung lobe, via natural or artificial opening, endoscopic' ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
df6d9f1646fc387c7952ce10,"Is the value of patient 10009628's hemoglobin, second measured on the first hospital visit, less than the first value measured on the first hospital visit?",SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (second.valuenum < first.valuenum) AS result FROM ( SELECT labevents.valuenum FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10009628 AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.charttime BETWEEN admissions.admittime AND admissions.dischtime ORDER BY labevents.charttime ASC LIMIT 1, 1 ) AS second JOIN ( SELECT labevents.valuenum FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10009628 AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hemoglobin' ) AND labevents.charttime BETWEEN admissions.admittime AND admissions.dischtime ORDER BY labevents.charttime ASC LIMIT 1 ) AS first ON second.valuenum < first.valuenum"
e8be8d8ac70685f324507cdc,...when was the last time that patient 60219 had a medication that should be taken regularly?,,,SELECT MAX(chartevents.charttime) FROM chartevents JOIN patients ON chartevents.subject_id = patients.subject_id WHERE patients.dob = '1955-01-05' AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE category LIKE '%regular%')
e52d7f0f71c5a96d3ad444d8,How long did it take to get venous cath nec for patient 31854?,,,SELECT MAX(chartevents.charttime) - MIN(chartevents.charttime) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 31854 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'venous cath nec' AND linksto = 'chartevents' )
f6ad015f8e12733510bfd83d,"When, in 12/this year, was the last time patient 10021487 was prescribed a medication via the tp route?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.route = 'tp' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.route = 'TP' AND prescriptions.startdate BETWEEN '2023-12-01' AND '2023-12-31' ORDER BY prescriptions.startdate DESC LIMIT 1
6cadd9bbd8f4e8547babc4a4,Has patient 10019172 undergone the extraction of other tooth procedure in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extraction of other tooth' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extraction of other tooth' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND YEAR(procedures_icd.chartdate) = 2100
4c7e73d8e877dda69f26211c,When was the first time that patient 10038081 had the minimum value of immunoglobulin g?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'immunoglobulin g' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'immunoglobulin g' ) ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1"
b89ae914fde1da12628b1901,What are the four most common diagnoses of patients in their 40s?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT icd9, COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob >= date('now','-45 year') AND patients.dob <= date('now','-39 year') ) ) GROUP BY icd9 ORDER BY COUNT(*) DESC LIMIT 4"
f17da97011f380b6bc7c87eb,Show me the top five most common diagnoses of patients aged 60 or above this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM admissions INNER JOIN d_icd_diagnoses ON admissions.diag_code = d_icd_diagnoses.icd_code WHERE admissions.admittime >= DATE_FORMAT(CURDATE() ,'%Y-01-01') AND admissions.admittime < DATE_FORMAT(CURDATE() ,'%Y-12-31 23:59:59') AND admissions.dob <= DATE_FORMAT(CURDATE() ,'%Y-01-01') - INTERVAL 60 YEAR GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 5"
2599f881605016f342ed4ad8,What was the first value of o2 saturation pulseoxymetry patient 10001217 had on 12/04/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '12-04' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2022-12-04%' ORDER BY chartevents.charttime ASC LIMIT 1
d3f3a4406592054ad20c2093,When did patient 10022017 get the microbiology test for the last time since 10/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2189-09-13 08:16:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND chartevents.charttime >= '10/2100' ORDER BY chartevents.charttime DESC LIMIT 1
721e100bb5221ab0b783efb9,How much does it cost to get diagnostic of type 2 diabetes mellitus without complications?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'type 2 diabetes mellitus without complications' ) ),,
e328aff459ba450aa7b31950,Provide the total input volume for patient 10029291 since 03/01/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-01'",[{'SUM(inputevents.totalamount)': 76005.0}],
39f61d8cb6ee0e63eed2c0c1,Did patient 10035185 receive any disease diagnoses in their last hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ORDER BY admissions.admittime DESC LIMIT 1 )
65f468deef71db0042d17c04,Provide the monthly maximum weight of patient 10005909 during the first hospital visit.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT DATE_FORMAT(chartevents.charttime, '%Y-%m'), MAX(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10005909 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Body Weight' ) GROUP BY YEAR(chartevents.charttime), MONTH(chartevents.charttime)"
3859ca46fafef561a7272be8,Can you tell me patient 10015272's daily maximum weight in this year?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT MAX(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10015272 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01')"
7b572da72e10a69e40094361,Tell me the blood type of patient 28443?,,,SELECT patients.bloodtype FROM patients WHERE patients.subject_id = 28443
88d1d764d3e45a0ff254d45a,"Among patients diagnosed with other diseases of lung, not elsewhere classified, what are the top three most common lab tests conducted within the same hospital visit in this year?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other diseases of lung, not elsewhere classified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT L.itemid, D.label, COUNT(*) AS test_count FROM labevents AS L JOIN admissions AS A ON L.hadm_id = A.hadm_id JOIN d_items AS D ON L.itemid = D.itemid WHERE A.drg_code = '518' AND L.chartdate >= DATE_TRUNC('year', CURRENT_DATE) GROUP BY L.itemid, D.label ORDER BY test_count DESC LIMIT 3"
80466ce112a1c1006d70d876,What were the top four most frequent diagnoses with which patients were diagnosed after receiving excision of other bile duct within 2 months?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of other bile duct' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS diagnosis_count FROM admissions JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%excision of other bile duct%' AND datetime(admissions.admittime) BETWEEN datetime(procedures_icd.chartdate) AND datetime(procedures_icd.chartdate, '+2 months') GROUP BY d_icd_diagnoses.short_title ORDER BY diagnosis_count DESC LIMIT 4"
032dbf61616563e773c37078,"During this year, what are the top three most common medications prescribed during the same month to the patients aged 60 or above after they were diagnosed with leukocytosis, unspecified?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'leukocytosis, unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m.drug, COUNT(*) AS count FROM admissions a JOIN patients p ON a.subject_id = p.subject_id JOIN icustays i ON a.hadm_id = i.hadm_id JOIN prescriptions m ON i.stay_id = m.stay_id JOIN diagnoses_icd di ON a.hadm_id = di.hadm_id WHERE YEAR(a.admittime) = YEAR(CURRENT_DATE) AND p.dob <= DATE_SUB(CURRENT_DATE, INTERVAL 60 YEAR) AND di.icd_code LIKE '288%' AND MONTH(a.admittime) = MONTH(CURRENT_DATE) GROUP BY m.drug ORDER BY count DESC LIMIT 3"
c3627e6abec2c90a0651a0e7,"Tell me the top three most commonly prescribed medications within the same hospital visit to patients in their 50s who were diagnosed with chronic obstructive pulmonary disease, unspecified since 2100.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic obstructive pulmonary disease, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 50 AND 59 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT prescription.drug_name, COUNT(*) AS count FROM prescription INNER JOIN patients ON prescription.subject_id = patients.subject_id WHERE patients.dob BETWEEN '1930-01-01' AND '1939-12-31' AND prescription.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2021-01-01' AND admissions.diagnosis LIKE '%chronic obstructive pulmonary disease, unspecified%' ) GROUP BY prescription.drug_name ORDER BY count DESC LIMIT 3"
4d4dd766a53d16c73dfa5445,Tell me the total number of patients who were diagnosed with diplopia in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'diplopia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,
f86dbfb605a8cf22c7785807,What was the total amount of glucagon that they prescribed to patient 10015931 since 05/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND prescriptions.drug = 'glucagon' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c.value) FROM prescriptions p JOIN pharmacy c ON p.prescription_id = c.prescription_id JOIN d_items i ON p.item_id = i.item_id WHERE p.patient_id = 10015931 AND i.name = 'Glucagon' AND c.date >= '05/2100'
560ac67e93ac8a709bbc10ea,How many people were diagnosed with amyotrophic lateral sclerosis throughout this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'amyotrophic lateral sclerosis' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,
6d4fb4147666cb3f5be2c8be,Tell me the name of the diagnosis that patient 10009035 received last since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT diagnoses_icd.diagnosis, d_icd_diagnoses.long_title FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND diagnoses_icd.diagseq = ( SELECT MAX(diagseq) FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND diagnoses_icd.chartdate >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR ) )"
ced75cfc467f5facf66e9200,"Was in their first hospital encounter acetaminophen, aspirin, or furosemide prescribed to patient 10012853?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ( 'acetaminophen', 'aspirin', 'furosemide' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10012853 AND prescriptions.hospstay_seq = 0 AND prescriptions.drug IN ('acetaminophen', 'aspirin', 'furosemide')"
509007e836380f20bbceca57,Retrieve the top five most frequent lab tests that patients had after being diagnosed with ulcer of other part of foot in the same month since 1 year ago.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'ulcer of other part of foot' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND diagnoses_icd.icd_code LIKE '280%' AND DATE_FORMAT(admissions.admittime, '%Y-%m') = DATE_FORMAT(labevents.charttime, '%Y-%m') GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 5"
a6fc04dbbe1e0ba75ba30f18,What was the organism found in the first bronchoalveolar lavage test of patient 10021487 since 10/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'bronchoalveolar lavage test' ) AND chartevents.charttime >= '10/2100' ORDER BY chartevents.charttime ASC LIMIT 1
bf7b0e75c5c6bf62f8ebec79,Has patient 10014729 received any piggyback in 03/this year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'piggyback' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',inputevents.starttime) = '03'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND inputevents_cv.amount > 0 AND inputevents_cv.starttime LIKE '03%'
4d49aa5a44c5a8b00e811bf8,"On their last hospital encounter, what was patient 10006053's age?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT DATEDIFF('day', patients.dob, admissions.admittime)/365.25 FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10006053 ORDER BY admissions.admittime DESC LIMIT 1"
8c021f1784d97cc1eb00efeb,What did patient 10038081 first have as output since 10/04/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-04' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Oral Gastric'}],
3a071ace73b6a8ed27c95001,"For patient 10021487, what were the first calcium, urine lab results during this month?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, urine' ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'calcium, urine' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= DATE_FORMAT(NOW(), '%Y-%m-01 00:00:00') AND chartevents.charttime < DATE_FORMAT(NOW(), '%Y-%m-01 00:00:00') + INTERVAL 1 MONTH ORDER BY chartevents.charttime ASC LIMIT 1"
102866b5841e8a98e3f1d51b,Can you list patient 10031404's monthly average weight?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT AVG(chartevents.valuenum) AS average_weight, STRFTIME('%Y-%m', chartevents.charttime) AS month FROM chartevents JOIN patients ON chartevents.subject_id = patients.subject_id WHERE patients.subject_id = 10031404 AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') GROUP BY month ORDER BY month ASC"
55a91f4eaa637abafc6b75b7,What is the method of disinfection in the quarantine room?,,,
93a6f19b82de2d952049362e,When did patient 10006053 get a microbiology test for the last time?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'charttime': '2111-11-14 17:15:00'}],SELECT MAX(charttime) FROM microbiologyevents WHERE hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 )
9011b8d82bdbbf46bb8ecbb9,Show me the four most common microbiology tests performed this year.,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4",[],"SELECT test_name, COUNT(*) AS test_count FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY test_name ORDER BY test_count DESC LIMIT 4"
bbd83d8b93e5221cf79488b1,What was the name of the output the last time patient 10029484 had since 11/10/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-10' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Void'}],
5498f998fad51770de8a3567,Has patient 10004235 had lab testing since 01/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-01'",[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM labevents WHERE hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND charttime > '2100-01-01'
a437096bd6ca61f03b95d62a,What was the name of the medicine that was given to patient 10005817 in the same hospital encounter post procedure of extracorporeal circulation auxiliary to open heart surgery since 29 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-29 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-29 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT medications.gre_generic FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND medications.startdate >= datetime(current_time,'-29 month') AND medications.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.first_careunit IN ( SELECT procedures_icd.icd_code FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) )"
ca6018236b179b413a64059e,What was the last time patient 10020187 input time on 02/04/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-02-04' ORDER BY inputevents.starttime DESC LIMIT 1",[],
9e13de1d202dab1dcf105976,"In the last hospital visit, what age was patient 10025463?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10025463 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT TIMESTAMPDIFF(YEAR, patients.dob, admissions.admittime) AS age FROM patients INNER JOIN admissions ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10025463 ORDER BY admissions.admittime DESC LIMIT 1"
ea3505754407fd4d8ea5fdd8,How much difference is there in pco2 levels among patient 10009035 last measured on the first hospital visit compared to the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT first_value - last_value FROM ( SELECT MAX(valuenum) AS last_value, MIN(valuenum) AS first_value FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ) AS diff"
d06643d034d4d04e5457cae5,What are the total number of other and unspecified pneumonectomy procedures performed in 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other and unspecified pneumonectomy' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,
669a0b2733d0accec1a73720,What is the recorded sex of patient 10015931?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10015931,[{'gender': 'M'}],SELECT gender FROM patients WHERE subject_id = 10015931
ddbdcf0355e30978ef2bda62,How many prescriptions for tramadol were made throughout this year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'tramadol' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND prescriptions.drug LIKE '%tramadol%'"
612f8fa49f7f4fdc5d2bc4b6,Tell me the name of the diagnosis that patient 10039997 received last during their first hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT d_icd_diagnoses.short_title FROM d_icd_diagnoses JOIN diagnoses_icd ON d_icd_diagnoses.icd_code = diagnoses_icd.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10039997 ) ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
9cfc6425bde940cf398a73dc,"What's the average monthly number of patients who had multiple fractures of ribs, bilateral, initial encounter for closed fracture in 2100?","SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'multiple fractures of ribs, bilateral, initial encounter for closed fracture' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT COUNT(DISTINCT admissions.subject_id)/12 FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'multiple fractures of ribs, bilateral, initial encounter for closed fracture' ) AND admissions.admittime LIKE '2100%'"
0ef0e1be7cef42de551d0ac7,When was the first time patient 10007818 had been prescribed medication through the pr route on the first hospital encounter?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'pr' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT MIN(cptevents.charttime) FROM cptevents JOIN admissions ON cptevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007818 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10007818 ) AND cptevents.cpt_cd IN ( SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.category = 'Medication' AND d_cpt.modifiers LIKE '%P%' )
b91c712088f552af0be44e46,What are the top four most common specimens tested for patients previously diagnosed with traumatic shock within 2 months?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'traumatic shock' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS specimen_count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '999.4') AND admissions.admittime >= datetime(current_time,'-2 months') ) GROUP BY chartevents.itemid ORDER BY specimen_count DESC LIMIT 4"
e4b5f1fc800b0d54f32ed37b,Tell me the minimum total hospital cost that includes benign neoplasm of cerebral meninges in 2100.,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'benign neoplasm of cerebral meninges' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(total_cost) FROM charges WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 2100 AND diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%benign neoplasm of cerebral meninges%' ) )
995e071fb1a801ad2552a7c2,What is the outpatient schedule of dr. brunner today?,,,
59612d635a641261872944e4,What's the cost of a procedure called extracorporeal circulation auxiliary to open heart surgery?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) ),,
8ef6fa9dfc5f788fb73b69e8,Can you show me the top three most common procedures conducted in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
db408655e01275e4bcc8c7bc,Is the patient 10021666 a male or female?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10021666,[{'gender': 'M'}],"SELECT adm.subject_id,adm.gender FROM admissions adm WHERE adm.subject_id = 10021666"
8288ab2fa75b4a191de46940,Tell me the count of the drugs patient 10040025 was prescribed during their first hospital encounter.,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)': 28}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ORDER BY admissions.admittime ASC LIMIT 1 )
ec318c164a262760140ba3ff,What is the number of drugs patient 10019172 was prescribed in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],
be4e133fd657b3c989be8b0b,How many hours has it been since the first stay of patient 10021487 in the careunit trauma sicu (tsicu) on this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT julianday('now') - julianday(min(icustays.intime)) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.icustay_id IN ( SELECT stay_id FROM icustays WHERE icustays.icustay_id IN ( SELECT stay_id FROM icustays WHERE icustays.icustay_id IN ( SELECT stay_id FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'trauma sicu (tsicu)' AND d_items.linksto = 'chartevents' ) ) )
61f59af2792e3a760c51ddd9,When was patient 10011398's first input since 04/16/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-16' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2146-12-15 12:30:00'}],
bf638c88c79e23f84c8e2529,Tell me the number of patients who were prescribed methylnaltrexone since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'methylnaltrexone' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 3}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.d_stop_date > '2100-01-01' AND prescriptions.drug = 'methylnaltrexone'
c72069fe9515604ba1be94c3,"During the first hospital encounter, what was the average glucose value for patient 10013049?",SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ),[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'GLU' AND d_items.linksto = 'chartevents' ) AND admissions.subject_id = 10013049 AND chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ORDER BY admissions.admittime ASC LIMIT 1 )
986a2a3bde40fef4fc375ef2,What were the top three most frequent microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test_name, COUNT(*) AS frequency FROM ( SELECT DISTINCT CASE WHEN microbiologyevents.org_itemid = 227912 THEN 'Blood Culture' WHEN microbiologyevents.org_itemid = 228136 THEN 'Wound Culture' ELSE 'Other' END AS test_name FROM microbiologyevents WHERE datetime(microbiologyevents.chartdate) >= datetime(current_date, '-1 year') ) AS subquery GROUP BY test_name ORDER BY frequency DESC LIMIT 3"
7041b79655fa30e1c31b1c57,How many drugs have been prescribed to patient 10019777 since 03/2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)': 154}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10019777 AND datetime(prescriptions.startdate) >= datetime('03/2100')
4883a2a4fe195a7f18fa9e6e,How many current patients are there in the 50s age group?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 50 AND 59,,SELECT COUNT(*) FROM patients WHERE patients.dob < '1971-01-01' AND patients.dob > '1960-12-31' AND patients.dod IS NULL
bccd2741d2ab3570194f6bc7,What was the name of the medication that patient 10016150 was last prescribed?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Aspirin'}],SELECT medications.meds_name FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) ORDER BY medications.stop_date DESC LIMIT 1
4168e2277f26fb151490a2c0,What is the cost of defibrination syndrome diagnostic?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'defibrination syndrome' ) ),,
540b84764bb982f9853d1621,Has patient 10038999 been diagnosed with any diseases in 2100?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10038999 AND YEAR(admissions.admit_dt) = 2100
b5f30bce905a467fe3d9be05,Has patient 10015931 received any laboratory testing since 1 month ago?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 month')"
92de51735371a46e81acc845,When did patient 10022281 depart hospital for the first time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022281 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022281 ORDER BY admissions.dischtime ASC LIMIT 1
613a190f2257871bd0c6a395,How much of a difference is there in patient 10029291's weight last measured on the first hospital visit compared to the second to last value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH first_visit_chartevents AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ) SELECT first_visit_chartevents.valuenum - ( SELECT valuenum FROM first_visit_chartevents ORDER BY charttime DESC LIMIT 1, 1 ) AS weight_difference FROM first_visit_chartevents ORDER BY charttime DESC LIMIT 1"
a3a2597423bb12f178e4e5b7,Can you show me the drug that patient 10020740 was last prescribed in 04/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.startdate >= '2022-04-01' AND prescriptions.startdate < '2022-05-01' ORDER BY prescriptions.enddate DESC LIMIT 1
42fee8cbef2d81610c0f6a7b,What is the blood type of patient 32168?,,,SELECT patients blood_type FROM patients WHERE patients.subject_id = 32168
981338dedcce7e27679a41c7,When was the last time that patient 59941 had a medication that should be taken daily?,,,SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 59941 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.category = 'Medications' ) GROUP BY chartevents.charttime ORDER BY chartevents.charttime DESC LIMIT 1
50d49912da164775f9dc831f,Give me patient 10021487's total peptamen bariatric (full) input.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'peptamen bariatric (full)' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT sum(chartevents.inputamt) FROM chartevents WHERE chartevents.subject_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'peptamen bariatric (full)' AND d_items.linksto = 'inputoutput' )
01270c1f37b90c29598b8e5c,Did patient 10001725 undergo repair of rectocele with graft or prosthesis in their last hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'repair of rectocele with graft or prosthesis' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'repair of rectocele with graft or prosthesis' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ORDER BY admissions.admittime DESC LIMIT 1 )
c56c95b8d5030cf37d0e4528,"What was the name of the medication that patient 10002495 was prescribed within the same day after receiving a assistance with cardiac output using balloon pump, continuous procedure in 06/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-06' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-06' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND prescriptions.startdate IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) AND procedures_icd.subject_id = 10002495 AND procedures_icd.chartdate >= '06/2100' AND procedures_icd.chartdate < '07/0100' )"
3b2a3869e8ca4ddc183bfbfe,What is the number of patients that received a thyroxine (t4) test since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'thyroxine (t4)' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'T4' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
56cc6ac2512f4026f211bada,"How many patients had a diagnosis of pain in joint, shoulder region since 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pain in joint, shoulder region' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
5584a484b396e900b09a1ff9,Has patient 10026406 been to the E.R.?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admittime IN ( SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admission_type = 'ELECTIVE' )
4c511e76ad5fcd971a417e7f,Tell me the number of patients diagnosed with fibromyalgia since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'fibromyalgia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
02885cc1fb11efec74cb16fd,When did first patient 10021487 have the maximum value of amylase during this hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1"
db9fb5b609cf5c9785924c0c,How many hours have passed since patient 10004733 first visited the careunit medical/surgical intensive care unit (micu/sicu) during this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT julianday(MAX(chartevents.charttime)) - julianday(MIN(chartevents.charttime)) FROM chartevents JOIN icustays ON icustays.stay_id = chartevents.stay_id WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.intime >= ( SELECT min(transfers.intime) FROM transfers WHERE transfers.subject_id = 10004733 AND transfers.dbsource = 'carevue' AND transfers.icustay_id IS NOT NULL AND transfers.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.dbsource = 'carevue' AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.unit = 'medical/surgical intensive care unit' ) ) ) )
df115de912364769eda352c1,Show me patient 10007058's total amount of cath lab intake input since 07/17/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'cath lab intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-17'",[{'SUM(inputevents.totalamount)': None}],
2616e051ac4579e504b2e48d,"During their first hospital encounter, what was the diagnosis for patient 10004720 the first time?",SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,"SELECT admittime, dischtime, diagnoses_icd.icd9cm_code, diagnoses_icd.long_title FROM diagnoses_icd JOIN admissions ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10004720 ORDER BY admissions.admittime ASC LIMIT 1"
24f447b683e61e944f998093,"For the last time, what was the medication that patient 10015860 was prescribed in 10/this year via the pr route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND prescriptions.route = 'pr' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, dischargeime, itemid, subject_id, hadm_id, charttime, storetime, CGID, chartdate, storetime, value, pharmacy, route FROM prescriptions WHERE subject_id = 10015860 AND route = 'PR' AND YEAR(admittime) = YEAR(CURDATE()) AND MONTH(admittime) = 10 ORDER BY charttime DESC LIMIT 1"
480c4f9f6cb6210afb07ec17,Can you tell me the five most frequent diagnoses during this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
1fc3739dc0cf84ab7935fd38,What drug was the last drug prescribed for patient 10020786?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Ondansetron'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10020786 ORDER BY prescriptions.start_date DESC LIMIT 1
f335eed9cf01ee1b0747a75a,Tell me what the top five most common diagnoses of patients with an age of 30s since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE patients.dob BETWEEN datetime('now','-31 years','-1 year') AND datetime('now','-29 years','-1 year') GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 5"
2c1b4a7fbad74a8a44675a71,What were the top four most frequent diagnoses that followed within 2 months for those patients who received percutaneous abdominal drainage?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous abdominal drainage' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'percutaneous abdominal drainage' ) AND diagnoses_icd.seq_num > 1 AND chartevents.charttime BETWEEN icustays.intime AND icustays.outtime AND admissions.admittime BETWEEN icustays.intime AND datetime(icustays.intime,'+2 month') GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 4"
9935a33215fc04cc9ed9c438,How many cases involved the prescription of sulfameth/trimethoprim ss this year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'sulfameth/trimethoprim ss' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'sulfameth/trimethoprim ss' AND prescriptions.startdate >= DATE_FORMAT(CURDATE(),'%Y-01-01')"
5a89407a39c4cd1be3abc4f2,"On this month/23, what was the maximum value of the respiratory rate for patient 10004733?","SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '23'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' ) AND chartevents.charttime >= '2023-09-01' AND chartevents.charttime < '2023-10-01'
6b1ddc68db0377487658c10b,What is the recently prescribed medication for patient 10004733 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT medications_miv.stop_date, medications_miv.order_type, medications_miv.dosage, medications_miv.drug_name FROM medications_miv WHERE medications_miv.subject_id = 10004733 AND medications_miv.stop_date IN ( SELECT max(medications_miv.stop_date) FROM medications_miv WHERE medications_miv.subject_id = 10004733 AND medications_miv.stop_date BETWEEN 'TODAY' AND 'TOMORROW' ), ( SELECT max(medications_miv.stop_date) FROM medications_miv WHERE medications_miv.subject_id = 10004733 AND medications_miv.stop_date BETWEEN 'YESTERDAY' AND 'TODAY' ) ORDER BY medications_miv.stop_date DESC LIMIT 2"
97b55cd17bce748e8c767456,I want to know the total volume of input patient 10001725 has received since 04/05/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-05'",[{'SUM(inputevents.totalamount)': 4450.0}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.subject_id = 10001725 AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE category = 'Input' AND itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%volume%')) AND chartevents.charttime >= '04/05/2100'
72692c9fe3d361f082e66556,What was the drug that was prescribed to patient 10015860 for the last time on their last hospital visit via the po/ng route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'po/ng' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT c.pdx FROM prescriptions AS p JOIN drugs AS d ON p.drug_id = d.drug_id JOIN drug_strength AS s ON d.drug_strength_id = s.drug_strength_id JOIN d_items AS c ON p.stop_datetime = ( SELECT MAX(stop_datetime) FROM prescriptions WHERE subject_id = 10015860 AND route = 'PO/NG' ) AND p.subject_id = 10015860 AND p.route = 'PO/NG' WHERE c.itemid = p.formulary_drug_cd
650faa5ad60fd0f4f2dee70a,What is the procedure on anticancer drugs?,,,
6ec5c2c1bd1fc8781c4fea87,"How many instances of dilation of left external iliac vein with intraluminal device, percutaneous approach procedures have been completed since 2100?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left external iliac vein with intraluminal device, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
e0cf2f53e348a811ec32082d,What was the insurance for patient 10016150 during their first hospital encounter?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Medicare'}],"SELECT admittime, dischtime, insurance FROM admissions WHERE admissions.subject_id = 10016150 ORDER BY admittime LIMIT 1"
5132adcd87a30d937fa216b4,Can you please share with me the name of the diagnosis that patient 95909 received in the other department?,,,
1c2f1cfa5e513beb87314705,"What is the diagnosis cost of catatonic type schizophrenia, unspecified?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'catatonic type schizophrenia, unspecified' ) )",,"SELECT charges.amount FROM charges WHERE charges.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'schizophrenia, catatonic type, unspecified' )"
c62c1e4f5598bb12f5d680d7,What was the last specimen test that was given to patient 10010471?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'BLOOD CULTURE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) ORDER BY chartevents.charttime DESC LIMIT 1
bf7d668907b28a333bad876e,What were the four most common tests conducted on specimens since 1 year ago?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]","SELECT test_name, COUNT(*) AS occurrences FROM ( SELECT d_labitems.label AS test_name FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= current_timestamp - INTERVAL '1 year' ) AS subquery GROUP BY test_name ORDER BY occurrences DESC LIMIT 4"
05708c73dfad0a3f4781563a,Could you count the number of times patient 10010471 visited the hospital?,SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10010471,[{'COUNT( DISTINCT admissions.hadm_id )': 2}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10010471
b43b8df345f082e968c0504d,When did patient 10038081 first get the mrsa screen's microbiology test since 01/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-01' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mrsa screen' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('01/2100') ORDER BY chartevents.charttime ASC LIMIT 1
3c3c48b480fadfdd63afc64a,What is the name of the procedures that were given to patient 10016742 two times since 07/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-07' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND procedures_icd.chartdate >= '2000-07-01' GROUP BY d_icd_procedures.long_title HAVING COUNT(*) >= 2
00854efb1da3fe176150292d,What new drugs are prescribed for patient 10039831 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT d_cpt.cpt FROM d_cpt WHERE d_cpt.cpt_code IN ( SELECT prescriptions.cpt FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 day') AND datetime(prescriptions.startdate) < datetime(current_date) AND d_cpt.cpt_code NOT IN ( SELECT prescriptions.cpt FROM prescriptions WHERE prescriptions.subject_id = 10039831 AND datetime(prescriptions.startdate) <= datetime(current_date,'-2 day') ) )"
03b4e3ee9ffa442c8b1b6f34,"What was the drug that was prescribed to patient 10002495 within the same day after the measurement of cardiac sampling and pressure, right heart, percutaneous approach in 06/this year?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'measurement of cardiac sampling and pressure, right heart, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '06' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '06' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT drug FROM prescriptions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'cardiac sampling and pressure, right heart, percutaneous approach' ) AND chartdate >= '2021-06-01' AND chartdate < '2021-07-01' ) AND prescdate = procedures_icd.chartdate"
d5e0cf8341d186a59aa14536,"Tell me the minimum total cost of a hospital that involved chronic ischemic heart disease, unspecified since 2100.","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic ischemic heart disease, unspecified' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(costs.cost) FROM costs WHERE costs.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE '414%' ) ) AND costs.charttime >= '2100-01-01'
be9080e8bd4d6236bf72ed25,What was a drug that patient 10021487 was prescribed for in the same day after receiving arterial catheterization since 2 months ago?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arterial catheterization' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-2 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-2 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT medications.drug FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND medications.startdate IN ( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arterial catheterization' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-2 month') )"
7d276bb7858da3e756c5b278,Give me patient 10025612's total amount of or crystalloid intake input.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or crystalloid intake' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_mv.amount) FROM inputevents_mv INNER JOIN patients ON patients.subject_id = inputevents_mv.subject_id WHERE inputevents_mv.subject_id = 10025612 AND (inputevents_mv.itemid = 227094 OR inputevents_mv.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Fluids and electrolytes'))
3203c674e0262061c0e9ecc5,Provide the sum total of inputs for patient 10007818 since 03/02/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-02'",[{'SUM(inputevents.totalamount)': 162565.80000305176}],
11b1d4acc1e68f70deb1fd99,What is the total number of patients who underwent fiber-optic bronchoscopy throughout this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fiber-optic bronchoscopy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fiber-optic bronchoscopy' ) AND YEAR(procedures_icd.chartdate) = YEAR(CURDATE())
704f14d72d85257a378afe42,What was the last lab test result of the free calcium for patient 10008287 in 10/this year?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10' ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT labevents.valuenum FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND datetime(labevents.charttime) >= datetime(current_date,'start of month') AND datetime(labevents.charttime) < datetime(current_date,'start of month','+1 month') ORDER BY labevents.charttime DESC LIMIT 1"
e7626ed5099c3df4e2766996,"Since 29 months ago, what was the last recorded weight for patient 10013049?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-29 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-29 month') ORDER BY chartevents.charttime DESC LIMIT 1"
4be47d4fcbaf07a2f5b1d8ac,"Among patients diagnosed with bite of other animal except arthropod in 2100, what are the top five most common lab tests that followed afterward during the same month?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bite of other animal except arthropod' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) AS test_count FROM labevents LEFT JOIN d_items ON labevents.itemid = d_items.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '2100' ) ) AND labevents.chartdate BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 1 MONTH) GROUP BY d_items.itemid ORDER BY test_count DESC LIMIT 5"
f8bfabf3d67d5c270425864f,What was the last weight of patient 10014729?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) ORDER BY chartevents.charttime DESC LIMIT 1
d526b1d43696d492cab8fec9,How many current patients are there in the 30s age group?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 30 AND 39,,
de257ec1deb940f9cc31497a,Can you tell me the name of the diagnosis patient 10031404 received last during their last hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT d_ICD_diagnoses.short_title FROM d_ICD_diagnoses WHERE d_ICD_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ORDER BY admissions.admittime DESC LIMIT 1 ) ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
45128f30bf831e9b55cca497,How many times did patient 10026255 attend the hospital this year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10026255 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10026255 AND admissions.admittime >= date_format(now(),'%Y-01-01')"
06445e2823bf14c47a058abe,"Has patient 19412 been administered any additional fluid,other test?",,,SELECT COUNT(*)>0 FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE admissions.subject_id = 19412 AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%additional fluid%' OR label LIKE '%other test%')
22ab23e20a87874b13ca865c,What is patient 10010471's heart rate change last measured on the first ICU visit compared to the value first measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT first_value(chartevents.valuenum) OVER (PARTITION BY chartevents.stay_id ORDER BY chartevents.charttime) AS first_heart_rate, last_value(chartevents.valuenum) OVER (PARTITION BY chartevents.stay_id ORDER BY chartevents.charttime) AS last_heart_rate FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ORDER BY icustays.intime LIMIT 1 )"
6ea26188016a8e0dcae6f2ca,When are dr. shears's rounds and procedures?,,,
65b2855ba05f13d02f85adcd,What was the organism's name found in the last urine test of patient 10007928 in 04/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-04' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.value FROM chartevents WHERE chartevents.subject_id = 10007928 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine culture' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime <= '2041-01-01' AND chartevents.charttime >= '2040-12-01' ORDER BY chartevents.charttime DESC LIMIT 1
f07f334bbccde1c7406d1f43,When did patient 10027602 last have a mini-bal microbiology test since 10/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'mini-bal' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mini-bal microbiology test' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('10/2100') ORDER BY chartevents.charttime DESC LIMIT 1
d2c264c9a4496523fd9581ea,"On 10/13/2100, when did patient 10038081 have his first input?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-10-13' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND DATE(chartevents.charttime) = '10/13/2100'
66c9f492519459a4e0775016,What was the output patient 10007818 had on 07/15/this year on the last occasion?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '07-15' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],
80d49c51633413262b935409,When was the last staph aureus swab microbiology test of patient 10004422's performed on their last hospital visit?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'staph aureus swab' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT datetime(microbiologyevents.chartdate) FROM microbiologyevents WHERE microbiologyevents.spec_itemid IN ( SELECT d_microbiology_diagnostics.spec_itemid FROM d_microbiology_diagnostics WHERE d_microbiology_diagnostics.org_name = 'staphylococcus aureus' AND d_microbiology_diagnostics.linksto = 'microbiologyevents' ) AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.admittime = ( SELECT max(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10004422 ) ) ORDER BY microbiologyevents.chartdate DESC LIMIT 1
f482fa51f88bdcc934bc4754,Can you list the single rooms that are available for rent now?,,,
db4ef4453f0482846262ad5c,Tell me the total number of patients who stayed in cardiac surgery this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'cardiac surgery' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= current_date - INTERVAL 1 YEAR AND admissions.hospital_service = 'Cardiac Surgery'
b9ac1bb7e36dd0d95acbf39c,Can you tell the three most frequent lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_items.label, COUNT(*) as freq FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= '2100-01-01' GROUP BY d_items.label ORDER BY freq DESC LIMIT 3"
bebd7cec45abb76dc9e4534c,What was a drug that patient 10001217 was prescribed for within the same hospital visit after receiving central venous catheter placement with guidance in this month?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admits.drgcode FROM admissions AS admits JOIN patients AS patients ON admits.subject_id = patients.subject_id JOIN admissions AS admits2 ON patients.subject_id = admits2.subject_id JOIN chartevents AS ce ON admits2.hadm_id = ce.hadm_id WHERE admits.subject_id = 10001217 AND admits.admittime <= ce.charttime AND ce.charttime <= admits2.dischtime AND ce.itemid = ( SELECT itemid FROM d_items WHERE label = 'central venous catheter placement with guidance' ) AND DATEDIFF(admits.admittime, ce.charttime) <= 30 AND admits2.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'central venous catheter placement with guidance' ) ) AND ce.itemid = ( SELECT itemid FROM d_items WHERE label = 'drug administration' )"
a3481de61e2fdd7ec5b2daad,"Number of patients who received a introduction of other therapeutic substance into heart, open approach procedure in 2100.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime LIKE '2100%' )"
a3355859e69721c3baf952d0,What percentile is the hematocrit value of 35.4 in the same age group as patient 10008454 on the last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 35.4",,
e72bc975b9c19bf0df3b5f9f,When was the first time during their first hospital encounter when patient 10031404 had the maximum value of lactate dehydrogenase (ld)?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate dehydrogenase (ld)' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate dehydrogenase (ld)' ) ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1"
676f00b844b8685a14e6582b,What is today's outpatient schedule with dr. smith?,,,
fb466f1f12c24c1faea2fb13,"For the first time , how much lorazepam was prescribed to patient 10021487?",SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.drug = 'lorazepam' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.drug = 'Lorazepam' ORDER BY prescriptions.startdate ASC LIMIT 1
fbb2af617d1dcbd3c073bbe0,What were the top five frequent laboratory tests that patients had after they were diagnosed with paralytic ileus during the same hospital visit?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'paralytic ileus' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) as frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '560.1' ) GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 5"
41380d1d5d0e6d1c497a8317,"Calculate the number of people who had respiratory ventilation, greater than 96 consecutive hours.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM chartevents WHERE itemid = (SELECT itemid FROM d_items WHERE label = 'MechVent') AND valuenum > 96
b5ebca4336ca90885d7d6381,Show me the top five most common diagnoses of patients aged 60 or above since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN d_icd_diagnoses ON icustays.d_icd_diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.dob <= DATE_SUB(admissions.admittime, INTERVAL 60 YEAR) AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 5"
6c01e0679abf5f4770e5efe4,What are the five most frequently ordered laboratory tests this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT d_items.label, COUNT(*) AS test_count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid WHERE labevents.charttime >= DATE_FORMAT(NOW() ,'%Y-01-01') GROUP BY d_items.label ORDER BY test_count DESC LIMIT 5"
2cf0ff14f070a284cf574db2,What is the foley output for patient 10018081 on 12/30/this year?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '12-30'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '12/30/%' ORDER BY chartevents.charttime DESC LIMIT 1
93ee1ffd46ebada0f537dc47,Give me the top four most frequent lab tests that patients were given after being diagnosed with need for prophylactic vaccination and inoculation against influenza within the same hospital visit since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'need for prophylactic vaccination and inoculation against influenza' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.admittime >= '2100-01-01' AND diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'need for prophylactic vaccination and inoculation against influenza' ) GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
f3ae841b553febe658abd103,What is the difference between respiratory rate on patient 10031404 last measured on the last ICU visit compared to the value first measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH first_measure AS (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404)) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate') ORDER BY chartevents.charttime ASC LIMIT 1), last_measure AS (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN (SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404)) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate') ORDER BY chartevents.charttime DESC LIMIT 1) SELECT (last_measure.valuenum - first_measure.valuenum) FROM first_measure CROSS JOIN last_measure"
3e18d6bc76b77c4f191e1259,"What is the price of a procedure named dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' ) )",,
1d085776a9f4303e625f4125,How many hours have passed since patient 10039831's first platelet count laboratory test on the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT (JULIANDAY('now') - JULIANDAY(min(chartevents.charttime))) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10039831 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'platelet count' AND d_items.linksto = 'labevents' )
047259e83745142834b50838,"Was milk of magnesia, furosemide, or metoprolol tartrate ordered on their last hospital encounter for patient 10012552?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( 'milk of magnesia', 'furosemide', 'metoprolol tartrate' )",[{'COUNT(*)>0': 0}],"SELECT DISTINCT order_items.order_status FROM order_items WHERE order_items.patient_id = 10012552 AND order_items.order_category IN ('Milk of magnesia', 'Furosemide', 'Metoprolol tartrate') ORDER BY order_items.order_date DESC LIMIT 1"
c21cf578f81ff7a390dc8596,"What is the cost of a malignant neoplasm of lower lobe, bronchus or lung diagnosis?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of lower lobe, bronchus or lung' ) )",,
69b677906abcc409eb49619a,Show me the top four most frequent diagnoses.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Hyperlipidemia, unspecified'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 4"
715cc33a6ffeecdcb8a10831,Tell me the length in days of the first stay for patient 10020187 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 5.452662038151175}]","SELECT MIN(icustays.intime) AS firststay, TIMESTAMPDIFF(DAY,MIN(icustays.intime),MIN(icustays.outtime)) AS lengthofstay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 )"
6e3ef13b7c663dcb6c9945ec,When was the last time that patient 10266 had a medication that should be taken regularly?,,,SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10266 ) AND chartevents.ITEMID IN ( SELECT d_items.ITEMID FROM d_items WHERE d_items.category = 'Medications' )
3cf174e9abff40de817ec43c,What was the total volume of foley patient 10026354 had since 07/09/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-09'",[{'SUM(outputevents.value)': None}],
df7a774b0aacbddb0a1facfe,In what ways can ciprofloxacin 0.3% ophth soln be ingested?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'ciprofloxacin 0.3% ophth soln',[],
2d80cb1e489c0421c68be6f2,How many hours has it been since patient 10021487 last received the red blood cells lab test during this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(chartevents.charttime), NOW()) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cells' ) AND chartevents.error = 0 GROUP BY chartevents.hadm_id"
7cee0315da660d7678b612e3,When on the last hospital stay did patient 10038992 receive the basophils test for the last time?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Basophils' AND d_items.linksto = 'labevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
163e20b7886f513a8897df5b,Can you tell me the name of the output patient 10004733 had for the last time on 12/28/this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '12-28' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],SELECT outputevents.value FROM outputevents WHERE outputevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND outputevents.charttime = ( SELECT MAX(outputevents.charttime) FROM outputevents WHERE outputevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND outputevents.charttime <= '12/28/this year' )
bb12c577d54cdbb658f77087,"Since 12/2100, when did patient 10021118 receive their last medication via the po route?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.linksto = 'chartevents' ) AND chartevents.storetime >= '2021-12-01' AND chartevents.cgid = ( SELECT cgid FROM patients WHERE patients.subject_id = 10021118 AND patients.icustay_expire_flag = 0 AND patients.dob < '2021-12-01' AND patients.dod > '2021-12-01' ) ORDER BY chartevents.charttime DESC LIMIT 1
ca4e42b32f0b7c47922fe65e,Has patient 10003046 experienced any surgeries during this year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*)>0 FROM surgeries WHERE surgeries.subject_id = 10003046 AND datetime(surgeries.starttime) >= datetime(current_time, '-1 year')"
581c5fbb07539eb5493641eb,"Among patients who underwent introduction of nutritional substance into lower gi, via natural or artificial opening in 2100, what were the top four most common procedures that followed during the same hospital visit?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into lower gi, via natural or artificial opening' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.short_title, COUNT(*) AS count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime LIKE '2100%' ) AND d_icd_procedures.long_title = 'introduction of nutritional substance into lower gi, via natural or artificial opening' AND procedures_icd.seq_num > 1 GROUP BY d_icd_procedures.short_title ORDER BY count DESC LIMIT 4"
63b6c9677e2f1cde57d31e73,How much does patient 10004422 change in weight last measured on the last hospital visit compared to the second to last value measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH last_visit_weight AS ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ), second_to_last_visit_weight AS ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) SELECT last_visit_weight.valuenum - second_to_last_visit_weight.valuenum AS weight_change FROM last_visit_weight, second_to_last_visit_weight"
43b3a2950b00b6d8b6b27c84,"What was the drug that patient 10015931 was prescribed with within the same hospital visit after the replacement of aortic valve with zooplastic tissue, percutaneous approach since 5 months ago?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-5 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-5 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime FROM admissions WHERE subject_id = 10015931"
a07f951288594d0721e53be7,Has patient 10021938 come into the ER in this year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.admittime >= date_format(CURRENT_DATE(),'%Y-01-01')"
cb2de03e599b89ef00694c72,What was the name of the specimen that patient 10016150 received for the last time since 01/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-01' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'URINE'}],
d19f3fd4aedf7fd997534d9e,When did patient 10021487 have the first systolic blood pressure observed to be greater than 100.0 since 12/05/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 100.0 AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-12-05' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 100 AND chartevents.charttime > '12/05/2100' ORDER BY chartevents.charttime ASC LIMIT 1
522b43ceabd524cfde7e3316,Are any new drugs prescribed to patient 10039831 today compared to the ones yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT COUNT(DISTINCT drug) > 0 FROM ( SELECT admittime, CASE WHEN admittime > current_time - INTERVAL 1 DAY THEN drug ELSE NULL END AS drug FROM prescriptions WHERE hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10039831) ) AS recent_prescriptions WHERE drug IS NOT NULL AND admittime NOT IN (SELECT admittime FROM prescriptions WHERE hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10039831) AND admittime < current_time - INTERVAL 1 DAY )"
2dc6aa9a4ecdf77dc85c452e,Retrieve patient 10018423's monthly minimum weight since 03/2100.,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-03' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT chartevents.valuenum, date_format(chartevents.charttime, '%Y-%m') as month FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2000-03-01' GROUP BY month ORDER BY month ASC"
12f5279f948c5fccb5f94517,What were the total amount of magnesium sulfate (bolus) input that patient 10005817 received since 12/25/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-25'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10005817 AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents_cv' ) AND inputevents_cv.cdtb >= '12/25/2100'
38bb18f4f12bf469e4927756,When did patient 10018845 get an input for the last time since 09/09/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-09' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2184-10-09 13:24:00'}],SELECT inputevents_mv.inputdt FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND datetime(inputevents_mv.inputdt) <= datetime('2100-09-09') ORDER BY inputevents_mv.inputdt DESC LIMIT 1
12f5143349944b924783990d,Has there been a hospital admission for patient 10020740 since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020740 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
1af0e5232d922453e5d2e3ae,How many patients received unilateral simple mastectomy treatment in the same month after having been diagnosed with acquired absence of breast and nipple in 2100?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acquired absence of breast and nipple' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'unilateral simple mastectomy' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(*) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE diagnoses_icd.icd_code = '2100' AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'unilateral simple mastectomy' ) AND YEAR(admissions.admit_dt) = YEAR(procedures_icd.chartdate) AND MONTH(admissions.admit_dt) = MONTH(procedures_icd.chartdate)
68de14b96fc28cb3d5819bcb,"For the patients with age 60 or above, what are the top five most frequent diagnoses during this year?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE patients.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR) AND admissions.admittime >= DATE_FORMAT(NOW(), '%Y-01-01') GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 5"
0bc993a64b3b18610af5e89f,Has patient 10027445 visited the hospital throughout this year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10027445 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.admit_dt >= DATE_FORMAT(NOW(),'%Y-01-01')"
9997157eb5c508f263b4a2b0,Tell me the length of stay of patient 10026354's first ICU stay in days.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.3870138889178634}]",SELECT icustays.intime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ORDER BY icustays.intime ASC LIMIT 1
0d6abd33276d5170877ee1fa,How much is the difference of heart rate of patient 10000032 last measured on the first ICU visit compared to the second to last value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","WITH heart_rates AS ( SELECT chartevents.valuenum AS hr_value, chartevents.charttime AS hr_time FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) ) ORDER BY hr_time DESC ) SELECT (heart_rates.hr_value - LAG(heart_rates.hr_value, 1) OVER (ORDER BY heart_rates.hr_time DESC)) AS hr_difference FROM heart_rates LIMIT 1"
7cfaf497121871d021a26099,Count up how many times patient 10000032 was admitted to the ICU since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 1}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
54422dbdbf89248bf6be26fb,What was the number of times rosuvastatin calcium was prescribed in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'rosuvastatin calcium' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'rosuvastatin calcium' AND YEAR(prescriptions.dosedate) = 2100
381ee96e607f7191231167cb,Tell me the insurance plan in place for patient 10039831 on this hospital stay.,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL,[],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10039831
8a3f528d01b5216685826b2a,What number of patients stayed in medicine/cardiology during the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medicine/cardiology' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND admissions.hospital_service LIKE 'Medicine/Cardiology'"
b857d922261f995e3a1265ac,What is the price of a procedure named insertion or replacement of external ventricular drain [evd]?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion or replacement of external ventricular drain [evd]' ) ),,
59c00de184347b5897bcc303,Can you tell me the cost of mediastinoscopy?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'mediastinoscopy' ) ),,
11f0c0917f60ce2086cc646c,How many patients with noncompliance with renal dialysis were diagnosed within 2 months after previously being diagnosed with personal history of tobacco use?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of tobacco use' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'noncompliance with renal dialysis' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM diagnoses_icd AS d1 JOIN diagnoses_icd AS d2 ON d1.hadm_id = d2.hadm_id WHERE d1.icd_code LIKE 'V15%' AND d2.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'noncompliance with renal dialysis') AND datetime(d2.chartdate) <= datetime(d1.chartdate,'+2 month')"
342ee94f22cb4edb3916fb14,What was patient 10005909's first input time since 04/03/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-03' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2144-10-29 23:15:00'}],SELECT inputevents_mv.input_time FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND datetime(inputevents_mv.input_time) >= datetime('04/03/2100') ORDER BY inputevents_mv.input_time ASC LIMIT 1
f2fb4d6b40dabed3a0ffdc3e,Show me patient 10010471's daily maximum weight since 2100.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) >= '2100' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-01-01' GROUP BY DATE(chartevents.charttime)
25df58c9b9009d8a32d96d15,Tell me the number of patients discharged from the hospital last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_date,'-1 year') AND datetime(admissions.dischtime) < datetime(current_date)"
b9dd894208060adb71afcbfc,What was the drug first prescribed to patient 10013049 in the first hospital encounter?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': '5% Dextrose'}],SELECT first prescriptions.drug_name FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10013049 AND prescriptions.startdate = (SELECT MIN(startdate) FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id)
312eb217dff66ce52d145060,How much miconazole nitrate vag cream 2% was given to patient 10021312 for the first time during their first hospital encounter?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'miconazole nitrate vag cream 2%' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT first_c.encounter, first_c.amount FROM ( SELECT MIN(chartevents.charttime) AS encounter, chartevents.amount FROM chartevents WHERE chartevents.subject_id = 10021312 AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE 'MICONAZOLE%' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.amount ) first_c JOIN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021312 ) ) first_h ON first_c.encounter = first_h.encounter LIMIT 1"
3c0ac8693894186ae1e49461,Can you tell me the five most frequent microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test, COUNT(*) AS count FROM microbiologyevents GROUP BY test ORDER BY count DESC LIMIT 5"
6a55f374b69cde6051e87af6,Was the hematocrit value of patient 10036156 last measured on the last hospital visit less than the value second to last measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT last.valuenum < second_last.valuenum FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) AS last, ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) AS second_last"
06082342b67bc9539dd5dce6,What are the prices for the drug called lidocaine 5% patch?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'lidocaine 5% patch' ),,
97d179e16fffa9fb76504042,Are patient 10009035's bicarbonate levels second measured on the first hospital visit less than the levels first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (t2.valuenum < t1.valuenum) FROM (SELECT labevents.valuenum, labevents.charttime, labevents.hadm_id FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1,1) AS t2 JOIN (SELECT labevents.valuenum, labevents.charttime, labevents.hadm_id FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1) AS t1 ON t1.hadm_id = t2.hadm_id"
2872894a2d6be289cc0751d3,Has patient 10005817 undergone a (aorto)coronary bypass of two coronary arteries?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = '(aorto)coronary bypass of two coronary arteries' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%(aorto)coronary bypass of two coronary arteries%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 )
1e7fca2277094f23cec3aa76,What was the total number of patients staying in medical intensive care unit (micu) in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'medical intensive care unit (micu)' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
7c14ad97c239a78381bd7174,Has patient 10002495 gotten any medication since 03/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND inputevents_cv.cdt BETWEEN '03/2100' AND current_timestamp
b8c83d640d2fe3594c7c2cb3,What was the output patient 10038933 had since 06/15/2100 on the last occasion?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-15' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
c4c116a340d78cd933a79870,Could you tell me the four most frequent microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 4","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}]","SELECT test, COUNT(*) FROM microbiologyevents GROUP BY test ORDER BY COUNT(*) DESC LIMIT 4"
b280ebdb1c738becbca7cc1d,When was the last time that patient 32755 had a medication that was regularly taken?,,,SELECT MAX(chartevents.charttime) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 32755 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' AND linksto = 'chartevents' )
f5b7b1f39d3f36c2baf21b63,Can you tell me the last recorded weight for patient 10010471 since 27 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-27 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-27 month') ORDER BY chartevents.charttime DESC LIMIT 1"
48805e4216bd012669a77b8c,What are the top four commonly ordered treatments for patients in their 20s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT c.name, COUNT(*) AS frequency FROM chartevents AS ce JOIN d_items AS c ON ce.itemid = c.itemid JOIN admissions AS a ON ce.stay_id = a.icustay_id JOIN patients AS p ON a.subject_id = p.subject_id WHERE p.dob BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 25 YEAR) AND DATE_SUB(CURRENT_DATE(), INTERVAL 20 YEAR) GROUP BY c.name ORDER BY frequency DESC LIMIT 4"
d7fb401aec234c8c77430b13,"How much is the average total hospital bill for a visit that involves a cholesterol, pleural test since 1 year ago?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, pleural' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol' OR d_labitems.label = 'pleural' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )"
1c2352529be1c26de9ae73e4,What is patient 10031757's rdw change last measured on the last hospital visit compared to the value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rdw' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT ( MAX(chartevents.valuenum)- MIN(chartevents.valuenum) ) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rdw' AND d_items.linksto = 'chartevents' )
16efb111485f01232222a8c4,What was the duration of the packed cell transfusion procedure for patient 9566?,,,SELECT MAX(chartevents.charttime) - MIN(chartevents.charttime) AS duration FROM chartevents INNER JOIN admissions ON chartevents.stay_id = admissions.icustay_id WHERE admissions.subject_id = 9566 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'packed cell transfusion')
f46ac5597a933d3aa191df19,Give me the four most frequent procedures performed since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) as frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
cfd20a468254386f9a520dca,Did patient 10015931 come into the ER during the previous year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.admittime BETWEEN datetime(current_time,'-1 year') AND datetime(current_time) AND admissions.admission_type = 'ELECTIVE' OR admissions.admission_type = 'URGENT' OR admissions.admission_type = 'EMERGENCY'"
05334e2bb5ed306293d184c4,Provide the top four most frequent diagnoses that patients were assigned within 2 months after receiving excision of other bile duct.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of other bile duct' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) as frequency FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE diagnoses_icd.icd_code IN (SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%excision of other bile duct%') AND chartevents.charttime BETWEEN admissions.admittime AND date_add(admissions.admittime, INTERVAL 2 MONTH) GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 4"
d518a22ef06007a9c93db34b,"Count the number of patients during the last year who received a introduction of other therapeutic substance into peripheral artery, percutaneous approach procedure.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into peripheral artery, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into peripheral artery, percutaneous approach' ) AND datetime(procedures_icd.chartdate) >= datetime(current_time,'-1 year')"
1ada788cf4c8e059533b5f04,"Since 2100, how many patients had been diagnosed with alcohol dependence, in remission?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alcohol dependence, in remission' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,SELECT COUNT(*) FROM admissions WHERE hadm_id IN (SELECT hadm_id FROM d_icd_diagnoses WHERE icd_code LIKE '305.00') AND admittime >= '2010-01-01'
79cd6dad6ad9f5ff2c2684e6,What was the name of that first specimen test patient 10029484 got since 11/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-11' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'MRSA SCREEN'}],
b69ed3edc52cb224ecb174eb,What is the percentile phosphate value of 3.3 among patients of the same age as patient 10024043 during their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 3.3",,
535fa7171aca46e1fa19b72d,What was the name of the medication that was first prescribed to patient 10003046?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Iso-Osmotic Dextrose'}],SELECT medications.text FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ORDER BY medications.startdate ASC LIMIT 1
3da43478d4e899fc1b0f0fe3,How is nystatin oral suspension taken?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'nystatin oral suspension',[],
93736e989193b9f5bc0fbdff,Tell me the minimum respiratory rate of patient 10026406 in the last ICU stay.,SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ),[{'MIN(chartevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT MAX(icustays.stay_id) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ))
61dc7e082e6c06af309663c7,When did patient 10002495 have the last maximum mcv value in 06/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],SELECT labevents.charttime FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10002495 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%MCV%' ) AND labevents.charttime >= '2022-06-01' AND labevents.charttime < '2022-07-01' ORDER BY labevents.valuenum DESC LIMIT 1
bc55adec6e2f148eae8ab156,What was the name of the organism found in patient 10021487's first bronchoalveolar lavage microbiological test since 09/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-09' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microspecimens.org_name FROM microspecimens JOIN microbiologyevents ON microspecimens.microspecimen_id = microbiologyevents.microspecimen_id WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.chartdate >= '09/01/2010' ORDER BY microbiologyevents.chartdate LIMIT 1
c6db806375506c37524257d8,Has patient 10027602 received any diagnoses since 1 year ago?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10027602 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
613174eb83b532fe4e38b7fc,What is the name of the drug that should not be administered during the total splenectomy procedure?,,,
a7a3de424d31c00f89567ff3,What are the five most frequently tested specimens for patients that received other incision of brain previously within 2 months in 2100?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other incision of brain' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid,chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'other incision of brain' ) AND chartdate BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH) AND CURRENT_DATE ) ) ) GROUP BY chartevents.itemid,chartevents.value ORDER BY COUNT(*) DESC LIMIT 5"
00979fbe4ba004cc20246b9a,Patient 15209 is subject to covid-19 testing,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 15209 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '94522-2' OR d_labitems.loinc_code = '94311-2' OR d_labitems.loinc_code = '94319-6')
a7865e6aada988aba5950707,Can you tell the yearly maximum dose of pacu crystalloid intake that patient 10008454 received since 08/2100?,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pacu crystalloid intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-08' GROUP BY strftime('%Y',inputevents.starttime)",[],"SELECT MAX(daily_dose), YEAR(chartevents.charttime) FROM ( SELECT SUM(chartevents.value) AS daily_dose, DATE(chartevents.charttime) AS chartdate FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%pacu crystalloid%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= '2000-08-01' GROUP BY chartevents.hadm_id, DATE(chartevents.charttime) ) AS subquery GROUP BY YEAR(chartevents.charttime)"
66e17c14c6b5f8370524c964,How much does it cost for a acute and chronic cholecystitis diagnosis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute and chronic cholecystitis' ) ),,
6bade51b85498f959d6a659c,How much did patient 10004235 weigh the first time it was measured in 03/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) = '2100-03' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004235 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'daily weight' ) AND chartevents.charttime LIKE '2100-03-%' ORDER BY chartevents.charttime ASC LIMIT 1
4127d2f4d3dde8b9a50cddeb,Can you tell me the five most frequent diagnoses throughout this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT diagnosis, COUNT(*) AS frequency FROM (SELECT icd9_code AS diagnosis FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2022-01-01' AND '2022-12-31' ) UNION ALL SELECT icd9_code AS diagnosis FROM d_icd_diagnoses) AS diag GROUP BY diagnosis ORDER BY frequency DESC LIMIT 5"
1e8e254a1ff71001475df244,What are the top five most frequent microbiology tests that patients were diagnosed with operating room of hospital as the place of occurrence of the external cause in the same month?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'operating room of hospital as the place of occurrence of the external cause' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN icd9 WHERE diagnoses_icd.icd9_code = icd9.icd9_code AND icd9.category_code = 'E879' AND admissions.hospital_expire_flag = 1 AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime GROUP BY d_items.label ORDER BY count DESC LIMIT 5"
cb605fd1d340ab1ad0afe330,What is the drug to avoid during the exc/dest hrt lesion open.,,,
0eb2954ae5544e9247d70c59,What were the number of patients who received a polys test?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'polys' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE itemid IN (SELECT itemid FROM d_labitems WHERE label = 'polys')
fb95177b2a968ec680128db1,How many days is it since patient 10004733 first stayed in the careunit medicine during the current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medicine' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT DATEDIFF(CURDATE(), MIN(icustays.intime)) FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND icustays.d_items_id IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'medicine')"
1183bcefba1a2e8f38f90e8e,What amount of heparin was prescribed to patient 10021666?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND prescriptions.drug = 'heparin',[{'SUM(prescriptions.dose_val_rx)': None}],
96550da61d7335c3ccc3d5d0,What is the cost for a drug named lidocaine?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'lidocaine' ),,
f308aa77cb5c6fd783755cf4,And what was the last time patient 10022017 was prescribed medication using the oral route on their last hospital encounter?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'oral' ORDER BY prescriptions.starttime DESC LIMIT 1,[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10022017 AND prescriptions.route = 'PO' ORDER BY prescriptions.hadm_id DESC, prescriptions.startdate DESC LIMIT 1"
949c6b3479c7ce4f2acd3003,"Since 2100, what are the top three most common microbiology tests that patients were diagnosed with after the diagnosis of esophageal varices in diseases classified elsewhere, with bleeding within 2 months?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophageal varices in diseases classified elsewhere, with bleeding' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"SELECT d_microbiologyevents.testname, COUNT(*) AS occurrences FROM microorganisms JOIN microgrows ON microgrows.microcode = microorganisms.microcode JOIN microevents ON microevents.microcode = microorganisms.microcode JOIN d_microbiologyevents ON d_microbiologyevents.microcode = microorganisms.microcode JOIN diagnoses ON diagnoses.hadm_id = microevents.hadm_id WHERE diagnoses.icd9_code = '456.00' AND microevents.chartdate BETWEEN diagnoses.admittime AND DATE_ADD(diagnoses.admittime, INTERVAL 2 MONTH) AND diagnoses.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' ) GROUP BY d_microbiologyevents.testname ORDER BY occurrences DESC LIMIT 3"
425004d751172cad53c3ad6b,Do you know what type of blood patient 1903 has?,,,
5af27171b0a97add7aee4ea6,What was the amount of acetaminophen that patient 10023239 were prescribed in total in 06/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND prescriptions.drug = 'acetaminophen' AND strftime('%Y-%m',prescriptions.starttime) = '2100-06'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c bedsideevents_creatinine.itemamount) FROM bedsideevents_creatinine WHERE bedsideevents_creatinine.subject_id = 10023239 AND bedsideevents_creatinine.orderid IN ( SELECT bedsideevents_order.orderid FROM bedsideevents_order WHERE bedsideevents_order.ordercategoryname = 'Medication' AND bedsideevents_order.ordername LIKE 'acetaminophen%' AND datetime(bedsideevents_order.orderdatetime) BETWEEN datetime('2006-01-01 00:00:00') AND datetime('2006-12-31 23:59:59') )
0d923876f67a35e78f8044b8,What was the name of the drug that was prescribed to patient 10021487 last time through the iv route since 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.route = 'iv' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],
5d5185c385123b16a09f65af,Has any prescription drug been given to patient 10005909 during this year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10005909 AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year')"
64cfab5e3bed0dbdd7d74834,When heparin and aspirin were prescribed to patient 10016150 for the last time in 05/this year at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'heparin' AND admissions.subject_id = 10016150 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'aspirin' AND admissions.subject_id = 10016150 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut IN ('Heparin', 'Aspirin') ) AND chartevents.charttime BETWEEN '2023-05-01' AND '2023-05-31' GROUP BY chartevents.charttime HAVING COUNT(DISTINCT chartevents.itemid) = 2 ORDER BY chartevents.charttime DESC LIMIT 1"
cd5489d01e1749510fc86424,How much does the ph change in patient 10021666 last measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT MAX(chartevents.valuenum) - MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ph' AND d_items.linksto = 'chartevents' )
cb26755fc90d31c8a991b39a,What was the first thing patient 10014078 had as output on 09/08/this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '09-08' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],SELECT first_value(chartevents.outputval) OVER (ORDER BY chartevents.charttime) FROM chartevents WHERE chartevents.subject_id = 10014078 AND chartevents.charttime >= '09/08/this year 00:00:00' AND chartevents.charttime <= '09/08/this year 23:59:59'
027be20fe6b2508766d312ac,How many mupirocin cream 2% prescriptions took place?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'mupirocin cream 2%',[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'mupirocin cream 2%'
2ba80682f1e2b0050e0acece,What are the three most common specimen tests that occurred since 1 year ago?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 3"
6e39fda592a8e6af9e50df9b,"Since 10/2100, lactated ringers, cisatracurium besylate, or glucose gel has been prescribed for patient 10018081.","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND prescriptions.drug IN ( 'lactated ringers', 'cisatracurium besylate', 'glucose gel' ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.dosedatetime > '10/2100' AND prescriptions.drug IN ('Lactated Ringers', 'Cisatracurium Besylate', 'Glucose Gel')"
0c1c6ad6a0a679043de5adc2,How long ago did patient 52647 receive a medication that should be taken regularly?,,,"SELECT DATEDIFF(CURDATE(),chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 52647 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.isnumeric = 1 AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 0 ORDER BY chartevents.charttime DESC LIMIT 1"
2d707b84d2f9dc480c7effa7,What treatment were provided to patient 10021312 two or more times since 05/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-05' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.charttime >= '2005-01-01' GROUP BY chartevents.itemid HAVING COUNT(chartevents.itemid) > 1
5cce095f827f40e0736c9405,Count the number of drugs prescribed since 03/2100 for patient 10037861.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)': 265}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10037861 AND datetime(prescriptions.startdate) >= datetime('2000-03-01')
0f89bd1a01e56d8d8578cd27,When did the last input for patient 10001217 occur since 10/02/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-02' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2157-12-20 14:00:00'}],
59217d3eca4038fcc33993f0,Tell me about all the medications that patient 99080 received in the other department.,,,"SELECT admits.subject_id, admits.hadm_id, admits.admittime, admits.dischtime, transfers.prev_service, admissions.dischtime-admissions.admittime AS stay_length, admits.hospital_expire_flag, transfers.hospital_id FROM admissions admits JOIN transfers ON admits.hadm_id = transfers.hadm_id WHERE admits.subject_id = 99080 AND transfers.cur_service = 'other department' AND admits.admittime < admits.dischtime ORDER BY admits.admittime DESC"
687bceb15b59fc60e8fe6650,Could you provide the top four most common output events in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT outputevents.itemid, d_items.label, COUNT(*) as count FROM outputevents JOIN d_items ON outputevents.itemid = d_items.itemid WHERE outputevents.hadm_id = 2100 GROUP BY outputevents.itemid ORDER BY count DESC LIMIT 4"
e2cf012f4e5832fab8f5409b,What was the name of the drug that was prescribed to patient 10039831 first time through the im route since 07/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND prescriptions.route = 'im' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT admittime, CASE WHEN chartevents.storetime >= '07/2100' THEN orderitems.order_type ELSE NULL END AS first_im_order FROM chartevents JOIN orderitems ON chartevents.order_id = orderitems.order_id JOIN patients ON chartevents.subject_id = patients.subject_id WHERE patients.subject_id = 10039831 AND orderitems.order_type LIKE '%im%' ORDER BY admittime LIMIT 1"
4556bf5fa6cf416c4f84dfea,When did patient 10004733 last have a maximum SaO2 on this month/29?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '29' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'start of month') AND datetime(chartevents.charttime) <= datetime(current_time,'end of month') AND date(chartevents.charttime) = date(current_time,'this month', 'day 29') ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
4313578eaa6f5e20b0f3a246,List the top four most frequently prescribed medications in 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],
f52d83becf30a588f36e34f3,Has any gastric meds been given to patient 10029291 in 12/last year?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',inputevents.starttime) = '12'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM medications AS m JOIN admissions AS a ON m.hadm_id = a.hadm_id WHERE a.subject_id = 10029291 AND m.stopdate BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR) AND CURRENT_DATE AND m.drug LIKE '%gastric%' OR m.drug LIKE '%antacid%' OR m.drug LIKE '%proton pump inhibitor%' OR m.drug LIKE '%H2 receptor antagonist%'"
35b0b505d474e73b841b45f6,What was the last weight of patient 10029291 recorded since 03/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-03' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-03-01' ORDER BY chartevents.charttime DESC LIMIT 1
001bd30793469267511dbbbb,What is the price of a diagnosis for sepsis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'sepsis' ) ),,
dbb471287262410819ef2986,What were the last red blood cells lab test results for patient 10021118 since 10/2100?,"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-10' ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT labevents.valuenum, labevents.fluid, labevents.unitname FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE 'red blood cells%' ) AND datetime(labevents.charttime) > datetime('10/2100') ORDER BY labevents.charttime DESC LIMIT 1"
465aed14cf9939565ad6d4cc,How many times was a other endovascular procedures on other vessels procedure conducted since 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endovascular procedures on other vessels' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
86f22514f835be171f0fd68c,What time was the last time the heart rate of patient 10021487 was less than 114.0 on this month/14?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 114.0 AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '14' ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 114 AND chartevents.charttime BETWEEN DATE_FORMAT(CURDATE(),'%Y-%m-01') AND LAST_DAY(CURDATE()) ORDER BY chartevents.charttime DESC LIMIT 1"
6aa4881be1a49d2ae7f3e749,What were the top five most frequent diagnoses that followed within 2 months for those patients who received laparoscopic partial cholecystectomy since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic partial cholecystectomy' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN chartevents ON icustays.stay_id = chartevents.stay_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'laparoscopic partial cholecystectomy' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') AND datetime(admissions.admittime) <= datetime(chartevents.charttime,'+2 month') GROUP BY diagnoses_icd.icd_code ORDER BY frequency DESC LIMIT 5"
d58380e3bc5d293e5d7d4718,What are the three diagnoses with the lowest 6-month survival rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,
fe5c43f286b65fdccd87ecbd,Calculate the number of cardiac mapping procedures performed in the last year.,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd AS pi JOIN admissions AS a ON pi.hadm_id = a.hadm_id WHERE pi.icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'cardiac mapping') AND a.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
c0b58eb14940edd013085528,What was the organism detected during the first bronchial washings microbiology test of patient 10021312 since 08/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND microbiologyevents.spec_type_desc = 'bronchial washings' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT microspecimens.orgid, microspecimens.orgname FROM microspecimens WHERE microspecimens.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND microspecimens.chartdate >= '08/2100' ORDER BY microspecimens.charttime ASC LIMIT 1"
1f4cec0d64925a794dace1cd,What was prescribed to patient 10027602 within 2 days following their percutaneous [endoscopic] gastrostomy [peg] in 12/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-12' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT prescriptions.drug FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN d_cpt ON admissions.hadm_id = d_cpt.hadm_id WHERE admissions.subject_id = 10027602 AND d_cpt.cpt_cd = '43765' AND prescriptions.startdate BETWEEN d_cpt.chartdate AND datetime(d_cpt.chartdate, '2 days') AND d_cpt.chartdate LIKE '12/%/2100'"
0293a5acee37151a49ceaa8a,Has any dextrose 50% been given to patient 10016742 since 20 months ago?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 50%' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime) >= datetime(current_time,'-20 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%dextrose 50%' AND d_items.linksto = 'inputevents_cv' ) AND datetime(inputevents_cv.starttime) >= datetime(current_time,'-20 month')"
68abea0b746f09a1730c8a20,Give me the total amount of output since 12/01/2100 for patient 10005817.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-01'",[{'SUM(outputevents.value)': 41303.0}],SELECT sum(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > '2100-12-01'
cd05e6424347ce699cf7b7cd,Quantify the number of patients who were tested since 1 year ago for absolute lymphocyte count.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute lymphocyte count' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute lymphocyte count' )"
a1218eb18f008a05c5c527e8,When was the first time that patient 10038933 has been prescribed medication via the tp route on their first hospital encounter?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'tp' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT MIN(cptevents.charttime) FROM cptevents WHERE cptevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.hospital_expire_flag = 0 ) AND cptevents.cpt_cd IN ( SELECT d_cpt.cpt_cd FROM d_cpt WHERE d_cpt.modifiers LIKE '%TP%' )
ef941c1feaedb7696f5f3fda,When did patient 10005817 first leave the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005817 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2132-12-20 15:04:00'}],SELECT admittime FROM admissions WHERE subject_id = 10005817 ORDER BY admittime LIMIT 1
d3ba4b68ea980852ba7f2f4a,What was the last drug prescribed since 09/2100 to patient 10011398?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Metoprolol Tartrate'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10011398 AND prescriptions.startdate >= '2010-09-01' ORDER BY prescriptions.startdate DESC LIMIT 1
1b7a372bc73c1b3e5e13c41d,Show me patient 10004422's total jackson pratt #1 output on 01/20/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'jackson pratt #1' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-01-20'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'jackson pratt #1 output' ) AND DATE(chartevents.charttime) = '2010-01-20'
c8620b45b18ebc1c914a2581,Does patient 3242 have a family history of malign neopl prostate?,,,SELECT COUNT(*)>0 FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN mimiciii.diagnoses_icd ON admissions.hadm_id = mimiciii.diagnoses_icd.hadm_id WHERE patients.subject_id = 3242 AND mimiciii.diagnoses_icd.icd_code LIKE '250%' OR mimiciii.diagnoses_icd.icd_code LIKE 'V10%'
8073dc91a374c05758eb7cd2,What are the ways to consume sodium bicarbonate?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'sodium bicarbonate',"[{'route': 'IV'}, {'route': 'ORAL'}]",
0f5988ac990c3b052bc99527,Is there any new medication in the prescription of patient 10039831 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT DISTINCT c1.coeicd_code FROM prescriptions AS c1 JOIN prescriptions AS c2 ON c1.hadm_id = c2.hadm_id WHERE c1.charttime >= CURDATE() AND c2.charttime >= CURDATE() - INTERVAL 1 DAY AND c1.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND c1.coeicd_code != c2.coeicd_code
cd943bf7074ac723717f6ade,"Tell me the minimum total cost of a hospital that involved subarachnoid hemorrhage following injury without mention of open intracranial wound, with no loss of consciousness since 1 year ago.","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'subarachnoid hemorrhage following injury without mention of open intracranial wound, with no loss of consciousness' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(total_cost) FROM charges INNER JOIN admissions ON charges.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time,'-1 year') AND admissions.diagnoses LIKE '%subarachnoid hemorrhage following injury%' AND admissions.diagnoses NOT LIKE '%open intracranial wound%' AND admissions.diagnoses NOT LIKE '%loss of consciousness%'"
9a6863fb555783adad183af6,Has patient 10006580 undergone any laboratory tests since 13 months ago?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND datetime(labevents.charttime) >= datetime(current_time,'-13 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*) > 0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND datetime(labevents.charttime) >= datetime(current_time,'-13 month')"
506c80f153411922f7967305,How much did patient 10008287 weigh during their last measurement since 14 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily Weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-14 month') ORDER BY chartevents.charttime DESC LIMIT 1"
e3ef5dc86e154039d7839324,When was the last time patient 10021118 had the minimum monocytes in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'monocytes' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'monocytes' ) AND chartevents.charttime >= '2023-12-01' AND chartevents.charttime < '2024-01-01' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
c5d9d0626f74f9062b8f7509,What were the top four most frequent specimens ordered for patients after being diagnosed with hesitancy of micturition during the same hospital visit?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hesitancy of micturition' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'hesitancy of micturition' ) ) ) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
6cb0d732bdcaaf606d0b499a,"What was the first sodium, whole blood lab value for patient 10005348 in the last hospital visit?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1"
6c26a6c8707782ccd2a0c56c,How many hours has it been since the first time patient 10004733 stayed on this hospital visit in the careunit medical/surgical intensive care unit (micu/sicu)?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.icustay_id = 'MICU/SICU' )
7299ff6d3a692b4da823bc87,What was the name of the medicine prescribed to patient 10027445 for the first time in 08/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT m.name FROM prescriptions AS p JOIN drugs AS m ON p.drug_code = m.drug_code WHERE p.subject_id = 10027445 AND p.dosedate >= '2022-08-01' AND p.dosedate < '2022-09-01' ORDER BY p.dosedate ASC LIMIT 1
1653c4779514ff5b7d86cad6,"How many patients in 2100 were diagnosed with cyst and pseudocyst of pancreas during the same month after the first diagnosis with other and unspecified alcohol dependence, in remission?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified alcohol dependence, in remission' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cyst and pseudocyst of pancreas' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(DISTINCT a.subject_id) FROM ( SELECT admissions.subject_id FROM admissions INNER JOIN diagnoses_icd as first_diagnoses ON admissions.hadm_id = first_diagnoses.hadm_id WHERE first_diagnoses.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE 'Other and Unspecified Alcohol Dependence, In Remission' ) ) a INNER JOIN diagnoses_icd as second_diagnoses ON a.hadm_id = second_diagnoses.hadm_id WHERE second_diagnoses.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE 'Cyst and Pseudocyst of Pancreas' ) AND MONTH(first_diagnoses.admittime) = MONTH(second_diagnoses.admittime) AND YEAR(first_diagnoses.admittime) = YEAR(second_diagnoses.admittime) AND admissions.hospital_expire_flag = 2100"
42ba16664bb27443701345aa,"Among patients who underwent ileostomy, not otherwise specified since 2100, what were the top four most common procedures that followed within the same month?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT following_procedures, COUNT(*) AS count FROM ( SELECT p2.* FROM procedures_icd AS p1 JOIN procedures_icd AS p2 ON p1.stay_id = p2.stay_id AND p1.chartdate < p2.chartdate AND p1.chartdate >= DATE_SUB(p2.chartdate, INTERVAL 1 MONTH) WHERE p1.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) AND p2.chartdate >= '2021-01-01' ) AS subquery GROUP BY subquery.icd_code ORDER BY count DESC LIMIT 4"
4086b5f6f40bd2dfb3952f6d,What was patient 10021666's minimum SaO2 in their first ICU stay?,SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ),[{'MIN(chartevents.valuenum)': None}],SELECT min(chartevents.valuenum) FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.itemid = 6435 AND icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666)
5d5d324fca23706de226e43a,"First time, what drug was prescribed for patient 10014729 since 02/2100?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Milk of Magnesia'}],SELECT medchartevents.order_time FROM medchartevents WHERE medchartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND datetime(medchartevents.order_time) >= '02/2100' ORDER BY medchartevents.order_time ASC LIMIT 1
72be988adaa416d79f2d4060,What was patient 10009628's heart rate for the first time during their last ICU visit?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1
65de4c7841bdbd16627b5d55,What are the top five most frequently taken specimens for patients within the same hospital visit after receiving thoracentesis?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'thoracentesis' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_items.label, COUNT(*) AS frequency FROM chartevents AS c JOIN admissions AS a ON c.hadm_id = a.hadm_id JOIN d_items ON c.itemid = d_items.itemid WHERE a.hadm_id IN ( SELECT hadm_id FROM chartevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label LIKE 'thoracentesis%' ) ) AND d_items.label NOT LIKE 'thoracentesis%' GROUP BY d_items.label ORDER BY frequency DESC LIMIT 5"
040d18e997bb872c3314ccba,Tell me what was patient 10008454's monthly minimum weight since 2 months ago?,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-2 month') GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= datetime(current_time,'-2 month') GROUP BY chartevents.charttime::date ORDER BY MIN(chartevents.valuenum) LIMIT 1"
d92a728db326dded231e11ba,When was the first time of input for patient 10004733 on 12/28/this year?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '12-28' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND chartevents.charttime BETWEEN '12/28/this year 00:00:00' AND '12/28/this year 23:59:59' ORDER BY chartevents.charttime ASC LIMIT 1
5e099470827356f7917d86bf,Tell me the top five most commonly prescribed drugs in 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5",[],
9e64c0910dc58e2ef996f7c0,When was the last hospital discharge of patient 10003400?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10003400 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2137-09-02 17:05:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10003400 ORDER BY admissions.dischtime DESC LIMIT 1
9d564188b506bcd7d94a1018,Tell me the top four most frequent procedures that patients received in the same hospital visit after being diagnosed with accidents occurring in other specified places since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidents occurring in other specified places' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'V%99%' AND diagnoses_icd.icd_code > '2100' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
296ec4ec76a62cac4fd007bb,Tally up the number of patients who received a red blood cells lab test in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT labevents.subject_id) FROM labevents WHERE labevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cells' ) AND labevents.chartdate = '2100-01-01'
83cc6dc500e1e949c8a26cdc,"Compared to measured at 2100-08-20 07:00:00 , is the o2 saturation pulseoxymetry value of patient 10006580 greater than measured at 2100-08-20 06:00:00?",SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-08-20 07:00:00' ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-08-20 06:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-08-20 07:00:00' ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-08-20 06:00:00' )"": None}]",SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND chartevents.itemid = 6435 and chartevents.charttime = '2100-08-20 07:00:00') > (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND chartevents.itemid = 6435 and chartevents.charttime = '2100-08-20 06:00:00')
0a0992495803104da30af972,What was the organism's name of the first urine microbiology test done on patient 10016150 since 02/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.chartdate) >= datetime('02/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
c1bede41699794dd619feb6b,What's the price of a procedure referred to as other electric countershock of heart?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other electric countershock of heart' ) ),,
ff7b7029d2eb43d96f2ee688,What drug was the first drug prescribed for patient 10019172 in 11/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
ac5c206d44772bba22a9ebfe,What are the top three most frequent drugs prescribed to patients in the same month after the diagnosis of gastro-esophageal reflux disease without esophagitis?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'gastro-esophageal reflux disease without esophagitis' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT d_drugs.drug, COUNT(*) as frequency FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id JOIN d_drugs ON prescriptions.drug_type = d_drugs.row_id WHERE diagnoses_icd.icd_code LIKE '534.8%' AND prescriptions.startdate >= admissions.admittime AND prescriptions.startdate < DATE_ADD(admissions.admittime, INTERVAL 1 MONTH) GROUP BY d_drugs.drug ORDER BY frequency DESC LIMIT 3"
049fb43f09ae244560ee52a7,"Compared to yesterday, what new prescriptions were given to patient 10039831 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],SELECT admittime FROM admissions WHERE subject_id = 10039831 AND admittime BETWEEN CURDATE() - INTERVAL 2 DAY AND CURDATE() - INTERVAL 1 DAY UNION SELECT dischtime FROM admissions WHERE subject_id = 10039831 AND dischtime BETWEEN CURDATE() - INTERVAL 2 DAY AND CURDATE() - INTERVAL 1 DAY INTERSECT SELECT admittime FROM admissions WHERE subject_id = 10039831 AND admittime BETWEEN CURDATE() AND CURDATE() + INTERVAL 1 DAY UNION SELECT dischtime FROM admissions WHERE subject_id = 10039831 AND dischtime BETWEEN CURDATE() AND CURDATE() + INTERVAL 1 DAY EXCEPT SELECT admittime FROM admissions WHERE subject_id = 10039831 AND admittime BETWEEN CURDATE() - INTERVAL 2 DAY AND CURDATE() - INTERVAL 1 DAY UNION SELECT dischtime FROM admissions WHERE subject_id = 10039831 AND dischtime BETWEEN CURDATE() - INTERVAL 2 DAY AND CURDATE() - INTERVAL 1 DAY
8f3e188a5ef2fa6208206b5f,Patient 10014729 was diagnosed in their last hospital encounter for the first time with what?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT icd9_description FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND diagnoses_icd.seq_num = 1
ab6219b3365eb3a41f89b20b,How many drugs were given to patient 10036156 last year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10036156 AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year') AND datetime(prescriptions.enddate) <= datetime(current_time)"
402ffae6336ceeb14052f50e,Was patient 10018328 diagnosed with anything in the first hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) LIMIT 1
741e6bfd3ada80120eff4191,Has patient 10002930 received a medication prescription since 02/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10002930 AND datetime(prescriptions.startdate) >= datetime('02/2100')
6721130290e0d18224932b4d,What was the drug that was prescribed to patient 10027602 in the same hospital visit after the percutaneous [endoscopic] gastrostomy [peg] this month?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime FROM admissions WHERE subject_id = 10027602 AND admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 MONTH)"
a3c1f40e880ba9d30165da29,Do you know what type of blood patient 98517 has?,,,
bde07b33be302a136b2699b4,When should patient 74392 visit the hospital next?,,,
4e4d519fec610e5878e325da,List the three most frequent specimens that were tested during this year.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],"SELECT chartevents.itemid,chartevents.value FROM chartevents WHERE chartevents.chartdate >= DATE_FORMAT(NOW() ,'%Y-01-01') GROUP BY chartevents.itemid,chartevents.value ORDER BY count(*) DESC LIMIT 3"
093bd4e875cc23f9739cdd09,What was the output of patient 10020740 for the last time on 06/15/this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '06-15' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-06-15' AND chartevents.charttime < '2022-06-16' ORDER BY chartevents.charttime DESC LIMIT 1
6b59462d8c8e0692f930ee62,What did patient 10020740 first have as output on 03/30/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-03-30' ORDER BY outputevents.charttime ASC LIMIT 1 )",[],
85cf7ff0c55460da32489392,Has patient 10006580 been through any surgery?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND procedures_icd.icd_code LIKE '39%' OR procedures_icd.icd_code LIKE '40%' OR procedures_icd.icd_code LIKE '41%' OR procedures_icd.icd_code LIKE '42%' OR procedures_icd.icd_code LIKE '43%'
72c22160d0226e69dd0c8407,Did patient 10035185 receive any diagnoses during the last hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10035185 AND diagnoses_icd.hadm_id IN ( SELECT max(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10035185 )
003865fdb611e9f27fe18281,Tell me the top four most common diagnoses for patients aged 30s.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime BETWEEN patients.dob AND datetime(patients.dob,'+30 years') AND admissions.admittime < datetime(patients.dob,'+31 years') GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 4"
1792bdbac4e9db2d02bb207a,Could you list the three diagnoses that had the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT diagnosis, mortality_rate FROM ( SELECT d_icd_diagnoses.short_title AS diagnosis, COUNT(CASE WHEN days_to_death BETWEEN 0 AND 90 THEN 1 ELSE NULL END) / COUNT(*) AS mortality_rate FROM diagnoses_icd JOIN patients ON diagnoses_icd.SUBJECT_ID = patients.SUBJECT_ID JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code GROUP BY d_icd_diagnoses.short_title ORDER BY mortality_rate DESC LIMIT 3 ) AS subquery"
da332c7d00584e07d7258bc1,How many hours have passed since patient 10018081 last received a laboratory test of calculated total co2 in this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'calculated total co2' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
377abeef64a076e8f592c701,How many hours have elapsed since patient 10039831 last received a mch lab test on their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'MCH' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
fdd1695a1c8a50679d56e863,What was the name of the drug that patient 10022017 was first prescribed?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Sodium Chloride 0.9%  Flush'}],SELECT medications.first_drug FROM medications WHERE medications.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017) ORDER BY medications.startdate ASC LIMIT 1
d72835768250c3efcfb0ef0f,Let me know the total quantity of input patient 10027602 received on last month/24.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',inputevents.starttime) = '24'",[{'SUM(inputevents.totalamount)': None}],"SELECT sum(chartevents.value) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) AND datetime(chartevents.charttime) >= datetime(current_time, '-1 month') AND datetime(chartevents.charttime) < datetime(current_time)"
2c770acc2155effc3c66d286,When did patient 10017492 first get the urine's microbiology test?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND microbiologyevents.spec_type_desc = 'urine' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) AND d_items.label LIKE '%urine microbiology%' AND chartevents.valuenum IS NOT NULL
f60d7cbfd76dabfff55dc3fa,Help me tell the name of the diagnosis patient 92846 received in the other department.,,,
4ce7bb3fe008b6d40897f421,When was patient 10020740 prescribed the drugs syringe (0.9% sodium chloride) and alteplase (catheter clearance) at the same time for the last time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'syringe (0.9% sodium chloride)' AND admissions.subject_id = 10020740 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'alteplase (catheter clearance)' AND admissions.subject_id = 10020740 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10020740 AND admittime = ( SELECT presc.charttime FROM prescriptions AS presc INNER JOIN admissions AS adm ON presc.hadm_id = adm.hadm_id WHERE adm.subject_id = 10020740 AND ( presc.order_code = 'syringe (0.9% sodium chloride)' OR presc.order_code = 'alteplase (catheter clearance)' ) GROUP BY presc.charttime HAVING COUNT(DISTINCT presc.order_code) = 2 ORDER BY presc.charttime DESC LIMIT 1 )
edcb877560f680ecc90bffc6,Can you tell me the last recorded weight for patient 10007928 since 19 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-19 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' ) AND chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 19 MONTH) ORDER BY chartevents.charttime DESC LIMIT 1"
7dab61a9dbafa23e083cd77e,Was patient 10004720 given any gt flush medication on this month/08?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gt flush' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '08'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10004720 AND prescriptions.drug = 'gt flush' AND STRFTIME('%Y-%m', prescriptions.startdate) = STRFTIME('%Y-%m', CURRENT_DATE)"
a962b9d8317a6e4edbdd29f0,What are the three most frequently prescribed drugs in the same hospital encounter to the patients aged 40s after they were diagnosed with acute embolism and thrombosis of left iliac vein in 2100?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute embolism and thrombosis of left iliac vein' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,SELECT top 3 cpoefacts.text AS drug FROM cpoefacts JOIN admissions ON cpoefacts.hadm_id = admissions.hadm_id WHERE admissions.subject_id IN ( SELECT subject_id FROM admissions WHERE admissions.dob BETWEEN '1970-01-01' AND '1980-12-31' ) AND cpoefacts.chartdate BETWEEN '2021-01-01' AND '2021-12-31' AND ( SELECT COUNT(*) > 0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = admissions.hadm_id AND diagnoses_icd.icd_code = 'I82.1' ) GROUP BY cpoefacts.text ORDER BY COUNT(*) DESC
7ccdae90c6ad3af703d3e038,List the top three most common diagnoses.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT icd9_code, COUNT(*) AS count FROM diagnoses_icd GROUP BY icd9_code ORDER BY count DESC LIMIT 3"
3e3f93fb3a2e4577befd898b,Calculate patient 10006053's total output since 86 days ago.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-86 day')",[{'SUM(outputevents.value)': 7045.0}],"SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total output' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-86 day')"
eec30a374f5a614dddb5c128,What are the methods for taking caphosol?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'caphosol',[],
5acdc780ba8984cef61073b2,Show me the top five most frequent diagnoses since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
1adba3ceaf529ef2a8dda81a,Was the phosphate reading for patient 10020187 measured at 2100-02-10 05:25:00 less than the value measured at 2100-02-09 05:00:00?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.charttime = '2100-02-10 05:25:00' ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.charttime = '2100-02-09 05:00:00' ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.charttime = '2100-02-10 05:25:00' ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.charttime = '2100-02-09 05:00:00' )"": None}]",SELECT (SELECT labevents.valuenum FROM labevents WHERE labevents.subject_id = 10020187 AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate') AND labevents.charttime = '2100-02-09 05:00:00') > (SELECT labevents.valuenum FROM labevents WHERE labevents.subject_id = 10020187 AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate') AND labevents.charttime = '2100-02-10 05:25:00') AS result
64633965444f470a4ca586e8,How soon is patient 4758's next hospital visit?,,,
4b5563f6063f368aaf4d032b,When is the earliest hospital visit for patient 92721?.,,,SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 92721 ORDER BY admissions.admittime ASC LIMIT 1
6c0364360a42833597617b98,What was the name of the organism found in patient 10027602's first sputum microbiology test since 05/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'Sputum' AND datetime(microbiologyevents.chartdate) > datetime('2005-01-01') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
3831c2c777259f2c220dcceb,Tell me the type of blood of patient 13440?,,,SELECT labevents.value FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 13440 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Type of blood' ) LIMIT 1
1f76d064d52e32276438fbaf,What are the various ways to consume cinacalcet?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'cinacalcet',[{'route': 'ORAL'}],
3ab5f4f4e306a69472e20429,Has patient 23224 an appointment in another hospital department?,,,
64a1ee1c1e25b6f646865939,What was the admission type for patient 10021312's first visit to the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10021312 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime ASC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10021312 ORDER BY admissions.admittime ASC LIMIT 1
632459fd456c31f024bdf938,How many times did patient 10004720 go to the hospital since 2100?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10004720 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],
170d16d87b8d77ec966d5f56,How many hours have elapsed since patient 10021487 has last received a protein lab test in this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMEDIFF(NOW(), MAX(chartevents.charttime)) AS hours_elapsed FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021487 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%protein%' )"
18d972f8815b6dbf2e9141c3,What was the admission type for patient 10039708's last admission to the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10039708 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'OBSERVATION ADMIT'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10039708 ORDER BY admissions.admittime DESC LIMIT 1
42ab873a23dd37a3c747c4a1,Give me the total amount of nepro (full) given to patient 10018081.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nepro (full)' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.volume) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'NEPRO (FULL)' )
9f95244492614327ffaf076b,How many hours has it been since patient 10018081's first abnormal coagulation profile diagnosis in the current hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'abnormal coagulation profile' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - julianday(min(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%coagulation profile%' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < ( SELECT d_labitems.low_normal FROM d_labitems WHERE d_labitems.itemid IN ( SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%coagulation profile%' AND d_items.linksto = 'chartevents' ) ) ) GROUP BY chartevents.hadm_id
fa3f52c79b018b43a9e8090a,Can you list the single rooms that are available today?,,,
21516330871ebef6b95137ea,Show me the top three most frequent events that took place in 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],
d9d32742eb8e9436fd593092,What is a drug that should not be administered during cont inv mec ven 96+ hrs?,,,
cfb014c016bea7b3e220c08f,How many patients were present in the surgical intensive care unit (sicu) since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'surgical intensive care unit (sicu)' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT icustays.subject_id) FROM icustays WHERE icustays.intime >= '2100-01-01' AND icustays.los > 0 AND icustays.dbsource = 'carevue' AND icustays.icustay_id IN ( SELECT subject_icustay_link.icustay_id FROM subject_icustay_link WHERE subject_icustay_link.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.icustay_id = subject_icustay_link.icustay_id AND icustays.dbsource = 'carevue' AND icustays.icustay_id IN ( SELECT subject_icustay_link.icustay_id FROM subject_icustay_link WHERE subject_icustay_link.dbsource = 'carevue' AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.dbsource = 'carevue' AND icustays.icustay_id IN ( SELECT subject_icustay_link.icustay_id FROM subject_icustay_link WHERE subject_icustay_link.dbsource = 'carevue' AND icustays.dbs
c152c5dd0a1f2626db79696c,What is the ward id that allows patient 55247 to be admitted?,,,
513415b2f83b280737f76ca1,Retrieve the top four most frequent output occurrences throughout this year.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT d_items.label, COUNT(*) AS frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_FORMAT(NOW(), '%Y-01-01') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
1dd7881fb93e0f171b1c67dc,"For the last time on the first hospital stay, what was patient 10018423 diagnosed with?",SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,"SELECT admittime, dischtime, icd9_code FROM admissions WHERE subject_id = 10018423 AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10018423 ORDER BY admittime ASC LIMIT 1 ) ORDER BY dischtime DESC LIMIT 1"
02c15c7a4faad2a32636fac7,What was patient 10011398's documented weight on the last record in 12/this year?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',chartevents.charttime) = '12' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2023-12%' ORDER BY chartevents.charttime DESC LIMIT 1
96a8776128757eb24aa751cc,How many admitted patients are there right now?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admittime <= current_timestamp AND dischtime > current_timestamp
60c25b9b360a4037bd94de94,When was the last time that patient 10027602 has had the maximum diastolic blood pressure in their last ICU stay?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' ) ORDER BY chartevents.valuenum DESC LIMIT 1
8afa74497c4d9b8c7f0fe659,What are the three diagnoses with the lowest 3-month survival rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT diagnosis, survival_rate FROM ( SELECT d_icd_diagnoses.long_title AS diagnosis, COUNT(*) * 100.0 / SUM(COUNT(*)) OVER () AS survival_rate FROM icd_diagnoses JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE icd_diagnoses.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.dod BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 3 MONTH) ) GROUP BY d_icd_diagnoses.long_title ORDER BY survival_rate ASC LIMIT 3 )"
1bbc56c2fd1aad4535efd121,What was the top five most frequent diagnoses that patients were diagnosed with within the same month after receiving hemodialysis?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as occurrences FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN chartevents ON icustays.stay_id = chartevents.stay_id INNER JOIN d_icd_diagnoses ON admissions.diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label = 'hemodialysis' ) GROUP BY d_icd_diagnoses.short_title ORDER BY occurrences DESC LIMIT 5"
8f6f18c72c81b1627f391252,Has patient 23070 ever experienced any side effects while receiving a blood transfusion?,,,SELECT COUNT(*)>0 FROM transfusions WHERE transfusions.subject_id = 23070 AND transfusions.transfusion_type = 'blood' AND transfusions.side_effects IS NOT NULL
8ffeebf80d9e33afb70ec3ec,Please list out the monthly average weight of patient 10004422 in 2100.,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y',chartevents.charttime) = '2100' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT AVG(chartevents.valuenum), STRFTIME('%Y-%m', chartevents.charttime) as month FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004422 AND STRFTIME('%Y', chartevents.charttime) = '2100' GROUP BY month ORDER BY month ASC"
2a3c78cd78a7e5f8d977da20,When did patient 10021312 have his first microbiology test in 09/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-09' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.charttime >= '2099-09-01 00:00:00' AND chartevents.charttime < '2100-09-01 00:00:00' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' )
070f868f0ab84f4ec3f3982b,Does patient 69895 have a genetic test that they got?,,,SELECT COUNT(*)>0 FROM genetic_tests WHERE genetic_tests.subject_id = 69895
83ec58fae196e1e30c71c836,What was the name of the drug which was prescribed to patient 10009035 within 2 days after having received a extracorporeal circulation auxiliary to open heart surgery procedure in 05/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-05' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,SELECT admittime FROM admissions WHERE subject_id = 10009035 AND admittime BETWEEN '05/2100' AND '05/2102'
297288464d61d257567d25a2,What are the new medications prescribed to patient 10018081 today compared to those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT m2.medication, m2.date FROM ( SELECT m1.medication, m1.date FROM ( SELECT DISTINCT adm.subject_id, adm.admittime, adm.dischtime, adm.hadm_id, pvt.value AS medication, pvt.charttime AS date FROM patients p JOIN admissions adm ON p.subject_id = adm.subject_id JOIN prescribings pvt ON adm.hadm_id = pvt.hadm_id WHERE p.subject_id = 10018081 AND pvt.charttime = (SELECT MAX(pvt2.charttime) FROM prescribings pvt2 WHERE pvt2.hadm_id = adm.hadm_id AND pvt2.charttime <= DATE_SUB(CURRENT_DATE, INTERVAL 1 DAY)) ) m1 JOIN ( SELECT DISTINCT adm.subject_id, adm.admittime, adm.dischtime, adm.hadm_id, pvt.value AS medication, pvt.charttime AS date FROM patients p JOIN admissions adm ON p.subject_id = adm.subject_id JOIN prescribings pvt ON adm.hadm_id = pvt.hadm_id WHERE p.subject_id = 10018081 AND pvt.charttime = (SELECT MAX(pvt2.charttime) FROM pres"
b02b2e4bfa20498bce6b232d,What were the four most commonly given diagnoses for patients who had received diagnostic ultrasound of digestive system before within 2 months in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of digestive system' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as count FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime IN ( SELECT admissions.admittime FROM admissions JOIN chartevents ON admissions.stay_id = chartevents.stay_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'diagnostic ultrasound of digestive system' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(admissions.admittime,'-2 month') AND YEAR(admissions.admittime) = 2100 ) GROUP BY diagnoses_icd.icd_code ORDER BY count DESC LIMIT 4"
3105970deb871dbf0e604cb4,What is the cost of the drug named mirtazapine?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'mirtazapine' ),,
7a49c6dcd4b96553b57013d0,What is the minimum total hospital cost to include a drug called nicardipine iv since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'nicardipine iv' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
3fceb3f3200f3f095b671be0,What is the body weight change of patient 10004720 measured at 2100-12-07 00:00:00 compared to the value measured at 2100-12-06 00:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-07 00:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-06 00:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-07 00:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-06 00:00:00' )"": None}]",SELECT CE2.valuenum - CE1.valuenum AS weight_change FROM chartevents AS CE1 JOIN chartevents AS CE2 ON CE1.hadm_id = CE2.hadm_id WHERE CE1.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720) AND CE1.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily weight') AND CE2.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily weight') AND CE1.charttime = '2100-12-06 00:00:00' AND CE2.charttime = '2100-12-07 00:00:00'
95b288888e266b0b15c485fd,Retrieve the top three most common diagnoses for patients with age 50s during this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE patients.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 60 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 50 YEAR) AND admissions.admittime BETWEEN DATE_FORMAT(CURRENT_DATE, '%Y-01-01') AND CURRENT_DATE GROUP BY icd9_code ORDER BY frequency DESC LIMIT 3"
882e8bdaae60f6bdfa661677,"Give me the top three most frequent procedures that patients were given in the same hospital visit after receiving extirpation of matter from left common iliac vein, percutaneous approach since 2100.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= '2100-01-01' AND d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach' OR procedures_icd.icd_code IN ( SELECT procedures_icd.icd_code FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= '2100-01-01' AND d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach' ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
62e57b2d710776dc9693105a,What was the total of calcium acetate that patient 10021938 had been prescribed on the last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'calcium acetate',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(dose_valuenum) FROM prescriptions WHERE prescriptions.subject_id = 10021938 AND prescriptions.drug = 'Calcium Acetate' ORDER BY prescriptions.startdate DESC LIMIT 1
d3b9aefc8549a18cee8f540a,How much does a hospital typically spend average on a drug named fentanyl patch since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'fentanyl patch' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
2ca14c9e3ae55c6d467fa8c1,What was the total amount of furosemide that they prescribed to patient 10037861?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND prescriptions.drug = 'furosemide',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(amount) FROM prescriptions WHERE prescriptions.subject_id = 10037861 AND prescriptions.drug = 'furosemide'
93e00f471a0dcb56dfb1ea6e,Tell me the yearly maximum amount of patient 10014354's nacl 0.9% input.,"SELECT MAX(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y',inputevents.starttime)",[],"SELECT MAX(chartevents.valuenum), YEAR(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'NaCl 0.9%' AND d_items.linksto = 'inputevents' ) GROUP BY YEAR(chartevents.charttime)"
bdbd2999610d99f0cde120c1,"When was the first time in 08/this year when patient 10016742 had the minimum value of iron binding capacity, total?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'iron binding capacity, total' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '08' ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'iron binding capacity, total' ) AND datetime(chartevents.charttime) >= datetime('2022-08-01') AND datetime(chartevents.charttime) < datetime('2022-09-01') ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
c66698669f239c7f44238998,What are the five most common laboratory tests undertaken by patients during the same hospital visit following a diagnosis of other cirrhosis of liver?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other cirrhosis of liver' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE diagnoses_icd.icd_code LIKE '571.2%' AND labevents.charttime BETWEEN admissions.admittime AND admissions.dischtime GROUP BY d_labitems.label ORDER BY count DESC LIMIT 5"
573ae8f84da94b97d13dd488,Tell me the average systolic blood pressure in patient 10021487 on 12/09/2100.,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-09'",[{'AVG(chartevents.valuenum)': None}],
ae00fe5dbb359a903185aab9,Can you tell me if patient 10031757 is male or female?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10031757,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10031757
4c376d728b885b57cae6d692,"How many people had a test for amylase, body fluid?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase, body fluid' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label LIKE '%amylase, body fluid%' AND chartevents.storetime BETWEEN '2022-01-01' AND '2023-01-01'"
6f3c178cf388c0f60f63cd4a,When did patient 10029484 receive a ptt lab test on the first occasion?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029484 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ptt' ) ORDER BY chartevents.charttime ASC LIMIT 1
671549860b2c1a2b4f5752a3,Could you unfold the five most frequent outputs since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}, {'label': 'TF Residual'}]","SELECT value, count(*) AS frequency FROM chartevents WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY value ORDER BY frequency DESC LIMIT 5"
dc2ea06004264d56a9d2fc41,What are the five most frequently ordered laboratory tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY labevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
ffdf7c7b7b7b047429a3497b,"What is the average total hospital expense that includes hemiplegia, unspecified affecting left nondominant side since 1 year ago?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemiplegia, unspecified affecting left nondominant side' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(fact_cost.total_cost) FROM fact_cost JOIN costcenter ON costcenter.costcenter_id = fact_cost.costcenter_id JOIN d_icd_diagnoses ON d_icd_diagnoses.icd_code = fact_cost.icd_code AND d_icd_diagnoses.short_title = 'hemiplegia, unspecified affecting left nondominant side' WHERE fact_cost.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
ab4e1e2da052427fa2ed9d07,"What is the maximum total hospital cost, which includes vaginal enterocele, congenital or acquired since 2100?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'vaginal enterocele, congenital or acquired' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
231d73add777a1a3ca6f2873,How many patients were given methocarbamol since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'methocarbamol' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'methocarbamol' AND datetime(prescriptions.startdate) >= datetime('2100-01-01')
1607c40d51d24cbf1164290b,Has any prescription drug been given to patient 10022880 since 2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10022880 AND datetime(prescriptions.startdate) >= datetime('2100-01-01')
1f7e6a11b09b66d4eb7904e1,Which drug was the last one prescribed for patient 10037861 since 07/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Influenza Vaccine Quadrivalent'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10037861 AND prescriptions.startdate >= '07/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
249cf2ffc11ec1d31980296c,What was patient 10018081's last input time since 11/26/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-11-26' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2134-08-07 14:00:00'}],
670b3cac2ff679b4a4fb429c,"How many patients underwent extirpation of matter from left common iliac vein, percutaneous approach within 2 months after the diagnosis of operating room of hospital as the place of occurrence of the external cause, in the last year?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'operating room of hospital as the place of occurrence of the external cause' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE p.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left common iliac vein, percutaneous approach' ) AND a.admittime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND CURRENT_DATE AND p.chartdate BETWEEN DATE_SUB(a.admittime, INTERVAL 2 MONTH) AND a.admittime AND a.hospstay_seq = 1 AND a.hospital_expire_flag = 0 AND a.hospital_expire_flag = 0"
1ae02fd40242a1f6626facb2,How many hours has it been since patient 10039831 stayed in the careunit discharge lounge in this hospital encounter for the first time?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'discharge lounge' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT timediff(NOW(),icustays.intime) FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10039831 AND icustays.dbsource = 'carevue'"
17c962c6c3323c0e76fe972c,Just a quick look closed bronchial biopsy but how long did it take for patient 28443??????,,,SELECT procedureevents_num.procedure_time FROM procedureevents_num WHERE procedureevents_num.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 28443 ) AND procedureevents_num.procedure_id = ( SELECT d_procedures.procedure_id FROM d_procedures WHERE d_procedures.procedure_name = 'closed bronchial biopsy' )
e474a2417040aa88bad3b8f1,How many patients stayed at the emergency department in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'emergency department' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
053a84a3939291b5875a4bb2,Tell me the amount of kcl (bolus) input that patient 10004235 received on 03/21/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'kcl (bolus)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-21'",[{'SUM(inputevents.totalamount)': None}],SELECT inputevents_cv.amount FROM inputevents_cv WHERE inputevents_cv.subject_id = 10004235 AND inputevents_cv.starttime = '03/21/2100' AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'KCL (BOLUS)' )
bf62c5424509b587645d8c69,"What is the diagnosis price for anoxic brain damage, not elsewhere classified?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anoxic brain damage, not elsewhere classified' ) )",,
af07d2b195d6add6909c4f64,When will patient 17953 next go to the hospital?,,,
d3bf0e541f1e4e8cb0f4066a,How many patients were discharged from the hospital since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
ba92f2f766b9d7fdf7e30e5d,Which procedure was performed on patient 10016742 two or more times since 21 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-21 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_icd_procedures.long_title FROM d_icd_procedures INNER JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(procedures_icd.chartdate) >= datetime(current_time,'-21 month') GROUP BY d_icd_procedures.long_title HAVING COUNT(d_icd_procedures.long_title) >= 2"
b56a14e89ad09be086852b0f,"Has patient 10013049 got a hematocrit, calculated lab test in 2100?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit, calculated' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND strftime('%Y',labevents.charttime) = '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit, calculated' ) AND labevents.charttime LIKE '%2100%'"
63dc3947dde2cd40f4b0c364,How much metronidazole (flagyl) had been prescribed to patient 10001217 in total in 12/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND prescriptions.drug = 'metronidazole (flagyl)' AND strftime('%Y-%m',prescriptions.starttime) = '2100-12'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(csq.amount) FROM chartevents ce JOIN daily_amounts da ON ce.charttime = da.charttime JOIN care_site qs ON qs.care_site_id = da.care_site_id JOIN care_site cs ON cs.care_site_id = ce.care_site_id JOIN d_items csq ON csq.itemid = qs.itemid AND csq.label = 'metronidazole (flagyl)' JOIN admissions a ON a.hadm_id = ce.hadm_id WHERE a.subject_id = 10001217 AND ce.charttime BETWEEN '2010-12-01' AND '2010-12-31'
816890403b923f91deda0dda,How many days have elapsed since the last time patient 10018081 got a phosphate lab test during the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(current_time, MAX(chartevents.charttime)) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'phosphate')"
ac175862df937e28b15bb023,When was the last time that a medication that should be taken regularly was had by patient 594?,,,SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 594 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Medications' AND linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
1688c6b7696b2a979945cb6c,How many operating rooms exist right now?,,,
e582763c64c4e8a81b029c81,How much is the drug zolpidem tartrate?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'zolpidem tartrate' ),,
28f891c6136adc2119884018,Calculate the number of patients who were discharged from the hospital in the last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE discharge_location = 'HOME' AND datetime(admittime) >= datetime(current_time,'-1 year')"
213a702cca16592f4d19705a,Was patient 10015931 given a magnesium lab test on the last hospital visit?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ) ORDER BY labevents.charttime DESC LIMIT 1
f4d15c6e05db8c46f07c865f,Give me the count of patients who were prescribed polyethylene glycol last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'polyethylene glycol' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'polyethylene glycol' AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year') AND datetime(prescriptions.enddate) <= datetime(current_date)"
e65459f8f7e59ea27494cb7b,Tell me the total number of patients who stayed in neuro stepdown in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro stepdown' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.dietid IN ( SELECT dietorders.dietid FROM dietorders WHERE dietorders.hospital_service = 'Neuro Stepdown' AND dietorders.order_date >= '2100-01-01' AND dietorders.order_date <= '2100-12-31')
2c4e0725c06cb24d740f8090,Which immuno-cancer drugs were used for the last five years?,,,
b81ed5d5887f1e702281cc7c,What kind of medicine does patient 50480 take when they get a prescription from another hospital?,,,
708d239b2f7785ac668db27a,What drug was the first drug prescribed for patient 10027445 since 05/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Ipratropium Bromide MDI'}],"SELECT admittime, subject_id, itemid, starttime, endtime, drug FROM prescriptions WHERE subject_id = 10027445 AND admittime > '05/2100' ORDER BY admittime ASC, starttime ASC LIMIT 1"
6c8ad401188a69f144f026f6,What was the total number of patients on pacu since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'pacu' AND datetime(transfers.intime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT patients.subject_id) AS patient_count FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE icustays.icustay_id IN ( SELECT icustay_id FROM icustays WHERE icustays.d_location = 'PACU' ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
e3659a41757c0fd2645fe816,Tell me the total number of patients who stayed in vascular since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'vascular' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
1f55785a38dfb75deb3bfb40,When did patient 10040025 get discharged from the hospital for the first time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10040025 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10040025 ORDER BY admittime ASC LIMIT 1
193a8bd008df2bc9ae99adf8,What are the top five most frequently prescribed drugs in this year?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5",[],"SELECT d.drug, COUNT(*) AS frequency FROM prescriptions AS p JOIN d_drugs AS d ON p.drug_id = d.drug_id WHERE p.chartdate BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') AND CURDATE() GROUP BY d.drug ORDER BY frequency DESC LIMIT 5"
7fa7ba261095aaef6e6a3b4f,What is the maximum total hospital expense that includes sepsis due to escherichia coli [e. coli] in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'sepsis due to escherichia coli [e. coli]' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(total_expense) FROM ( SELECT SUM(item_amount) AS total_expense FROM ( SELECT chargemaster.current_retail_cost * charges.quantity AS item_amount FROM diagnoses_icd INNER JOIN charges ON diagnoses_icd.hadm_id = charges.hadm_id INNER JOIN chargemaster ON charges.charge_id = chargemaster.current_retail_cost WHERE diagnoses_icd.icd9_code = '038.12' AND charges.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admit_dt BETWEEN '2021-01-01' AND '2021-12-31' ) ) AS subquery ) AS subquery2
c8b35c10890db1d889786310,Tell the name of the diagnosis that was received by patient 81840 at the other department.,,,SELECT ad admittingdept FROM admissions WHERE subject_id  = 81840
7da203f6a27901736f057b8c,"On last month/02, what was patient 10021938's first heart rate?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '02' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.charttime >= 'last_month-02-01' AND chartevents.charttime < 'last_month-03-01' ORDER BY chartevents.charttime ASC LIMIT 1
f8c155d806d238a7b40fccc9,"For patient 10017492, what was the first polys reading during their last hospital visit?",SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'polys' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'polys' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
052079a05ce7afbbced7a57a,"Of the patients of age 60 or above since 2100, what were the top three most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
7e323066fd515e38f24d8cbe,"What are the five frequently tested specimens for patients that received insertion of intraluminal device into inferior vena cava, percutaneous approach previously within the same hospital visit since 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of intraluminal device into inferior vena cava, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid,chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of intraluminal device into inferior vena cava, percutaneous approach' ) ) ) ) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%specimen%' ) AND chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
f7175ad460d1ff7aae62b0fa,What is patient 10038933's ketone change last measured on the first hospital visit compared to the value second to last measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ketone' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ketone' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ketone' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ketone' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (t1.valuenum - t2.valuenum) FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Ketone' ) ORDER BY labevents.charttime DESC LIMIT 1 ) AS t1 JOIN ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Ketone' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ) AS t2 ON t2.valuenum < t1.valuenum
1e04b4d24fdf02742f3ee567,Has there been any organism present in patient 10037861's last blood culture microbiology test since 07/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT CASE WHEN COUNT(*) > 0 THEN 'Yes' ELSE 'No' END AS result FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.chartdate >= '07/2100' AND microbiologyevents.spec_itemid = 223743 AND microbiologyevents.org_itemid IS NOT NULL
bb37a5a6fa2b7bfb4a31e4e7,Can you show me the top five most common procedures conducted since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
a3f40dc2c562eaeeb1b1acb1,What is the average total hospital cost for a patient diagnosed with family history of other specified malignant neoplasm?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'family history of other specified malignant neoplasm' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(admissions.totalcharges) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'family history of other specified malignant neoplasm' )
44fca1429144bd57023476d8,"When was the first time that patient 10014729 has received a calcium, total lab test in 03/2100?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND strftime('%Y-%m',labevents.charttime) = '2100-03' ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'calcium, total' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-03-01' AND chartevents.charttime < '2100-04-01'"
4a9c408414e0cb27d0bc9e3b,How much does it cost to get diagnostic of personal history of poliomyelitis?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of poliomyelitis' ) ),,
6d177c7ee3f8bf320492ec8b,What were the five most frequent microbiology tests that occurred in this year?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5",[],"SELECT test, COUNT(*) AS frequency FROM microbiologyevents WHERE datetime(microbiologyevents.chartdate) >= datetime(current_date,'-1 year') GROUP BY test ORDER BY frequency DESC LIMIT 5"
0f1f7818e92f4038e40e8fb5,"Show me the top five most commonly prescribed drugs during the same hospital encounter to the patients aged 40s after diagnosed with epilepsy, unspecified, not intractable, without status epilepticus.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'epilepsy, unspecified, not intractable, without status epilepticus' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT top 5 drugs.name, COUNT(*) FROM drugs INNER JOIN patients ON drugs.subject_id = patients.subject_id INNER JOIN diagnoses ON diagnoses.subject_id = patients.subject_id WHERE patients.dob BETWEEN '1940-01-01' AND '1949-12-31' AND diagnoses.icd_code LIKE 'E83%' AND drugs.hadm_id IN ( SELECT drugs.hadm_id FROM drugs WHERE drugs.subject_id = patients.subject_id AND drugs.charttime BETWEEN patients.admittime AND patients.dischtime ) GROUP BY drugs.name ORDER BY COUNT(*) DESC LIMIT 5"
74eaa2aea6b2bc5d95b46140,"What was the first time that the SaO2 of patient 10004422 was, on 01/22/this year, less than 96.0?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 96.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '01-22' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.valuenum < 96.0 AND chartevents.charttime >= '01/01/this year' AND chartevents.charttime <= '01/22/this year' ORDER BY chartevents.charttime ASC LIMIT 1
2c36fe674f06fe07c1c1b71d,Is the value of anion gap of patient 10015272 last measured on the last hospital visit less than the value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT first.valuenum < last.valuenum FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'Anion Gap' ) AND labevents.charttime = ( SELECT MIN(charttime) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'Anion Gap' ) ) ) AS first JOIN ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = 'Anion Gap' ) AND labevents.charttime = ( SELECT MAX(charttime) FROM labevents WHERE labevents.hadm_id
d8830bd1398db83dd14ba4d6,What are the three most commonly ordered medications in this year?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3",[],"SELECT TOP 3 medications.name, COUNT(*) AS order_count FROM medications JOIN orders ON medications.medications_id = orders.medications_id WHERE orders.order_date >= DATEADD(year, -1, GETDATE()) GROUP BY medications.name ORDER BY order_count DESC"
e66bc926c13901e2b96e1418,What were the four most common drugs prescribed this year?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],"SELECT drug, COUNT(*) AS occurrences FROM prescriptions WHERE YEAR(prescriptions.startdate) = YEAR(CURRENT_DATE) GROUP BY drug ORDER BY occurrences DESC LIMIT 4"
7fd810ebd8c88d468eab802e,Has patient 10006053 received a laboratory test for mesothelial cell since 03/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mesothelial cell' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-03'",[{'COUNT(*)>0': 0}],
39619ec2f079e47413f41d16,"List the top three most frequent specimens that patients were tested in the same hospital encounter after receiving introduction of other therapeutic substance into heart, open approach since 2100.","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, COUNT(*) as frequency FROM chartevents WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'introduction of other therapeutic substance into heart, open approach' ) ) AND chartevents.charttime >= '2100-01-01' GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
99cc6b6a7018e6ce37338641,What are the top three common diagnoses since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time,'-1 year') ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 3"
99768e192fa0360d8a7cae90,How many doses of lidocaine jelly 2% (urojet) have been prescribed to patient 10038081 since 07/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND prescriptions.drug = 'lidocaine jelly 2% (urojet)' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10038081 AND prescriptions.drug = 'lidocaine jelly 2% (urojet)' AND datetime(prescriptions.startdate) >= datetime('07/2100')
5a702ecafc152197b73cc54c,"In 2100, how many patients were prescribed prasugrel?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'prasugrel' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
3e4e9c6556f0bae69a76633d,When did patient 10027602 last receive a blood culture microbiology test since 07/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'blood culture' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.charttime >= '2100-07-01' ORDER BY chartevents.charttime DESC LIMIT 1
475d57ff575806d5690ed031,"During their first hospital encounter, what was the last time patient 10001217 had a medication via the iv route prescribed?",SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'iv' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Medication' AND chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ORDER BY admissions.admittime ASC LIMIT 1) AND d_items.shortcut IN ('IV') ORDER BY chartevents.charttime DESC LIMIT 1
76c3866059784b87210a1f13,What was the total amount of input for patient 10015931 since 07/04/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-04'",[{'SUM(inputevents.totalamount)': 57765.0}],
dcf9ab0261c9713de6f8dab0,Is the value of respiratory rate of patient 10023239 last measured on the last ICU visit greater than the value second to last measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT valuemdvt > valuemdvt2 FROM ( SELECT chartevents.valuenum AS valuemdvt FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = ( SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ) ) AS t1, ( SELECT chartevents.valuenum AS valuemdvt2 FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate"
9b11adf840122cc37bef0ed4,Tell me about the most common four output events during this year.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT outputevents.outputevent_id, outputevents.value, outputevents.valuenum, outputevents.charttime, outputevents.storetime FROM outputevents GROUP BY outputevent_id ORDER BY count(*) DESC LIMIT 4"
acf918458c8addc978e6c8d7,Can you tell me the cost for the procedure called extracorporeal circulation auxiliary to open heart surgery?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) ),,
737c9f23dfb633b9095279c8,What output did patient 10006580 last have since 05/19/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-05-19' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
e855fab09bf918229922f967,What was the drug that patient 10015860 was prescribed for during the same day after the procedure of other fasciectomy?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other fasciectomy' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT prescriptions.greyclaimdrug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND prescriptions.startdate IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other fasciectomy' ) AND procedures_icd.hadm_id = prescriptions.hadm_id )
67b61395fd1f2d6c03d0af1e,"Among patients aged 30s since 2100, what are the top three most common diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
9e244cb537e766b890782d9a,What is the total volume of patient 10009628's input since 07/04/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-04'",[{'SUM(inputevents.totalamount)': 22950.0}],
6ce32236a45e40ed7a60af77,Can you tell me when patient 10008454's last microbiology test was since 5 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-5 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2110-12-07 03:05:00'}],"SELECT chartevents.charttime FROM chartevents JOIN microbiologyevents ON chartevents.hadm_id = microbiologyevents.hadm_id WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND datetime(chartevents.charttime) >= datetime(current_time,'-5 month') ORDER BY chartevents.charttime DESC LIMIT 1"
2eb0abd516a6a45b4329852b,Has patient 10005909 been diagnosed with any diseases since 2100?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10005909 AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' )
f8961f88221514dc6b646933,"Hey jo, tell me what that diagnosis was that patient 20801 got in that other department",,,
9541827f1eee21fcc491d39d,What diagnosis did patient 10022880 have last since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT admittime, dischtime, admitting_diagnosis FROM admissions WHERE admissions.subject_id = 10022880 AND datetime(admittime) >= datetime(current_time,'-1 year') ORDER BY dischtime DESC LIMIT 1"
358fa6004175aca2698df8bb,How many operating rooms are currently available?,,,
eaa2bc139459a0e6de3f0a33,Calculate the number of hospital visits made by patient 10022017 in 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10022017 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],
d289ae08b9d6d02468d8c8d2,"Since 22 months ago, how much did patient 10019172 weigh during the first measurement?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-22 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-22 month') ORDER BY chartevents.charttime ASC LIMIT 1"
690bde321b749a8d1310a710,What is the number of patients who had a macrophages test in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'macrophages' ) AND strftime('%Y',labevents.charttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '2100' )
081ba7feccd490013f102984,What was the total ondansetron dose prescribed for patient 10001725 on their last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'ondansetron',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(orders.dose) FROM orders INNER JOIN admissions ON orders.hadm_id = admissions.hadm_id INNER JOIN patients ON patients.subject_id = admissions.subject_id WHERE patients.subject_id = 10001725 AND orders.itemid IN ( SELECT formulary_drugs.formulary_drug_id FROM formulary_drugs WHERE formulary_drugs.generic_name = 'ondansetron' ) ORDER BY orders.starttime DESC LIMIT 1
78444405504330982a1f5e0a,"Among patients diagnosed with esophagitis, unspecified, what were the top four most common microbiology tests conducted within the same hospital visit in this year?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'esophagitis, unspecified' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_micro.testname, COUNT(*) AS count FROM admissions AS a JOIN patients AS p ON p.subject_id = a.subject_id JOIN microbiologyevents AS m ON a.hadm_id = m.hadm_id JOIN d_micro ON m.teststatus = d_micro.teststatus AND m.testname = d_micro.testname WHERE a.admittime >= current_date - INTERVAL '1 YEAR' AND p.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'K21.9' ) GROUP BY d_micro.testname ORDER BY count DESC LIMIT 4"
2ddc53c4a796889b9c40ca78,What was the first medication that patient 10007058 was prescribed since 10/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': '5% Dextrose'}],
275184cf2bd75d7ada2cab2a,What is the total number of patients discharged from the hospital this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.dischtime) = YEAR(CURDATE())
b6cdfe2edf6838e152af3c54,What the name of the diagnosis that patient 14467 received in the other department?,,,"SELECT admittime, dischtime, admitting_diagnosis FROM admissions WHERE admissions.subject_id = 14467 AND transfers.previous_care_unit != admissions.icu"
2561607a3178d1491081ba75,What was the name of the organism found in the last microbiology test conducted on patient 10007795's urine since 05/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microbes.org_name FROM microbes INNER JOIN microbiologyevents ON microbes.org_id = microbiologyevents.org_id INNER JOIN d_items ON microbiologyevents.itemid = d_items.itemid WHERE d_items.label = 'urine' AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(microbiologyevents.chartdate) >= '05/2100' ORDER BY microbiologyevents.chartdate DESC LIMIT 1
af1b692aa2f8340f719c17fe,"Among patients diagnosed with lens replaced by other means , what are the top four most common lab tests that followed afterward during the same month?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'lens replaced by other means' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) as occurrences FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN admissions ON admissions.hadm_id = admissions.hadm_id WHERE admissions.d_icd_procedures.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'lens replaced by other means' ) ) AND labevents.charttime BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 1 MONTH) GROUP BY labevents.itemid ORDER BY occurrences DESC LIMIT 4"
6e94c2a9ff1a11c41777ecf8,How much heparin was prescribed to patient 10036156 last since 05/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND prescriptions.drug = 'heparin' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10036156 AND prescriptions.startdate >= '05/2100' AND prescriptions.drug = 'heparin' ORDER BY prescriptions.startdate DESC LIMIT 1
5a9d2f417f6b862c0b7366e8,What was the last weight of patient 10002495 since 19 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-19 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) AND chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 19 MONTH) ORDER BY chartevents.charttime DESC LIMIT 1"
fe3277e1cb0eca8a574478bb,"On the last hospital stay, what was patient 10007928's insurance plan?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Other'}],"SELECT admissions.hospital_expire_flag, admissions.insurance FROM admissions WHERE admissions.subject_id = 10007928 ORDER BY admissions.admittime DESC LIMIT 1"
752822475ba10bd4a7205d6d,What drug was patient 10014729 prescribed for within the same hospital visit after undergoing insertion of catheter into spinal canal for infusion of therapeutic or palliative substances in 03/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of catheter into spinal canal for infusion of therapeutic or palliative substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime, admittime < '03/01/this year' AND dischtime > '03/31/this year' FROM admissions WHERE subject_id = 10014729 AND hadm_id IN (SELECT hadm_id FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'insertion of catheter into spinal canal for infusion of therapeutic or palliative substances')) LIMIT 1"
646e109b76831aec3246418b,What was the name of the procedure that was given two times to patient 10019777 since 13 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-13 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT d_icd_procedures.long_title FROM d_icd_procedures INNER JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND procedures_icd.chartdate BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 13 MONTH) AND CURRENT_DATE GROUP BY d_icd_procedures.long_title HAVING COUNT(*) = 2"
45e96cdfdd32151dd3592509,What is the history of immuno cancer drugs in the last 5 years?,,,
b6cb5bc47c02678729d05510,Are there new medications in the prescription of patient 10039831 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT COUNT(DISTINCT orderitems.itemid) AS new_med_count, orderitems.orderid FROM orderitems INNER JOIN orders ON orderitems.orderid = orders.orderid WHERE orders.subject_id = 10039831 AND orders.orderdate BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 1 DAY) AND CURRENT_DATE() GROUP BY orderitems.orderid HAVING new_med_count > 0"
5deee54b966c7e4660cedfb8,Tell me the total volume of input that patient 10004422 was given on 01/21/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '01-21'",[{'SUM(inputevents.totalamount)': None}],SELECT sum(chartevents.value) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total volume of input' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '01/21/this year 00:00:00' AND '01/21/this year 23:59:59'
c00a358c2d55cd8c5497fc99,"What is the maximum total cost of the hospital, which includes the blood in stool?",SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'blood in stool' ) ) GROUP BY cost.hadm_id ) AS T1,,
7c25dcee711f95e8760994eb,What are the ways to consume caphosol?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'caphosol',[],
950bba952500eb9d19279afe,Show me the top five most common diagnoses of patients aged 50s this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) as count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= '2022-01-01' AND admissions.admittime < '2023-01-01' AND admissions.anchor_age BETWEEN 50 AND 59 GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 5"
b711a8c66ded68ed4cd6199c,What are the total average expenses for a hospital involving a laboratory test for oxygen since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'oxygen' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
9e7913d9465b0471d710f65b,"What is the price of the drug, ciprofloxacin iv?",SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ciprofloxacin iv' ),,
5732b3a1da02702d943f84d4,What output did patient 10018081 have for the first time since 04/07/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-07' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR Urine'}],
807c6c3264c76b6faa008696,What was patient 10006580's documented weight on the last record on the first hospital stay?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
d459384c23821c7436fd1a3e,Give me the top four most commonly prescribed medications during the same month to patients aged 60 or above after they were diagnosed with unspecified essential hypertension since 1 year ago.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"WITH recent_hypertension AS ( SELECT admissions.subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '401%' AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND admissions.admittime >= ( SELECT MIN(admittime) FROM diagnoses_icd WHERE icd_code LIKE '401%' ) ), patient_month AS ( SELECT YEAR(chartevents.charttime) AS year, MONTH(chartevents.charttime) AS month, chartevents.subject_id FROM chartevents INNER JOIN recent_hypertension ON chartevents.subject_id = recent_hypertension.subject_id INNER JOIN admissions ON admissions.subject_id = recent_hypertension.subject_id WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%medication%' ) AND admissions.admittime <= chartevents.charttime AND chartevents.charttime >= admissions.admittime AND admissions.dod >= chartevents.charttime GROUP BY chartevents.charttime, chartevents.subject_id ) SELECT patient_month.month, patient_month.year, d_items.label, COUNT(*) AS count FROM chartevents JOIN patient_month ON chartevents.subject_id = patient_month.subject_id AND YEAR(chartevents.charttime"
582b1e6739323885d6dd7148,What are the precautions to take after the packed cell transfusion procedure?,,,
837818ce3b6b8d41acc4c4ea,"What was the first lab test result of the cholesterol, total for patient 10014354 in 10/2100?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, total' ) AND strftime('%Y-%m',labevents.charttime) = '2100-10' ORDER BY labevents.charttime ASC LIMIT 1",[],
a3dd56dec5262895f50e89b7,How many hours have elapsed since the first time on this hospital stay patient 10021487 received a lab test for basophils?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT MIN(TIMESTAMPDIFF(HOUR, chartevents.charttime, current_timestamp)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' )"
7b93007f63a2214c1ddc33f7,Has patient 10019385 been given any medication since 10 months ago?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-10 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-10 month')"
ebc57b735ed65bf597257c3e,What is the average total hospital cost involving a drug named loratadine since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'loratadine' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
d2b11a845b1f86d3c1436906,Can you tell me when patient 10020944 had their first stool microbiology test since 13 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND microbiologyevents.spec_type_desc = 'stool' AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-13 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' AND d_items.body_system = 'Stool' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-13 month') ORDER BY chartevents.charttime ASC LIMIT 1"
228014642a9c756b378d10cc,What drug was prescribed to patient 10010471 for the last time in the first hospital encounter?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Levofloxacin'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1
d5ae1b4f859d19123f8193a4,Get me the top five most frequent diagnoses for patients of age 30s in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN patients ON diagnoses_icd.subject_id = patients.subject_id WHERE patients.dob BETWEEN '1970-01-01' AND '1989-12-31' AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE YEAR(admissions.admittime) = 2010 ) GROUP BY diagnoses_icd.icd_code ORDER BY frequency DESC LIMIT 5"
68ee1d315023f57029b6ce03,What is the yearly minimum piggyback input for patient 10014729 since 02/2100?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'piggyback' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-02' GROUP BY strftime('%Y',inputevents.starttime)",[],
0874a8eb9ae4f8b6bb50a1d4,When was patient 10019777 prescribed for the first time a medication via ng route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND prescriptions.route = 'ng' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT orders.order_date FROM orders WHERE orders.subject_id = 10019777 AND orders.route = 'NG' LIMIT 1
3cfe1a9f322b92f0841576db,What was the first dose of nicardipine iv prescribed to patient 10005817 since 12/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND prescriptions.drug = 'nicardipine iv' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10005817 AND prescriptions.drug_name = 'Nicardipine' AND prescriptions.formulary_drug_cd = 'NCDIP' AND prescriptions.startdate >= '12/01/2010' ORDER BY prescriptions.startdate ASC, prescriptions.time ASC LIMIT 1"
9f7246b3b545ea28dc8ff5ad,What was the minimum value of the respiratory rate of patient 10021666?,SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ),[{'MIN(chartevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' )
f7f4a6f9abf6c8424b79c205,Count the current patients who are in the 60 or above.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,
bb8a1fa7460a1e93f7fe94cd,What about the single rooms which are now out there?,,,
5661fb129ea343e46075bab5,Tell me the type of blood of patient 31854?,,,SELECT hadm_id FROM admissions WHERE subject_id = 31854
1129dbf956a1de639c79960c,When was the last input time of patient 10005817 during the first ICU stay?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2132-12-17 17:23:00'}],SELECT chartevents.charttime FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
fd65cc9a15899b7d467ba196,Could you list the four diagnoses that had the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis, mortality_rate FROM ( SELECT d_icd_diagnoses.short_title AS diagnosis, COUNT(*)/CAST(SUM(CASE WHEN days_to_death <= 90 THEN 1 ELSE 0 END) AS FLOAT) AS mortality_rate FROM admissions JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code GROUP BY d_icd_diagnoses.short_title ORDER BY mortality_rate DESC LIMIT 4 )"
2e5708405e832d182494a66b,What was the amount of straight cath output patient 10020740 had since 03/06/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'straight cath' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-06'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'straight cath output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2100-06-03' ORDER BY chartevents.charttime ASC
7d02af05751b72aaed0916cd,What exactly was the last drug that patient 10001217 was prescribed in 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[],
3d262da4f3ade06a2f6f3db1,"What is the maximum total cost of hospitalization that includes the glucose, ascites laboratory test since 1 year ago?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, ascites' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(admissions.totalcharges) FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('glucose', 'ascites') ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
f6a020353c429522bafc3321,Has patient 13528 had any ill effects during a blood transfusion?,,,SELECT COUNT(*)>0 AS had_ill_effect FROM chartevents AS CE JOIN d_items AS D ON D.itemid = CE.itemid WHERE CE.subject_id = 13528 AND D.label = 'blood type' AND CE.valuenum NOT IN (SELECT CE2.valuenum FROM chartevents AS CE2 JOIN d_items AS D2 ON D2.itemid = CE2.itemid WHERE CE2.subject_id = 13528 AND D2.label = 'blood type')
60eba7103445142138d17aea,"Since 09/09/2100, what was the first value of arterial blood pressure mean of patient 10021487?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-09-09' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '09/09/2100' ORDER BY chartevents.charttime ASC LIMIT 1
c62375c94b9f079a0f6c7c91,When was the first time when patient 10020187 was prescribed 0.9% sodium chloride and levetiracetam at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '0.9% sodium chloride' AND admissions.subject_id = 10020187 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'levetiracetam' AND admissions.subject_id = 10020187 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(t1.startdate) FROM prescriptions t1 JOIN prescriptions t2 ON t1.hadm_id = t2.hadm_id WHERE t1.strength = '100 MG/ML' AND t1.formulary_drug_cd = 'LEVETIRACETAM' AND t2.strength = '0.900%' AND t2.formulary_drug_cd = 'SODIUM CHLORIDE' AND t1.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 )
548efe4af132f8b95bf61624,Is the respiratory rate level of patient 10021118 last measured on the first ICU visit less than second to last measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (t1.valuenum < t2.valuenum) FROM ( SELECT chartevents.valuenum FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime <= ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id = icustays.stay_id AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) ORDER BY chartevents.charttime DESC LIMIT 1 ) t1 JOIN ( SELECT chartevents.valuenum FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 100211
b9f6116b0b39e50a2fa629e1,Is the value of anion gap last measured on the first hospital visit of patient 10005348 greater than its value second to last measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT (t1.valuenum > t2.valuenum) as result FROM ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1 ) as t1 JOIN ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime DESC LIMIT 1, 1 ) as t2 ON 1=1"
cf5d62cfdfa23393641e93c8,How many days was patient 10038999 in the intensive care unit during their first visit?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 8.836469906847924}]","SELECT MIN(chartevents.charttime) AS first_visit_start, MAX(chartevents.charttime) AS first_visit_end FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10038999 AND admissions.admittime <= chartevents.charttime AND (SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.admittime <= chartevents.charttime) = 1"
37c75c3b997199029b9998b4,Has patient 10004235 received any surgery?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND procedures_icd.icd_code LIKE '00%' OR procedures_icd.icd_code LIKE '10%' OR procedures_icd.icd_code LIKE '11%' OR procedures_icd.icd_code LIKE '12%' OR procedures_icd.icd_code LIKE '13%'
e44f5a7695147c0b38ec316e,What was the last hospital admission type for patient 10018845?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018845 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'EW EMER.'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10018845 ORDER BY admissions.admittime DESC LIMIT 1
31cdceeb50d5b9593b6c8055,Find out the number of medicines given to patient 10021938 since 03/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'COUNT(*)': 48}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND prescriptions.startdate >= '03/2100'
3917dc2e272fabe6467257d2,I need the name of the diagnostic that patient 31510 received in the other department,,,SELECT d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 31510 ) AND chartevents.hospital_service != admissions.hospital_service
d016293ab625d79f2dc0ca33,When was the last time the SaO2 of patient 10021487 was measured on the last ICU stay at less than 98.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 98.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid = 6435 AND chartevents.valuenum < 98 ORDER BY chartevents.charttime DESC LIMIT 1
3afe51cbe0baae4f9809635a,Has patient 10007818 taken a vital high protein (full) drug since 07/07/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'vital high protein (full)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-07'",[{'COUNT(*)>0': 0}],
5077dabbbdb1f143ad870dd9,"Calculate the number of patients diagnosed with body mass index 31.0-31.9, adult since 2100.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'body mass index 31.0-31.9, adult' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
ccb20fe5f0ec69b335b58f1c,What is the outpatient schedule today for dr. minutillo?,,,
e5c3587bfbb2d97b71b9e953,How much duloxetine has been prescribed to patient 10007795 in 05/2100 in total?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND prescriptions.drug = 'duloxetine' AND strftime('%Y-%m',prescriptions.starttime) = '2100-05'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(csq.amount) FROM prescriptions csq WHERE csq.subject_id = 10007795 AND csq.drug = 'duloxetine' AND csq.doseunits_id = (SELECT d_doseunits.doseunits_id FROM d_doseunits WHERE d_doseunits.doseunit_name = 'mg') AND datetime(csq.startdate) >= datetime('2050-05-01') AND datetime(csq.enddate) <= datetime('2050-05-31')
6bffa26dd035a9778fad2e76,Can you confirm what was the last heart rate for patient 10016150?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10016150 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1
9c5f4de218634410a8efb1a9,Calculate the number of ICU visits of patient 10010471 since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 1}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND icustays.intime >= datetime(current_time,'-1 year')"
044289b85d5894aef9a9825d,When did patient 10039831 receive a mrsa screen microbiology test for the first time since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mrsa screen' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('03/2100') ORDER BY chartevents.charttime ASC LIMIT 1
951e44d16291cab791c2b2dc,What was the drug that patient 10020740 was prescribed for within the same day after undergoing continuous invasive mechanical ventilation for less than 96 consecutive hours in 04/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'continuous invasive mechanical ventilation for less than 96 consecutive hours' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-04' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-04' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.startdate IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'continuous invasive mechanical ventilation less than 96 consecutive hours' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND procedures_icd.chartdate BETWEEN '04/01/2010' AND '04/30/2010' ) AND prescriptions.startdate = prescriptions.enddate
b0e33df4abb89b92c708cf89,Tell me the icd-11 code for fetal/neonatal jaund nos in icd-10?,,,
1c752280e681b6e8e598bdae,When was the last time that patient 10021312 has received a red blood cells lab test during their last hospital encounter?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '55260-8' ) ORDER BY labevents.charttime DESC LIMIT 1
908c6c72c2f860ac928fbaf3,Can you tell me the first time in the last ICU stay patient 10009628 had a minimum diastolic blood pressure?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY chartevents.valuenum ASC LIMIT 1
1d7daad1762a274e42d1274a,"What's the cost for drainage of left pleural cavity, percutaneous approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) )",,
aafda5799cef4cdbb1a8c0e0,What's the count of current patients?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM patients WHERE patients.dod IS NULL
eb91c0a8a1e1ee146a155b80,"In 05/2100, when did patient 10007795 first get prescribed iso-osmotic dextrose and 5% dextrose at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'iso-osmotic dextrose' AND admissions.subject_id = 10007795 AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '5% dextrose' AND admissions.subject_id = 10007795 AND strftime('%Y-%m',prescriptions.starttime) = '2100-05' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.admittime >= '05/01/2010' AND admissions.admittime < '06/01/2010' AND EXISTS (SELECT * FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.stopped IS NULL AND prescriptions.drug = 'iso-osmotic dextrose') AND EXISTS (SELECT * FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.stopped IS NULL AND prescriptions.drug = '5% dextrose')
658f14f535401c3647d83d50,Is the alkaline phosphatase value of patient 10015860 on the last measurement on the first hospital visit greater than the value from the first measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (MAX(chartevents.valuenum) > MIN(chartevents.valuenum)) AS result FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'alkaline phosphatase' AND d_items.linksto = 'labevents' )
3eb6d37c0b82ceb5b2df547e,How is ranitidine (liquid) typically taken?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'ranitidine (liquid)',[],
b3b04512888e6be067ea0094,"What are the total number of assistance with cardiac output using balloon pump, continuous procedures performed since 2100?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) AND procedures_icd.chartdate >= '2100-01-01'"
24ebd2bae7cfabd18b6ce9c8,Does patient 46528 have a history of overseas travel?,,,
b5aedd087997ec2e10bb6736,Is the glucose value last measured on the first hospital visit in patient 10004235 less than the value from the second to last measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Glucose, random' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Glucose, random' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 )"
5d63012ba377b6abd13cc0ec,How much am I expected to pay for regional lymph node excision?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'regional lymph node excision' ) ),,
af5515bbc62c20e665bfdae3,Is the chloride level of patient 10006053 second measured on the first hospital visit greater than the first measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' AND d_labitems.category = 'chemistry' ) ORDER BY labevents.charttime ASC LIMIT 1,1) > (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' AND d_labitems.category = 'chemistry' ) ORDER BY labevents.charttime ASC LIMIT 1)"
a39005834defa0da659aa0e9,How many ascorbic acid prescriptions occurred in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'ascorbic acid' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.dose_unit='Ascorbic acid' AND prescriptions.startdate LIKE '2100%'
6cdbe56001fefce8414c07e1,Has patient 10001217 visited an emergency room?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.admittime IN ( SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10001217 GROUP BY admissions.transfers) AND admissions.admission_type = 'URGENT'
f3e47e3f679e8381a5c4a2b6,Tell me all the prescriptions that patient 10539 received in the other department.,,,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10539 AND prescriptions.hadm_id NOT IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10539 )
2a3d19cceb7e76962f6d84e6,Tell me all the prescriptions that patient 13054 received at the other department.,,,SELECT prescriptions.drg_code FROM prescriptions WHERE prescriptions.subject_id = 13054 AND prescriptions.hadm_id NOT IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 13054)
197b621f36437cbb2e24f71e,Tell me the minimum SaO2 of patient 10010471 since 66 days ago.,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-66 day')",[{'MIN(chartevents.valuenum)': None}],SELECT min(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10010471 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'SaO2 (Fraction)') AND chartevents.charttime >= now() - INTERVAL 66 DAY
207e6d0a6a9b812afab27ac7,Was the absolute eosinophil count value of patient 10038999 second measured on the first hospital visit less than the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first_value < second_value) FROM (SELECT first.valuenum AS first_value, second.valuenum AS second_value FROM (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999) AND labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count') AND labevents.charttime = (SELECT MIN(labevents.charttime) FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999)) LIMIT 1) AS first, (SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999) AND labevents.itemid = (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count') AND labevents.charttime = (SELECT charttime FROM labevents WHERE labevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id ="
d01b05000d59848ec7db20fc,I would like to learn some tips on how to prepare for the tachypnea procedure.,,,
cefa3a76e1b80de7cca8cbf1,"What are the three frequently prescribed medications within 2 months to the patients aged 60 or above after diagnosed with chronic kidney disease, unspecified since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic kidney disease, unspecified' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT adm.SUBJECT_ID, drg.drug FROM admissions adm JOIN patients pat ON adm.SUBJECT_ID = pat.SUBJECT_ID JOIN diagnoses_icd diag ON adm.HADM_ID = diag.HADM_ID JOIN prescribings drg ON adm.HADM_ID = drg.HADM_ID WHERE diag.ICD9_CODE LIKE '585%' AND adm.ADMITTIME >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND pat.AGE >= 60 AND drg.STARTDATE <= DATE_SUB(CURRENT_DATE, INTERVAL 2 MONTH) GROUP BY drg.drug ORDER BY COUNT(*) DESC LIMIT 3"
6277e9a8851e3c1a4ad9cd6e,Please list out the monthly maximum weight of patient 10004235 since 1 year ago.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT strftime('%Y-%m', chartevents.charttime) AS month, MAX(chartevents.valuenum) AS max_weight FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= datetime(current_time,'-1 year') GROUP BY month"
9ad11c0699674c054d7a4074,Can you calculate how many patients were prescribed glucagon this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'glucagon' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_type = 'Glucagon' AND datetime(prescriptions.startdate) >= datetime(current_date,'start of year')"
a978c41bf772b0328ae1c73e,Please tell me the exact prescriptions patient 4269 received from the other department.,,,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 4269 AND prescriptions.department = 'other department'
63d12a773f7455c04714cb1e,What is patient 10005909's sex?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10005909,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10005909
41edf4dce9244c624133d08a,What was the output of patient 10018423 for the first time since 03/06/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-06' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Foley'}],
6e40bf924c854c6bb7c3d749,When was first time the respiratory rate of patient 10020740 was greater than 17.0 on 06/15/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 17.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '06-15' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 17.0 AND chartevents.charttime >= '06/15/this year' ORDER BY chartevents.charttime ASC LIMIT 1
fc990cb9419776227c9994e7,Show me patient 10014078's total amount of magnesium sulfate (bolus) input on 09/07/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-09-07'",[{'SUM(inputevents.totalamount)': None}],SELECT sum(inputevents_mv.amount) FROM inputevents_mv INNER JOIN admissions ON inputevents_mv.hadm_id = admissions.hadm_id WHERE inputevents_mv.itemid IN ( SELECT itemid FROM d_items WHERE d_items.label = 'MAGSULF BOLUS' ) AND admissions.subject_id = 10014078 AND inputevents_mv.charttime LIKE '2100-09-07%'
e40b14c3c51819949e2f549e,How long did it take to get spinal canal explor nec for patient 18877?,,,SELECT MAX(chartevents.charttime) - MIN(chartevents.charttime) AS duration FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'spinal canal exploration' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 18877 )
63e5457b5b019e78c8dbf939,What were the top three most common microbiology tests for patients who were previously diagnosed with neoplasm of unspecified nature of endocrine glands and other parts of nervous system within the same hospital visit since 1 year ago?,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'neoplasm of unspecified nature of endocrine glands and other parts of nervous system' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 3",,"SELECT test_name, COUNT(*) AS count FROM ( SELECT DISTINCT mtest.charttime, mtest.itemid AS test_name FROM microbiologyevents AS mtest JOIN admissions AS adm ON mtest.hadm_id = adm.hadm_id JOIN diagnoses_icd AS dcode ON adm.hadm_id = dcode.hadm_id WHERE dcode.icd_code = '198.81' AND mtest.chartdate >= CURRENT_DATE - INTERVAL '1 YEAR' ) AS subquery GROUP BY test_name ORDER BY count DESC LIMIT 3"
c6b942401a65b3fa2db93ef0,What kind of blood patient 18866 has.,,,
962c0dd05a16f3d046055b17,What specimen tests did patient 10039997 undergo for the last time since 05/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'MRSA SCREEN'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10039997 AND chartevents.charttime >= '05/2100' ORDER BY chartevents.charttime DESC LIMIT 1
78805907705a4fd44978901b,When was patient 10005817 prescribed 0.9% sodium chloride and insulin human regular at the same time for the last time in this month?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '0.9% sodium chloride' AND admissions.subject_id = 10005817 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'insulin human regular' AND admissions.subject_id = 10005817 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT orders.order_time FROM orders WHERE orders.subject_id = 10005817 AND orders.order_time >= datetime(current_time,'-1 month') AND orders.order_type IN (SELECT order_types.order_type FROM order_types WHERE order_types.description IN ('0.9% sodium chloride', 'insulin human regular')) GROUP BY orders.order_time HAVING COUNT(*) = 2 ORDER BY orders.order_time DESC LIMIT 1"
45892e6b5af0f6b70b5c1edd,When was the first hospital discharge time for patient 10005866?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005866 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005866 ORDER BY admissions.admittime ASC LIMIT 1
c1a9f03dd5bb3142dac26180,List the top three most occurring events.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT event, COUNT(*) as count FROM events GROUP BY event ORDER BY count DESC LIMIT 3"
bb0544fc1cbc2ba271291243,What is the sex of patient 10020306?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10020306,[{'gender': 'F'}],SELECT gender FROM patients WHERE patients.subject_id = 10020306
9c3f5b2ff13b604dcdc88353,Tell me patient 10009628's total volume of output since 03/03/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-03'",[{'SUM(outputevents.value)': 6293.0}],
017d9aef746962d1c3d9d52e,When did patient 10027445 last receive a mrsa screen microbiology test since 08/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents JOIN microbiologyevents ON chartevents.subject_id = microbiologyevents.subject_id WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND microbiologyevents.spec_itemid = ( SELECT spec_itemid FROM d_micro WHERE description = 'mrsa screen' ) AND datetime(chartevents.charttime) >= datetime('08/2100') ORDER BY chartevents.charttime DESC LIMIT 1
d2d60e3fb7175ae8e24658d9,Tell me what diagnosis patient 32153 received at the other department.,,,
f099406d471ff52b20ae8441,Has patient 10020944 had any diagnoses?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10020944
8e181485cf1adc897c3a3e28,Are patient 10009049's protein levels second measured on the last hospital visit greater than the levels first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'protein' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Protein' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1) > (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Protein' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1)
8b3ac39d04cb2b0c9c7c2ef7,"How many patients underwent a extirpation of matter from left femoral vein, percutaneous approach during the same month after the diagnosis of other surgical procedures as the cause of abnormal reaction of the patient, or of later complication, without mention of misadventure at the time of the procedure?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other surgical procedures as the cause of abnormal reaction of the patient, or of later complication, without mention of misadventure at the time of the procedure' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left femoral vein, percutaneous approach' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN procedures_icd ON procedures_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code LIKE 'E87%' AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.procedure_class_name = 'extirpation of matter' AND d_icd_procedures.body_part_site = 'left femoral vein' AND d_icd_procedures.approach_type = 'percutaneous' ) AND YEAR(procedures_icd.chartdate) = YEAR(diagnoses_icd.chartdate) AND MONTH(procedures_icd.chartdate) = MONTH(diagnoses_icd.chartdate)
167a500ff70d846339538bb9,When was the first time that patient 10023239 was prescribed medication via the iv drip route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND prescriptions.route = 'iv drip' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE prescriptions.subject_id = 10023239 AND d_items.formulary_flags LIKE '%IV%' ORDER BY prescriptions.startdate ASC LIMIT 1
a7f9bb55036040073e02ba0e,Find the number of current patients in the 20s age group.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 20 AND 29,,SELECT COUNT(*) FROM patients WHERE patients.dob = '20xx-xx-xx' AND patients.dod IS NULL
21dbea03500cf77a64577287,What is the name of the drug that is not to be given during packed cell transfusion?,,,
7cf79d6d78b98237ceed2c66,What is dr. robinson's outpatient schedule today?,,,
52796db611e85270a50a17e5,What is the minimum total hospital cost that involved control of epistaxis by anterior nasal packing procedure since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'control of epistaxis by anterior nasal packing' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(fact_cost.total_cost) FROM fact_cost JOIN d_cost ON fact_cost.costid = d_cost.costid JOIN d_items ON d_cost.itemid = d_items.itemid WHERE d_items.label = 'control of epistaxis by anterior nasal packing' AND datetime(fact_cost.charttime) >= datetime('2100-01-01')
d9e6af32ff852ac88dc76577,What is dr. barna's outpatient schedule today?,,,
2092bc06715d6d43db8d20c2,Is the mch value of patient 10025612 on the second measurement on the first hospital visit less than the value from the first measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first_measurement.mch < second_measurement.mch) FROM (SELECT labevents.valuenum AS mch FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10025612 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) ORDER BY labevents.charttime ASC LIMIT 1) AS first_measurement, (SELECT labevents.valuenum AS mch FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10025612 AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch') ORDER BY labevents.charttime ASC LIMIT 1, 1) AS second_measurement"
0994bfb0d80d586c3e6b991b,How much is the average total cost of a hospital that involves a drug named amitriptyline in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'amitriptyline' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
aafe7bc8473b0240ac6c912c,What is the maximum total cost of the hospital visits that included a medicine named heparin in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'heparin' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(SUM(charges)) FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN inputevents_cv ON icustays.stay_id = inputevents_cv.stay_id WHERE admissions.admittime LIKE '2100%' AND inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%heparin%' ) GROUP BY admissions.hadm_id
347b35d5873783b49e222bc6,What was the total sum of inputs for patient 10007795 on the first ICU visit?,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ),[{'SUM(inputevents.totalamount)': 8640.0}],SELECT SUM(inputs.amount) FROM inputs JOIN icustays ON inputs.stay_id = icustays.stay_id WHERE icustays.first_careunit IS NOT NULL AND icustays.hadm_id = 10007795 AND inputs.charttime BETWEEN icustays.intime AND icustays.outtime
150dcba6b064df151fc6eaf3,How much is the difference of patient 10004235's weight last measured on the first hospital visit compared to the value first measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH first_chartevents AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) SELECT first_chartevents.valuenum - first_chartevents.valuenum AS weight_difference FROM first_chartevents LIMIT 1"
e95fcfa72f1c014d79280732,What was the first dose of metoclopramide that on the first hospital stay was prescribed to patient 10019385?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'metoclopramide' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT first_value(co prescriptions.dose) OVER (ORDER BY co prescriptions.startdate ASC) as dose FROM co prescriptions WHERE co prescriptions.subject_id = 10019385 AND co prescriptions.hospitalstayid IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ORDER BY admissions.admittime ASC LIMIT 1 ) AND co prescriptions.drugname = 'metoclopramide'
6eaa704e430235558d82f887,Count the total patients who were prescribed clonidine patch 0.2 mg/24 hr this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'clonidine patch 0.2 mg/24 hr' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.dose = '0.2 mg/24 hr' AND prescriptions.drug = 'clonidine patch' AND prescriptions.startdate >= CURRENT_DATE - INTERVAL '1 YEAR'
fbbd2e1b86a772b593ee1bb9,Does patient 3125 have traveled abroad?,,,
233eeb75a432587011a6b1bc,Has patient 10024043 entered the hospital?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10024043,[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10024043
dd41fa87a9bb005a4d9cfe78,"If it is a cerebrovascular mri, what's the reimbursement standard?",,,
c99ab73b237415f36d5185ab,Reveal the three most frequently prescribed medications during this year.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3",[],"SELECT medchartevents.itemid ,  COUNT(*) AS count FROM medchartevents WHERE datetime(medchartevents.charttime) >= datetime(current_time, '-1 year') GROUP BY medchartevents.itemid ORDER BY count DESC LIMIT 3"
d4bd03642b6b6c5ff9cd88ac,Tell me the average heart rate for patient 10006580's body since 08/13/2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-08-13'",[{'AVG(chartevents.valuenum)': None}],
8acb279371aec9d2ef64ac77,What treatment were provided to patient 10007795 two or more times in 08/this year?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '08' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT c_treatment.text FROM c_treatment WHERE c_treatment.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND c_treatment.chartdate LIKE '2022-08%' GROUP BY c_treatment.text HAVING COUNT(*) > 2
5183db2bbd72b5cf7d8b5c0c,When were the drugs ketorolac and acetaminophen iv prescribed to patient 10021118 for the first time this month at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ketorolac' AND admissions.subject_id = 10021118 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'acetaminophen iv' AND admissions.subject_id = 10021118 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT medevents.order_time FROM medevents WHERE medevents.subject_id = 10021118 AND medevents.order_time >= datetime(current_timestamp,'start of month') AND (medevents.drug = 'ketorolac' OR medevents.drug = 'acetaminophen iv') GROUP BY medevents.order_time HAVING COUNT(*) = 2 LIMIT 1"
0c54d58c887f5d5cfcec260c,"What are the top four most frequently tested specimens for patients within the same hospital visit after receiving bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS test_frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id WHERE icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays INNER JOIN procedures_icd ON icustays.icustay_id = procedures_icd.icustay_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open' ) ) ) GROUP BY chartevents.itemid ORDER BY test_frequency DESC LIMIT 4"
a291e9eb06fbda894cbb7a33,"In 10/this year, what was the maximum mcv value for patient 10018845?","SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mcv' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10'",[{'MAX(labevents.valuenum)': None}],SELECT MAX(valuenum) FROM labevents WHERE itemid IN ( SELECT itemid FROM d_labitems WHERE label = 'MCV' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10018845 ) AND charttime >= '2022-10-01' AND charttime <= '2022-10-31'
0a91b31731530c53ab09872e,"What is the minimum total cost of the hospital encounters that involve a procedure named destruction of right main bronchus, via natural or artificial opening endoscopic since 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right main bronchus, via natural or artificial opening endoscopic' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(totalcharges) FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'destruction of right main bronchus, via natural or artificial opening endoscopic' ) AND admissions.admittime >= '2100-01-01'"
f6001dcc7f0b69fb01da77ee,Calculate how many drugs patient 10007058 was prescribed since 09/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09'",[{'COUNT(*)': 43}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10007058 AND datetime(prescriptions.startdate) >= datetime('09/2100')
d84c6c7fe6daa03fe7f81c8b,"In 2100, how many patients underwent insertion of endotracheal tube during the same month after the diagnosis of acute kidney failure, unspecified?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute kidney failure, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of endotracheal tube' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,
7765d7fe671288bae59a5fa7,Did patient 10021118 go through any lab test during the first hospital encounter?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ORDER BY admissions.admittime ASC LIMIT 1 )
970112eab9858a27e20a091f,Can you please tell me the name of the diagnosis that patient 73693 received from the other department?,,,
bb8bc2404e614f44d69a488c,Can you tell me the top four most common lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= '2100-01-01' GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
40e1b2eb72eb67d84b772be6,What was the total guaifenesin-dextromethorphan dose that has been prescribed in 08/this year to patient 10021312?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.drug = 'guaifenesin-dextromethorphan' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(csq.totaldose) FROM prescriptions AS p JOIN d_items AS csq ON csq.itemid = p.csid WHERE p.subject_id = 10021312 AND p.dosage_form_name = 'guaifenesin-dextromethorphan' AND p.start_date BETWEEN '2022-08-01' AND '2022-08-31'
e1dd13daac1ecaf666f55bc2,"Hey, what was patient 10029291's maximum ptt value in 03/2100?","SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'MAX(labevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ptt' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2003-01-01 00:00:00' AND '2003-12-31 23:59:59'
4587dd491b8793e1feba1da6,When was the last time patient 10018081 SaO2 was measured less than 99.0 yesterday.,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 99.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.valuenum < 99 AND chartevents.charttime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND CURDATE() ORDER BY chartevents.charttime DESC LIMIT 1"
6388862788004bf9b1e4345a,Can you tell me when patient 10004733's last microbiology test was since 05/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2174-12-13 12:35:00'}],SELECT microbiologyevents.chartdate FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(microbiologyevents.chartdate) >= '05/2100-01-01' ORDER BY datetime(microbiologyevents.chartdate) DESC LIMIT 1
e07ed121ec710b96ce8e6acd,Give me the top five most frequent treatments patients received within 2 months after being diagnosed with rheumatic disorders of both mitral and aortic valves in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'rheumatic disorders of both mitral and aortic valves' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT procedure_name, count(*) AS frequency FROM ( SELECT DISTINCT p.subject_id, p.hadm_id, p.itemid, p.charttime, d.text AS procedure_name FROM procedures_icd p JOIN d_icd_procedures d ON p.itemid = d.icd_code JOIN admissions a ON p.hadm_id = a.hadm_id WHERE a.admittime BETWEEN '2021-01-01' AND '2021-12-31' AND p.itemid IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%rheumatic%disorders%both%mitral%and%aortic%valves%' ) AND p.charttime BETWEEN a.admittime AND DATE_ADD(a.admittime, INTERVAL 2 MONTH ) ) AS subquery GROUP BY procedure_name ORDER BY frequency DESC LIMIT 5"
39881273c6b26ba01d54e3ee,"For the first time since 07/2100, what specimen test did patient 10038992 get?","SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND chartevents.charttime >= '07/01/2100' ORDER BY chartevents.charttime ASC LIMIT 1
903fa8b66fbddfcd2c54d16c,Has patient 49176 ever experienced a side effect during a blood transfusion?,,,SELECT COUNT(*)>0 FROM transfusions INNER JOIN patients ON transfusions.subject_id = patients.subject_id WHERE transfusions.subject_id = 49176 AND patients.reaction = 'yes'
5ce9e6b643c409ca7510c4f0,How many patients were administered syringe (iso-osmotic dextrose) since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'syringe (iso-osmotic dextrose)' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
33bb875daecee7aae0a79d8a,Can you tell me the top four most common treatments for patients in their 40s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
c1a661557ac7c238626ba6d2,What was the count of patients who were tested for base excess?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'base excess' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT labevents.hadm_id) FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_labitems.testname = 'base excess'
c6e9f8b7ab342b4f62878e06,When was the last time that patient 10007058 was prescribed medication since 03/2100 via the po route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescription.startdate FROM prescription WHERE prescription.subject_id = 10007058 AND prescription.route = 'PO' AND prescription.startdate >= '03/2100' ORDER BY prescription.startdate DESC LIMIT 1
bb21fc57075b8a90bdec2466,What is the standard of reimbursement for chromosome and genetic tests?,,,
7963b2f32402222a44a74bc2,Was patient 10002428 to the er during their last hospital visit?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10002428 AND admissions.admittime = ( SELECT MAX(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10002428 ) AND admissions.hospital_expire_flag = 1
40e8dd3b84d22a385983c8f7,Can you tell me the maximum SaO2 for patient 10016742's body on 08/03/2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-08-03'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.subject_id = 10016742 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'SaO2' ) AND chartevents.charttime >= '08/03/2100 00:00:00' AND chartevents.charttime <= '08/03/2100 23:59:59'
b3d362f74a925702dfbb0a1d,"How many days have passed since the last time patient 10018081 received a lab test of sodium, urine during this hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT (CURRENT_DATE - MAX(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sodium, urine' AND d_items.linksto = 'chartevents' )"
aac6ebb3d651674fd6c07123,Ist patient 13329 subject to covid-19 testing,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 13329 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '94500-3' OR d_labitems.loinc_code = '94248-2' )
9073e579594a4c3f92dad212,What were the top five diagnoses most frequently diagnosed in this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
408218a9af14aa7ec6f3f966,How much does it cost for ondansetron?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ondansetron' ),,
742e8151840906cdb2000fee,"Tell me the number of cases of extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic that occurred during this year.","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lung lobe, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.short_title = 'extirpation of matter from lower lobe of left lung, open via natural or artificial opening endoscopic' ) AND DATE(procedures_icd.chartdate) BETWEEN DATE('2022-01-01') AND DATE('2022-12-31')"
e2b25103644606a2debc3586,When was the last time that patient 10038933 was prescribed medication in 09/this year via the ih route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND prescriptions.route = 'ih' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10038933 AND admittime >= '2022-09-01' AND admittime <= '2022-09-30' AND hadm_id IN (SELECT hadm_id FROM prescriptions WHERE route = 'IH') ORDER BY admittime DESC LIMIT 1
10a89ace2e918f90758fc385,When did patient 10021487 receive the last prescription of sodium bicarbonate and famotidine at the same time in 12/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'sodium bicarbonate' AND admissions.subject_id = 10021487 AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'famotidine' AND admissions.subject_id = 10021487 AND strftime('%Y-%m',prescriptions.starttime) = '2100-12' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions INNER JOIN medications ON prescriptions.medications_id = medications.medications_id WHERE prescriptions.subject_id = 10021487 AND medications.generic_name IN ('sodium bicarbonate', 'famotidine') AND prescriptions.startdate BETWEEN '12/01/2100' AND '12/31/2100' GROUP BY prescriptions.startdate ORDER BY prescriptions.startdate DESC LIMIT 1"
726a0de52d59010c160bbe92,What was the minimum bicarbonate value for patient 10006580 on the last hospital encounter?,SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ),[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Bicarbonate' )
c123e03a1725cd7b860dadff,Tell me what was patient 10021487's daily minimum weight since 18 months ago?,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-18 month') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) AND chartevents.charttime BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 18 MONTH) AND CURRENT_DATE()"
6277902bacde54e836a5d433,What are the four most commonly taken specimens for patients that received central venous catheter placement with guidance previously in the same hospital visit this year?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND YEAR(admissions.admit_dt) = YEAR(CURDATE()) ) GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 4"
0cd28c037e9d62e1fe5d608a,List the top five most common diagnoses in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
b462e1aa1b901782d9358530,"Has patient 10038999 got a potassium, whole blood laboratory test?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' )"
bca0d0989ef1a590d9a72d9f,When was the last time patient 10018328 was discharged from hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10018328 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2154-05-03 14:00:00'}],SELECT max(admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10018328
ad87f821d1417e88606b21d0,What are the five most commonly diagnosed diagnoses for patients who had previously received laparoscopic lysis of peritoneal adhesions within 2 months in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic lysis of peritoneal adhesions' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'laparoscopic lysis of peritoneal adhesions' ) AND chartdate >= DATE_SUB(CURDATE(), INTERVAL 2 MONTH) ) AND icd9_code != '' GROUP BY icd9_code ORDER BY COUNT(*) DESC LIMIT 5"
c9d4464b66be176cf11f8d68,"How much will it cost me to get introduction of nutritional substance into central vein, percutaneous approach done?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into central vein, percutaneous approach' ) )",,
5452c625522e88957199e9f0,Tell me the total number of patients who were diagnosed with acute pyelonephritis since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute pyelonephritis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,SELECT COUNT(*) FROM admissions WHERE admittime >= '2100-01-01' AND diagnoses_icd.icd_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE long_title = 'acute pyelonephritis' )
233c13143fc7c9d92e63dbb4,What drugs are being added to the prescription of patient 10004733 today compared to those yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT drug, dosage FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND datetime(prescriptions.startdate) BETWEEN datetime(current_time,'-1 day') AND datetime(current_time) EXCEPT SELECT drug, dosage FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND datetime(prescriptions.startdate) BETWEEN datetime(current_time,'-2 day') AND datetime(current_time,'-1 day')"
157b31fa4605dab06049c427,Have any diagnoses been made for patient 10038081 on the last hospital visit?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT d_icd_diagnoses.short_title FROM icd_diagnoses JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE icd_diagnoses.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime DESC LIMIT 1 )
2733bc74cdbe99ae5365284d,When was the last time patient 10018081 was measured with a heart rate greater than 62.0 on their current ICU encounter?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 62.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 62.0 ORDER BY chartevents.charttime DESC LIMIT 1
723f3f4a1100077de462dfa3,Tell me the maximum total hospital cost that includes cefpodoxime proxetil in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'cefpodoxime proxetil' ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,
d8faa21afb298080c233542b,How many gemfibrozil prescriptions were administered?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'gemfibrozil',[{'COUNT(*)': 0}],SELECT SUM(CASE WHEN drugs.drug = 'gemfibrozil' THEN 1 ELSE 0 END) FROM drugs
bc7d9cca70c0c64f7dd707af,What was the total sertraline dose that patient 10016742 has been prescribed in 08/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND prescriptions.drug = 'sertraline' AND strftime('%Y-%m',prescriptions.starttime) = '2100-08'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(prescriptions.dose) FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10016742 AND prescriptions.drug = 'sertraline' AND prescriptions.startdate >= '2000-08-01' AND prescriptions.enddate <= '2000-08-31'
314415a08a9c1d6bd28fe89e,What should be done to stay safe after the cont inv mec ven <96 hrs?,,,
7170b2897858fa87237babee,"Can you tell me how many open reduction of fracture with internal fixation, humerus procedures were done in 2100?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'open reduction of fracture with internal fixation, humerus' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'open reduction of fracture with internal fixation, humerus' ) AND YEAR(procedures_icd.chartdate) = 2100"
a178876b3ab67646062e1b51,How many hours has it been since patient 10021487 stayed in the careunit emergency department in this hospital encounter for the last time?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime DESC LIMIT 1",[],SELECT (datetime('now') - MAX(datetime(icustays.intime))) / INTERVAL 1 HOUR FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.hospital_expire_flag = 1 ) AND icustays.d/clocation = 'Emergency Department'
9a5ebe2812ee93bc053bbf59,"Since the last time patient 10021487 was diagnosed with alcohol abuse, unspecified on their current hospital visit, how many hours have passed?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alcohol abuse, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - julianday(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd_code = '305.00' ) ORDER BY admissions.admittime DESC LIMIT 1
1a16b0cbd84a464357e6fb02,How many current patients are there that are 20s?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 20 AND 29,,SELECT COUNT(*) FROM patients WHERE patients.dob <= '1999-12-31' AND patients.dob >= '1990-01-01' AND patients.dod IS NULL
7ae500ee11764d469951ff85,Can you indicate the yearly minimum dose of kcl (bolus) that patient 10014078 received?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'kcl (bolus)' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y',inputevents.starttime)",[],"SELECT extract(year from chartevents.charttime) AS year, min(chartevents.amount) AS min_dose FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label like '%kcl%' AND chartevents.subject_id = 10014078 AND chartevents.amount IS NOT NULL GROUP BY year ORDER BY min_dose ASC LIMIT 1"
b06238b6f95478036e95125a,What diagnosis did patient 10016742 receive in 2100 for the first time?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,
f2719ed44a2bcf2baaa42242,"What is the minimum total hospital cost which involves congestive heart failure, unspecified in 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'congestive heart failure, unspecified' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(totalcharges) FROM admissions INNER JOIN d_icd_diagnoses ON admissions.died = d_icd_diagnoses.icd9_code WHERE d_icd_diagnoses.short_title = 'congestive heart failure, unspecified' AND admissions.hospital_expire_flag = 2100"
2bdbdd95fe3cb63a5fe57218,Let me know the total quantity of input patient 10012552 received on 04/06/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '04-06'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND inputevents_cv.charttime LIKE '04/06/%'
65a18d6c6863a8702f23d4ed,Did patient 10016810 have albumin 25% input during their first ICU visit?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'albumin 25%' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ALBUMIN 25%' AND d_items.linksto = 'inputevents_cv' ) AND inputevents_cv.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) ORDER BY icustays.intime ASC LIMIT 1 )
6cd24d0a30123968e0158324,"For the last time since 2100, what was patient 10006580 diagnosed with?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT admittime, dischtime, diagnosis FROM admissions WHERE subject_id = 10006580 AND dischtime <= '2100-01-01' ORDER BY dischtime DESC LIMIT 1"
ad2612489dcd53ed00312d17,"How many days have elapsed since the last time patient 10021487 was diagnosed with injury to liver without mention of open wound into cavity laceration, unspecified in their current hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'injury to liver without mention of open wound into cavity laceration, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT J1.charttime - J2.charttime AS days FROM ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AS T1 JOIN admissions AS J1 ON T1.hadm_id = J1.hadm_id JOIN admissions AS J2 ON T1.hadm_id = J2.hadm_id WHERE J1.dischtime = ( SELECT MAX(admissions.dischtime) FROM admissions WHERE admissions.subject_id = 10021487 ) AND J2.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10021487 AND exists ( SELECT * FROM procedures_icd WHERE procedures_icd.hadm_id = admissions.hadm_id AND procedures_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%injury to liver without mention of open wound into cavity laceration, unspecified%' ) ) )"
a25bb889984fbcb71773db73,Retrieve the yearly minimum amount of patient 10037975's pre-admission/non-icu intake input.,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pre-admission/non-icu intake' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y',inputevents.starttime)",[],"SELECT YEAR(chartevents.charttime), MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'pre-admission/non-icu intake input' AND d_items.linksto = 'chartevents' ) GROUP BY YEAR(chartevents.charttime)"
3f228b2d28b47133dbf76724,"For the patients with age 30s, what are the top four most frequent diagnoses since 2100?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM admissions JOIN d_icd_diagnoses ON admissions.diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.admittime >= '2100-01-01' AND admissions.admission_age BETWEEN 30 AND 39 GROUP BY d_icd_diagnoses.long_title ORDER BY frequency DESC LIMIT 4"
1c513ac8c299151372834f1a,How many operating rooms are there now?,,,
54ecb54032c2c4402da787c8,"Of the patients aged 30s since 1 year ago, what are the top three most common procedures?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM d_icd_procedures JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= datetime(current_time, '-1 year') AND admissions.anchor_age BETWEEN 30 AND 39 GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 3"
f12b990bb88ff1470ae0fbd2,What was the admission type during patient 10023239's first entry into the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10023239 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime ASC LIMIT 1",[{'admission_type': 'EW EMER.'}],SELECT admission_type FROM admissions WHERE subject_id = 10023239 ORDER BY admittime ASC LIMIT 1
24273ce507fa41634f03e1bd,How much is the price for acetazolamide?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'acetazolamide' ),,
8ad9e925a3bc2f9da4940ed1,"How many times was a excision of left main bronchus, via natural or artificial opening endoscopic procedure done during the last year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= datetime(current_time,'-1 year') )"
69d6df3a555ac16f922234f9,What was the first specimen test that was given to patient 10023239 since 04/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'MRSA SCREEN'}],"SELECT chartevents.itemid, chartevents.charttime, chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.charttime >= '04/2100' ORDER BY chartevents.charttime ASC LIMIT 1"
3a7b1ab9c06a0e50231e8017,What is the yearly minimum value of patient 10020944's weight?,"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y',chartevents.charttime)",[],SELECT MIN(chartevents.valuenum) AS min_weight FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.subject_id = 10020944 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents' ) AND YEAR(chartevents.charttime) = YEAR(CURDATE())
7aeb94856d35a70807387853,What was the total amount of polyethylene glycol prescribed to patient 10037861 since 08/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND prescriptions.drug = 'polyethylene glycol' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdm.quantity) AS total FROM prescriptions AS cdm INNER JOIN patients AS pt ON cdm.subject_id = pt.subject_id WHERE pt.subject_id = 10037861 AND cdm.drug = 'polyethylene glycol' AND cdm.startdate >= '08/2100'
79c093726d46e6acd2287106,"What was the name of the drug that patient 10018081 was prescribed with in the same hospital encounter after undergoing ileostomy, not otherwise specified during this month?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'ileostomy, not otherwise specified' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT dd_short.name FROM prescriptions AS p JOIN d_drugs AS dd_short ON p.drug_id = dd_short.drug_id WHERE p.hadm_id IN ( SELECT a.hadm_id FROM admissions AS a JOIN procedures_icd AS p ON a.hadm_id = p.hadm_id WHERE p.icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE 'ileostomy, not otherwise specified' ) AND a.subject_id = 10018081 ) AND p.startdate BETWEEN DATE_FORMAT(CURRENT_DATE, '%Y-%m-01') AND LAST_DAY(CURRENT_DATE)"
1bf033967053a3e88b60ffec,How many current patients are there?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM patients WHERE datetime(admittime) <= datetime('now') AND datetime(dischtime) > datetime('now')
a40c239f553ad63c5c40cc4c,Can anyone tell me how many operating rooms are there now?,,,
a5a346eb9f19336f14d5a615,Could you inform me about patient 10019172's last o2 saturation pulseoxymetry since 07/07/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-07-07' ORDER BY chartevents.charttime DESC LIMIT 1",[],
9ff096e6083c879d4a6bfeb9,What is the name of the procedures that were given to patient 10015860 two or more times since 05/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-05' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_procedures.description FROM d_procedures JOIN ( SELECT procedureevents.procedure_id FROM procedureevents WHERE procedureevents.subject_id = 10015860 AND datetime(procedureevents.startdatetime) >= datetime('2000-05-01') GROUP BY procedureevents.procedure_id HAVING COUNT(*) >= 2 ) AS t ON d_procedures.procedure_id = t.procedure_id
e8f80475c0b36304390859e0,Tell me the number of patients who stayed in coronary care unit (ccu) since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'coronary care unit (ccu)' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
d8493e7bf9c18bcd8edb3a40,What was the drug that patient 10019777 was prescribed for the first time using a neb route during their last hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'neb' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT medications.order_type FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ORDER BY admissions.admittime DESC LIMIT 1 ) AND medications.order_type LIKE 'Neb%' ORDER BY medications.starttime ASC LIMIT 1
c26a679f2556db96814fe4aa,What was the name of that first specimen test patient 10016742 got in 08/this year?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime, chartevents.value FROM chartevents WHERE chartevents.subject_id = 10016742 AND chartevents.charttime LIKE '2023-08%' ORDER BY chartevents.charttime ASC LIMIT 1"
b294fc478c483f32414156f0,"What are the top four most common specimens tested after receiving excision of left main bronchus, via natural or artificial opening endoscopic in the same hospital encounter since 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left main bronchus, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,
e80cfa3eba8292aa667080e9,"In 2100, what are the top four most frequent medications prescribed during the same month to the patients in their 60 or above after they were diagnosed with atrial fibrillation?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atrial fibrillation' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,
0901f19617fd97688d40bbbd,When was the last time that on the last hospital stay patient 10021312 was prescribed a medication via po?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'po' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'medication' AND d_items.category = 'PO' ) ORDER BY chartevents.charttime DESC LIMIT 1
c4e7ab7b177fe5ebd0e590fc,When did patient 10019172's last input since 10/10/2100 occur?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-10' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2118-11-19 19:30:00'}],"SELECT inputevents_mv.inputroute, inputevents_mv.starttime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND datetime(inputevents_mv.starttime) <= datetime('2010-10-10') ORDER BY inputevents_mv.starttime DESC LIMIT 1"
eb9fcf1a569a58fe71b1b257,When was the last time patient 10040025 was discharged from hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10040025 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10040025 ORDER BY admissions.dischtime DESC LIMIT 1
5d54f26da17bc7fdbfc404d3,What are the five frequently prescribed medications for patients diagnosed with unspecified condition of brain previously within the same month?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified condition of brain' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescriptions.drg_code, prescriptions.drug, COUNT(*) as frequency FROM prescriptions INNER JOIN diagnoses ON prescriptions.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code LIKE '348%' AND prescriptions.chartdate >= date_sub(CURDATE(), INTERVAL 1 MONTH) GROUP BY prescriptions.drg_code, prescriptions.drug ORDER BY frequency DESC LIMIT 5"
df4054d39dfcc41a5f36e76b,At what time did the last incident of patient 10020944 having a maximum respiratory rate occur on 03/12/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-03-12' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '03/12/2100%' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
ee03c89cedfa0f30f24da326,What is the prescribed opioid dose for patient 739?,,,SELECT order_detail.dose FROM order_detail JOIN patients ON order_detail.patient_id = patients.subject_id WHERE patients.subject_id = 739 AND order_detail.drug = 'opium'
1c0fc6d294954a3775cc36df,Does patient 23436 have a appointment at another department?,,,
8b0171b645230d02485753dc,How many hours has it been since the first diagnosis of candidiasis of mouth in patient 10018081 during the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'candidiasis of mouth' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT (JULIANDAY('now') - JULIANDAY(first_candidiasis_diagnosis.chartdate)) * 24 AS hours_since_candidiasis_diagnosis FROM ( SELECT MIN(admissions.admittime) AS admittime, MIN(admissions.admityear) AS admityear, MIN(admissions.admitmonth) AS admitmonth, MIN(admissions.admitday) AS admitday, MIN(admissions.admittime) AS admittime FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'B35.2' AND admissions.subject_id = 10018081 ) AS first_candidiasis_diagnosis"
94ea79f626ba94bd76d643b1,What percentile of the lactate value is 2.7 among patients of the same age as patient 10005866 in their first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 2.7",,"SELECT percentile_cont(2.7) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY admissions.admittime, patients.dob) FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN labevents ON admissions.hadm_id = labevents.hadm_id WHERE admissions.subject_id = 10005866 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10005866 ) )"
bbd2daaab53a49a1140c416c,What did patient 10022041 get diagnosed with in the last hospital encounter for the first time?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,"SELECT admittime, dischtime, icd9_cm FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10022041 ORDER BY admissions.admittime DESC, diagnoses_icd.seq_num ASC LIMIT 1"
f056ac2de0d1253ccdc6c556,Could you provide me with the three most frequent output events since 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime > '2100-01-01' GROUP BY chartevents.itemid, d_items.label ORDER BY frequency DESC LIMIT 3"
3dd575660bbbf5e93e445cfb,"During their first hospital visit, what was the insurance of patient 10011398?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10011398 ORDER BY admissions.admittime ASC LIMIT 1
ab35055cb752554bf2ab3c26,When was the last time since 10/2100 that patient 10038992 was prescribed with vitamin d and felodipine at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vitamin d' AND admissions.subject_id = 10038992 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'felodipine' AND admissions.subject_id = 10038992 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10038992 AND prescriptions.drug IN ('vitamin d', 'felodipine') AND prescriptions.startdate >= '2010-10-01' GROUP BY prescriptions.startdate ORDER BY prescriptions.startdate DESC LIMIT 1"
7c1e5985e0e94a843e2c335a,What specimen test was given since 08/2100 to patient 10007795 for the last time?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.subject_id = 10007795 AND chartevents.charttime BETWEEN '2010-08-01' AND '2010-08-31' ORDER BY chartevents.charttime DESC LIMIT 1
0f47e5f69b9a81be1ceeb52c,Can you tell me the last arterial blood pressure systolic of patient 10003046?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10003046 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%Arterial BP systolic%' ) ORDER BY chartevents.charttime DESC LIMIT 1
340a6488743a4a60f4797d75,How many patients received a alanine aminotransferase (alt) lab test this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'alanine aminotransferase (alt)' AND chartevents.charttime >= CURRENT_DATE - INTERVAL 1 YEAR
52b4c6302fbd18b90e270e93,How many patients were given single internal mammary-coronary artery bypass since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'single internal mammary-coronary artery bypass' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' )",,
7101ce2540d2798377dc1ae1,When since 07/2100 did patient 10018081 get the last microbiology test?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2134-09-17 06:24:00'}],SELECT charttime FROM microbiologyevents WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10018081 ) AND chartdate >= '2007-01-01' ORDER BY charttime DESC LIMIT 1
2d8f9dd2fbaff9e32a728bc4,"Has there been any phenobarbital, atenolol, or sodium chloride 0.9% ordered for patient 10018501 in 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND prescriptions.drug IN ( 'phenobarbital', 'atenolol', 'sodium chloride 0.9%' ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10018501 AND prescriptions.strength IN ('phenobarbital', 'atenolol', '0.9%') AND prescriptions.dosage_form_name IN ('Sodium Chloride 0.9%') AND prescriptions.start_date BETWEEN '2100-01-01' AND '2100-12-31'"
d091004cb9fc04cd233d1142,Does patient 25951 have a documented record of legal blindness-usa def in his / her family?,,,
7b673569df3b4b123b597c43,Is the arterial blood pressure diastolic reading for patient 10019172 second measured on the first ICU visit greater than the value first measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (second.valuenum > first.valuenum) AS is_greater FROM (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ORDER BY admissions.admittime ASC LIMIT 1) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ABP Diastolic' AND d_items.linksto = 'chartevents') AND chartevents.charttime BETWEEN (SELECT icustays.intime FROM icustays WHERE icustays.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ORDER BY admissions.admittime ASC LIMIT 1) LIMIT 1) AND (SELECT icustays.outtime FROM icustays WHERE icustays.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ORDER BY admissions.admittime ASC LIMIT 1) LIMIT 1) ORDER BY chartevents.charttime DESC LIMIT 1) AS second, (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT"
327c193923b31d4de7547a06,Tell me the five most common lab tests.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 5"
a035bf3a134c3a5f16e7e841,"How many hours elapsed since the first time patient 10021487 received a rbc, pleural lab test on this hospital visit?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc, pleural' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT (SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rbc, pleural') ORDER BY chartevents.charttime ASC LIMIT 1) AS first_charttime, (SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rbc, pleural') ORDER BY chartevents.charttime DESC LIMIT 1) AS last_charttime, (julianday((SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'rbc, pleural') ORDER BY chartevents.charttime DESC LIMIT 1)) - julianday((SELECT chart"
43731ce15c8a2d2bccfff70e,What was the five most common microbiology test conducted since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT testname, COUNT(*) AS test_count FROM microbiologyevents WHERE datetime(charttime) >= datetime(current_timestamp,'-1 year') GROUP BY testname ORDER BY test_count DESC LIMIT 5"
c70087e768a59793cb584211,Can you tell me the top five most common lab tests since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 5"
d9f612942f090356e944ba24,"What is the average total hospital cost for a patient diagnosed with hemiplegia, unspecified affecting left nondominant side since 1 year ago?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hemiplegia, unspecified affecting left nondominant side' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(admissions.total_hospital_cost) FROM admissions INNER JOIN d_coded_items ON admissions.admission_id = d_coded_items.admission_id WHERE d_coded_items.short_title = 'Hemiplegia, unspecified affecting left nondominant side' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
297493c491ff8db9a6d2fc45,Has there been a mch lab test performed on patient 10022281 since 2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND strftime('%Y',labevents.charttime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.name = 'MCH' ) AND datetime(labevents.charttime) > datetime('2100-01-01')
543fac252e1b711db022052e,"What is the maximum cost of a hospital that involves acute alcoholic intoxication in alcoholism, continuous since 1 year ago?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute alcoholic intoxication in alcoholism, continuous' ) ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(admissions.totalcharges) FROM admissions INNER JOIN icd9_cm ON admissions.hadm_id = icd9_cm.hadm_id WHERE icd9_cm.icd9_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE long_title LIKE '%acute alcoholic intoxication%' OR long_title LIKE '%alcoholism%' ) AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
cb462d0dd320361bdac44dad,What are the five diagnoses with the lowest 3-month survival rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT diagnosis, 3_month_survival_rate FROM diagnoses WHERE 3_month_survival_rate IS NOT NULL ORDER BY 3_month_survival_rate ASC LIMIT 5"
2753f3dc8c10c48e64cf034a,Count how many patients were discharged from hospital since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime('2100-01-01')
9b56d431c0b4eac3cf5171d7,What percentile is mchc 32.2 among patients of the same age as patient 10027602 during their first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 32.2",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER () AS mchc_percentile FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'MCHC') AND patients.dob = (SELECT patients.dob FROM patients WHERE patients.subject_id = 10027602) AND admissions.admittime = (SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = patients.subject_id)
964c6e643ec90bc499a92aea,What are the three most common specimen tests that occurred in 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],
956020fbb55b1050204ceebd,What's the name of the med that shouldn't be given during exc/dest hrt lesion open.,,,
28bdbd0cf00eb27eaead2cf5,When was the last time that patient 10007818's respiratory rate was measured at greater than 18.0 on 07/20/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 18.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '07-20' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10007818 AND chartevents.itemid = 615 AND chartevents.valuenum > 18.0 AND DATE(chartevents.charttime) = '2023-07-20' ORDER BY chartevents.charttime DESC LIMIT 1
460140392f817cccb9e244d4,Retrieve the top five most frequent lab tests that patients had after being diagnosed with noncompliance with renal dialysis in the same hospital visit since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'noncompliance with renal dialysis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'V50.9' AND diagnoses_icd.icd_code LIKE 'V50%' ) AND labevents.charttime > '2100-01-01' GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 5"
4ae26018d8ea48c61224e513,"How many patients underwent spinal tap during the same hospital encounter after the diagnosis of unspecified essential hypertension, last year?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'spinal tap' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN chartevents ON admissions.icustay_id = chartevents.icustay_id WHERE diagnoses_icd.icd_code = '4019' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'spinal tap' AND d_items.linksto = 'chartevents' ) AND YEAR(chartevents.charttime) = YEAR(CURRENT_DATE) - 1
fa71c8774f1846ae6af571b6,What was the last time that patient 10002495 had a maximum value of mchc in 06/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND strftime('%Y-%m',labevents.charttime) = '2100-06' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.charttime LIKE '06/%' AND labevents.valuenum = ( SELECT MAX(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mchc' ) AND labevents.charttime LIKE '06/%' )
e7119697712668b05c2da0e5,Count how many current patients are aged 50s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 50 AND 59,,SELECT COUNT(*) FROM patients WHERE patients.dob <= current_date - INTERVAL 50 YEAR AND patients.dod IS NULL
4de48cd89d593e47d6e93688,Tell me the four most common lab tests in 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE YEAR(labevents.charttime) = 2100 GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 4"
3db50784b5c5fd5267669673,How many days have elapsed since patient 10039831 stayed in the careunit discharge lounge for the first time in the current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'discharge lounge' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT DATEDIFF(admissions.admittime, MIN(chartevents.charttime)) FROM admissions INNER JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10039831 AND chartevents.description = 'ICU Discharge Lounge' AND chartevents.valuenum = 1"
089ab5e83166d7733ba43ccc,Expose the top five most frequent output events in 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = 2100 GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
c905e6677e0cbf329230ebf2,Is patient 14054 subject to tests to determine if he has covid-19.,,,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 14054 AND admissions.hadm_id IN ( SELECT hadm_id FROM labevents WHERE itemid IN ( SELECT itemid FROM d_labitems WHERE label LIKE '%COVID-19%' ) ) OR admissions.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%COVID-19%' ))
81882a684bf6449f672dfca5,When did patient 10006580 get a mrsa screen microbial test for the last time in 08/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '08' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa screen%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-08-01' AND chartevents.charttime < '2022-09-01' ORDER BY chartevents.charttime DESC LIMIT 1
1f9b6689da5fdcc23879a5ac,What is the drug name that should not be administered during the above knee amputation procedure?,,,
c1052714fdc43216d8caaaa3,What are the four diagnoses with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*)*100.0/(SELECT COUNT(*) FROM admissions WHERE admittime <= DATE_SUB(DATE_ADD(admittime, INTERVAL 3 MONTH), INTERVAL 1 DAY)) AS mortality_rate FROM diagnoses_icd JOIN patients ON diagnoses_icd.hadm_id = patients.hadm_id WHERE patients.dod BETWEEN patients.dob AND DATE_SUB(DATE_ADD(admittime, INTERVAL 3 MONTH), INTERVAL 1 DAY) GROUP BY diagnoses_icd.icd_code ORDER BY mortality_rate DESC LIMIT 4"
488d42291ce547168cdb32bb,Tell me the name of the prescription drug that patient 10018501 was prescribed within 2 days after having a alcohol detoxification procedure in 08/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-08' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,SELECT admittime FROM admissions WHERE subject_id = 10018501 AND admittime BETWEEN '2008-08-21 00:00:00' AND '2008-08-21 23:59:59' AND hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'alcohol detoxification' ) ) LIMIT 1
a803b49ece53f378a4fcf0d6,What is the maximum total cost of a hospital stay involving closed fracture of four ribs in 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed fracture of four ribs' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(stays.total_cost) FROM stays INNER JOIN diagnoses_icd ON stays.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '84040'
58820822f031297565e686b7,Wanna the last time that patient 26799 had a medication that should be taken regularly?,,,SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 26799 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
2d36357172aa4aae8c662e86,"What are the costs of other surgical procedures as the cause of abnormal reaction of the patient, or of later complication, without mention of misadventure at the time of the procedure diagnosis?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other surgical procedures as the cause of abnormal reaction of the patient, or of later complication, without mention of misadventure at the time of the procedure' ) )",,
2e778bf667b5fbe90f44ef33,"Has patient 10040025 been prescribed with the medication clonidine patch 0.2 mg/24 hr, avapro, or spironolactone?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND prescriptions.drug IN ( 'clonidine patch 0.2 mg/24 hr', 'avapro', 'spironolactone' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10040025 AND prescriptions.drug IN ('clonidine patch 0.2 mg/24 hr', 'avapro', 'spironolactone')"
48b89e86915910878671569f,How much was the difference in diastolic blood pressure of patient 10008287 last measured on the last ICU visit compared to the first value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT chartevents.valuenum - firstchartevents.valuenum AS difference FROM chartevents JOIN (SELECT valuenum, charttime FROM chartevents WHERE itemid = (SELECT itemid FROM d_items WHERE label = 'Diastolic blood pressure') AND hadm_id = (SELECT hadm_id FROM admissions WHERE subject_id = 10008287) ORDER BY charttime ASC LIMIT 1) AS firstchartevents ON chartevents.hadm_id = firstchartevents.hadm_id WHERE chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'Diastolic blood pressure') AND chartevents.hadm_id = (SELECT hadm_id FROM admissions WHERE subject_id = 10008287) ORDER BY chartevents.charttime DESC LIMIT 1"
54cf4ad46263c89423b40945,Tell me the top five most frequent procedures that patients were given within the same hospital visit after receiving repair of other hernia of anterior abdominal wall since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'repair of other hernia of anterior abdominal wall' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' AND admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title = 'repair of other hernia of anterior abdominal wall' ) ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
84ba715b229207e9b74e2c7f,Provide the top three most frequent diagnoses that patients were assigned within 2 months after receiving diagnostic ultrasound of digestive system in 2100.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of digestive system' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"WITH ultrasounds AS ( SELECT admissions.hadm_id FROM admissions INNER JOIN chartevents ON admissions.stay_id = chartevents.stay_id WHERE admissions.subject_id = 2100 AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%ultrasound of digestive%' ) ) SELECT icd9, COUNT(*) AS frequency FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE admittime >= ( SELECT admittime FROM admissions JOIN ultrasounds USING (hadm_id) ORDER BY admittime DESC LIMIT 1 ) AND dischtime <= ( SELECT admittime FROM admissions JOIN ultrasounds USING (hadm_id) ORDER BY admittime DESC LIMIT 1 ) + INTERVAL 2 MONTH ) GROUP BY icd9 ORDER BY frequency DESC LIMIT 3"
b6084da68e989df297fd4021,Tell me the name of an output that patient 10007818 has first had since 06/08/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-08' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Foley'}],
3c0cb65bd0831752922d8073,Is patient 3273 aware of any ill effects of blood transfusion?,,,
97d4f5fa5be6b24ab07da93f,I want to know the total volume of input patient 10019172 has received during their first ICU visit.,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ),[{'SUM(inputevents.totalamount)': 29170.0}],SELECT SUM(input.output) FROM input JOIN icustays ON input.stay_id = icustays.stay_id WHERE icustays.first_careunit = 'ICU' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 )
79690c25ac2b2e1a3f74269c,"Was the creatine kinase, mb isoenzyme reading for patient 10004733 last measured on the current hospital visit less than the first value measured on the current hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase, mb isoenzyme' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (FIRST_VALUE(valuenum) OVER (ORDER BY chartevents.charttime ASC)) < (LAST_VALUE(valuenum) OVER (ORDER BY chartevents.charttime DESC)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'creatine kinase, mb isoenzyme' AND d_items.linksto = 'chartevents' )"
f294c7fe72b5826f97ff068a,Can you tell me the average respiratory rate for patient 10018501's body in their first ICU visit?,SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ),[{'AVG(chartevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ORDER BY admissions.admittime ASC LIMIT 1) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate')
b5e8c7efd2cc02936f14bf95,When did patient 10039831 since 03/24/2100 for the last time have an input?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-24' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2115-12-30 13:05:00'}],
f53ea28051ef658c6e955c6f,What percentile is 32.9 on a hematocrit test among patients of the same age as patient 10029291 on the first hospital stay?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 32.9",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY chartevents.valuenum) OVER (PARTITION BY admissions.dob) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' AND d_items.linksto = 'chartevents' ) AND admissions.subject_id = 10029291 AND chartevents.storetime = ( SELECT MIN(chartevents.storetime) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10029291 )
657a58e806b8805fa2a4714d,How is trazodone typically taken?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'trazodone',[],
60fcfb33b6da12626f9c0ed4,"In the last hospital encounter, what was patient 10037861's age?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,,"SELECT FLOOR(DATEDIFF(admissions.admittime, patients.dob) / 365.25) AS age FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10037861 ORDER BY admissions.admittime DESC LIMIT 1"
c3b19c4c394c0f1b38639a43,Can you tell how many times patient 10021938 visited the ICU this year?,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND datetime(icustays.intime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT icustays.stay_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND YEAR(icustays.intime) = YEAR(CURDATE())
06c554d6edfd2380ecdb7e9f,"Show me the top four most commonly prescribed drugs during the same hospital encounter to the patients aged 40s after diagnosed with alcohol abuse, unspecified since 1 year ago.","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'alcohol abuse, unspecified' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_cpt.cpt_cd, COUNT(*) AS prescription_count FROM prescriptions INNER JOIN d_cpt ON prescriptions.cpt_cd = d_cpt.cpt_cd INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND admissions.d_age == 40 AND d_cpt.cpt_name LIKE '%Alcohol abuse, unspecified%' GROUP BY d_cpt.cpt_cd ORDER BY prescription_count DESC LIMIT 4"
1cfbdedba5f3d901870e5290,What's the percentile of 18.1 in a white blood cells lab test at the same age as patient 10026354 during the first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10026354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 18.1",,
ecfdce415b13a6552ae21b5a,What is patient 10004235's average metamyelocytes value in 03/2100?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'metamyelocytes' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'metamyelocytes' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '03/01/2100' AND '03/31/2100'
2fb580e18c83d31b38426b65,Tell me the count of the drugs patient 10026354 was prescribed since 2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 60}],
e1c8e8780d98ea2f4d439813,Gather the total number of times patient 10019917 visited the hospital in 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10019917 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],
bc72b33b40a0a574955d98e6,What are the ways to consume metformin (glucophage)?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'metformin (glucophage)',[],
6b992edeff1d490c7c58f9d0,Could you tell me the sex of patient 10019172?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10019172,[{'gender': 'F'}],SELECT patients.gender FROM patients WHERE patients.subject_id = 10019172
91a1b7d722fd22c60cb7f9c7,"What are patient 10027602's changes in glucose, csf second measured on the first hospital visit compared to the first value measured on the first hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, csf' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, csf' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, csf' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose, csf' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT c1.valuenum - c2.valuenum AS glucose_csf_change FROM chartevents c1 JOIN chartevents c2 ON c1.hadm_id = c2.hadm_id AND c1.subject_id = c2.subject_id WHERE c1.subject_id = 10027602 AND c1.charttime > c2.charttime AND c1.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%glucose, csf%' AND linksto = 'chartevents') AND c2.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%glucose, csf%' AND linksto = 'chartevents') AND c2.charttime = (SELECT MIN(charttime) FROM chartevents WHERE subject_id = 10027602 AND itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%glucose, csf%' AND linksto = 'chartevents')) AND c1.charttime = (SELECT MIN(charttime) FROM chartevents WHERE subject_id = 10027602 AND itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%glucose, csf%' AND linksto = 'chartevents') AND charttime > c"
ad18efa8d9a3881fbc51b4ea,What was the name of the organism found in the first microbiology test conducted on patient 10021487's bronchoalveolar lavage since 05/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'bronchoalveolar lavage' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT micro_specimentype.label, microorganisms.label FROM microorganisms JOIN microbiologyevents ON microorganisms.microbiologyevents_id = microbiologyevents.microbiologyevents_id JOIN micro_specimentype ON microbiologyevents.spec_type_desc = micro_specimentype.spec_type_desc WHERE microbiologyevents.hadm_id = 10021487 AND micro_specimentype.label = 'bronchoalveolar lavage' AND datetime(microbiologyevents.chartdate) >= datetime('05/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1"
14b3bbee2a55aa5ae2fdf038,What's the maximum total cost of a hospital that involves type 2 diabetes mellitus with diabetic polyneuropathy?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'type 2 diabetes mellitus with diabetic polyneuropathy' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(total_costs) FROM hospital_costs INNER JOIN diagnoses_icd ON hospital_costs.subject_id = diagnoses_icd.subject_id WHERE diagnoses_icd.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'Diabetes mellitus with diabetic polyneuropathy' OR long_title = 'Type 2 diabetes mellitus' )
893c2935450c5d908b4a566a,What is the procedure that patient 10007818 received two times?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT procedures_icd.icd_code FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) GROUP BY procedures_icd.icd_code HAVING COUNT(*) = 2 )
5a36e2b8accac68f5996e75c,"What is the minimum total hospital cost that includes a procedure named excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(costs.totalcost) FROM costs INNER JOIN procedures_icd ON costs.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right main bronchus, via natural or artificial opening endoscopic, diagnostic' )"
c7f69643d20645a5bd715035,What kind of diagnosis did patient 10031757 receive first on their first hospital encounter?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses INNER JOIN diagnoses_icd ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num ASC LIMIT 1
f84ac0f635563a2f0fad1c41,When was the first time the systolic blood pressure of patient 10009628 was measured at a reading less than 123.0 in the first ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 123.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ABP Systolic' OR d_items.label = 'Systolic BP' OR d_items.label = 'Systolic BP (mmHg)' ) AND chartevents.valuenum < 123.0 ORDER BY chartevents.charttime ASC LIMIT 1
07c1c8b47f2651220e2fa40f,How many patients stayed on med/surg?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.hosp_service = 'med/surg'
5812f2aa2ec32908144ea996,What is the name of the procedures that were given to patient 10005909 two or more times?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures INNER JOIN procedures_icd ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) GROUP BY d_icd_procedures.long_title HAVING COUNT(*) >= 2
11c5ddc438e48b537cf7d477,When did patient 10000032 last get prescribed lactulose and fluticasone propionate 110mcg at the same time in 08/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'lactulose' AND admissions.subject_id = 10000032 AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'fluticasone propionate 110mcg' AND admissions.subject_id = 10000032 AND strftime('%Y-%m',prescriptions.starttime) = '2100-08' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10000032 AND prescriptions.drug IN ('lactulose', 'fluticasone propionate 110mcg') AND prescriptions.startdate BETWEEN '2008-01-01' AND '2008-12-31' GROUP BY prescriptions.startdate HAVING COUNT(DISTINCT prescriptions.drug) = 2 ORDER BY prescriptions.startdate DESC LIMIT 1"
8e4ed37b59452ca69b3481b2,Which method of disinfection is in the quarantine room?,,,
776aa437e8c7772107f91170,Did patient 10021312 have any prescriptions for medicines on their last hospital encounter?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ORDER BY prescriptions.starttime DESC LIMIT 1
6d8b67dc5b7691af8bcd4937,When was patient 10020740 prescribed a medication via the iv route the first time in 03/this year?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10020740 AND admittime BETWEEN '2023-03-01' AND '2023-03-31' AND hadm_id IN (SELECT hadm_id FROM prescriptions WHERE route = 'IV') ORDER BY admittime ASC LIMIT 1
cb26c31984006b29f2c93878,Does patient 83038 have a family history of any disease?,,,
024f3a6b35669ffe35709f85,I would like to know the top three diagnoses that have the highest 3-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS mortality_count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime < patients.dod AND patients.dod - admissions.admittime <= INTERVAL '90 days' GROUP BY d_icd_diagnoses.long_title ORDER BY mortality_count DESC LIMIT 3"
caaf86100f832f6892b85b8f,What was the last heart rate value that patient 10001725 had during the first ICU visit?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.admittime = ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10001725 ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.charttime DESC LIMIT 1
7a904ffff26972cedcca0166,What was the total amount of the output patient 10014078 had on 09/08/this year?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '09-08'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'total fluid output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '09/08/this year' AND chartevents.charttime < '09/09/this year'
83c534985f90fb45936d3f90,What was the total dose of lisinopril prescribed to patient 10005817 in their first hospital encounter?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'lisinopril',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT sum(drug_doses.amount) FROM drug_doses JOIN drugs ON drug_doses.drug_id = drugs.id JOIN patients ON drug_doses.patient_id = patients.id JOIN hospital_encounters ON drug_doses.encounter_id = hospital_encounters.id WHERE patients.patient_id = 10005817 AND drugs.drug_name = 'lisinopril' AND hospital_encounters.encounter_id = (SELECT min(hospital_encounters.encounter_id) FROM hospital_encounters WHERE hospital_encounters.patient_id = 10005817)
4e9aac252394c9a79ea2005d,Will any additional blood culture test be done on patient 76275?,,,
2dd263172f5bf1ae381c6af1,What was the insurance for patient 10031404 in the first hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT admissions.hospitalization_insurance FROM admissions WHERE admissions.subject_id = 10031404 ORDER BY admissions.admittime LIMIT 1
f6066d140303a698b6edceea,"How many extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic treatments were executed since 2100?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
c8434cc6732c978c99684d40,"On their first hospital visit, did patient 10020944 receive a venous catheterization, not elsewhere classified treatment?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'venous catheterization, not elsewhere classified' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions JOIN admissions_adt ON admissions.admission_id = admissions_adt.admission_id WHERE admissions.subject_id = 10020944 AND admissions_adt.adm_type = 'ER' AND admissions.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'venous catheterization, not elsewhere classified' ) )"
6d74cbf5c9fe6defe17b715e,What was the last albuterol inhaler dose that patient 10015931 was prescribed on their last hospital encounter?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'albuterol inhaler' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10015931 AND prescriptions.drug = 'Albuterol inhaler' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1
7b67c7a9bff55320d436972c,Has patient 10011398 undergone a white blood cells laboratory test since 11/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-11'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.charttime > '11/01/2100'
cdf6333e8b6736879a871a9a,Calculate patient 10004720's total amount of tf residual output on this month/07.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tf residual' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '07'",[{'SUM(outputevents.value)': None}],"SELECT SUM(chartevents.valuenum) FROM chartevents JOIN admissions ON admissions.hadm_id = chartevents.hadm_id JOIN icustays ON icustays.stay_id = chartevents.stay_id WHERE admissions.subject_id = 10004720 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tf residual output' AND d_items.linksto = 'chartevents' ) AND strftime('%m', chartevents.charttime) = '07' AND icustays.intime <= chartevents.charttime AND chartevents.charttime <= icustays.outtime"
a30a6f58cc091f3a0949184c,What were the five most commonly ordered lab tests for patients who were previously diagnosed with acute and subacute necrosis of liver within 2 months?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute and subacute necrosis of liver' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%acute and subacute necrosis of liver%' ) AND labevents.charttime BETWEEN admissions.admittime AND datetime(admissions.admittime,'+2 month') GROUP BY d_labitems.label ORDER BY count DESC LIMIT 5"
8f0afd39792dda81827e4464,What is patient 10008454's difference in SaO2 from the value measured at 2100-12-07 16:00:00 compared to the value measured at 2100-12-07 15:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-07 16:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-07 15:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-07 16:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-07 15:00:00' )"": None}]",SELECT chartevents.valuenum - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid = 6435 AND chartevents.charttime = '2100-12-07 15:00:00' ) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid = 6435 AND chartevents.charttime = '2100-12-07 16:00:00'
df4e908303402aa200726682,Provide me with all of the prescriptions received by patient 16879 in another department.,,,"SELECT prescriptions.* FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 16879 AND admissions.hospital == ""Other Hospital"""
abc85f653325ca0da7e82fce,"What are the four most commonly tested specimens for patients who were diagnosed with other fluid overload previously within 2 months, since 1 year ago?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other fluid overload' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.storetime >= datetime(current_time,'-1 year') AND chartevents.storetime <= datetime(current_time,'-2 month') AND admissions.diagnoses IN ( SELECT icd9 WHERE icd9 ~* 'other fluid overload' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 4"
2d135d2b1bde82eddce53d88,What are the three most ordered lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_items.label, COUNT(*) AS order_count FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid GROUP BY d_items.label ORDER BY order_count DESC LIMIT 3"
722720600298a5f82bca4716,What output did patient 10018081 generate last since 12/26/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-26' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
0cd11d35e8ac3515e3c55d6c,Reveal the drug name that was first prescribed to patient 10014354 via the iv route in 10/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT admittime, subject_id, drug FROM prescriptions WHERE subject_id = 10014354 AND route = 'IV' AND YEAR(admittime) = YEAR(CURDATE()) AND MONTH(admittime) = MONTH(CURDATE()) ORDER BY admittime ASC LIMIT 1"
9d99fa18449a20ae42392b52,"What was the last dose of glucagon in 09/2100, prescribed to patient 10027445?","SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.drug = 'glucagon' AND strftime('%Y-%m',prescriptions.starttime) = '2100-09' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'glucagon' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2009-01-01' AND '2010-12-31' ORDER BY chartevents.charttime DESC LIMIT 1
771ae0e7dfa569d1298f749c,What is the difference between weights last measured on the current hospital visit compared to the second to last value measured on the current hospital visit for patient 10018081?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT chartevents.valuenum - prev_chartevents.valuenum FROM chartevents AS first_weight, chartevents AS prev_chartevents WHERE first_weight.hadm_id = prev_chartevents.hadm_id AND first_weight.itemid = prev_chartevents.itemid AND first_weight.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND first_weight.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ORDER BY admissions.admittime DESC LIMIT 1 ) AND first_weight.charttime > prev_chartevents.charttime AND prev_chartevents.charttime >= ( SELECT admissions.admittime FROM admissions WHERE admissions.hadm_id = first_weight.hadm_id ORDER BY admissions.admittime DESC LIMIT 1,1 ) AND prev_chartevents.charttime < first_weight.charttime ORDER BY first_weight.charttime ASC LIMIT 1"
000f58d3abb4ad76b2ebc35c,When was the first time the respiratory rate of patient 10018081 was measured to be less than 23.0 today?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 23.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-0 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' ) AND chartevents.valuenum < 23.0 AND datetime(chartevents.charttime) >= datetime(current_date) ORDER BY chartevents.charttime ASC LIMIT 1
084fbed97d37b17fe3de08f7,When did patient 10010471 first receive an input since 12/11/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-11' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2155-12-02 20:54:00'}],
21b660c0148b20c1b1c2131d,Has patient 10022880 acquired any medication in 2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10022880 AND YEAR(prescriptions.startdate) = 2100
238589d4d2a414a0aa04c9b5,Can you tell me about patient 10000032's age during the first hospital encounter?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT FLOOR(dates.diff/365.25) AS age FROM (SELECT TIMESTAMPDIFF(SECOND, admissions.admittime, patients.dob) AS diff FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id WHERE patients.subject_id = 10000032 ORDER BY admissions.admittime ASC LIMIT 1) AS dates"
ba7f88a5002e6408a7156eed,When did patient 10021487 first get the rapid respiratory viral screen & culture's microbiology test since 12/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'rapid respiratory viral screen & culture' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],
cae94b9b74b0ff5b8f016878,"For patients who undertook dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic within the same hospital visit, what are the top three most frequent specimens tested afterward this year?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.admittime >= current_date - INTERVAL 1 YEAR AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' ) ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 3"
e6c6113c42e3afffa9a446d8,"Since 2100, what are the top five most common lab tests ordered for patients in the same month after acute respiratory failure with hypoxia?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute respiratory failure with hypoxia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE ICD9_CODE = '518.81' ) AND labevents.chartdate BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND CURDATE() AND labevents.charttime >= '2100-01-01' GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 5"
a0fe46cb093192a88d6cf061,When did patient 10010471 last receive a lab test for troponin t during the first hospital encounter?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'troponin t' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10010471 AND admissions.hospital_expire_flag = 0 AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '13980-4' ) ORDER BY labevents.charttime DESC LIMIT 1
11a79e0284c0d972831a98a0,When was the last input time since 10/09/2100 for patient 10021938?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-09' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2181-10-26 20:38:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND datetime(chartevents.charttime) <= datetime('2010-09-10') ORDER BY chartevents.charttime DESC LIMIT 1
b17a81cf82fe8e6f3d0705eb,What is the average value of absolute eosinophil count in patient 10019385's body in 03/this year?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute eosinophil count' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '03'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10019385 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label LIKE 'absolute eosinophil count') AND chartevents.charttime LIKE '03/%'
938fe2e5e3beaeff9c65cbe4,Retrieval of the top four most frequent outputs in this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],
d8f75bffa5cc49d6e7389a89,I need the total volume of input for patient 10005909 since 07/05/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-05'",[{'SUM(inputevents.totalamount)': 16695.0}],
a169e91c54eaa5ebbdb895e6,How much does patient 10008287's systolic blood pressure differ from the last value measured on the first ICU visit compared to the first value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' ) ORDER BY chartevents.charttime ASC LIMIT 1 )
4f0abb317b82d6a5f186ef14,Present the count of ICU visits for patient 10021118 in the first hospital encounter.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ORDER BY admissions.admittime ASC LIMIT 1 )
aaf18ebab994cddb6afcd715,"On the first hospital stay, what was the last diagnosis for patient 10038081?",SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT icd9_code FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10038081 AND diagnoses_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
4d5ceeafba15c9090fc8776b,When did patient 10019172 receive a blood culture microbiology test for the last time since 10/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'blood culture' AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.charttime >= '2100-10-01' ORDER BY chartevents.charttime DESC LIMIT 1
bfa8588d08b6cab7568a7c34,When did patient 10021118 first take the microbiology test since 11/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-11' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2161-11-15 21:45:00'}],
4562721f05a7c2b2666b8324,When was the last time that patient 10029291 in their last ICU visit had a mean blood pressure that was greater than 110.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 110.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' ) AND chartevents.valuenum > 110 ORDER BY chartevents.charttime DESC LIMIT 1
4b895ff0d3cb5fd9fe1e5e50,What is the maximum total cost of the hospital visits that included a procedure called alcohol detoxification since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'alcohol detoxification' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
7fe3a3267061ac2383bb66cb,List the top five most occurring events in 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT event_name, COUNT(*) AS occurrences FROM events WHERE YEAR(event_date) = 2100 GROUP BY event_name ORDER BY occurrences DESC LIMIT 5"
8f9580ef1cb64c4525680b2f,Tell me the length of time in days for patient 10027445's first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 3.8090046290308237}]","SELECT icustays.intime, icustays.outtime, julianday(icustays.outtime)-julianday(icustays.intime) AS stay_duration FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ORDER BY icustays.intime ASC LIMIT 1"
2559181f4a14ba86cf190ad5,I would like to know the top three diagnoses that have the highest 6-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT diagnosis_icd.icd_code, AVG(CASE WHEN patients.dod BETWEEN patients.dob AND DATE_ADD(admissions.admittime, INTERVAL 6 MONTH) THEN 1 ELSE 0 END) AS mortality_rate FROM diagnosis_icd INNER JOIN admissions ON diagnosis_icd.hadm_id = admissions.hadm_id INNER JOIN patients ON admissions.subject_id = patients.subject_id GROUP BY diagnosis_icd.icd_code ORDER BY mortality_rate DESC LIMIT 3"
232ebd5bf14d5819bef84afc,"Has furosemide, lidocaine jelly 2% (urojet), or acetaminophen iv been prescribed in 04/last year for patient 10038992?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND prescriptions.drug IN ( 'furosemide', 'lidocaine jelly 2% (urojet)', 'acetaminophen iv' ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10038992 AND prescriptions.startdate >= DATE_FORMAT(CURRENT_DATE, '%Y-04-01') AND prescriptions.startdate <= LAST_DAY(DATE_FORMAT(CURRENT_DATE, '%Y-04-01')) AND prescriptions.drug IN ('Furosemide', 'Lidocaine jelly 2%', 'Acetaminophen iv')"
0d012e621517a4059d3caf10,Could you inform me the total output amount of patient 10021938 since 86 days ago?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-86 day')",[{'SUM(outputevents.value)': 690.0}],"SELECT SUM(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND d_items.label = 'urine output' AND datetime(chartevents.charttime) >= datetime(current_time,'-86 day')"
b69d13810f1abe3029a6d7ba,What is the minimum total cost of the hospital visits include the medicine named prismasate (b32 k2) since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'prismasate (b32 k2)' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
f90c169bc5f07a8ae6dacece,Get me the top four most common diagnoses since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN (SELECT hadm_id FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time, '-1 year')) GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 4"
cd68238c19445383f9469b6b,Is the temperature celsius level of patient 10005817 second measured on the last ICU visit greater than the first measurement on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (chartevents.valuenum > (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id = icustays.stay_id AND chartevents.itemid = 223761 ORDER BY chartevents.charttime ASC LIMIT 1)) AS is_greater FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817) AND chartevents.itemid = 223761 ORDER BY chartevents.charttime DESC LIMIT 1
f14cb951f41a1c19af6d82c9,"What is the average total cost for a hospital including tests in the amylase, ascites laboratory this year?","SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase, ascites' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label IN ('amylase', 'ascites') AND chartevents.chartdate >= DATE_FORMAT(CURRENT_DATE, '%Y-01-01')"
3a019edb3d03bf43064b460c,How many cases involved the prescription of tiotropium bromide throughout this year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'tiotropium bromide' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'tiotropium bromide' AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year')"
d624abedfa96e75fb614fc58,What was the sw dose that patient 10016810 was first prescribed during their last hospital encounter?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'sw' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT sw_dose FROM prescriptions WHERE prescriptions.subject_id = 10016810 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.startdate ASC LIMIT 1
a1a5f421d9b782f7e987091a,When and where are the rounds and procedures of dr. conerly?,,,"SELECT chartevents.charttime, admissions.admittime, admissions.dischtime, admissions.hospital_expire_flag, subjects.gender, subjects.dob FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN subjects ON admissions.subject_id = subjects.subject_id WHERE chartevents.description = 'rounds' OR chartevents.description = 'procedures' AND chartevents.edyt_login = 'conerly' ORDER BY chartevents.charttime"
7a476916387b8ccd604b7f3e,Could you tell me the top four most common procedures for patients aged 50s since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
241a6bd6f1e129a31b43bea9,Did patient 10021938 go through a lymphocytes test in the last month?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lymphocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND datetime(labevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 AS result FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname LIKE '%lymphocytes%' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 month')"
c4b9d1ad637c92074a327167,Show me patient 10012552's total amount of dextrose 5% input on 04/05/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 5%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-04-05'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10012552 AND inputevents_cv.starttime >= '04/05/2100 00:00:00' AND inputevents_cv.starttime < '04/05/2100 23:59:59' AND inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%Dextrose 5%' )
70b43bd19ed867f8f2420003,Has patient 10024043 come to the ER in 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT(*)>0': 0}],
99327791c62b40dd242f407a,How much does the drug phenobarbital alcohol withdrawal dose taper (days 2-7) cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'phenobarbital alcohol withdrawal dose taper (days 2-7)' ),,
2eaf0a50018f2abf03e6f2da,What is the average cost of a hospital that involves neoplasm of unspecified nature of endocrine glands and other parts of nervous system?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'neoplasm of unspecified nature of endocrine glands and other parts of nervous system' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(admissions.totalcharges) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%neoplasm of unspecified nature of endocrine glands%' OR long_title LIKE '%neoplasm of unspecified nature of nervous system%' )
92847b18dd8be297f01979a1,How many days have passed since patient 10018081 got his last diagnosis of candidiasis of mouth in this hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'candidiasis of mouth' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), MAX(admissions.admittime)) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10018081 AND diagnoses_icd.icd_code = 'B35.1'"
34a5e8b5a91c17bdf4999b17,"Give me the count of inspection of tracheobronchial tree, via natural or artificial opening endoscopic procedures that occurred since 2100.","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
9d2d12172b2bedc5632b132e,Has patient 10038933 been on any boost glucose control (full) since 02/04/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'boost glucose control (full)' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-02-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'boost glucose control (full)' ) AND chartevents.charttime >= '02/04/2100'
1f7740e7b17317dd9085a8ce,Did patient 10020944 have any surgeries in their last hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime DESC LIMIT 1 ) AND procedures_icd.icd_code LIKE '4%' OR procedures_icd.icd_code LIKE '5%'
cd1253c3a3d160eab14d31d4,How much is the difference of glucose of patient 10021938 last measured on the last hospital visit compared to the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH last_visit AS ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10021938 ORDER BY admissions.admittime DESC LIMIT 1 ) , glucose_measurements AS ( SELECT labevents.valuenum, labevents.charttime FROM labevents JOIN last_visit ON labevents.hadm_id = last_visit.admittime WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Glucose' ) ) SELECT MAX(glucose_measurements.valuenum) - MIN(glucose_measurements.valuenum) AS glucose_difference FROM glucose_measurements"
9d5b103ab75bc4e5ec507f0a,Calculate the length of stay in days for patient 10007058's last ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.022962963208556}]","SELECT DATEDIFF(MAX(chartevents.charttime), icustays.intime) AS length_of_stay_days FROM icustays INNER JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 )"
49a64438974f40760d7b4448,What is the diagnosis price for postprocedural hemorrhage of a circulatory system organ or structure following a cardiac catheterization?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'postprocedural hemorrhage of a circulatory system organ or structure following a cardiac catheterization' ) ),,
20ff0d8a96d5878700a5ea94,"Patient 10036156, when was your last mrsa screen microbiology test on the last hospital visit?",SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa%' AND d_items.linksto = 'microbiologyevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
d1fc20ee02b9ce89df2bb4e6,What was the total dosage of vitamin e prescribed to patient 10020944?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND prescriptions.drug = 'vitamin e',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(amount) FROM prescriptions WHERE prescriptions.subject_id = 10020944 AND prescriptions.drug LIKE '%vitamin e%'
be836b4ae0b043e2a4a3ff81,"Among patients diagnosed with diastolic heart failure, unspecified , what are the top three most common lab tests that followed afterward in the same hospital encounter?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'diastolic heart failure, unspecified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_items.label, COUNT(*) AS count FROM chartevents AS ce JOIN admissions AS a ON ce.hadm_id = a.hadm_id JOIN d_items ON ce.itemid = d_items.itemid WHERE a.d_icd_diagnoses.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%diastolic heart failure, unspecified%' ) AND ce.charttime BETWEEN a.admittime AND a.dischtime GROUP BY d_items.label ORDER BY count DESC LIMIT 3"
4ad4465cd7b99c50bc48d1df,Count the number of current patients whose ages fall within the 50s.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age BETWEEN 50 AND 59,,
b440a7a78eb175aad7326406,Please retrieve the daily minimum amount of patient 10005817's albumin 5% input on the last hospital visit.,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'albumin 5%' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT MIN(cast(chartevents.value as REAL)) FROM chartevents WHERE chartevents.subject_id = 10005817 AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ALBUMIN 5%' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.charttime ORDER BY chartevents.charttime DESC LIMIT 1
bca05145ac82b49ae8acc4b4,What's the count of patients who left the hospital since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE admittime < '2100-01-01 00:00:00'
73d40a25005323dbe30f475f,What did patient 10026354 get diagnosed with on their first hospital encounter for the first time?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT admissions.dietorder FROM admissions WHERE admissions.subject_id = 10026354 AND admissions.admittime = ( SELECT min(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10026354 )
99da27a442847a01bbdb593a,What is the count of famotidine prescriptions made?,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'famotidine',[{'COUNT(*)': 7}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'Famotidine'
00c6c90e6841d1dfe2515346,What are the top four most common diagnoses that patients were diagnosed with within the same month after receiving hemodialysis's in 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,
555c677326428762a09481c7,Has patient 10021312 been provided any medications?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10021312
984b06bd38c5e69abd10d736,Tell me the top three most common specimens tested since 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT chartevents.itemid, COUNT(*) AS num_tests FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01' ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY num_tests DESC LIMIT 3"
68d2cf8d2fa30727fc51e480,Tell me the five most frequent medical diagnoses throughout this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT subject_id, COUNT(*) AS diagnosis_count FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN DATE_FORMAT(NOW(),'%Y-01-01') AND DATE_FORMAT(NOW(),'%Y-12-31') ) GROUP BY subject_id ORDER BY diagnosis_count DESC LIMIT 5"
f9e2b0a131460704a8a57a4f,What are the top three most frequently performed procedures for patients who are 60 or above?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE patients.dob <= DATE_SUB(CURDATE(), INTERVAL 60 YEAR) GROUP BY procedures_icd.icd_code ORDER BY frequency DESC LIMIT 3"
e65595aa4d0b66d5c6625a99,When did patient 10022017 first depart from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10022017 ORDER BY admittime ASC LIMIT 1
68002865c7084ae451a8b103,Has patient 10026406 gone to an emergency room since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admittime > '2100-01-01'
ed8eb61d00ca803fbe330b9c,What are the top five most frequently performed procedures for patients who are 30s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(procedures_icd.icd_code) AS frequency FROM procedures_icd JOIN admissions ON admissions.hadm_id = procedures_icd.hadm_id JOIN patients ON patients.subject_id = admissions.subject_id JOIN d_icd_procedures ON d_icd_procedures.icd_code = procedures_icd.icd_code WHERE patients.dob BETWEEN '1980-01-01' AND '1989-12-31' GROUP BY procedures_icd.icd_code ORDER BY frequency DESC LIMIT 5"
b72b79de6cb86da03d64e09c,Was there any diagnosis that patient 10029291 was received in the first hospital encounter?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ORDER BY admissions.admittime ASC LIMIT 1 )
cf057692f01ed1e43b7ab26f,What is the value of patient 10018845's monthly average or crystalloid intake input during their first hospital visit?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or crystalloid intake' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m',inputevents.starttime)",[],SELECT AVG(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE admissions.subject_id = 10018845 AND d_items.label = 'Crystalloid intake' AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime AND EXTRACT(MONTH FROM chartevents.charttime) = EXTRACT(MONTH FROM admissions.admittime) AND EXTRACT(YEAR FROM chartevents.charttime) = EXTRACT(YEAR FROM admissions.admittime)
61ac6587433ff400f0293adc,"Among patients who were given excision of left internal mammary artery, percutaneous endoscopic approach , what are the top three most common specimens tested afterward within the same month?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of left internal mammary artery, percutaneous endoscopic approach' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT d_items.label AS Specimen, COUNT(*) AS count FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN (SELECT hadm_id FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'excision of left internal mammary artery, percutaneous endoscopic approach')) AND chartevents.charttime BETWEEN procedures_icd.chartdate AND DATE_ADD(procedures_icd.chartdate, INTERVAL 1 MONTH) GROUP BY d_items.label ORDER BY count DESC LIMIT 3"
801278f003c473902d05fa06,Calculate the total amount of foley of patient 10005909 since 122 days ago.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime) >= datetime(current_time,'-122 day')",[{'SUM(outputevents.value)': None}],"SELECT sum(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%foley%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-122 day')"
55005268f132ecb83abd1166,What was measured as patient 10010471's weight during the first check?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Daily Weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
61943ff9aadb518fc206c477,"What is the cost of a surgery called drainage of pericardial cavity with drainage device, percutaneous approach?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of pericardial cavity with drainage device, percutaneous approach' ) )",,
06ba722e2ac0589ffacd1249,How many hours have elapsed since the last time on this hospital visit patient 10039831 received a lab test for creatinine?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT cast(current_time AS time)- cast(labevents.charttime AS time) AS time_difference FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1
a789bf245942cca833ba3d9e,How much does a hospital typically spend maximum on a drug named guaifenesin since 1 year ago?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'guaifenesin' ) AND datetime(cost.chargetime) >= datetime(current_time,'-1 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'guaifenesin' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year')"
15aef1c4f860681d29061482,How much is the difference of SaO2 of patient 10019777 last measured on the first ICU visit compared to the first value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2 from SpO2 Finger' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY chartevents.charttime DESC LIMIT 1) - (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2 from SpO2 Finger' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icust
e36f6d845834296a2ace08cd,How much is the average total cost of a hospital that involves a drug named tobramycin sulfate since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'tobramycin sulfate' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
804ed378cfb82e9aa6f496dd,Has there been a procedure that patient 10038933 had in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND YEAR(procedures_icd.chartdate) = 2100
29af2e5e1ea84750efeb2ac2,When did patient 10013049 get discharged from the hospital for the last time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10013049 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10013049 ORDER BY admittime DESC LIMIT 1
c32224fbcb946a4db57012a7,What is the percentile ranking of a asparate aminotransferase (ast) test value of 33.0 for patients of the same age as patient 10007795 during their first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'asparate aminotransferase (ast)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 33.0",,
c1ead7f66a477b8a69f1baea,Patient 10009628's hyaline casts second measured on the last hospital visit is less than the first value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hyaline casts' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT chartevents.valuenum < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hyaline casts' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hyaline casts' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1
1a8c4898fa6341d62be1f722,What was the name of the last medication that was prescribed to patient 10031757 since 07/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Potassium Chloride (Powder)'}],SELECT m2.gname FROM medications AS m1 JOIN medications AS m2 ON m1.subject_id = m2.subject_id WHERE m1.subject_id = 10031757 AND m1.startdate < '07/2100' AND m2.startdate >= '07/2100' ORDER BY m2.startdate DESC LIMIT 1
0367956da12e06e2e598864f,How many patients received left heart cardiac catheterization within the same hospital visit after being diagnosed with phlebitis and thrombophlebitis of superficial veins of upper extremities?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'phlebitis and thrombophlebitis of superficial veins of upper extremities' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'left heart cardiac catheterization' ) ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(DISTINCT procedures_icd.hadm_id) FROM procedures_icd INNER JOIN diagnoses_icd ON procedures_icd.hadm_id = diagnoses_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%left heart cardiac catheterization%' ) AND diagnoses_icd.icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE icd_code LIKE '451%' )
5bfa8dfb474aab488d477069,"Did patient 10021118 undergo the excision of right saphenous vein, percutaneous endoscopic approach procedure in the last year?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right saphenous vein, percutaneous endoscopic approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right saphenous vein, percutaneous endoscopic approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND procedures_icd.chartdate >= (CURRENT_DATE - INTERVAL '1 YEAR')"
c566bb57a34d5a1e6092531a,When did patient 10018081 have the maximum respiratory rate the first time since 76 days ago?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-76 day') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' ) AND datetime(chartevents.charttime) >= datetime(current_date,'-76 days') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
617b9e75f3c58dee20062f3c,Can you tell me the last time patient 10021312 had a maximum heart rate?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
af65283ac3452f4ee5fa0142,Has patient 10022041 been admitted into an emergency room?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admittime IN ( SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10022041 )
7cfc885a581b81aedac1d706,What are the top five most commonly diagnosed conditions this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE YEAR(admissions.admittime) = YEAR(CURRENT_DATE) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 5"
adcbe9f6b33c50d6f8540cda,When was the first hospital discharge time for patient 10022017?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY admissions.dischtime ASC LIMIT 1
474e88f3f2489ae5e866536c,What was the last weight of patient 10039831 since 03/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-03' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
06b1eef22357320dc0f8a64a,"For the first time, what was the medication that patient 10026255 was prescribed during the first hospital encounter via the ih route?",SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'ih' ORDER BY prescriptions.starttime ASC LIMIT 1,[],"SELECT first_cohort.icustay_id, first_cohort.intime, first_cohort.outtime, first_cohort.hospitalstay, first_cohort.icustayorder_id, first_cohort.starttime, first_cohort.endtime, first_cohort.orderdate, first_cohort.dosedate, first_cohort.order_time, first_cohort.order_expire_time, first_cohort.stop_time, first_cohort.stop_reason, first_cohort.status, first_cohort.prn, first_cohort.continuation, first_cohort.formulary_drug_cd, first_cohort.origdrug, first_cohort.drug, first_cohort.drug_type, first_cohort.createtime, first_cohort.updateusername, first_cohort.updatepassword FROM ( SELECT MIN(order_time) AS min_order_time FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND prescriptions.route = 'IH' ) AS min_time JOIN prescriptions AS first_cohort ON first_cohort.order_time = min_time.min_order_time AND first_cohort.hadm_id"
828e100d1270a025a702476f,Tell me what was patient 10018423's daily maximum weight since 28 months ago?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-28 month')"
3d6be9c3bab36afdf6303321,When were patient 10007795 first prescribed for metronidazole (flagyl) and ns at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'metronidazole (flagyl)' AND admissions.subject_id = 10007795 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ns' AND admissions.subject_id = 10007795 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.drug = 'metronidazole' AND prescriptions.drug IN ( SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.drug = 'ns' )
d121006b2aba46e7a9730510,When did patient 10020944 get input on the first ICU stay for the first time?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY inputevents.starttime ASC LIMIT 1,[{'starttime': '2131-02-27 17:30:00'}],SELECT inputevents.charttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY inputevents.charttime ASC LIMIT 1
894403f12b36b4f785b9894d,What were the total number of patients discharged from the hospital in the previous year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_date,'-1 year') AND datetime(admissions.dischtime) < current_date"
a8dc3b5c9cad1f39f5e216c6,Give me the count of patients who were prescribed gastroview (diatrizoate meglumine & sodium) since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'gastroview (diatrizoate meglumine & sodium)' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT p.subject_id) FROM prescriptions p JOIN d_items di ON p.itemid = di.itemid WHERE di.label = 'Gastroview (Diatrizoate Meglumine & Sodium)' AND p.startdate >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR)"
e1ea16fb2fe09b1b73839ca3,Show me the top four most frequent lab tests in 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) = '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.chartdate BETWEEN '2100-01-01' AND '2100-12-31' GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 4"
4f7a1d19e6fadf0e7b619491,Has patient 10014354 visited an emergency room since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.admittime >= datetime(current_time,'-1 year') AND admissions.admission_type = 'ELECTIVE'"
67a50aa49b80a0cadb830e34,What precautions should i take after a exploratory laparotomy procedure?,,,
1c5f16182f446c154f204081,"When, , was the first time patient 10031404 was prescribed a medication via the iv route?",SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND prescriptions.route = 'iv' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10031404 AND EXISTS ( SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id = admissions.hadm_id AND prescriptions.route = 'IV' ) ORDER BY admissions.admittime ASC LIMIT 1
b7f15ad17e5a4047c43d42e6,When did patient 10018081 last receive a lab test for sodium since 10/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-10' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.fluid = 'Serum' AND d_labitems.name = 'Sodium' ) AND datetime(labevents.charttime) >= datetime('10/2100') ORDER BY labevents.charttime DESC LIMIT 1
f0792acd794b3cf007d78f92,Could you tell me the maximum total cost for the hospital visits where potassium chl 20 meq / 1000 ml ns is used during this year?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'potassium chl 20 meq / 1000 ml ns' ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(tot_charg) FROM admissions WHERE hadm_id IN (SELECT hadm_id FROM inputevents_cv WHERE itemid = (SELECT itemid FROM d_items WHERE label = 'potassium chl 20 meq / 1000 ml ns') AND charttime >= CURRENT_DATE - INTERVAL 1 YEAR)
4db20b840c3b030a56108b21,What was the last time of patient 10027602 mini-bal microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'mini-bal' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mini-bal microbiology%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= '2003-01-01' ORDER BY chartevents.charttime DESC LIMIT 1
cf6c8c0873569e3fe49b7317,"Hey, what was patient 10019172's minimum fibrinogen, functional value in 11/this year?","SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'fibrinogen, functional' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '11'",[{'MIN(labevents.valuenum)': None}],"SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'fibrinogen, functional' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2023-11-01' AND chartevents.charttime < '2023-12-01'"
0ebcf64e6e88ffe234e3a991,What was the total amount of input for patient 10026354 since 07/21/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-21'",[{'SUM(inputevents.totalamount)': 7100.0}],
ec028c849e3b43c508834d3c,When was patient 10027445 discharged from the hospital for the last time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10027445 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10027445 ORDER BY admittime DESC LIMIT 1
b7925774086e29f5d02b778f,Can you tell how many times patient 10015272 visited the ICU in 2100?,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND strftime('%Y',icustays.intime) = '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND YEAR(icustays.intime) = 2100
a62df61b51406f3e15d17418,Tell me the name of the first specimen test patient 10021938 had received on their last hospital encounter.,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ORDER BY microbiologyevents.chartdate DESC LIMIT 1
9ae1e99a336fdea068c22d52,What was the first drug that was prescribed to patient 10021312 via the po/ng route in 09/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND prescriptions.route = 'po/ng' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT admittime FROM admissions WHERE admissions.subject_id = 10021312
5c20529abfd911e57654f545,Share the four most frequently performed procedures in 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(*) as procedure_count FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime LIKE '2100%' ) GROUP BY procedures_icd.icd_code ORDER BY procedure_count DESC LIMIT 4"
f19baaf7b04bf9e553dd2cbf,What was the first time patient 10018328 was prescribed medications via the iv drip route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND prescriptions.route = 'iv drip' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10018328 AND prescriptions.route = 'IV' ORDER BY prescriptions.startdate ASC LIMIT 1
fb3d9d6acc0abd876c53799f,What was the minimum value of phosphate for patient 10020740 in 06/this year?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.chartdate BETWEEN '06-01-2022' AND '06-30-2022'
8e706a5e5f4902a5d9824238,Has patient 10037975 undergone any procedure?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 )
7d56993bcf3d2b526fae33a7,"In 04/2100, did patient 10007928 undergo a lab test?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND strftime('%Y-%m',labevents.charttime) = '2100-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND labevents.charttime BETWEEN '2021-04-01' AND '2021-04-30'
dba558e5efd6207a1ad84c29,"Is patient 10031757's chloride, whole blood last measured on the first hospital visit greater than the first value measured on the first hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = ( SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime ) ) > ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood' AND d_items.linksto ="
586ca890e966f98f077187c9,What was the average value of lipase in patient 10021487's body in 12/this year?,"SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lipase' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12'",[{'AVG(labevents.valuenum)': None}],SELECT AVG(valuenum) FROM labevents WHERE subject_id = 10021487 AND itemid = (SELECT itemid FROM d_labitems WHERE label = 'LIPASE') AND charttime BETWEEN '2023-12-01' AND '2023-12-31'
ae10b786bdd68be86808411b,"What is the total count of performance of cardiac output, continuous procedures that were done since 2100?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01 00:00:00' ) AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' )"
44142bfb9b0cf7c3ae3ebb6a,"Since 1 year ago, how many medications were prescribed to patient 10025612?","SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 86}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
1b28343aacf8cb3fdf1051df,What were the top five frequent laboratory tests that patients had after they were diagnosed with other abnormal blood chemistry during the same hospital encounter since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other abnormal blood chemistry' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS freq FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code LIKE 'E85%' AND admissions.admittime >= datetime(current_time,'-1 year') GROUP BY d_labitems.itemid ORDER BY freq DESC LIMIT 5"
034ccc062d441cb484ca8a57,Has patient 10020944 come to the ER since 1 year ago?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020944 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
45147c4f6c84a8b896ec69ef,When since 07/2100 did patient 10007795 get the first microbiology test?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2136-04-14 14:31:00'}],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' ) AND chartevents.charttime > '2007-01-01'
15d1606a584e98abfb4203b3,Retrieve the yearly average amount of patient 10021118's or cell saver intake input since 12/2100.,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or cell saver intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-12' GROUP BY strftime('%Y',inputevents.starttime)",[],
b8e9b90e80a785175600b2ff,What was the last dose of tobramycin sulfate that patient 10007818 was prescribed during the first hospital visit?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'tobramycin sulfate' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT medications_dose_amount.dose FROM medications_dose_amount JOIN admissions ON admissions.hadm_id = medications_dose_amount.hadm_id JOIN patients ON patients.subject_id = admissions.subject_id WHERE patients.subject_id = 10007818 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10007818 ) AND medications_dose_amount.order_id IN ( SELECT medication_order.order_id FROM medication_order WHERE medication_order.generic_name = 'tobramycin sulfate' ) ORDER BY medications_dose_amount.endtime DESC LIMIT 1
ec4b556e4ac98f7c6485240b,Tell me the icd-11 code for candidias urogenital nec in icd-10?,,,
3cb1c84c070748104d4fe00c,"What was the last time, today, that patient 10039831's respiratory rate was less than 21.0?","SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 21.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-0 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'RESPIRATORY RATE' ) AND chartevents.valuenum < 21.0 AND chartevents.charttime >= curdate() ORDER BY chartevents.charttime DESC LIMIT 1
14a36d4ffabe710c621140cf,When was the last input of patient 10004733 during the last ICU visit?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2174-12-12 18:00:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id = ( SELECT MAX(admissions.hadm_id) FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) ORDER BY chartevents.charttime DESC LIMIT 1
2eb3e9db6880c98531ae9697,What were some of the five common specimen tests given?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
c4583562855d6e407a1c88ed,What is the minimum yearly number of patients who suffer from history of falling?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'history of falling' ) GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,
837a8f55375dcee9e103dbce,Has patient 10021118 been prescribed any prescription drugs throughout this year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10021118 AND prescriptions.startdate >= DATE_FORMAT(NOW(), '%Y-01-01')"
42b0089e4e28f35c3bd7f8e5,"On this month/30, what was the first arterial blood pressure systolic reading for patient 10018081?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '30' ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-30 day') ORDER BY chartevents.charttime ASC LIMIT 1"
35ed250e4f509e49e30cba17,Could you tell me the sex of patient 10002930?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10002930,[{'gender': 'F'}],SELECT gender FROM patients WHERE subject_id = 10002930
1533d0cd76139eb1dd097047,When was the first time patient 10020740 was measured with a heart rate greater than 65.0 on 03/28/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 65.0 AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-03-28' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 65 AND chartevents.charttime >= '03/28/2100' ORDER BY chartevents.charttime ASC LIMIT 1
35845dbc8e2d2791d609cc18,What is the reimbursement standard for genetic and chromosome tests?,,,
40f3aab550a4fd091b0e4468,When was the first time that patient 10002495 was prescribed a medication during the first hospital visit via sc?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'sc' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT MIN(cptevents.charttime) FROM cptevents INNER JOIN admissions ON cptevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10002495 AND cptevents.code = '96360' AND admissions.admittime <= admissions.dischtime LIMIT 1
86b774ee38e2c7aa2ac12919,"Among patients who were diagnosed with hip joint replacement, what were the top five most common microbiology tests conducted within 2 months in 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hip joint replacement' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT test_name, COUNT(*) AS test_count FROM ( SELECT microitems.test_name, microitems.hadm_id FROM microitems INNER JOIN admissions ON microitems.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31' AND microitems.charttime BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) AND admissions.diagnosis = 'hip joint replacement' ) AS subquery GROUP BY test_name ORDER BY test_count DESC LIMIT 5"
3eee431c56b7e26f4a97d69f,Please calculate the total output for patient 10011398 since 07/15/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-15'",[{'SUM(outputevents.value)': 4314.0}],
1f9a407aceb5f8d72e3a565a,"Since 1 year ago, has patient 10022041 been to an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admittime >= datetime(current_time,'-1 year') AND admissions.admission_type = 'ELECTIVE' OR admissions.admission_type = 'URGENT' OR admissions.admission_type = 'EMERGENCY'"
d1c500e1dc43c5cae4cf9075,"What is the maximum total cost for a hospital visit that involved a amylase, ascites lab test?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase, ascites' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(total_cost) FROM ( SELECT SUM(item_cost * item_quantity) AS total_cost FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label = 'amylase, ascites' AND chartevents.hadm_id IN ( SELECT hadm_id FROM labevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE label = 'amylase, ascites' ) ) GROUP BY chartevents.hadm_id ) AS subquery"
e48106054f3e117d2fac314f,"Has albuterol 0.083% neb soln, sulfameth/trimethoprim ds, or furosemide been prescribed to patient 10000032 since 04/2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND prescriptions.drug IN ( 'albuterol 0.083% neb soln', 'sulfameth/trimethoprim ds', 'furosemide' ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-04'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10000032 AND prescriptions.startdate >= '04/2100' AND prescriptions.drug IN ('Albuterol 0.083% Neb Soln', 'Sulfameth/Trimethoprim DS', 'Furosemide')"
c07fa4ddf84fc8c4cfd717ab,What was the total dose of levetiracetam patient 10001217 had been prescribed in 12/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND prescriptions.drug = 'levetiracetam' AND strftime('%Y-%m',prescriptions.starttime) = '2100-12'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cptevents.quantity*cptevents.amount) FROM cptevents INNER JOIN admissions ON cptevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10001217 AND cptevents.cptcd = ( SELECT d_cpt.cptcd FROM d_cpt WHERE d_cpt.short_description = 'LEVETIRACETAM' ) AND MONTH(cptevents.chartdate) = 12 AND YEAR(cptevents.chartdate) = 2100
631f6c7b12fe0e5f5fad366d,Has patient 10023239 got a diagnosis?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10023239
ac0778f01b4dfce5b48de369,List the top five most frequently prescribed medications since 1 year ago.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT d_cpt.cpt_code, d_cpt.long_description, COUNT(*) AS frequency FROM prescriptions JOIN d_cpt ON prescriptions.cpt_cd = d_cpt.cpt_code WHERE prescriptions.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY d_cpt.cpt_code, d_cpt.long_description ORDER BY frequency DESC LIMIT 5"
f046a738ce962ca3221afcbd,"During this year, has patient 10007928 been in an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.admittime >= DATE_FORMAT(CURDATE(),'%Y-01-01') AND admissions.admitype = 'URGENT'"
5b31e1e9fd15d53ccceb7195,Has a procedure been performed on patient 10019172 in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND YEAR(procedures_icd.chartdate) = 2100
e93b96a3e733e74dba4a0f26,Tell me the number of patients diagnosed with type 2 diabetes mellitus with unspecified complications.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'type 2 diabetes mellitus with unspecified complications' ) ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE 'E11%' AND diagnoses_icd.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.diagnosis LIKE '%type 2 diabetes%' ) )
d9ff976abef3224333ca77ba,Please inform me of all the prescriptions patient 8888 received in another department.,,,"SELECT admitservice, item FROM prescriptions WHERE subject_id = 8888 AND admitservice != 'Med/Surg'"
0142fefc91ec6884f43de80b,What is the code in icd-10 that corresponds to icd-11 for voice/resonance dis nec?,,,SELECT icd10cm_description FROM icd10cm WHERE icd10cm_code IN ( SELECT icd10cm_code FROM icd10cm_icd11 WHERE icd11cm_code = '3A42' )
3c1cd712d2ed352c132bd2ce,Show me the length of time in days patient 10016742 was in the ICU during the first visit.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 4.9095370369032025}]","SELECT DATEDIFF(icustays.outtime, icustays.intime) AS ICU_stay_days FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ORDER BY admissions.admittime ASC LIMIT 1 ) LIMIT 1"
2c475b369cef5f55de67b63f,When was the last hospital discharge of patient 10009049?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10009049 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10009049 ORDER BY admittime DESC LIMIT 1
997ad426b096ea558462f1a2,Did patient 10005817 have an input of kcl (bolus) on this month/25?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'kcl (bolus)' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '25'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.subject_id = 10005817 AND inputevents_cv.startdate LIKE 'this month/%/25%' AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%KCL (Bolus)%' )
b47161883d5f7a57232f66b9,Was patient 10037928 given a hematocrit lab test in the last year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year')"
5df1cd4b427c7adcfb315ff9,"During the last hospital encounter, what was the insurance plan of patient 10007795?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10007795 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicare'}],"SELECT admissions.subject_id, admissions.hadm_id, admissions.insurance FROM admissions WHERE admissions.subject_id = 10007795 ORDER BY admissions.admittime DESC LIMIT 1"
f58bd3fca803b73088423ede,What does it cost to get automatic implantable cardiac defibrillator in situ diagnosed?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'automatic implantable cardiac defibrillator in situ' ) ),,
15b58da2d88da3aa6b767f4e,What was the last diagnosis for patient 10012853?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
79435a6fda1d423ee215c027,Is there any genetic test that patient 14035 received?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 14035 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.category = 'genetic test' )
0abf006890a1a4993c0e275b,Give me patient 10023239's total d5lr input since 230 days ago.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'd5lr' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime) >= datetime(current_time,'-230 day')",[{'SUM(inputevents.totalamount)': None}],"SELECT SUM(inputevents_cv.amount) FROM inputevents_cv JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10023239 AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'D5LR' ) AND inputevents_cv.charttime >= datetime(current_time,'-230 day')"
a3bc01d2aacfcab611fc1c53,Please send me the name of the diagnostic diagnosis patient 5828 received at the other department.,,,
bc084c489813e1e8df25c4c3,What was the name of the output the last time patient 10005817 had since 12/03/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-03' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
d0c0f7766e9f698b1439c34e,"What are the three commonly ordered medications for patients who were diagnosed with atrial fibrillation previously in the same hospital visit, in this year?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atrial fibrillation' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT medications.drug FROM medications INNER JOIN diagnoses ON medications.hadm_id = diagnoses.hadm_id WHERE diagnoses.icd_code LIKE '427.3%' AND medications.startdate >= date_trunc('year', current_date) GROUP BY medications.drug ORDER BY COUNT(*) DESC LIMIT 3"
3ac2379c5a6246bfa08fe92d,What was the amount of void output patient 10001217 had on 12/04/this year?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '12-04'",[{'SUM(outputevents.value)': None}],SELECT chartevents.outputvalue FROM chartevents WHERE chartevents.subject_id = 10001217 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void output' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '12/04/%' ORDER BY chartevents.charttime DESC LIMIT 1
3a60895a1bcc132fc939a54a,What is the name of the medication which should not be administered during the contrast arteriogram-leg treatment?,,,
e54a1e3c51bc1b0c7bca37f7,"Since 2100, what are the top five most frequently ordered lab tests for patients in the same hospital visit after being diagnosed with flatulence, eructation, and gas pain?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'flatulence, eructation, and gas pain' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) AS frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.short_title IN ('flatulence', 'eructation', 'gas pain') AND admissions.hospital_expire_flag = 0 AND datetime(chartevents.charttime) >= datetime('2100-01-01') ) GROUP BY d_items.label ORDER BY frequency DESC LIMIT 5"
dcbeaf8a50d187f685e536c8,What was the name of patient 10039708's insurance during their last hospital visit?,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Other'}],SELECT insurance.insurance FROM admissions INNER JOIN insurance ON admissions.subject_id = insurance.subject_id WHERE admissions.subject_id = 10039708 ORDER BY admissions.admittime DESC LIMIT 1
45e515311022b0e3085d278f,When was the first time in which patient 10016742 had the minimum heart rate on 08/02/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '08-02' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '2021-08-02%' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1"
65ed4479d7d3a2021cd1f024,"Since 1 year ago, what was the diagnosis for patient 10004733 the last time?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ORDER BY diagnoses_icd.charttime DESC LIMIT 1 )",,"SELECT admittime, discharge diagnoses FROM admissions WHERE subject_id = 10004733 AND datetime(admittime) >= datetime(current_time,'-1 year') ORDER BY admittime DESC LIMIT 1"
df5a3dc1bac62f8679a50e44,Was patient 10023239's % hemoglobin a1c last measured on the first hospital visit greater than the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = '% hemoglobin a1c' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT MAX(chartevents.valuenum) > MIN(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10023239 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10023239) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%hemoglobin a1c%')
c85dcc855c873d1ffc99f027,What is today's outpatient schedule for dr. cannon?,,,
236ef17c9fdf9071b7c4a6b4,"What are the five most frequently prescribed drugs within 2 months to the patients aged 40s after they were diagnosed with constipation, unspecified?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'constipation, unspecified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT c.pname, count(*) FROM ( SELECT prescriptions.drug_generic, d_items.label AS pname FROM prescriptions JOIN d_items ON d_items.itemid = prescriptions.stop_reason JOIN patients ON patients.subject_id = prescriptions.subject_id WHERE patients.dob BETWEEN '1960-01-01' AND '1969-12-31' AND d_items.label = 'constipation, unspecified' AND prescriptions.charttime BETWEEN datetime(current_time, '-2 month') AND datetime(current_time) GROUP BY prescriptions.drug_generic, d_items.label ) AS c GROUP BY c.pname ORDER BY count(*) DESC LIMIT 5"
c6e0a3d4dc4ef5f0f7b05662,What were the top three diagnoses that had the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS death_count FROM diagnoses_icd INNER JOIN icd diagnoses_icd ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code INNER JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dod IS NOT NULL AND patients.dod <= DATE_ADD(admissions.admit_date, INTERVAL 6 MONTH) GROUP BY d_icd_diagnoses.long_title ORDER BY death_count DESC LIMIT 3"
abf27942525ea42427bca966,Is the value of anion gap of patient 10031404 second measured on the first hospital visit less than the value first measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'anion gap' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT (first_value < second_value) AS is_less FROM ( SELECT MIN(chartevents.charttime) AS first_time, MAX(chartevents.charttime) AS second_time, MIN(chartevents.valuenum) AS first_value, MAX(chartevents.valuenum) AS second_value FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'anion gap' AND d_items.linksto = 'labevents' ) ) AS subquery"
a5e6297c3b4d206acb9998da,When was the first microbiology test that was given to patient 10014354 since 4 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-4 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2146-10-09 03:13:00'}],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-4 month') ORDER BY chartevents.charttime ASC LIMIT 1"
753481148eded16306edf567,What is the ward identification of patient 15968 able to be admitted to?,,,
2c618c0f46c3debf9a6fcad3,Get me patient 10020786's total po intake input amount on 07/01/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po intake' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '07-01'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.inputamt) AS total_po_intake FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10020786 AND chartevents.charttime BETWEEN '2023-07-01 00:00:00' AND '2023-07-01 23:59:59' AND d_items.category = 'PO Intake'
02aa04b3e6868db7eb1fed99,What are the three frequently prescribed medications in the same month to the patients aged 40s after diagnosed with coronary atherosclerosis of native coronary artery throughout this year?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'coronary atherosclerosis of native coronary artery' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 40 AND 49 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT m1.drug_name, COUNT(*) AS prescription_count FROM prescriptions AS m1 JOIN admissions AS m2 ON m1.hadm_id = m2.hadm_id JOIN patients AS m3 ON m2.subject_id = m3.subject_id WHERE m1.startdate BETWEEN CURRENT_DATE - INTERVAL '1 YEAR' AND CURRENT_DATE AND m2.admittime BETWEEN CURRENT_DATE - INTERVAL '1 YEAR' AND CURRENT_DATE AND m3.dob BETWEEN CURRENT_DATE - INTERVAL '50 YEAR' AND CURRENT_DATE - INTERVAL '40 YEAR' AND m2.diagnoses IN (SELECT icd_code FROM d_icd_diagnoses WHERE short_title = 'coronary atherosclerosis of native coronary artery') GROUP BY m1.drug_name ORDER BY prescription_count DESC LIMIT 3"
aad14eeea5e885e1009d3b1e,Has there been a procedure that patient 10001217 had since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND procedures_icd.chartdate > '2100-01-01'
37fa4b05690e4fda0cc395bf,When was the first time patient 10038933 had a medication prescribed via the td route since 28 months ago?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND prescriptions.route = 'td' AND datetime(prescriptions.starttime) >= datetime(current_time,'-28 month') ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND prescriptions.route = 'TD' AND datetime(prescriptions.startdate) >= datetime(current_time,'-28 month') ORDER BY prescriptions.startdate ASC LIMIT 1"
2e7f18557b9d9530eddacca0,How many hours has it been since the first time patient 10004733 visited careunit neurology during their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'neurology' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT TIMEDIFF(NOW(), MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.adm_id = ( SELECT admissions.adm_id FROM admissions WHERE admissions.subject_id = 10004733 ORDER BY admissions.admittime DESC LIMIT 1 )) AND chartevents.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.los >= 0 AND icustays.dbsource = 'carevue' AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays JOIN d_items ON icustays.dbsource = 'carevue' WHERE icustays.dbsource = 'carevue' AND d_items.referenced_loinc_code = '47035-0' AND icustays.careunit LIKE 'Neurology' ) )"
b02107c6fe9f4494cc14728e,When was the first time of input time of patient 10018081 on this month/29?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND datetime(inputevents.starttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',inputevents.starttime) = '29' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10018081 AND chartevents.charttime LIKE '%-%-29%' ORDER BY chartevents.charttime ASC LIMIT 1
b7b00a485da3ac7c2a9f4f8e,What was the admission type for patient 10026354 during their first hospital admission?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10026354 ORDER BY admissions.admittime ASC LIMIT 1,[{'admission_type': 'URGENT'}],SELECT admittypedesc FROM admissions WHERE subject_id = 10026354 ORDER BY admittime ASC LIMIT 1
7c03a7d1027f6d34619316ee,Will patient 739 get any blood (ebv) tests???,,,
84e5d95551d30c43dcfd59af,Did patient 10015860 receive a other skin graft to other sites treatment during their last hospital visit?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other skin graft to other sites' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.short_title = 'other skin graft to other sites' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015860 ) ORDER BY procedures_icd.hadm_id DESC LIMIT 1
267d7c119f8d5f96a44c309d,What was the name of the prescription drug given to patient 10025463 in the same hospital visit after undergoing the cardiac mapping procedure since 08/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'cardiac mapping' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-08' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,SELECT c.pd_name FROM chartevents AS c JOIN admissions AS a ON c.hadm_id = a.hadm_id WHERE a.subject_id = 10025463 AND a.admittime >= '08/2100' AND c.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%prescriptions%' ) ORDER BY c.charttime DESC LIMIT 1
76c552ca9be899eab747b7a3,What is the name of the drug that should not be administered during the spinal canal explor nec treatment?,,,
35b706cc431e421ccc4d295f,What's the rank of the top four most common output events?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]","SELECT outputevents.value, COUNT(*) AS count FROM outputevents GROUP BY outputevents.value ORDER BY count DESC LIMIT 4"
202d3ee5d7d3e606014abe18,How much does it cost to get diagnostic of mechanical complication of automatic implantable cardiac defibrillator?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'mechanical complication of automatic implantable cardiac defibrillator' ) ),,
3d734e7730e119eb7ecbb9e5,How many people got prescriptions for fish oil (omega 3) since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'fish oil (omega 3)' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
f5024826f56df8252bfc76ad,Tally up the number of patients who received a ck-mb index lab test since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ck-mb index' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ck-mb index' ) AND datetime(labevents.charttime) >= datetime(current_date,'-1 year')"
8e71be5e11c9a90ff530970e,When was the first time that patient 10021487 was prescribed chlorhexidine gluconate 0.12% oral rinse and famotidine in this month at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'famotidine' AND admissions.subject_id = 10021487 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'chlorhexidine gluconate 0.12% oral rinse' AND admissions.subject_id = 10021487 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT MIN(prescriptions.startdate) FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.drug IN ('chlorhexidine gluconate 0.12% oral rinse', 'famotidine') AND prescriptions.startdate >= DATE_FORMAT(CURRENT_DATE, '%Y-%m-01') AND prescriptions.startdate < LAST_DAY(DATE_FORMAT(CURRENT_DATE, '%Y-%m-01'))"
95e4cfa052e3d03fe0ffacbd,How many hours has it been since the first diagnosis of anemia in chronic kidney disease in patient 10004733 on this hospital stay?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anemia in chronic kidney disease' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - julianday(min(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items JOIN d_labitems ON d_items.testname = d_labitems.testname WHERE d_items.testname = 'hemoglobin' AND d_labitems.category = 'anemia in chronic kidney disease' )
8ce7af691c9be7d9abda7cc7,Count how many patients were discharged from hospital since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],"SELECT COUNT(*) FROM admissions WHERE discharge_location = 'HOME' AND datetime(admit_date) >= datetime(current_time,'-1 year')"
671afd8de1d5bdb9e0151ce2,When patient 10005817 was last discharged from the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005817 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.dischtime DESC LIMIT 1",[],"SELECT admittime, dischargeime FROM admissions WHERE subject_id = 10005817 ORDER BY dischargeime DESC LIMIT 1"
44fdec17266371ad7f7871d7,Is patient 85169 to have had a travel history overseas?,,,SELECT COUNT(*)>0 FROM patients WHERE patients.subject_id = 85169 AND patients.misc LIKE '%travel history overseas%' OR patients.misc LIKE '%international travel%' OR patients.misc LIKE '%overseas travel%'
48a6844f3ba6022354e2d189,What steps should i take before the drsl/dslmb fus post/post procedure?,,,
87278f47491e99c15504a52a,"How many times was a insertion of infusion device into superior vena cava, percutaneous approach procedure conducted since 2100?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of infusion device into superior vena cava, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of infusion device into superior vena cava, percutaneous approach' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2100-01-01 00:00:00' )"
96055c134a9e795b09937032,Are you letting me know if patient 14397 is subject to covid-19 testing?,,,
48e8561f4462026521fab248,What are the top three diagnoses of patients in their 20s during this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT icd9_code, COUNT(*) AS diagnosis_count FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE dob BETWEEN '1980-01-01' AND '1990-01-01' AND admittime BETWEEN '2023-01-01' AND '2023-12-31' ) GROUP BY icd9_code ORDER BY diagnosis_count DESC LIMIT 3"
3f355b4c88735775a5eeacb2,What is the opiate dose recommended for patient 2518,,,
fef989a873a0244ffbcecf45,"On 05/21/2100, when was the last input time of patient 10018423?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-05-21' ORDER BY inputevents.starttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 ) AND chartevents.charttime < '05/21/2100 23:59:59' ORDER BY chartevents.charttime DESC LIMIT 1
eae3d736ea15573510314df8,Please tell me the name of the diagnosis patient 30267 received at the other department.,,,
fb100dfee04065d29677af93,Tell me the last output of patient 10016742 on 07/22/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-07-22' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],
d999d5a343bd58aa54b40298,Could you retrieve the top five diagnoses that have the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS mortality_count FROM diagnoses_icd JOIN patients ON diagnoses_icd.subject_id = patients.subject_id JOIN admissions ON patients.subject_id = admissions.subject_id WHERE admissions.admittime <= patients.dod AND patients.dod <= DATE_ADD(admissions.admittime, INTERVAL 3 MONTH) GROUP BY diagnoses_icd.icd_code ORDER BY mortality_count DESC LIMIT 5"
41f819d9fd8944e5602a6279,"Tell me the maximum total hospital cost that involved venous catheterization, not elsewhere classified in 2100?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'venous catheterization, not elsewhere classified' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(total_cost) FROM ( SELECT admissions.hospital_expire_flag, SUM(items.extended_cost) AS total_cost FROM admissions INNER JOIN admissions_icd ON admissions.icd9_code = admissions_icd.icd9_code INNER JOIN patients ON admissions.subject_id = patients.subject_id INNER JOIN admissions_item_cost ON admissions.hadm_id = admissions_item_cost.hadm_id INNER JOIN items ON admissions_item_cost.itemid = items.itemid WHERE admissions.hospital_expire_flag = 2100 AND admissions_icd.icd9_code = ( SELECT icd9_code FROM d_icd_diagnoses WHERE long_title LIKE '%venous catheterization, not elsewhere classified%' ) GROUP BY admissions.hadm_id ) AS subquery"
0427a5eaa446635b1a4b7f18,How much is the difference of patient 10015272's respiratory rate second measured on the first ICU visit compared to the value first measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT chartevents.valuenum - chartevents2.valuenum FROM chartevents INNER JOIN chartevents AS chartevents2 ON chartevents.hadm_id = chartevents2.hadm_id AND chartevents.icustay_id = chartevents2.icustay_id WHERE chartevents.subject_id = 10015272 AND chartevents2.subject_id = 10015272 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents2.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > chartevents2.charttime AND chartevents2.charttime = ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.subject_id = 10015272 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ) ORDER BY chartevents.charttime ASC LIMIT 1
6138410041007bba41d241af,When did patient 10005817 get the glucose lab test in their last hospital encounter for the first time?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1,[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'glucose' ) ORDER BY labevents.hadm_id, labevents.charttime ASC LIMIT 1"
27cbb7342a12ed24d5662980,"What was the drug that patient 10025463 was prescribed for during the same hospital encounter after the procedure of excision or destruction of other lesion or tissue of heart, endovascular approach?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision or destruction of other lesion or tissue of heart, endovascular approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND prescriptions.startdate > ( SELECT procedures_icd.charttime FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision or destruction of other lesion or tissue of heart, endovascular approach' ) AND procedures_icd.subject_id = 10025463 )"
510cd856f97ccd8e1ae62400,How many prescriptions were prescribed during the previous year for milk of magnesia?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'milk of magnesia' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'milk of magnesia' AND prescriptions.startdate BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR) AND CURRENT_DATE()"
88feed4e79da04e646ebc129,What was the name of the medication that patient 10027602 was last prescribed since 03/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Sodium Chloride 0.9%  Flush'}],
2c4e5ef20f7bc4bff7aa7301,Has any organism been found in patient 10021487's last sputum test conducted in 12/this year?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM microbiology_results WHERE microbiology_results.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiology_results.spec_itemid = ( SELECT d_specimen.itemid FROM d_specimen WHERE d_specimen.spec_type_desc = 'Sputum' ) AND datetime(microbiology_results.chartdate) >= datetime(current_date,'-1 month') AND microbiology_results.org_itemid IS NOT NULL"
7d9cdd88b75501b509687396,Calculate the number of patients who were discharged from the hospital since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE discharge_weight IS NOT NULL AND discharge_location = 'HOME' AND datetime(admittime) >= datetime('2100-01-01')
fde6441b3751a0976d557a92,What are the five most common treatments for patients who are 30s?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
4ead555e8bf055e8e8c7bc2f,How many patients left the hospital during the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
8a0c73ca152264371f4310c1,"In 2100, what are the top three most common lab tests ordered for patients during the same month after acute and subacute necrosis of liver?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute and subacute necrosis of liver' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,
5205a0314efeddff42fe6437,"What were the top three most common procedures that occurred during the same hospital encounter for patients who had extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic before since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT TOP 3 d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC"
99e2661e12b6c6e852955ea5,How was patient 10022281 last admitted to the hospital in terms of admission type?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10022281 ORDER BY admissions.admittime DESC LIMIT 1,[{'admission_type': 'EW EMER.'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10022281 ORDER BY admissions.admittime DESC LIMIT 1
e23231367907b1d48afece71,Give me patient 10026406's length of stay in days for the first ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 0.48175925901159644}]",SELECT icustays.length_of_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ORDER BY icustays.intime LIMIT 1
d199f2338fccc1376de62441,How much will it cost me to get other repair of vessel done?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other repair of vessel' ) ),,
24c0ef475388f60e725ccbc1,Did patient 10037861 receive the procedure of a right heart cardiac catheterization in the first hospital visit?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd AS t1 JOIN admissions AS t2 ON t1.hadm_id = t2.hadm_id WHERE t1.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'right heart cardiac catheterization' ) AND t2.subject_id = 10037861 AND t2.hospital admission id = ( SELECT MIN(hospital admission id) FROM admissions WHERE subject_id = 10037861 )
a2c0369e9e1db224ff7cb590,What was the drug patient 10022281 was prescribed for the last time using the sc route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND prescriptions.route = 'sc' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT medications.medication_name FROM medications WHERE medications.subject_id = 10022281 AND medications.route = 'SC' ORDER BY medications.starttime DESC LIMIT 1
7a4312f3777e3813772be85d,What was the last time of input of patient 10022041?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2187-05-20 15:10:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10022041 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) ORDER BY chartevents.charttime DESC LIMIT 1
e369e10b6bd8a83d98f15e53,What was the output patient 10026354 had since 06/24/2100 on the last occasion?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-24' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
d33831f0ec31a6a9c49b16ff,"On 06/23/2100, what was the first value of arterial blood pressure mean of patient 10013049?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-06-23' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10013049 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '06/23/2100' ORDER BY chartevents.charttime ASC LIMIT 1
ede3b2dd4e96f4b8027fd757,Retrieve the top three most frequent output occurrences since 1 year ago.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) AS occurrences FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.itemid ORDER BY occurrences DESC LIMIT 3"
7ea5b7b4bc12cad8a4e74fdc,What was the total dose of insulin human regular prescribed to patient 10019172 during the last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'insulin human regular',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(doses.amount) AS total_dose FROM doses JOIN patients ON doses.patient_id = patients.id WHERE patients.id = 10019172 AND doses.medication = 'insulin human regular' AND doses.date <= ( SELECT MAX(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10019172 ) ORDER BY doses.date DESC LIMIT 1
f9adfa5449b4f14c535921e5,Has any free water medication been given to patient 10018081 since 1 day ago?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'free water' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime) >= datetime(current_time,'-1 day')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10018081 AND prescriptions.drug = 'free water' AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 day')"
a00e9493a4dac3d8a11100c3,When was the last blood culture microbiology test performed during the previous month for patient 10027602?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND datetime(microbiologyevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],"SELECT charts.charttime FROM chartevents charts JOIN d_items items ON charts.itemid = items.itemid JOIN admissions adm ON charts.hadm_id = adm.hadm_id JOIN patients pat ON adm.subject_id = pat.subject_id WHERE pat.subject_id = 10027602 AND items.label = 'blood culture' AND charts.charttime >= DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 1 MONTH), '%Y-%m-%d 00:00:00') ORDER BY charts.charttime DESC LIMIT 1"
5750149e3e7fafb11a1a5090,Can you list patient 10037975's daily maximum weight during the first hospital encounter?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ORDER BY admissions.admittime LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY chartevents.charttime
782822c98c2534ba56c1c45b,What were the top five diagnoses with the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,
af707d41fac6dee4c1688787,"Since 11/2100, when was patient 10021487's first microbiology test?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-11' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2116-12-03 01:16:00'}],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.subject_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'microbiologyevents' AND d_items.category = 'Microbiology' ) AND chartevents.charttime >= '2010-11-01'
00ab16773d5c5cbe1e63f28b,Which are the top three most frequent procedures patients had within 2 months after being diagnosed with other opiates and related narcotics causing adverse effects in therapeutic use?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other opiates and related narcotics causing adverse effects in therapeutic use' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(procedures_icd.icd_code) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE icd9_code LIKE '970%' OR icd9_code LIKE '971%' ) ) AND procedures_icd.chartdate BETWEEN ( SELECT MIN(admissions.admittime) FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id WHERE d_icd_diagnoses.icd_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE icd9_code LIKE '970%' OR icd9_code LIKE '971%' ) ) AND ( SELECT DATE_ADD(MIN(admissions.admittime), INTERVAL 2 MONTH) FROM admissions JOIN d_icd_diagnoses ON admissions.hadm_id = d_ic"
f59622e4ac592f700d2dbc87,Have any procedures been performed on patient 10005817 since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*) > 0 FROM procedures_icd WHERE hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartdate > '2100-01-01'
b587cd8c1c145a6a99b52e8e,What precautions should be taken after a rt heart angiocardiogram procedure?,,,
d1296c6e0fcaaa1292187c95,When was the last microbiological test of patient 10022281 since 06/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-06' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2125-06-17 05:30:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' ) AND chartevents.charttime >= '06/2100' ORDER BY chartevents.charttime DESC LIMIT 1
55180086d87ad6ccdaca22f5,"For the last time since 03/2100, when was patient 10007818 prescribed vitamin d and aspirin at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vitamin d' AND admissions.subject_id = 10007818 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'aspirin' AND admissions.subject_id = 10007818 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],
b0ef9ac5dcce6d06f4eb450d,Tell me the top three most commonly prescribed drugs in 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3",[],
5d83b1d1c458bcc64023c23e,Can you provide the maximum monthly number of patients diagnosed with gas pain?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'gas pain' ) GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(monthly_count) FROM ( SELECT DATE_FORMAT(admissions.admit_datetime, '%Y-%m') AS month, COUNT(admissions.subject_id) AS monthly_count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%gas pain%' ) GROUP BY DATE_FORMAT(admissions.admit_datetime, '%Y-%m') ) AS monthly_patients"
341d7a85d3366d8be3f55673,"Among patients who were administered fluoroscopy of superior vena cava using other contrast, guidance in 2100, what were the top three most common treatments that they received within 2 months?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of superior vena cava using other contrast, guidance' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT COUNT(*) AS frequency, c_icd_procedures.procedure_name FROM chartevents AS ce JOIN admissions AS a ON ce.hadm_id = a.hadm_id JOIN c_icd_procedures ON ce.itemid = c_icd_procedures.itemid WHERE a.admittime BETWEEN '2010-01-01' AND '2010-12-31' AND c_icd_procedures.procedure_name LIKE '%fluoroscopy of superior vena cava using other contrast, guidance%' AND ce.charttime BETWEEN a.admittime AND date_add(a.admittime, interval 2 month) GROUP BY c_icd_procedures.procedure_name ORDER BY frequency DESC LIMIT 3"
4d9bd3d3dbfcb23cf47cb0c6,"In 2100, what are the top five most common specimens tested for patients previously diagnosed with personal history of self-harm within the same month?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of self-harm' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,
69b4dbcc3e05876c15ab3314,During what last time in their first hospital encounter did patient 10022880 have the maximum epithelial cells level?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'epithelial cells' ) ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'epithelial cells' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC LIMIT 1
0b0a39c4b7112434084d3daa,Give me the length of stay in days for patient 10022041 during their first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.8923842599615455}]","SELECT icustays.intime, icustays.outtime, julianday(icustays.outtime) - julianday(icustays.intime) AS length_of_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) ORDER BY icustays.intime ASC LIMIT 1"
41e594b8986edc48616272fc,When was patient 10013049's last input on the last ICU stay?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2114-06-21 10:00:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'input' ) ORDER BY chartevents.charttime DESC LIMIT 1
9a022decba9cb56ac65b6689,Has patient 10021487 been given any procedure since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND procedures_icd.chartdate >= '2100-01-01'
c0cedb965b06326bbddb2eb4,Calculate the number of patients discharged from the hospital since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],
6e4750dd27d5b6fd5f5faf2e,How many patients received a d-dimer lab test since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'd-dimer' ) AND strftime('%Y',labevents.charttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '3333-4' AND d_labitems.label = 'd-dimer' ) AND datetime(labevents.charttime) >= datetime('2100-01-01')
a959a44bac364940384687df,"How many patients received insertion of infusion device into superior vena cava, percutaneous approach treatment in the same hospital encounter after being diagnosed with food in respiratory tract, part unspecified causing asphyxiation, initial encounter in 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'food in respiratory tract, part unspecified causing asphyxiation, initial encounter' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of infusion device into superior vena cava, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,"SELECT COUNT(*) FROM admissions a INNER JOIN patients p ON a.subject_id = p.subject_id INNER JOIN procedures_icd pi ON a.hadm_id = pi.hadm_id INNER JOIN d_icd_procedures dip ON pi.icd_code = dip.icd_code INNER JOIN diagnoses_icd di ON a.hadm_id = di.hadm_id INNER JOIN d_icd_diagnoses did ON di.icd_code = did.icd_code WHERE p.dob < '2100-01-01' AND dip.long_title = 'insertion of infusion device into superior vena cava, percutaneous approach' AND did.long_title LIKE '%food in respiratory tract, part unspecified causing asphyxiation, initial encounter%' AND a.hadm_id = di.hadm_id AND a.hadm_id = pi.hadm_id"
26c74839913ab4510813fb05,What is the value of patient 10010471's daily average nacl 0.9% input since 12/2100?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-12' GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],
137db7f9de6adce5df221be5,How often did patient 10039997 go to the ICU on the first hospital encounter?,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ORDER BY admissions.admittime LIMIT 1 )
ac9fc03c65beee9fae66c482,What is the cost of a diagnosis for suicidal ideation?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'suicidal ideation' ) ),,
60ea85db45d1ad1ad72cf62a,Has patient 10010471 received any lab tests since 07/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-07'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND datetime(labevents.charttime) >= datetime('07/2100')
73cbfeea05bf53b8f480cd6a,What was the last output since 12/19/2100 for patient 10010471?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-19' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Emesis'}],
d165a95f794e3d301e6f6179,Give me the top three most commonly prescribed medications within 2 months to patients aged 60 or above after they were diagnosed with hypoxemia since 2100.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypoxemia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age >= 60 AND strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT medications_generic, COUNT(*) AS count FROM ( SELECT adm.subject_id, adm.hadm_id, adm.admittime, icustays.first_careunit, icustays.last_careunit, icustays.intime, icustays.outtime, admissions.dod, admissions.age, admissions.gender, admissions.hospital_expire_flag, admissions.dischtime, admissions.ethnicity, admissions.admission_type, admissions.admission_location, admissions.discharge_location, diagnoses.icd9_code, diagnoses.long_title, diagnoses.short_title, prescriptions.startdate, prescriptions.enddate, prescriptions.dosage, prescriptions.doseunits_id, prescriptions.formulary_drug_cd, prescriptions.gpi, prescriptions.order_category_enum, prescriptions.route_id, prescriptions.stopped, prescriptions.symbol, prescriptions.totaldose, prescriptions.dose_val_rx, prescriptions.dose_unit_rx, medications_generic FROM admissions AS adm JOIN diagnoses_icd AS diagnoses ON adm.hadm_id = diagnoses.hadm_id JOIN icustays ON adm.hadm_id = icustays.hadm_id JOIN prescriptions ON adm.hadm_id = prescriptions.hadm_id JOIN d_items AS medications ON prescriptions.gpi = medications.gpi WHERE diagnoses.icd9_code = '799.14' AND adm.age >= 6"
a4aa999285ef6d36e9f1f2b6,When was patient 10019568 prescribed a yellow cadd cassette and bupivacaine 0.1% at the same time for the last time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'yellow cadd cassette' AND admissions.subject_id = 10019568 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'bupivacaine 0.1%' AND admissions.subject_id = 10019568 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.subject_id = 10019568 AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'yellow cadd cassette') INTERSECT SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.subject_id = 10019568 AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'bupivacaine 0.1%')
a064cc53a6478ab0d31cb958,What was the name of the specimen test which patient 10038992 has last received in 11/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-11' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT microbiologyevents.specimen_id FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND datetime(microbiologyevents.chartdate) = '11/2100' ORDER BY microbiologyevents.charttime DESC LIMIT 1
917adcbd5e526c5a6f592092,What was the first time patient 10029291 input time on 02/25/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-02-25' ORDER BY inputevents.starttime ASC LIMIT 1",[],
66c02202fa82b6035ee4845c,"Since the last diagnosis of patient 10004733 with unspecified sinusitis (chronic) during this hospital visit, how many hours have passed?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified sinusitis (chronic)' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - julianday(diagnoses_icd.datetime) AS hours FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10004733 AND diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified sinusitis (chronic)' ) ORDER BY diagnoses_icd.datetime DESC LIMIT 1
d2963971f5b061724d770e2c,When did patient 10035185 have a last ptt laboratory test in the first hospital visit?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ptt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10035185 AND labevents.itemid IN (SELECT itemid FROM d_labitems WHERE label = 'ptt') ORDER BY labevents.charttime DESC LIMIT 1
e60e3b0dd9bb998ce08e850c,"Since 30 months ago, what was patient 10004720's first weight measurement?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-30 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-30 month') ORDER BY chartevents.charttime ASC LIMIT 1"
4e6dcd007988152470193f41,What was the total number of patients staying in med/surg in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
361dee11faf11169d073ea66,Number of patients who received a mediastinoscopy procedure in the last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'mediastinoscopy' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions INNER JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'mediastinoscopy' ) AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
17ff517f4cb7bc5330bbc4dd,How many hours have elapsed since patient 10018081's first stay in the careunit emergency department on this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT (UNIX_TIMESTAMP(chartevents.charttime) - UNIX_TIMESTAMP(admissions.admit_time)) / 3600 FROM chartevents INNER JOIN admissions ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10018081 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10018081 ) LIMIT 1 ) ORDER BY chartevents.charttime ASC LIMIT 1
dcfb3bfb9c133a83a862251a,How should we disinfect the quarantine room?,,,
dc99421b0fa75072b7fc597f,Which method of disinfection in the quarantine room is?,,,
ad181c030f922bb1d3793964,What kind of rooms are available right now?,,,
03d2b60423371ca98d1a99bc,"On their first hospital visit, was patient 10015272 given any diagnosis?",SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT EXISTS(SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10015272)) AND EXISTS(SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.admittime = (SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10015272)))
efe02e55b9988af366a8030b,"For patients previously diagnosed with migraine with aura, without mention of intractable migraine without mention of status migrainosus , what were the three most frequent specimens tested within 2 months afterward?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'migraine with aura, without mention of intractable migraine without mention of status migrainosus' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE 'migraine with aura%' AND long_title NOT LIKE '%intractable%' AND long_title NOT LIKE '%status migrainosus%' ) ) ) AND chartevents.charttime >= ( SELECT admittime FROM admissions WHERE subject_id IN ( SELECT subject_id FROM diagnoses_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE 'migraine with aura%' AND long_title NOT LIKE '%intractable%' AND long_title NOT LIKE '%status migrainosus%' ) ) ) AND chartevents.charttime <= DATE_ADD(admittime, INTERVAL 2 MONTH) GROUP BY chartevents.itemid, d_items.label ORDER BY frequency DESC LIMIT 3"
a8bfb5881309bbc205af6f0e,What is patient 10035185's minimum basophils value on the first hospital encounter?,SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'basophils' ),[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'basophils' AND d_items.linksto = 'labevents' )
8794ed581e861d00471884fd,How many patients were discharged during the last year from hospital?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year')"
58005b8292ece24dcde6f455,What was the number of fluoroscopy of right heart using other contrast procedures performed in 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of right heart using other contrast' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of right heart using other contrast' ) AND YEAR(procedures_icd.chartdate) = 2100
356174c53f28f728dccdef72,List the top four most common events that happened since 2100.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) >= '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]",
609e5996320873f84ea60fe9,When was patient 10004733 prescribed the drugs heparin flush (100 units/ml) and vancomycin at the same time for the last time since 10/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'heparin flush (100 units/ml)' AND admissions.subject_id = 10004733 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vancomycin' AND admissions.subject_id = 10004733 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],SELECT MAX(admissions.admittime) FROM admissions JOIN pharmacy ON pharmacy.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND ( pharmacy.drug = 'heparin flush (100 units/ml)' OR pharmacy.drug = 'vancomycin' ) AND pharmacy.orderdate >= '10/2100-01-01'
86e5eb5831ba084a42761fa6,What was the first time patient 10017492 received vitamin b12 in a lab test on the first hospital visit?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'vitamin b12' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10017492 AND labevents.itemid IN (SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%vitamin b12%') ORDER BY labevents.charttime ASC LIMIT 1
f07d01a1db0173ba1a3cfff4,"How many people had a test for bilirubin, direct during the previous year?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bilirubin, direct' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Bilirubin, Direct' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year')"
3ef161ccc95ceeb7a1c4f53a,When did patient 10005348 first get sputum microbial tests in the last hospital visit?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'sputum' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sputum microbial tests' )
1a33ef0177e3bdc49dafbced,How many operating rooms are in operation now?,,,
9be85669c081afc82d4c6a57,"Count the number of patients who received a assistance with cardiac output using balloon pump, continuous procedure.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'assistance with cardiac output using balloon pump, continuous' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT procedures_icd.subject_id) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'Assistance with cardiac output using balloon pump, continuous' )"
a5de915902ae68f1b9298fce,When was the last time patient 46528 had a medication which should be taken daily?,,,SELECT MAX(chartevents.charttime) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Medications' AND chartevents.subject_id = 46528
00beff4406c2ee10ac9621fe,"Did patient 10040025 get a prescription for clonidine patch 0.2 mg/24 hr, atorvastatin, or prasugrel in their first hospital visit?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ( 'clonidine patch 0.2 mg/24 hr', 'atorvastatin', 'prasugrel' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10040025 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug IN ('clonidine patch 0.2 mg/24 hr', 'atorvastatin', 'prasugrel')"
d754a3e8d810070834fab3af,What is the average total hospital cost that involves other appendectomy procedure in 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other appendectomy' ) ) AND strftime('%Y',cost.chargetime) = '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(costs.total_cost) FROM costs JOIN admissions ON admissions.hadm_id = costs.hadm_id WHERE admissions.icd9_code LIKE '40.1%' AND admissions.admittime LIKE '2021%' AND costs.costtype = 'total'
f66542e8f77bde61ef62dc26,"Since 07/2100, has patient 10006053 had any input of dextrose 50%?","SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'dextrose 50%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-07'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND inputevents_cv.starttime >= '07/2100' AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE 'Dextrose 50%' )
91233f4f7f64dbd5fbd43579,Present the count of ICU visits for patient 10006053 since 2100.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND strftime('%Y',icustays.intime) >= '2100'",[{'COUNT( DISTINCT icustays.stay_id )': 2}],
a252cc04ca403620d3979914,When was patient 10004720 prescribed the drugs glucose gel and glucagon at the same time for the last time in 12/this year?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'glucose gel' AND admissions.subject_id = 10004720 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'glucagon' AND admissions.subject_id = 10004720 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '12' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('glucose gel', 'glucagon') ) AND datetime(chartevents.charttime) >= datetime(current_date,'start of year') AND datetime(chartevents.charttime) < datetime(current_date,'start of year','+1 year') GROUP BY chartevents.charttime HAVING COUNT(DISTINCT chartevents.itemid) = 2 ORDER BY chartevents.charttime DESC LIMIT 1"
e7f9bc2207fce85235ec07aa,Retrieve the top three most frequent procedures that patients were given in the same month after receiving injection or infusion of thrombolytic agent since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'injection or infusion of thrombolytic agent' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS freq FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%thrombolytic%' AND linksto = 'labevents' ) AND labevents.charttime >= '2100-01-01' AND labevents.charttime < '2100-02-01' ) AND procedures_icd.chartdate >= '2100-01-01' AND procedures_icd.chartdate < '2100-02-01' GROUP BY d_icd_procedures.long_title ORDER BY freq DESC LIMIT 3"
8d8518ce9ca76a042a0c5bb0,What are the prices for the drug called vitamin e?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'vitamin e' ),,
f39b6fca5e6f640b836a9c9c,Get me the top three most frequent procedures that patients received within 2 months after receiving diagnostic ultrasound of heart.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of heart' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.short_title, COUNT(*) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE short_title = 'ultrasound of heart, diagnostic' ) AND chartdate <= DATE_SUB(MAX(chartdate), INTERVAL 2 MONTH) ) GROUP BY d_icd_procedures.short_title ORDER BY frequency DESC LIMIT 3"
9ccc39b8569c5131efee591e,"Was chlorhexidine gluconate 0.12% oral rinse, fexofenadine, or ketorolac ordered during the last hospital visit for patient 10019385?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( 'chlorhexidine gluconate 0.12% oral rinse', 'fexofenadine', 'ketorolac' )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10019385 AND prescriptions.drug IN ('chlorhexidine gluconate 0.12% oral rinse', 'fexofenadine', 'ketorolac') ORDER BY prescriptions.startdate DESC LIMIT 1"
3cd0a6cd42161066ac6ee01a,What were the three most often conducted microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test_name, COUNT(*) AS freq FROM (SELECT chartevents.value AS test_name FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'microbiology' AND chartevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) UNION ALL SELECT labevents.itemid AS test_name FROM labevents INNER JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE d_labitems.category = 'microbiology' AND labevents.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)) AS test_results GROUP BY test_name ORDER BY freq DESC LIMIT 3"
a790bd7026f83ac5ff0e68c1,What would the minimum monthly number of patients diagnosed with resistance to other specified antimicrobial drug be in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'resistance to other specified antimicrobial drug' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,
96cf60d6448c822883274a24,When was the first urine microbiology test performed since 03/2100 for patient 10018845?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND microbiologyevents.spec_type_desc = 'urine' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine culture' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= '03/2100' ORDER BY chartevents.charttime ASC LIMIT 1
5d18dc5b86410f1a0b68d571,"What is the diagnosis cost of urinary tract infection, site not specified?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'urinary tract infection, site not specified' ) )",,SELECT SUM(cost) FROM charges WHERE charges.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subjects.subject_id FROM subjects WHERE subjects.dfn IN ( SELECT patients.dfn FROM patients WHERE patients.dfn IN ( SELECT patients.dfn FROM patients WHERE patients.dfn IN ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = ( SELECT patients.dfn FROM patients WHERE patients.dfn = (
13742e41da6ed8f3b472927c,"What are the five most typically ordered procedures for patients previously diagnosed with other symbolic dysfunction, which took place within 2 months in 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other symbolic dysfunction' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT procedures_icd.procedure_id, procedures_icd.hadm_id FROM procedures_icd INNER JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN datetime('2021-01-01 00:00:00') AND datetime('2021-12-31 23:59:59') AND admissions.admittime BETWEEN procedures_icd.charttime AND datetime(procedures_icd.charttime,'+2 month') AND admissions.diagnoses_id IN ( SELECT diagnoses_icd.diagnoses_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code LIKE 'H47%' ) GROUP BY procedures_icd.procedure_id ORDER BY count(*) DESC LIMIT 5"
7a6b657fddbeb52ba6d8450c,Show me the top three most common diagnoses of patients with age 30s during this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM admissions INNER JOIN d_icd_diagnoses ON admissions.diag_code = d_icd_diagnoses.icd_code WHERE admissions.admittime >= '2022-01-01' AND admissions.admittime < '2023-01-01' AND admissions.dob BETWEEN '1970-01-01' AND '1980-12-31' GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 3"
27b1b0cb6cac06060411bcfb,How many patients were in neurology?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neurology' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.dietid IN ( SELECT dietorders.dietid FROM dietorders WHERE dietorders.charttime IN ( SELECT chartevents.charttime FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Neurology' AND d_items.linksto = 'chartevents' ) ) )
7de6019246eb50aa7a443936,What was the amount of fluticasone-salmeterol diskus (100/50) prescribed to patient 10021666 in total in 03/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND prescriptions.drug = 'fluticasone-salmeterol diskus (100/50)' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03'",[{'SUM(prescriptions.dose_val_rx)': None}],
f6bc08951df014b4c74d7be6,What was patient 10009628's maximum systolic blood pressure reading on 10/03/2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-10-03'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10009628 AND d_items.itemid = (SELECT itemid FROM d_items WHERE label = 'ARTERIAL BP SYSTOLIC') AND chartevents.charttime >= '10/03/2100 00:00:00' AND chartevents.charttime <= '10/03/2100 23:59:59'
7c2ab9c849f250ca7ae3054c,When was the first microbiological test of patient 10027445 since 04/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2142-07-31 06:07:00'}],SELECT MIN(specimen.chartdate) FROM specimen WHERE specimen.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND datetime(specimen.chartdate) >= '04/2100'
57db051f5e8f25c8927f61ad,How many times patient 10012552 came to the hospital since 1 year ago?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10012552 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10012552 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
188357b19ef7a1e1306dde6a,What is the average daily number of patients suffering from malignant neoplasm of unspecified part of unspecified bronchus or lung?,"SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'malignant neoplasm of unspecified part of unspecified bronchus or lung' ) GROUP BY strftime('%Y-%m-%d',diagnoses_icd.charttime) ) AS T1",,SELECT AVG(num_patients) FROM (SELECT COUNT(DISTINCT hadm_id) AS num_patients FROM diagnoses_icd WHERE ICD9_CODE = '162.9' GROUP BY stay_date) AS subquery
366e4fe872705e8dbb87ae20,How many pseudoephedrine prescription instances took place during the previous year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'pseudoephedrine' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],
05ffeff678368c17b77078d6,When did patient 10022017 depart hospital for the last time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10022017 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime DESC LIMIT 1",[],"SELECT admittime, dischtime FROM admissions WHERE admissions.subject_id = 10022017 ORDER BY dischtime DESC LIMIT 1"
55afa0bf1f513c0f82f9d9c4,"What was the name of the drug prescribed for patient 10016742 within 2 days after having received a inspection of tracheobronchial tree, via natural or artificial opening endoscopic procedure since 13 months ago?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-13 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-13 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT m_icustays.stay_id, adm.admittime, adm.dischtime, adm.hadm_id, adm.subject_id, ad admitting_diagnosis, ad.diagnosis, ad.admittime, ad.admission_type, ad.admission_location, ad.discharge_location, ad.ethnicity, ad.insurance, ad.language, ad.religion, ad.marital_status, ad.edregtime, ad.edouttime, ad.hospital_expire_flag, ad.has_chartevents_data, ad.has_streamedevents_data, ad.has_outputevents_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_admissions_data, ad.has_transfers_data, ad.has_patients_data, ad.has_ad"
b90455e3cd10a2bcfe8f3419,What were the four frequent output events that occurred since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]","SELECT chartevents.itemid, chartevents.charttime, chartevents.value, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime(current_time,'-1 year') AND d_items.category = 'Output' GROUP BY chartevents.itemid ORDER BY count(*) DESC LIMIT 4"
8970ce40dfe4e0498bf2959e,Show me the top four diagnoses with the highest 3-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as deaths, COUNT(*)/(SELECT COUNT(*) FROM icd_diagnoses) as mortality_rate FROM icd_diagnoses WHERE icd_diagnoses.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.deathtime - admissions.admittime <= INTERVAL 3 MONTH) GROUP BY d_icd_diagnoses.short_title ORDER BY mortality_rate DESC LIMIT 4"
486be4b5d2429d76a159f7bb,Can you please elaborate on a ward identification that you can use to admit patient 64292?,,,
f0782e76ee1d6e988ec5bb08,What is the cost of the drug named divalproex (extended release)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'divalproex (extended release)' ),,
6316365253c771062657103d,"Show the number of patients who underwent introduction of other therapeutic substance into heart, open approach.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of other therapeutic substance into heart, open approach' )"
f0508cab258d6df36060ea48,What is patient 10016150's heart rate change last measured on the first ICU visit compared to the value first measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT first_value(chartevents.valuenum) OVER (PARTITION BY chartevents.stay_id ORDER BY chartevents.charttime), last_value(chartevents.valuenum) OVER (PARTITION BY chartevents.stay_id ORDER BY chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) ORDER BY icustays.intime ASC LIMIT 1 )"
1bd83a6f25d3ac9d966ec9e9,What was the total number of input patient 10020944 has received on 03/07/this year?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '03-07'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_mv.amount) FROM inputevents_mv INNER JOIN admissions ON inputevents_mv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10020944 AND inputevents_mv.charttime LIKE '03/07/%'
8f1e4140fd54d60a4a21a46e,What drug was first prescribed to patient 10021938?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Senna'}],SELECT first_prescription.order_id FROM ( SELECT MIN(orders.order_date) as first_order_date FROM orders WHERE orders.subject_id = 10021938 ) as first_date JOIN orders as first_prescription ON first_prescription.order_date = first_date.first_order_date AND first_prescription.subject_id = 10021938 JOIN d_items as drug_name ON first_prescription.itemid = drug_name.itemid
216744fcbadbfb5384e8c226,What are the top four commonly ordered treatments for patients in their 30s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
1757227b484201499ac650b9,Has patient 10022041 received a laboratory test for vitamin b12?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'vitamin b12' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.fluid = 'Serum' AND d_labitems.name = 'Vitamin B12')
d0236a73c2938bd7a69aac21,Was any tpn without lipids medication provided to patient 10020740 on 03/26/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tpn without lipids' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-26'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10020740 AND prescriptions.startdate = '03/26/2100' AND prescriptions.drug LIKE '%tpn without lipids%'
4cb5de3e5bd12beac4b15b14,Tell me the total output since 04/03/2100 for patient 10012552.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-04-03'",[{'SUM(outputevents.value)': 8408.0}],SELECT sum(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND chartevents.itemid = 227725 AND chartevents.charttime >= '2000-03-04 00:00:00'
066f306279b80b6d43827f27,"In 2100, what are the five frequently ordered treatments for patients who were diagnosed with cachexia during the same month?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cachexia' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,
42450225f8907884075ad901,Provide the top four most common treatments since 1 year ago.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT procedures_icd.procedure_name, COUNT(*) AS frequency FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY procedures_icd.procedure_name ORDER BY frequency DESC LIMIT 4"
a8ed1315b3325cab2ae9dcee,"Can you provide the name of the drug that was prescribed to patient 10022017 within 2 days post bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach procedure in the last hospital visit?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admittime, dischtime, icustays.intime, icustays.outtime, procedures.procedure_name, drugs.name FROM admissions JOIN icustays ON icustays.hadm_id = admissions.hadm_id JOIN procedures ON procedures.hadm_id = admissions.hadm_id JOIN drugs ON drugs.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10022017 AND procedures.procedure_name = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach' AND drugs.starttime BETWEEN (SELECT icustays.intime FROM icustays WHERE icustays.hadm_id = admissions.hadm_id) AND (SELECT icustays.outtime FROM icustays WHERE icustays.hadm_id = admissions.hadm_id) AND drugs.starttime BETWEEN admittime AND DATE_ADD(admittime, INTERVAL 2 DAY)"
92360fdf128eef86912196c6,What is patient 10004235's minimum value of atypical lymphocytes in 03/2100?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'atypical lymphocytes' ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'atypical lymphocytes' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN '2100-03-01 00:00:00' AND '2100-03-31 23:59:59'
11334e5323118eea80ce40d5,What were the top three most common procedures in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,
9906ee00ac2183b7e809821c,List the top four most frequently prescribed medications since 2100.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) >= '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]",
74cb952e6290049d94447a5f,Tell me the last output of patient 10005909 since 269 days ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-269 day') ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Void'}],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'urine output' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-269 days') ORDER BY chartevents.charttime DESC LIMIT 1"
ba3296488999e2e149c3a32e,How often was other enterostomy done?,SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other enterostomy' ),[{'COUNT(*)': 0}],SELECT COUNT(*) FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'other enterostomy' )
a3e6f2a97bc4bdaab7616bd2,What percentile is 2.3 on a lactate test among patients of the same age as patient 10015272 during the first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10015272 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 2.3",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY lactate.valuenum) OVER (PARTITION BY age) FROM lactate JOIN admissions ON lactate.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob = (SELECT patients.dob FROM patients WHERE patients.subject_id = 10015272) AND lactate.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015272 ORDER BY admissions.admittime ASC LIMIT 1) AND lactate.valuenum = 2.3
63677b75a5d720c6cc3d41f2,How many of ticagrelor were prescribed to patient 10007058 in total in the last month?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND prescriptions.drug = 'ticagrelor' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT sum(cases.amount) FROM cases JOIN drugs ON drugs.drug_id = cases.drug_id JOIN patients ON patients.patient_id = cases.patient_id WHERE drugs.name = 'ticagrelor' AND patients.id = 10007058 AND cases.date BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND CURDATE()"
e96433c5e849a24c421d221b,"What was prescribed to patient 10015931 during the same hospital visit following their replacement of aortic valve with zooplastic tissue, percutaneous approach during this month?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(procedures_icd.charttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT admittime, dischtime, startdate, enddate, drug FROM patients JOIN admissions ON admissions.subject_id = patients.subject_id JOIN prescribings ON prescribings.hadm_id = admissions.hadm_id WHERE patients.subject_id = 10015931 AND admissions.admittime <= current_date AND admissions.dischtime >= current_date AND prescribings.startdate >= current_date AND prescribings.enddate <= current_date AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'replacement of aortic valve with zooplastic tissue, percutaneous approach' ) ) )"
6b24642366cb89db4096210b,What's the rank of the top four most common output events in 2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE strftime('%Y',outputevents.charttime) = '2100' GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT outputevents.category, COUNT(*) AS event_count FROM outputevents WHERE outputevents.charttime >= '2100-01-01' AND outputevents.charttime <= '2100-12-31' GROUP BY outputevents.category ORDER BY event_count DESC LIMIT 4"
f517e3cce89ac464b8a1e6e1,What is the monthly average value of weight for patient 10007818?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m',chartevents.charttime)",[],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' AND d_items.linksto = 'chartevents' ) GROUP BY EXTRACT(MONTH FROM chartevents.charttime)
ab7b619c104c7acdd3b347a6,"Number of patients who were given a drainage of left pleural cavity, percutaneous approach procedure since 1 year ago.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') )",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach' ) AND procedures_icd.chartdate >= ( DATE_SUB(CURDATE(), INTERVAL 1 YEAR) )"
0a966abcccedcc3a0964e05e,Has patient 10038992 had a lab test?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 )
c1bb80af8e65bc3a342a8f5f,"Can you find the three most frequent drugs that were prescribed within 2 months after a swelling, mass, or lump in head and neck diagnosis was given since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'swelling, mass, or lump in head and neck' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT top_drugs, COUNT(*) AS frequency FROM ( SELECT DISTINCT chartevents.itemid AS top_drugs FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.charttime BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) AND chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM diagnoses_icd WHERE ICD9_CODE = '228.0' ) ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') ) AS subquery GROUP BY top_drugs ORDER BY frequency DESC LIMIT 3"
a49ff217e1eaf845efa42727,"Since the first diagnosis of patient 10018081 with pure hypercholesterolemia on their current hospital encounter, how many days have passed?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pure hypercholesterolemia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.adm_id IN ( SELECT adm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pure hypercholesterolemia' ) AND diagnoses_icd.seq_num = 1 ) )) AS days_passed"
a718668474f99aed79794a78,What's the weight difference of patient 10027602's body second measured on the last hospital visit compared to the value first measured on the last hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT MAX(valuenum) - MIN(valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' )
dfa9c58ea0197508d2682000,Was any prescription drug given to patient 10004235 in 03/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-03'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10004235 AND prescriptions.startdate BETWEEN '03/01/2010' AND '03/31/2010'
5852e743e53e91715cff50d3,Tell me the length of stay in days of patient 10007795's last ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.0505208340473473}]",SELECT icustays.length_of_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) ORDER BY icustays.intime DESC LIMIT 1
94f9e6d642b39e6a9d1a0559,What is the maximum total cost for a hospital visit that involved a macrophage lab test?,SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'macrophage' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MAX(t1.amount) FROM finance t1 JOIN labevents t2 ON t1.stay_id = t2.stay_id WHERE t2.itemid IN ( SELECT itemid FROM d_labitems WHERE label = 'macrophage' )
6992e079d5cc2aa7a2bb6cbe,Does patient 5142 have a travel history from overseas?,,,
fbb777a428c35d8695cc62d5,What is the minimum value of ketone on patient 10036156 in 07/this year?,"SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ketone' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '07'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(valuenum) FROM labevents WHERE itemid IN ( SELECT itemid FROM d_labitems WHERE label = 'Ketone' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10036156 ) AND chartdate BETWEEN '2022-07-01' AND '2022-07-31'
7cbf3d09dcab163910469c88,What was the organism detected during the first urine microbiology test of patient 10037861 since 08/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-08' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.chartdate) >= datetime('08/2100') ORDER BY microbiologyevents.chartdate ASC LIMIT 1
46a12514c3bab25439a23710,Show me the length of time in days patient 10014729 was in the ICU during the last visit.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.471168980933726}]",SELECT MAX(icustays.outtime)-MIN(icustays.intime) FROM icustays JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10014729
ceb8a5c222865829ffc00ea9,At what time did the last incident of patient 10019172 having a maximum SaO2 occur on last month/20?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',chartevents.charttime) = '20' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.valuenum = ( SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.charttime >= '2020-01-01' AND chartevents.charttime <= '2020-01-31' )
bc354ef513b2215446177f31,Count the number of hospital visits patient 10038933 had during the last year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10038933 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
967175d0df47b1226680f9bc,What was the name of the organism at the first urine test of patient 10031757 during their last hospital visit?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND microbiologyevents.chartdate IN ( SELECT MIN(microbiologyevents.chartdate) FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND microbiologyevents.spec_type_desc = 'urine' ) AND microbiologyevents.spec_type_desc = 'urine' LIMIT 1
a960378edd7b28956a92d2bb,What was the drug that patient 10025463 was prescribed with during the same day after the catheter based invasive electrophysiologic testing?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'catheter based invasive electrophysiologic testing' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT medications.greyclouds FROM medications JOIN admissions ON medications.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10025463 AND medications.starttime IN ( SELECT procedures_icd.charttime AS day FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'catheter based invasive electrophysiologic testing' ) AND procedures_icd.hadm_id = admissions.hadm_id )
83d85a4fb249a66c71ea4700,Could you tell me the gender of patient 10004733?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10004733,[{'gender': 'M'}],SELECT gender FROM patients WHERE subject_id = 10004733
81f790401d1b25c6eebdd607,What was the total of pantoprazole patient 10020944 had been prescribed in 03/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND prescriptions.drug = 'pantoprazole' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '03'",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(c_total) FROM ( SELECT COALESCE(prescriptions.dose, 0) * prescriptions.rate * prescriptions.duration / 1000 AS c_total FROM prescriptions INNER JOIN patients ON prescriptions.SUBJECT_ID = patients.SUBJECT_ID WHERE patients.SUBJECT_ID = 10020944 AND prescriptions.drug LIKE 'PANTOPRAZOLE%' AND prescriptions.startdate >= '2022-03-01' AND prescriptions.startdate <= '2022-03-31' ) AS subquery"
ea52341a69ca686cb059fc2c,Has there been any diagnosis that patient 10004733 has received in 2100?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100'",,
b1838eeaf67182e2d4080d5d,What were the top four most common specimens tested on patients in the same hospital encounter after the diagnosis of suicidal ideation?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'suicidal ideation' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,"SELECT specimen, COUNT(*) AS frequency FROM labevents WHERE labevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE hospital_expire_flag = 1 AND admitting_diagnosis LIKE '%suicidal ideation%' ) GROUP BY specimen ORDER BY frequency DESC LIMIT 4"
44976b84ff1c95d71e982f32,What immunocancer drugs have been used for the last five years?,,,"SELECT DISTINCT drug FROM medications WHERE start_date >= DATE_SUB(CURRENT_DATE(), INTERVAL 5 YEAR)"
479ae3deb06c95266bad80c8,What was patient 10027602's arterial blood pressure systolic for the first time since 244 days ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-244 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-244 day') ORDER BY chartevents.charttime ASC LIMIT 1"
40c2eb3691b1c2483780d090,What exactly was the first drug that patient 10038992 was prescribed?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Heparin'}],SELECT drug_name FROM prescriptions WHERE subject_id = 10038992 ORDER BY startdate ASC LIMIT 1
eee4eef5cba60f4be092bcb9,"Was the calcium, total value second measured on the first hospital visit of patient 10019568 greater than first measured on the first hospital visit?","SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) ORDER BY labevents.charttime ASC LIMIT 1 )","[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","WITH first_visit AS ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ORDER BY admissions.admittime ASC LIMIT 1 ) , calcium_measurements AS ( SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT first_visit.hadm_id FROM first_visit ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'calcium, total' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC ) SELECT calcium_measurements.valuenum > ( SELECT calcium_measurements.valuenum FROM calcium_measurements ORDER BY calcium_measurements.charttime ASC LIMIT 1 ) FROM calcium_measurements ORDER BY calcium_measurements.charttime ASC LIMIT 1,1"
6ba230c3cb949791fde3229f,How much nystatin oral suspension has been prescribed to patient 10024043 in total?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10024043 ) AND prescriptions.drug = 'nystatin oral suspension',[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(coalesce(quantity,1)*coalesce(g quantity,1)) FROM prescriptions WHERE prescriptions.subject_id = 10024043 AND prescriptions.drug = 'NYSTATIN ORAL SUSPENSION'"
1c66f7fcfad7cbff26b54abe,"What are the top five most common microbiology tests for people who were diagnosed with respiratory failure, unspecified, unspecified whether with hypoxia or hypercapnia earlier within 2 months, since 2100?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'respiratory failure, unspecified, unspecified whether with hypoxia or hypercapnia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT test_name, COUNT(*) AS test_count FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'J96' AND datetime(microbiologyevents.chartdate) BETWEEN '2100-01-01' AND '2101-01-01' AND datetime(admissions.admittime) BETWEEN datetime(microbiologyevents.chartdate,'-2 months') AND datetime(microbiologyevents.chartdate) GROUP BY test_name ORDER BY test_count DESC LIMIT 5"
3a2f38d0445a8f3784327832,What was the other myectomy time for patient 4718?,,,
76247d92b87ae733ddbc1905,When was the last test of patient 10020740's microbiology stool in 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND microbiologyevents.spec_type_desc = 'stool' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE subject_id = 10020740 AND chartdate = '03/2100' AND spec_type_desc = 'STOOL' ORDER BY charttime DESC LIMIT 1
86c276704c3a408a1f31e367,"What is the total number of patients who underwent measurement of cardiac sampling and pressure, right heart, percutaneous approach?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'measurement of cardiac sampling and pressure, right heart, percutaneous approach' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'measurement of cardiac sampling and pressure, right heart, percutaneous approach')"
b53daa3c6e0af875928b6bd7,"How many days have passed since the last time patient 10021487 received a lab test of calcium, urine during the current hospital encounter?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(NOW(), chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Calcium, urine' ) ORDER BY chartevents.charttime DESC LIMIT 1"
8f20718e8f7720e51c34a9b9,What are the four diagnoses with the highest 6-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/2 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/2 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,
90c223d20a0599528657b6d3,What organism was found in patient 10001725's last urine test during their first hospital encounter?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbes.org_name FROM microbes WHERE microbes.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10001725 ) ) AND microbes.chartdate IN ( SELECT MAX(chartdate) FROM microbes WHERE microbes.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001725 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10001725 ) ) )
9838b1b25dbb387afc8f07aa,What is the prescription dose of opioid for patient 31306?,,,SELECT prescription.dose FROM prescription WHERE prescription.subject_id = 31306 AND prescription.drug IN ( SELECT drugs.name FROM drugs WHERE drugs.class = 'opioid' )
389610e48fedce18d3b1ef8d,"What are the four frequently ordered drugs for patients diagnosed with other and unspecified alcohol dependence, continuous previously in the same hospital visit, since 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified alcohol dependence, continuous' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT d_order_items.name, COUNT(*) AS order_count FROM orders JOIN d_order_items ON orders.orderid = d_order_items.orderid JOIN admissions ON orders.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON admissions.d_icd_diagnoses_icd_icd9 = d_icd_diagnoses.icd9 WHERE d_icd_diagnoses.short_title = 'other and unspecified alcohol dependence, continuous previously' AND orders.ordercategoryname = 'DRUG' AND orders.charttime > '2100-01-01' GROUP BY d_order_items.name ORDER BY order_count DESC LIMIT 4"
623f6b6f64fea20e0be94ac5,What was the time of patient 10006053's first peritoneal fluid microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND microbiologyevents.spec_type_desc = 'peritoneal fluid' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'Perf Mircrbio' ) AND chartevents.charttime >= '2100-03-01 00:00:00' ORDER BY chartevents.charttime ASC LIMIT 1
dc9b13fe2202c498d8511fe7,"Among patients in their 50s since 2100, what were the top five most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
6cd63183970459480e3afa9b,"After receiving simple excision of other lymphatic structure in this year, what are the four most common diagnoses that patients received in the same month?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT c1.diagnosis, COUNT(*) AS count FROM ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'simple excision of other lymphatic structure' ) AND procedures_icd.chartdate >= date_trunc('month', current_date) AND procedures_icd.chartdate <= current_date ) AS adms INNER JOIN ( SELECT icustays.hadm_id, diagnoses_icd.diagnosis FROM diagnoses_icd INNER JOIN icustays ON diagnoses_icd.hadm_id = icustays.hadm_id WHERE diagnoses_icd.seq_num = 1 AND icustays.intime >= date_trunc('month', current_date) AND icustays.intime <= current_date ) AS c1 ON adms.hadm_id = c1.hadm_id GROUP BY c1.diagnosis ORDER BY count DESC LIMIT 4"
3744204f6970ebf11f57c0ba,What was the last time when patient 10019568 received a platelet count lab test during their first hospital visit?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'platelet count' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.admittime <= ( SELECT min(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10019568 ) ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'platelet count' ) ORDER BY labevents.charttime DESC LIMIT 1
6264718a6161659bf85a5b7c,What is the maximum total cost of the hospital encounters that include a medicine named prasugrel since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'prasugrel' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX( sum( ( CASE WHEN drug.name = 'prasugrel' THEN drug_cost.amount ELSE 0 END ) * drug_cost.dosage ) ) FROM drug_cost INNER JOIN drug ON drug_cost.drug_id = drug.id WHERE drug_cost.encounter_time >= '2100-01-01'
8d8cd6284d24a2bdccc48b42,What number of days has it been since the first time patient 10004733 was diagnosed with diverticulosis of colon (without mention of hemorrhage) during this hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'diverticulosis of colon (without mention of hemorrhage)' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.linksto = 'chartevents' AND d_items.description = 'Diverticulosis of colon (without mention of hemorrhage)' )
2694b78056d19869dc331d60,What was the name of that output that patient 10021938 first had since 01/15/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-01-15' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Void'}],
4a9da1e78cc48ca85038714a,What is the value of patient 10039831's yearly average or packed rbc intake input since 12/08/2100?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or packed rbc intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-08' GROUP BY strftime('%Y',inputevents.starttime)",[],
57ee9b35377fe295adfbf9c1,How much did patient 10031404 weigh during their last measurement since 21 months ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-21 month') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-21 month') ORDER BY chartevents.charttime DESC LIMIT 1"
bd3f5f6c3bbd8425f3cceaf4,What was the last time in 03/this year patient 10019777 had the maximum absolute monocyte count.,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute monocyte count' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '03' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute monocyte count' ) AND labevents.charttime >= '2022-03-01' AND labevents.charttime < '2022-04-01' ORDER BY labevents.valuenum DESC, labevents.charttime DESC LIMIT 1"
f51f73add40fa25cc0d3936a,What was the amount of insulin human regular that was prescribed to patient 10009035 for the last time since 05/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND prescriptions.drug = 'insulin human regular' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT outputevents.valuenum FROM outputevents WHERE outputevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'insulin human regular' ) AND datetime(outputevents.charttime) >= '2021-05-01' ORDER BY outputevents.charttime DESC LIMIT 1
972b49483131cf603f6639f5,Can you tell the daily average dose of nacl 0.9% that patient 10014354 received since 03/2100?,"SELECT AVG(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-03' GROUP BY strftime('%Y-%m-%d',inputevents.starttime)",[],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = '0.9% NaCl' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '03/21/2010' GROUP BY date(chartevents.charttime)
beba565897d39febcb35f999,"How many hours have passed since patient 10018081 got her first diagnosis of congestive heart failure, unspecified on this hospital encounter?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'congestive heart failure, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT TIMESTAMPDIFF(HOUR,admissions.admit_dt,diagnoses_icd.icd9_cm) FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd9_cm = ( SELECT icd9_cm FROM d_icd_diagnoses WHERE long_title = 'congestive heart failure, unspecified') AND admissions.subject_id = 10018081"
138c2d22c5c0e542ad8688f0,What diagnosis did patient 10010471 receive in the first hospital encounter for the last time?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,"SELECT admittime, dischtime, diagnosis FROM diagnoses_icd WHERE diagnoses_icd.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1"
38d2cf0507adde7b8f7a6eb3,"Tell me the name of the drug patient 10007818 was prescribed during the same day after having received a fluoroscopy of superior vena cava using other contrast, guidance procedure in 07/this year?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of superior vena cava using other contrast, guidance' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '07' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,"SELECT prescriptions.drug FROM prescriptions INNER JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007818 AND prescriptions.startdate IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%fluoroscopy of superior vena cava using other contrast, guidance%' AND d_icd_procedures.category = 'Procedure' ) AND procedures_icd.hadm_id = prescriptions.hadm_id AND prescriptions.starttime = procedures_icd.charttime AND prescriptions.chartdate BETWEEN '2023-07-01' AND '2023-07-31' )"
6b6d306062e42562e6047276,Tell me the four most common diagnoses since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) as count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time, '-1 year')) GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 4"
439e2e43115263121a562994,When was the first test of patient 10005348's microbiology urine in 09/this year?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND microbiologyevents.spec_type_desc = 'urine' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '09' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartdate FROM microbiologyevents WHERE microbiologyevents.chartdate >= '09-01-2022' AND microbiologyevents.chartdate < '10-01-2022' AND microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005348 ) AND microbiologyevents.spec_type_desc = 'Urine' ORDER BY chartdate ASC LIMIT 1
ccf62a429718ac33d9c26686,What are the three most common specimen tests that occurred since 2100?,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]",
b46dbc1a0b8589b45641e9db,What was the first time that patient 10008287 had the maximum value of calculated total co2 since 01/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-01' ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calculated total co2' ) AND datetime(labevents.charttime) >= '01/01/2100' ORDER BY labevents.valuenum DESC, labevents.charttime ASC LIMIT 1"
339d3163e8bea1c8f13aabf3,What was the dose of insulin human regular that patient 10035185 was last prescribed?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10035185 ) AND prescriptions.drug = 'insulin human regular' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10035185 AND prescriptions.drug_name = 'insulin human regular' ORDER BY prescriptions.start_date DESC LIMIT 1
195ea0933db24ed2ac3c0a71,"What were the first chloride, urine values of patient 10009049 during their first hospital encounter?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, urine' ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum, chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, urine' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1"
4ba1843465e5f775b2a892a8,What specimen test was last given in 11/2100 to patient 10005909?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-11' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND chartevents.charttime BETWEEN '2021-11-01' AND '2021-11-30' ORDER BY chartevents.charttime DESC LIMIT 1
efc40de8a506d0e04de52dd0,When and where are the rounds and procedures of dr. coburn?,,,
bd5f6fd5ab13ce62634ea939,What was patient 10039997's daily average weight since 4 months ago?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-4 month') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-4 month')"
fb87e4c3918b28e10f458a76,What was patient 10027602's first csf;spinal fluid's microbiology test time during the previous month?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'csf;spinal fluid' AND datetime(microbiologyevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' AND d_items.label LIKE '%CSF%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 month') ORDER BY chartevents.charttime ASC LIMIT 1"
1138580aa607ef75fdf6df17,Count the number of patients who were discharged since 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND strftime('%Y',admissions.dischtime) >= '2100'",[{'COUNT( DISTINCT admissions.subject_id )': 180733}],SELECT COUNT(*) FROM admissions WHERE discharge_year > 2100
60fa5859e5561740ec7d024d,What is dr. turner's outpatient schedule today?,,,
71b139cfa31f5f0c28ac7223,When was the last mrsa screen microbiology test performed in 11/2100 for patient 10027602?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-11' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE subject_id = 10027602 AND chartdate BETWEEN '2021-11-01' AND '2021-11-30' AND itemid = (SELECT itemid FROM d_items WHERE label = 'MRSA Screen') ORDER BY charttime DESC LIMIT 1
16e880e54314b4d23201e4d1,Retrieve the top three most common lab tests.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(labevents.labevent_id) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY count DESC LIMIT 3"
3ce0aee35413ee29a66136d0,What was the last drug prescribed to patient 10007058 during the last month via the iv route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, dischtime, subject_id, hadm_id, itemid, startdate, enddate, drug, dose, rate, ordercategoryname, route, stopped FROM prescriptions WHERE subject_id = 10007058 AND route = 'IV' AND enddate >= datetime(current_time, '-1 month') ORDER BY enddate DESC LIMIT 1"
af972afb21a4db1766988356,Total number of patients who had arteriography of other intra-abdominal arteries in the last year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other intra-abdominal arteries' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of other intra-abdominal arteries' ) AND procedures_icd.chartdate >= datetime(current_date,'-1 year')"
876f65e64154a3d0ee436ad3,Is patient 10008454's o2 saturation pulseoxymetry second measured on the last ICU visit less than the first value measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (second.valuenum < first.valuenum) AS comparison FROM (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry') AND chartevents.charttime = (SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry')) LIMIT 1 OFFSET 1) AS second, (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry') AND chartevents.charttime = (SELECT MAX(chartevents.charttime) FROM chart"
0a403bb61217529f94970734,What was patient 10018081's maximum systolic blood pressure since 06/07/2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-06-07'",[{'MAX(chartevents.valuenum)': None}],SELECT MAX(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'sysbp') AND chartevents.charttime >= '06/07/2100' AND admissions.subject_id = 10018081
a76ac4f3407058b120923fca,What was the first drug that was prescribed to patient 10021938 via the pr route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021938 ) AND prescriptions.route = 'pr' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10021938 AND prescriptions.route = 'PR' ORDER BY prescriptions.startdate LIMIT 1
4bb969590b7a2c2464c7bb44,Tell me the length of time in days for patient 10019172's last stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 3.4558912040665746}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ORDER BY icustays.intime DESC LIMIT 1"
e5cad69b2c1bd6709789926f,"What is the number of patients that received a rbc, csf test during the previous year?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rbc, csf' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label IN ('rbc csf') AND chartevents.charttime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) AND CURRENT_DATE"
db710bbbad258467ce5d73b8,What was the name of the specimen given to patient 10011398 for the first time in the last hospital visit?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],SELECT body_site.body_part FROM body_site JOIN chartevents ON body_site.bsite_id = chartevents.valueuom WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid = 877 AND chartevents.valuenum = 1 ORDER BY chartevents.charttime ASC LIMIT 1
0f3620b0b09198874571d19d,List the top four most frequent microbiology tests given to patients after being diagnosed with presence of cardiac pacemaker in the same month.,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'presence of cardiac pacemaker' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"WITH pacemaker_diagnosis AS ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = 'V455' ), pacemaker_mbio AS ( SELECT microbio.subject_id, micorbio.hadm_id, microbio.chartdate FROM pacemaker_diagnosis AS diag JOIN microbiologyevents AS microbio ON microbio.hadm_id = diag.hadm_id WHERE microbio.chartdate BETWEEN diag.admittime AND DATE_ADD(diag.dischtime, INTERVAL 1 MONTH) ) SELECT d_microbiologyevents.testname, COUNT(*) AS frequency FROM pacemaker_mbio JOIN d_microbiologyevents ON d_microbiologyevents.testcode = pacemaker_mbio.testid GROUP BY d_microbiologyevents.testname ORDER BY frequency DESC LIMIT 4"
46024bc03077cc1765abf676,"In 04/last year has insulin, metronidazole (flagyl), or bisacodyl been prescribed for patient 10021487?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.drug IN ( 'insulin', 'metronidazole (flagyl)', 'bisacodyl' ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.drug IN ('insulin', 'metronidazole', 'bisacodyl') AND prescriptions.dose_unit drifts offSQL"
5cd6bddbc341bdc7d39bab2f,When did on their first hospital visit patient 10038933 take the first microbiology test?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,[{'charttime': '2148-09-10 15:29:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ORDER BY admissions.admittime LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%microbiology%' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
998714278a267519fc47473b,"Since 22 months ago, what was patient 10038933's first weight measurement?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-22 month') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= datetime(current_time,'-22 month') ORDER BY chartevents.charttime ASC LIMIT 1"
db2e74ae7eb32d3ddbdbe8b2,How much does patient 10005817 weigh based on the last measurement since 07/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-07' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime > '07/2100' ORDER BY chartevents.charttime DESC LIMIT 1
c7ae2e00343bbb04614217b6,What medication was prescribed to patient 10023239 first time on their first hospital visit?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY prescriptions.starttime ASC LIMIT 1,[{'drug': 'Levothyroxine Sodium'}],"SELECT admittime, subject_id, drug FROM prescribings WHERE subject_id = 10023239 ORDER BY admittime ASC, starttime ASC LIMIT 1"
8325c8b0200f0d5f16e96fd7,How much did patient 10021487 weigh during their first measurement in 12/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) = '2100-12' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.admittime BETWEEN '2012-01-01' AND '2012-12-31' ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
346ee07f02d16abcf7f62e9e,What is the white blood cells percentile of 12.1 among patients of the same age as patient 10001217 on their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 12.1",,SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY wbc.valuenum) OVER (PARTITION BY wbc.subject_id) FROM wbc WHERE wbc.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) ) AND wbc.charttime = ( SELECT MAX(wbc.charttime) FROM wbc WHERE wbc.subject_id = 10001217 ) AND wbc.subject_id = 10001217 AND wbc.valuenum = 12.1
090c2ad4771d1fc8adaea4ae,Has patient 10014078 been prescribed a specific drug in 09/this year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '09'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10014078 AND prescriptions.startdate >= '2021-09-01' AND prescriptions.enddate <= '2021-09-30'
2533e11570c9cac4cf3be471,Was patient 10019777 treated with a procedure on single vessel procedure in the previous year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'procedure on single vessel' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd AS pi JOIN admissions AS a ON pi.hadm_id = a.hadm_id WHERE a.subject_id = 10019777 AND pi.chartdate BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE() AND pi.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%single vessel procedure%' )"
5fb21a95a15d64c85db2fed8,Count the number of drugs prescribed since 08/2100 for patient 10038081.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08'",[{'COUNT(*)': 99}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10038081 AND prescriptions.startdate >= '08/2100'
30e8031670f0d3838d940ec4,What was the last time when patient 10006580 received a creatinine lab test since 03/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-03' ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '2160-0' ) AND datetime(labevents.charttime) >= datetime('03/2100') ORDER BY labevents.charttime DESC LIMIT 1
23186572a878a351ae7acf5b,How many days have passed since patient 10018081's first hematocrit laboratory test on this hospital stay?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT (CURRENT_DATE - MIN(chartevents.charttime)) AS days_passed FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE label = 'hematocrit')
0981b590800b50362ed9bd99,How many patients were diagnosed with other postoperative infection since 2100 after already being diagnosed with injury to thoracic aorta during the same hospital encounter?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'injury to thoracic aorta' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other postoperative infection' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,SELECT COUNT(*) FROM diagnoses_icd AS D1 INNER JOIN diagnoses_icd AS D2 ON D1.hadm_id = D2.hadm_id WHERE D1.icd_code LIKE 'A41%' AND D2.icd_code LIKE '931%' AND D2.admittime <= D1.admittime AND D1.admitdatetime >= '2100-01-01'
320d0d42e2bc3e896297a919,What is the white blood cells percentile of 11.6 among patients of the same age as patient 10004720 during their last hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 11.6",,
d86c1530c01a8065fe956df5,What was the drug patient 10010471 was prescribed for the last time using the po route since 03/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT prescriptions.stopdate, prescriptions.drgname FROM prescriptions WHERE prescriptions.subject_id = 10010471 AND prescriptions.route = 'PO' AND prescriptions.stopdate >= '2021-03-01' ORDER BY prescriptions.stopdate DESC LIMIT 1"
7f006b94d6653a3b89d33cc2,How many patients stayed on emergency department observation since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'emergency department observation' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.admission_type = 'EMERGENCY' AND admissions.admission_location = 'Observation' AND admissions.admittime >= '2100-01-01 00:00:00'
7bd0fb1be2b05eacb63558d9,What do the precautions be after the spinal canal explor nec procedure?,,,
b491a9d1d8f94456fa46b689,Tell me the number of patients discharged from the hospital throughout this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE discharge_year = YEAR(CURDATE())
ae863d8431919bbfb1dca0db,What is the outpatient schedule today for dr. solis?,,,
05c7819c63aa7a68dc9545c3,How many people were given prescriptions for heparin flush (100 units/ml) since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'heparin flush (100 units/ml)' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.dose = '100' AND prescriptions.units = 'units/ml' AND prescriptions.drug = 'heparin flush' AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
7c3ea800b2b64cb1b3cf89a4,What is the title of the medication that was given to patient 10012853 last via the po means in 04/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) AND prescriptions.route = 'po' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT med_admins.order_label FROM med_admins WHERE med_admins.subject_id = 10012853 AND med_admins.admin_time >= '2023-04-01' AND med_admins.admin_time < '2023-05-01' AND med_admins.admin_route = 'PO' ORDER BY med_admins.admin_time DESC LIMIT 1
e2be072741fd9d09da7ab8b3,"Compared to yesterday, what are the new prescriptions for patient 10004733 today?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND prescriptions.startdate > date_sub(current_date, interval 1 day) AND prescriptions.startdate <= current_date EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10004733 AND prescriptions.startdate > date_sub(current_date, interval 2 day) AND prescriptions.startdate <= date_sub(current_date, interval 1 day)"
5c872eafe61305c165ef7490,Tell me the reimbursement standard for a drug?,,,
ebde9f1b9d393f71e485fb70,Is patient 18677 having a history of suppurat peritonitis nec in his/her family?,,,
aaca78ea66f02f483ebdf478,What's the cost of a procedure called regional lymph node excision?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'regional lymph node excision' ) ),,
4bb1514c5befb0ece60fdb11,Has there been any organism found in patient 10020740's last sputum microbiology test in 04/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-04' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10020740 AND microbiologyevents.specimen_type = 'Sputum' AND datetime(microbiologyevents.chartdate) = datetime('04/2100') AND (microbiologyevents.org_itemid > 0 OR microbiologyevents.org_name != '')
84cf86069630ec83176f8f8e,What were the top five most often performed treatments for patients in their 20s in 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND strftime('%Y',procedures_icd.charttime) = '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
7f9686faa27e555657f81477,Show me the top five most commonly prescribed drugs since 1 year ago.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 5","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}, {'drug': 'Acetaminophen'}]","SELECT d_items.label, COUNT(*) AS count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime(current_time,'-1 year') GROUP BY d_items.label ORDER BY count DESC LIMIT 5"
db468e7d4e952084d2241b01,Could you list patient 10004235's monthly average weight since 03/2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-03' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT date_trunc('month', chartevents.charttime) AS month, AVG(chartevents.valuenum) AS average_weight FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004235 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' ) AND chartevents.charttime >= '03/2100' GROUP BY month ORDER BY month ASC"
118bc51491df8cdec1b69a69,Could you tell me the name of the drug prescribed to patient 10018081 within 2 days after the enteral infusion of concentrated nutritional substances procedure since 09/2100?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'enteral infusion of concentrated nutritional substances' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-09' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT admitem.drgname FROM admitem WHERE admitem.subject_id = 10018081 AND admitem.orderdate BETWEEN datetime('09/2100', '2 days') AND datetime('09/2100') AND admitem.drgname LIKE '%concentrated nutritional substances%' AND admitem.stopped IS NULL"
f4efae356977c3e6db1d472e,What is the name of the medication that was prescribed to patient 10037975 for the last time via the iv route since 02/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND prescriptions.route = 'iv' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10037975 AND admittime >= '02/2100'
2a882b413da76b5d3b4d828a,What was the name of the organism discovered in the first abscess test of patient 10007795 in 04/this year?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'abscess' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],
a990c12b1e421dffb6cca4e2,What are the five most frequently ordered medications that patients in their 30s were prescribed during the same month after being diagnosed with unspecified essential hypertension in 2100?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified essential hypertension' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 30 AND 39 AND strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescriptions.drug, COUNT(*) AS frequency FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE patients.dob BETWEEN '1980-01-01' AND '1989-12-31' AND admissions.admittime BETWEEN '2021-01-01' AND '2021-01-31' AND admissions.diag_1 = '4019' GROUP BY prescriptions.drug ORDER BY frequency DESC LIMIT 5"
6975f69a4cfb65e6179fba81,When did patient 10007795 receive the last mrsa screen microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'MRSA Screen' AND d_items.linksto = 'microbiologyevents' ) AND datetime(chartevents.charttime) >= datetime('03/2100') ORDER BY chartevents.charttime DESC LIMIT 1
9191a69ae68cf1a4e5e3ebba,When was the last time on the first ICU stay patient 10020944's SaO2 was greater than 99.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 99.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SpO2' ) AND chartevents.valuenum > 99 ORDER BY chartevents.charttime DESC LIMIT 1
73a58a83894d2589594daf4a,What were the five most frequent output events in this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= DATE_FORMAT(NOW(), '%Y-01-01 00:00:00') GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
82922424bd771f502216cfe8,When was the first time patient 10020187 was measured mean blood pressure less than 91.0 on 02/03/this year?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 91.0 AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',chartevents.charttime) = '02-03' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10020187 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' ) AND chartevents.valuenum < 91.0 AND chartevents.charttime >= '2023-02-03' ORDER BY chartevents.charttime LIMIT 1
0b9e4acffe9d8f86bd9be2bf,Will patient 97121 get any additional stool (received in transport system) test?,,,
d9529dbe9af1c4a2f0911379,Has patient 10002495 been tested on phosphate in 06/this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'phosphate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '06'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'phosphate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-06-01' AND chartevents.charttime < '2022-07-01'
4a42f97a1663ba9024599519,"In 2100, what are the top four most frequently taken specimens for patients within 2 months after receiving bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, three arteries from aorta with autologous venous tissue, open approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 4",,
ba0e6ef5be18634efe802c90,How many patients stayed at the med/surg/gyn?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'med/surg/gyn' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.hospital_service = 'med/surg/gyn'
013f12f8af555d68080086d8,When was the first input time for patient 10011398 since 11/23/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-11-23' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2146-12-15 12:30:00'}],SELECT first_careunit.input_time FROM first_careunit WHERE first_careunit.subject_id = 10011398 AND first_careunit.input_time >= '11/23/2100' ORDER BY first_careunit.input_time ASC LIMIT 1
e93f9ba8d8777339be3240be,What was the first lab test result of the absolute neutrophil count for patient 10014354 on the last hospital visit?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute neutrophil count' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'absolute neutrophil count' ) ORDER BY labevents.charttime ASC LIMIT 1
73df5b035a5cac7c093f1211,Calculate patient 10013049's length of stay in days for the first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.1769212959334254}]",SELECT (icustays.outtime - icustays.intime) AS length_of_stay_days FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) ORDER BY icustays.intime ASC LIMIT 1
4dbad1cc3c3af06c5664a2ad,"During the last year, was patient 10014354 in an emergency room?","SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10014354 AND admissions.admitypes = 'emergency' AND admissions.admittime BETWEEN current_timestamp - INTERVAL 1 YEAR AND current_timestamp
0e012c21a61355d6b84c3090,How much does it cost for insulin?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'insulin' ),,
1603ed597a3810e80a4e2f15,"In the last hospital encounter, what was the insurance of patient 10006580?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1,[{'insurance': 'Medicaid'}],SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10006580 ORDER BY admissions.admittime DESC LIMIT 1
f6ff7f1d41f19c951d2854e9,Get me the top five most frequent procedures that patients received within 2 months after receiving closed [endoscopic] biopsy of bronchus since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [endoscopic] biopsy of bronchus' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) as frequency FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN admissions ON admissions.hadm_id = admissions.hadm_id WHERE admissions.subject_id IN ( SELECT admissions.subject_id FROM admissions INNER JOIN d_items ON admissions.hadm_id = d_items.hadm_id INNER JOIN chartevents ON d_items.itemid = chartevents.itemid WHERE chartevents.charttime BETWEEN datetime(current_time,'-2 month') AND datetime(current_time) AND chartevents.value LIKE '%closed endoscopic biopsy of bronchus%' ) ) GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 5"
09defcd24314b8496fb3d74c,What is the dosage of the prescribed opioid for patient 9619?,,,SELECT orderdetails.dosage FROM orderdetails JOIN orders ON orderdetails.order_id = orders.order_id JOIN d_items ON orders.itemid = d_items.itemid WHERE d_items.category = 'Opioids' AND orders.subject_id = 9619
303a07985f7ef56f4d234d7e,Has patient 10026255 acquired any medication since 10/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-10'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM medications WHERE medications.subject_id = 10026255 AND medications.startdate > '10/2100-01-01'
2d9caef46a791339e4a2731b,Which procedure was performed on patient 10016742 two times since 03/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-03' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT icd9_code FROM procedures_icd WHERE hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND proc_date >= '03/2100' ) GROUP BY d_icd_procedures.long_title HAVING COUNT(*) = 2
1459009171aa5baa3803a221,What's the monthly average weight of patient 10005817 during their first hospital visit?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT AVG(chartevents.valuenum) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10005817 AND admissions.admittime <= chartevents.charttime AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime GROUP BY DATE_FORMAT(chartevents.charttime, '%Y-%m')"
6a6845f8f10630a1084755dd,What is the cost of the drug named nicardipine iv?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'nicardipine iv' ),,
1ebe06aacc066a61c6d64f52,Has patient 10023117 received any diagnoses since 1 year ago?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*)>0 FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10023117 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
76b2409a30b5bbbeab3d334b,Has patient 7112 had a family history of a disease?,,,SELECT COUNT(*) > 0 FROM patients WHERE subject_id = 7112 AND has_family_history = 'Yes'
745585ee3b0d6a5e1b414a94,"Count the number of patients who underwent a cholesterol, hdl lab test since 1 year ago.","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'cholesterol, hdl' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT chartevents.subject_id) FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%cholesterol, hdl%' ) AND datetime(chartevents.charttime) >= datetime(current_timestamp, '-1 year')"
9adca592b48d4fd0d62f45d1,"How many patients were given extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' ) )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from left lower lobe bronchus, via natural or artificial opening endoscopic' )"
bfda4e34737d0530a461ae0a,What was the total amount of chlorhexidine gluconate 0.12% oral rinse prescribed to patient 10011398 in the first hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'chlorhexidine gluconate 0.12% oral rinse',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(orderitems.quantity) FROM orderitems JOIN orders ON orderitems.order_id = orders.order_id WHERE orders.subject_id = 10011398 AND orderitems.item_id IN (SELECT item_id FROM d_items WHERE label = 'CHLORHEXIDINE GLUCONATE 0.12% ORAL RINSE') AND orders.order_type = 'RX' AND orders.status = 'completed' AND orders.hospital_expire_dt <= (SELECT MAX(admittime) FROM admissions WHERE subject_id = 10011398)
c2611c6cae651d68d35a90db,"How many days have elapsed since the last time patient 10004733 was diagnosed with tachycardia, unspecified on the current hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'tachycardia, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - MAX(chartevents.charttime) AS days_since_tachycardia FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.shortcut = 'HEART RATE' AND chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.valuenum > ( SELECT normal_values.value FROM normal_values WHERE normal_values.itemid = chartevents.itemid AND normal_values.label = 'high limit' ) ORDER BY chartevents.charttime DESC LIMIT 1
bb4344288238a4637074b5b3,Count how many patients were discharged from hospital throughout this year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE YEAR(admissions.dischtime) = YEAR(CURDATE())
af7ad9cea92641ef8e97f7c1,What were the four most commonly performed lab tests throughout this year?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT d_items.label, COUNT(*) AS frequency FROM labevents JOIN d_items ON labevents.itemid = d_items.itemid WHERE labevents.charttime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) GROUP BY d_items.label ORDER BY frequency DESC LIMIT 4"
256fd3ca11317b9a7e82835b,When is the earliest scheduled hospital visit by patient 91249?,,,SELECT MIN(adm_time) FROM admissions WHERE subject_id = 91249
b6d3b1cf1ff9f38a9adebb0a,Show me the top five most frequent specimens tested since 1 year ago.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 5","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}, {'spec_type_desc': 'STOOL'}]","SELECT chartevents.itemid, d_items.label, COUNT(*) as frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= datetime(current_timestamp,'-1 year') AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label LIKE '%specimen%' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 5"
6208d84a6a16f8ac2b720298,How many days have elapsed since patient 10004733 stayed in the careunit medical/surgical intensive care unit (micu/sicu) for the last time on their current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'medical/surgical intensive care unit (micu/sicu)' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT DATEDIFF( CURRENT_DATE, icustays.intime ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.icu = 'MICU/SICU' ) ORDER BY icustays.intime DESC LIMIT 1"
c7913f24b079937963ea9f4f,What was the total number of patients on vascular in this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'vascular' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],
935352db3b3a1d247e88bdc4,How many days have passed since patient 10004733 had the last alanine aminotransferase (alt) lab test in the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(CURRENT_DATE(), MAX(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' )"
2a54dcb2e9a6ae1637d88ef8,When was the last time patient 10004422's SaO2 was less than 96.0 on 01/20/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 96.0 AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-01-20' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' ) AND chartevents.valuenum < 96.0 AND chartevents.charttime BETWEEN '01/01/2100' AND '01/31/2100' ORDER BY chartevents.charttime DESC LIMIT 1
ffb225e9649d2d2a042af243,What was the admission type for patient 10020306's first admission to the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10020306 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime ASC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10020306 ORDER BY admissions.admittime ASC LIMIT 1
4e8e76dc6a0595e8d2d83aba,What was the time of patient 10029291's last blood culture microbiology test in 02/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-02' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT charttime FROM microbiologyevents WHERE subject_id = 10029291 AND itemid = 226605 AND chartdate BETWEEN '02-01-2100' AND '02-28-2100' ORDER BY charttime DESC LIMIT 1
32d7327a3beff353c0d3b98e,Tell me the name of the organism found in patient 10019172's last urine microbiology tests since 10/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],
fa7d9e05618f719c725c75ab,What is the total number of patients who stayed in careunit surgical intensive care unit (sicu)?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'surgical intensive care unit (sicu)' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.careunit = 'surgical intensive care unit'
3f49eeea52db301754082dc6,What were the first troponin t results for patient 10007818 in their last hospital encounter?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'troponin t' ) ORDER BY labevents.charttime ASC LIMIT 1,[],"SELECT chartevents.valuenum,chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'troponin t' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1"
338a9d532066c9b092d97b39,Patient 10018328's age on their first hospital encounter was what?,SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10018328 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,"SELECT FLOOR(DATEDIFF(admissions.admittime, patients.dob)/365) as age FROM admissions INNER JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.subject_id = 10018328 ORDER BY admissions.admittime LIMIT 1"
01898f9cb797a1bb35415331,Could you please tell me the name of the diagnosis patient 23002 received at another department?,,,
0d68d613cbc5bfb69833795a,Please tell me the sex of patient 10026406.,SELECT patients.gender FROM patients WHERE patients.subject_id = 10026406,[{'gender': 'M'}],SELECT gender FROM patients WHERE subject_id = 10026406
de0f8a295e6a5cf79b31633d,Could you show me the top five most common microbiology tests since 1 year ago?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test, COUNT(*) AS count FROM microbiologyevents WHERE datetime(charttime) >= datetime(current_time,'-1 year') GROUP BY test ORDER BY count DESC LIMIT 5"
572e3be6f4447f2f3dd8a46e,What is the price for the drug ferrous sulfate (liquid)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'ferrous sulfate (liquid)' ),,
437ed2f1fe3f680053f1e3de,"Tell me the number of cases of inspection of tracheobronchial tree, via natural or artificial opening endoscopic that occurred since 1 year ago.","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening endoscopic' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ) AND procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of tracheobronchial tree, via natural or artificial opening, endoscopic' )"
b947843285099f2f901cf7de,How many hours has it been since patient 10018081's last chloride lab test during the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) as hours FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Chloride' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
38b98518dde0e0d276fdf109,Tell me the name of the diagnosis that patient 10020786 received the first time during their first hospital visit?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1 ),,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses JOIN diagnoses_icd ON d_icd_diagnoses.icd_code = diagnoses_icd.icd_code WHERE diagnoses_icd.subject_id = 10020786 AND diagnoses_icd.hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10020786 ORDER BY admittime ASC LIMIT 1) ORDER BY diagnoses_icd.seq_num ASC LIMIT 1
4fc4a020a5a905fbea065ca7,Show me the length of stay in days of patient 10037975 from the first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 4.87824074132368}]","SELECT icustays.intime, icustays.outtime, (JULIANDAY(icustays.outtime) - JULIANDAY(icustays.intime)) AS stay_length FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) ORDER BY icustays.intime ASC LIMIT 1"
f14d881d1381c847c13301a6,Did patient 73713 have overseas travel history?,,,
81fecc104d9ef8ac42378b81,Show me the top five most common treatments for patients aged 20s since 2100.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 20 AND 29 ) AND strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
195a853f0ef04bb3011b271b,When did patient 10018081 have a first metamyelocytes laboratory test in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'metamyelocytes' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%metamyelocytes%' ) AND chartevents.charttime BETWEEN '2023-12-01' AND '2023-12-31' ORDER BY chartevents.charttime ASC LIMIT 1
edf02ff65e3bddb4db278a87,When was the last time patient 83182 had medication that should be regularly taken?,,,SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 83182)
9f35654e31c2a74dccf4e709,What was the average value of heart rate for patient 10029291 on 03/02/2100?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-03-02'",[{'AVG(chartevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.charttime LIKE '03/02/2100%'
5eed4e1b791b78ba28273ed6,"How many days have elapsed since the first time in the current hospital visit that patient 10021487 was diagnosed with closed dislocation, multiple cervical vertebrae?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'closed dislocation, multiple cervical vertebrae' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT (UNIX_TIMESTAMP(MAX(chartevents.charttime)) - UNIX_TIMESTAMP(( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'closed dislocation, multiple cervical vertebrae' AND d_items.linksto = 'chartevents' ) ))) / 60 / 60 / 24 AS elapsed_days FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'closed dislocation, multiple cervical vertebrae' AND d_items.linksto = 'chartevents' )"
764bf48effd7c27c0d7ddc70,Provide the sum total of inputs for patient 10011398 since 03/22/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-22'",[{'SUM(inputevents.totalamount)': 12080.0}],
5cbd34f92a55a8e7c2f987ce,What's the daily average weight of patient 10007058 during the last month?,"SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT AVG(valuenum) FROM chartevents WHERE subject_id = 10007058 AND itemid IN (SELECT itemid FROM d_items WHERE label = 'daily weight') AND charttime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND CURDATE()"
7eb920ea8c935405a34f2187,What was the last time on their first ICU stay patient 10014078 had a minimum respiratory rate?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime, MIN(chartevents.valuenum) FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.first_careunit = 'ICU' AND icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' ) GROUP BY chartevents.stay_id ORDER BY chartevents.charttime DESC LIMIT 1"
0d4db28074f3b1bafc59af7e,What is patient 10011398's chloride change last measured on the first hospital visit compared to the value second to last measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT first_chloride.valuenum - second_chloride.valuenum FROM ( SELECT labevents.valuenum FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10011398 AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.charttime = ( SELECT MAX(labevents.charttime) FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10011398 AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND admissions.admittime <= labevents.charttime ) ) AS first_chloride, ( SELECT labevents.valuenum FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10011398 AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride' ) AND labevents.charttime = ( SELECT MAX(labevents.charttime) FROM lab"
3ebc0a16e6352b3a0ce7bfab,"For patients diagnosed with right bundle branch block before, what are the top four most common treatments within the same month since 2100?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'right bundle branch block' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT treatments.treatment, COUNT(*) AS frequency FROM treatments INNER JOIN diagnoses ON treatments.patient_id = diagnoses.patient_id WHERE diagnoses.diagnosis = 'right bundle branch block' AND treatments.date >= '2100-01-01' AND treatments.date < '2100-02-01' GROUP BY treatments.treatment ORDER BY frequency DESC LIMIT 4"
3842f39935a34d58b55be97d,"Did patient 10013049 get a sodium, whole blood lab test in 06/2100?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium, whole blood' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND strftime('%Y-%m',labevents.charttime) = '2100-06'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10013049 ) AND labevents.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '3730-3' ) AND labevents.charttime BETWEEN '2000-06-01' AND '2000-06-30'
663817ca2281ed4ca55f52e3,What was the change in creatinine in patient 10039708 last measured on the last hospital visit compared to the second to last value measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT last.lab.value - second.last.lab.value FROM ( SELECT lab.value FROM labevents AS lab JOIN admissions AS adm ON lab.hadm_id = adm.hadm_id WHERE adm.subject_id = 10039708 AND lab.itemid = (SELECT itemid FROM d_labitems WHERE label = 'CREATININE') ORDER BY lab.charttime DESC LIMIT 1 ) AS last JOIN ( SELECT lab.value FROM labevents AS lab JOIN admissions AS adm ON lab.hadm_id = adm.hadm_id WHERE adm.subject_id = 10039708 AND lab.itemid = (SELECT itemid FROM d_labitems WHERE label = 'CREATININE') ORDER BY lab.charttime DESC LIMIT 1 OFFSET 1 ) AS second ON true
eb857cd3f9ec24928e8c1674,When was the first time patient 10018081 SaO2 was measured greater than 98.0 yesterday.,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 98.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 98.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-1 day') ORDER BY chartevents.charttime ASC LIMIT 1"
06c9202911fa52427beba085,"What was the minimum value of patient 10001217's calcium, total in 12/2100?","SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) AND strftime('%Y-%m',labevents.charttime) = '2100-12'",[{'MIN(labevents.valuenum)': None}],"SELECT MIN(valuenum) FROM labevents WHERE itemid IN ( SELECT itemid FROM d_labitems WHERE label LIKE '%calcium, total%' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10001217 ) AND chartdate BETWEEN '12/01/2100' AND '12/31/2100'"
252547601fd6f7de68d6ad35,"How much is performance of cardiac output, continuous?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) )",,
7234f29b92615d05cfbde52f,When did patient 10036156 receive an input for the first time in their first ICU visit?,SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY inputevents.starttime ASC LIMIT 1,[{'starttime': '2157-07-01 05:00:00'}],SELECT chartevents.charttime FROM chartevents JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) ORDER BY chartevents.charttime ASC LIMIT 1
145ae721e90f0d4889236e9b,Tell me the percentile for pt of 12.9 among patients in the same age as patient 10001217 in their first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pt' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10001217 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 12.9",,
0ad44ecce7e9c2eea3028673,Has patient 10009049 undergone any laboratory tests since 04/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND datetime(labevents.charttime) >= datetime('04/2100')
c0a87bdad4a3ac34d3210642,"For patient 10022041, what was the first vitamin b12 reading?",SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'vitamin b12' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'vit B12' ) ORDER BY chartevents.charttime ASC LIMIT 1
c98219f7cb3992603434bc25,Count the number of patients in neurology in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neurology' AND strftime('%Y',transfers.intime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(DISTINCT subject_id) FROM admissions WHERE admitservice LIKE '%neurology%' AND admityear = 2100
2c9a172538d37c27f588e4f8,"What is the percentile of 9.3 in the laboratory test with calcium, total at the same age of patient 10007818 on their last hospital encounter?","SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'calcium, total' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 9.3",,
58036fbf344f61c449c588f0,Could you count the number of times patient 10039997 visited the hospital during the previous year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10039997 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE subject_id = 10039997 AND datetime(admittime) >= datetime(current_time,'-1 year')"
2ace025c677add406539f6bd,Is there any medication that patient 10039708 has received since 11/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-11'",[{'COUNT(*)>0': 1}],
f6875e17c4dd27a3b3e56653,How many times did patient 10017492 attend the hospital since 1 year ago?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10017492 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 2}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10017492 AND admissions.admittime >= datetime(current_time,'-1 year')"
e365380a427eb3377fda91fe,When was first time the heart rate of patient 10027602 was greater than 63.0 during their first ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 63.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 63.0 ORDER BY chartevents.charttime ASC LIMIT 1
ffd78170fcf2def8a4cfe87e,Can you get me the top four most conducted lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]",
4fb913f81273537cc819bba4,"Which were the five most commonly ordered procedures for patients previously diagnosed with other motor vehicle traffic accident involving collision with motor vehicle injuring driver of motor vehicle other than motorcycle during the same hospital encounter, since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other motor vehicle traffic accident involving collision with motor vehicle injuring driver of motor vehicle other than motorcycle' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS occurrences FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_diagnoses.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title = 'other motor vehicle traffic accident involving collision with motor vehicle injuring driver of motor vehicle other than motorcycle' ) AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') GROUP BY d_icd_procedures.icd_code ORDER BY occurrences DESC LIMIT 5"
b6b5cdff0364757e59ebb7a4,What was the amount of or ebl output patient 10008287 had?,SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008287 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or ebl' AND d_items.linksto = 'outputevents' ),[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10008287 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or ebl output' AND d_items.linksto = 'chartevents' )
48bc5f792f4ed6f03d3cb9e5,How much sevelamer carbonate was given to patient 10007818 for the first time in 06/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.drug = 'sevelamer carbonate' AND strftime('%Y-%m',prescriptions.starttime) = '2100-06' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
732c03e81ef4b688df802e29,How many days was patient 10019172's last stay in the ICU?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 3.4558912040665746}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ORDER BY icustays.intime DESC LIMIT 1"
074c7225bee20e2006c6db58,When did patient 10026255 have the minimum hematocrit value the last time in 10/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '10' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2023-10-01' AND chartevents.charttime < '2023-11-01' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
1f6fb1acb94a920e308918de,Can you point to a genetic test that patient 28447 received?,,,SELECT genetic_tests.test_name FROM genetic_tests INNER JOIN patients ON genetic_tests.patient_id = patients.patient_id WHERE patients.patient_id = 28447
503c5dc62ab633d813594e59,What was the last specimen test given to patient 10007818 during their last hospital visit?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'BLOOD CULTURE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) ORDER BY chartevents.charttime DESC LIMIT 1
22e0dcfd0402820cca140ef2,What was the last drug that was prescribed to patient 10038081 via the pr route in their last hospital encounter?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'pr' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT pharmacy_events.gsn FROM pharmacy_events WHERE pharmacy_events.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND pharmacy_events.route = 'PR' ORDER BY pharmacy_events.starttime DESC LIMIT 1
0112d30f1318ad87f07d5ace,What is the count of quetiapine fumarate prescriptions made since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'quetiapine fumarate' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 0}],
99a500fd67403f12fc30f8b6,What were the top five most frequent diagnoses that followed within 2 months for those patients who received diagnostic ultrasound of digestive system?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of digestive system' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS frequency FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN procedures_icd ON icustays.stay_id = procedures_icd.stay_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code INNER JOIN d_icd_diagnoses ON admissions.diagnoses_icd = d_icd_diagnoses.icd_code WHERE d_icd_procedures.long_title = 'diagnostic ultrasound of digestive system' AND d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT subject_id FROM admissions WHERE admissions.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'diagnostic ultrasound of digestive system' ) ) ) ) AND datetime(admissions.admittime) >= datetime(admissions.admittime,'+2 month') GROUP BY d_icd_diagnoses.icd_code ORDER BY frequency DESC LIMIT 5"
f2298b0bf7b7aa99bc543176,Tell me the method of disinfection in a quarantine?,,,
4694f530b836736c5f4fd656,What are the top five common diagnoses since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) AS frequency FROM diagnoses_icd INNER JOIN d_icd_diagnoses ON diagnoses_icd.icd9_code = d_icd_diagnoses.icd9_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 5"
cc4241e21c09d7f7c2b141ff,What was the cost of the drug albumin 5% (25g / 500ml)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'albumin 5% (25g / 500ml)' ),,
7993e77f8701f72acc7a2d5b,How much 0.9% sodium chloride was prescribed the last time on the last hospital encounter to patient 10019568?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = '0.9% sodium chloride' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10019568 AND prescriptions.drug = '0.9% Sodium Chloride' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019568 ) ORDER BY prescriptions.starttime DESC LIMIT 1
5519ee451e8ab94af344b52d,What was the cost of the drug syringe (iso-osmotic dextrose)?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'syringe (iso-osmotic dextrose)' ),,
d80871d283fcf3c937bc3387,Can you tell me how many fluoroscopy of multiple coronary arteries using low osmolar contrast procedures were done since 2100?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using low osmolar contrast' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
8121c662bf6e3f319ab5b9f9,List the top three most frequent events occurring.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]",
95c5860371dc9446921eec10,What's the minimum total cost of the hospital visits that included a drug called fentanyl citrate since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'fentanyl citrate' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
e9b6fc1c47118c5de09e95d7,"What are the three most frequently administered laboratory tests for patients previously diagnosed with chronic airway obstruction, not elsewhere classified during the same hospital visit, since 1 year ago?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic airway obstruction, not elsewhere classified' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 3 )",,"WITH relevant_hadm_ids AS ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id IN ( SELECT icd9proc.subject_id FROM icd9proc WHERE icd9proc.icd9_code = '490' ) ) SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN relevant_hadm_ids AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.itemid ORDER BY test_count DESC LIMIT 3"
52f3a2c6b4d044c06fd15131,What was the name of the specimen test which patient 10000032 has first received since 04/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-04' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'URINE'}],SELECT d_items.label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND chartevents.charttime >= '04/2100' ORDER BY chartevents.charttime ASC LIMIT 1
67f5a1fdc92cd01b4aedb45c,"Of the patients aged 40s this year, what are the top three most common procedures?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM admissions JOIN patients ON admissions.subject_id = patients.subject_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE YEAR(patients.dob) BETWEEN 1960 AND 1970 AND YEAR(admissions.admittime) = YEAR(CURRENT_DATE) GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 3"
6f8c9bec861a6567d7a9b284,When did patient 10029291's first input on 03/08/2100 occur?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-08' ORDER BY inputevents.starttime ASC LIMIT 1",[],SELECT inputevents_mv.charttime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND DATE(inputevents_mv.charttime) = '03/08/2100' ORDER BY inputevents_mv.charttime ASC LIMIT 1
8bfd5025332346ae9908634c,Give me patient 10016810's total output since 06/01/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-01'",[{'SUM(outputevents.value)': 5090.0}],
8b05dac24440c0e125c2982d,What was the duration of serum transfusion nec for patient 29540?,,,
283bf444d3fe0d8412a24dc1,What was the name of the drug that was last prescribed for patient 10026255 since 05/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Lorazepam'}],SELECT admittime FROM admissions WHERE subject_id = 10026255 AND admittime >= '05/21/2000 00:00:00'
fb61ff0592412ac1416aee55,Calculate the number of patients staying in emergency department observation.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'emergency department observation' ),[{'COUNT( DISTINCT admissions.subject_id )': 0}],
9162de3307e705f564c4492d,Provide the top four most common treatments.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )","[{'long_title': 'Insertion of Infusion Device into Superior Vena Cava, Percutaneous Approach'}, {'long_title': 'Venous catheterization, not elsewhere classified'}, {'long_title': 'Central venous catheter placement with guidance'}, {'long_title': 'Other nonoperative respiratory measurements'}]","SELECT icd9_code ,  COUNT(*) as num FROM treatments GROUP BY icd9_code ORDER BY num DESC LIMIT 4"
38e2f42ebf3b484fd618abc2,Does patient 54386 have any overseas experience?,,,
cbcb60f4c34e7c1afabdf477,What is the average total cost for a hospital including tests in the rheumatoid factor laboratory?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'rheumatoid factor' ) ) GROUP BY cost.hadm_id ) AS T1,,
87539c9734c671cc091d67fc,When last did patient 10018081 have the minimum diastolic blood pressure since 10/04/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-10-04' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%diastolic%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= '10/04/2100' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
eb2f419e7f09df1b43df8f92,Tell me what the total foley output of patient 10039831 is since 07/14/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-07-14'",[{'SUM(outputevents.value)': None}],
a96ef9e34778c695552e52c6,What is the sex of patient 10010471?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10010471,[{'gender': 'F'}],SELECT patients.gender FROM patients WHERE patients.subject_id = 10010471
064e1e18ab989d89c93ed694,How many patients were diagnosed with acute post-thoracotomy pain within 2 months after first being diagnosed with accidents occurring in residential institution in 2100?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'accidents occurring in residential institution' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute post-thoracotomy pain' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(DISTINCT patients.subject_id) FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%accidents occurring in residential institution%' ) AND patients.dob >= '2100-01-01' AND diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%acute post-thoracotomy pain%' ) AND admissions.admittime BETWEEN patients.dob AND DATE_ADD(patients.dob, INTERVAL 2 MONTH)"
3f3da5d3397a4a8fe3d6fa12,Could you provide the total volume of output for patient 10015931 since 10/05/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-05'",[{'SUM(outputevents.value)': 10179.0}],
3d1061a32eb79f759245bffb,What was the count of patients who were prescribed glucagon during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'glucagon' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= CURRENT_DATE - INTERVAL '1 YEAR' AND prescriptions.drug = 'GLUCAGON'
1f02c929b05a2d1eae19aa43,What was the last time on 03/31/2100 patient 10021666 had a minimum heart rate?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-03-31' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime < '03/31/2100' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1"
17c8391662dfc6e28aa56464,How many drugs have been prescribed to patient 10023239 in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10023239 AND prescriptions.chartdate BETWEEN '2100-01-01' AND '2100-12-31'
759aa16667e44e03f4caba14,When did patient 10011398 get input for the last time since 12/19/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-19' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2146-12-16 08:00:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' OR d_items.shortcut LIKE '%input%' ) AND chartevents.charttime < '12/19/2100' ORDER BY chartevents.charttime DESC LIMIT 1
b8b17acef0f82e15a62e972b,"Has patient 10010471 been ordered bag, ipratropium-albuterol neb, or ferric gluconate in 05/this year?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) AND prescriptions.drug IN ( 'ipratropium-albuterol neb', 'bag', 'ferric gluconate' ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.subject_id = 10010471 AND chartevents.charttime >= '2022-05-01' AND ( chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'bag' ) OR chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ipratropium-albuterol neb' ) OR chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'ferric gluconate' ) )
654c90f267446af8ba8f70b5,What is the number of patients that received a bands test since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bands' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'bands' )"
098602cc877f3e4c36bc908a,"Among the patients of age 60 or above in 2100, what are the top five most frequent diagnoses?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age >= 60 ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM patients JOIN admissions ON patients.subject_id = admissions.subject_id JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE patients.dob <= '1961-01-01' AND patients.dod >= '2021-01-01' GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 5"
f370a107576540264d73906f,Can you confirm the gender of patient 10015931?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10015931,[{'gender': 'M'}],SELECT patients.gender FROM patients WHERE patients.subject_id = 10015931
30444a0364fc39ff849021b5,Calculate the number of ICU visits for patient 10004720 in the last hospital encounter.,SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT( DISTINCT icustays.stay_id )': 1}],SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ORDER BY admissions.admittime DESC LIMIT 1 )
5b73fda84131aee9f4b13b57,Count the number of patients that were discharged during the previous year from the hospital.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.dischtime >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR)"
df30afea60a71f1c1b64dfef,How many hours have passed since last time that patient 10018081 stayed in careunit trauma sicu (tsicu) during this hospital encounter?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'trauma sicu (tsicu)' ORDER BY transfers.intime DESC LIMIT 1",[],SELECT julianday('now') - julianday(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.icustay_id = ( SELECT MAX(icustays.icustay_id) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.d/clocation = 'TSICU' ) )
f8fd30d0d0f870b4bd2f4abe,What was the last time patient 10038999 had a blood culture microbiology test in 05/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_itemid = 227912 AND date_format(microbiologyevents.chartdate, '%Y-%m-%d') = '2005-01-01' ORDER BY microbiologyevents.charttime DESC LIMIT 1"
bfd437d57f4e32153e438f0c,What was the organism found in patient 10037975's first sputum test since 02/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%sputum%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '02/2100' ORDER BY chartevents.charttime ASC LIMIT 1
ab6c84f4aad1e16e5caea9b6,Count the number of patients who stayed throughout this year at transplant.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'transplant' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.admittime >= '2021-01-01' AND admissions.dischtime <= '2021-12-31' AND admissions.hospital_expire_flag = 0 AND admissions.hadm_id IN ( SELECT icustays.hadm_id FROM icustays WHERE icustays.dbsource = 'transplant' )
a112ad7cd8202090ededa192,What was the first o2 saturation pulseoxymetry value that patient 10004733 had on this month/23?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '23' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '2023-04-23' ORDER BY chartevents.charttime ASC LIMIT 1
d6557e346d781e08feab81d0,How many patients in 2100 were diagnosed with hypertrophy (benign) of prostate with urinary obstruction and other lower urinary tract symptoms (luts)?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertrophy (benign) of prostate with urinary obstruction and other lower urinary tract symptoms (luts)' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT icd9_cm.icd9cm_code FROM icd9_cm WHERE icd9_cm.long_title = 'hypertrophy (benign) of prostate with urinary obstruction and other lower urinary tract symptoms (luts)' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2021-01-01' AND '2021-12-31' )
14e43b77aa10ac246694f9f5,What was the last hospital discharge time for patient 10029484?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10029484 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10029484 ORDER BY admissions.dischtime DESC LIMIT 1
dd2de211b42f9be113f51d60,What is patient 10020944's sex?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10020944,[{'gender': 'M'}],SELECT gender FROM patients WHERE subject_id = 10020944
b7db8d58388d97ad0352fd3f,What was the monthly minimum input of nacl 0.9% for patient 10015931 since 09/2100?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'nacl 0.9%' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-09' GROUP BY strftime('%Y-%m',inputevents.starttime)",[],"SELECT DATE_FORMAT(chartevents.charttime,'%Y-%m'), MIN(chartevents.value) AS min_input FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10015931 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label LIKE '%nacl 0.9%') AND chartevents.charttime >= '2000-09-01' GROUP BY DATE_FORMAT(chartevents.charttime, '%Y-%m')"
17b596080425a3e13fe4f66b,Can you show me the top four frequent output events throughout this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT chartevents.itemid, d_items.label, COUNT(*) AS frequency FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.charttime >= date('now','-1 year') GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 4"
ea99947eb86635891276c5de,Does patient 76494 have a family history of ac/chr syst/dia hrt fail,,,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 76494 AND admitsicd.icd_code LIKE '%ac/chr syst/dia hrt fail%' AND admitsicd.hadm_id = admissions.hadm_id
395c9fa32c41aa7400cb5a87,"Count the number of people who received insertion of infusion device into right atrium, percutaneous approach in the same month after having been diagnosed with unspecified atrial flutter in 2100.","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified atrial flutter' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of infusion device into right atrium, percutaneous approach' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,"SELECT COUNT(*) FROM admissions AS a JOIN icd_diagnoses AS d ON a.hadm_id = d.hadm_id JOIN procedures_icd AS p ON a.hadm_id = p.hadm_id WHERE d.icd_code LIKE '427.3%' AND p.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%right atrium, percutaneous approach%' ) AND DATE_FORMAT(d.chartdate, '%Y-%m') = '2021-01' AND DATE_FORMAT(p.chartdate, '%Y-%m') = '2021-01'"
fabcb3ee15b98badd66dcd76,How much was the difference in body temperature of patient 10005817 from the second-to-last value measured to the last value measured during the final ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'temperature celsius' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT chartevents.valuenum - prev_value FROM chartevents JOIN (SELECT chartevents.valuenum AS prev_value FROM chartevents WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Temperature') ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1) AS prev ON chartevents.hadm_id = prev.hadm_id WHERE chartevents.hadm_id = (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005817) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Temperature') ORDER BY chartevents.charttime DESC LIMIT 1
1e43adf0cab50573f8e61e90,What was the first thing patient 10021312 had as output since 03/11/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-11' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'Void'}],
1d9b6672711d15ed28bd19bc,How much is the minimum total hospital cost associated with pseudomonas infection in conditions classified elsewhere and of unspecified site this year?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'pseudomonas infection in conditions classified elsewhere and of unspecified site' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT MIN(total_cost) FROM ( SELECT SUM(admission_costs.total_cost) AS total_cost FROM admission_costs JOIN diagnoses_icd ON admission_costs.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'B96.6' AND admission_costs.admit_dt >= DATE_FORMAT(CURDATE(),'%Y-01-01') ) AS subquery"
92672fa0de871a17570f6c7b,Tell me patient 10003046's total gastric meds input amount on 01/16/this year.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ) AND datetime(inputevents.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',inputevents.starttime) = '01-16'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(chartevents.amount) FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.subject_id = 10003046 AND d_items.category = 'Medications' AND d_items.subcategory = 'Gastric' AND chartevents.charttime BETWEEN '2023-01-16 00:00:00' AND '2023-01-16 23:59:59'
2ce2c777d5cf2c8bf9c60de2,How many insertion of drug-eluting coronary artery stent(s) treatments were executed since 1 year ago?,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of drug-eluting coronary artery stent(s)' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'coronary artery stent, drug eluting' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')"
99266f3b67eb6112916a4b55,Tell me the total volume of input that patient 10021487 was given since 12/14/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-12-14'",[{'SUM(inputevents.totalamount)': 169730.0}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = 10021487 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' AND d_items.linksto = 'carevue' OR d_items.linksto = 'estimation' ) AND chartevents.charttime >= '12/14/2100'
4bcd1b55582a8d4b902af134,What was the drug prescribed to patient 10018845 for the last time via sc route since 09/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND prescriptions.route = 'sc' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, dischtime FROM admissions WHERE subject_id = 10018845 AND admittime >= '09/2100' AND dischtime > '09/2100'"
253143bdf2322f6137ab6d66,Can you confirm what was the first arterial blood pressure mean for patient 10039831 since 01/16/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-01-16' ORDER BY chartevents.charttime ASC LIMIT 1",[],
08421f07d795de9a81dbc4b1,"Since 08/11/2100, when was the last input time of patient 10039831?","SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-08-11' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2115-12-30 13:05:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Input' ) AND chartevents.charttime >= '2000-08-11' ORDER BY chartevents.charttime DESC LIMIT 1
4e62b0e57830a46896da0604,Reveal the four most frequently prescribed medications since 1 year ago.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}, {'drug': 'Potassium Chloride'}]","SELECT c.name FROM ( SELECT c.name, COUNT(*) as count FROM prescriptions p JOIN drugs c ON p.drg_id = c.drg_id WHERE p.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY c.name ORDER BY count DESC LIMIT 4 ) c"
a2f8e369e61f50385ba06afd,Has patient 10016150 been given any diagnosis?,SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.subject_id = 10016150
9f640a77c4f06183632d1120,"What was the name of the drug prescribed for patient 10002495 in the same hospital visit after having received a dilation of coronary artery, one artery with drug-eluting intraluminal device, percutaneous approach procedure since 22 months ago?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of coronary artery, one artery with drug-eluting intraluminal device, percutaneous approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-22 month') ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-22 month') ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime",,"SELECT c.text FROM prescriptions AS c JOIN admissions ON c.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10002495 AND c.starttime >= datetime(current_time,'-22 month') AND c.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%coronary artery%drug-eluting intraluminal device%' ) )"
d2d5d1df9320768cf72754db,Has patient 10014078 undergone a central venous catheter placement with guidance procedure?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'central venous catheter placement with guidance' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 )
b2f9b52ce74d61a7d5f2395b,How many days was patient 10022281's last stay in the intensive care unit?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.4465393517166376}]",SELECT MAX(chartevents.charttime) - MIN(chartevents.charttime) AS laststay_duration FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281)
65faa312dd5804c3f1f638f3,What was the first time of patient 10038992 blood culture ( myco/f lytic bottle) microbiology test during the previous month?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND microbiologyevents.spec_type_desc = 'blood culture ( myco/f lytic bottle)' AND datetime(microbiologyevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10038992 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%blood culture%' AND d_items.linksto = 'microbiologyevents' ) AND chartevents.charttime BETWEEN datetime(current_time,'-1 month') AND datetime(current_time) ORDER BY chartevents.charttime ASC LIMIT 1"
d8839ecf07fe219f65ec8de5,What is the price of a diagnosis for cellulitis and abscess of trunk?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cellulitis and abscess of trunk' ) ),,
0d8f8539a8e82f5daa90562f,What precautions should you follow after the cont inv mec ven 96+ hrs procedure?,,,
c0f3de8a38ca15677c20c16d,"Tell me, was magnesium sulfate (bolus) given to patient 10007818 during the first ICU visit?",SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM icustay_detail JOIN inputevents_cv ON icustay_detail.icustay_id = inputevents_cv.icustay_id WHERE icustay_detail.first_wardid = 1 AND icustay_detail.subject_id = 10007818 AND inputevents_cv.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%magnesium sulfate (bolus)%')
3fad0b33ee39bfb6e59660eb,What was the last dose of sodium polystyrene sulfonate prescribed to patient 10021487 since 06/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND prescriptions.drug = 'sodium polystyrene sulfonate' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-06' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10021487 AND prescriptions.drug = 'sodium polystyrene sulfonate' AND datetime(prescriptions.startdate) >= '2000-06-01' ORDER BY prescriptions.startdate DESC LIMIT 1
6b5b9ccd032dd84eb4439664,"When has patient 10019172 been given chloride, whole blood test for the first time since 07/2100?","SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'chloride, whole blood' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-07' ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'chloride, whole blood' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('07/2100')"
be83182a8a89eceb013c4764,What was the name of the organism in the first sputum microbiology test of patient 10009049 on the first hospital visit?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND microbiologyevents.spec_itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sputum' AND d_items.linksto = 'microbiologyevents' ) ORDER BY microbiologyevents.chartdate ASC LIMIT 1
66e4509cc3f44d918845b252,"On the last ICU visit, did patient 10016742 have any input of gastric meds?",SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'gastric meds' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND inputevents_cv.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.subject_id = 10016742 ORDER BY icustays.intime DESC LIMIT 1 ) AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.subcategories = 'Gastric')
3dfc1e7e0bb1375c1771ec03,How often was bisacodyl prescribed in the previous year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'bisacodyl' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_type = 'bisacodyl' AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year')"
b90aaff4f6dc54dd7eefdaae,What are the five most frequent microbiology tests since 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 5","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}, {'test_name': 'RESPIRATORY CULTURE'}, {'test_name': 'GRAM STAIN'}]","SELECT test, COUNT(*) AS frequency FROM microbiologyevents WHERE itemid IN ( SELECT itemid FROM d_items WHERE category = 'Microbiology' ) AND chartdate >= '2100-01-01' GROUP BY test ORDER BY frequency DESC LIMIT 5"
6b877eb6c1fe51cbc74bc649,How many times was midazolam prescribed during the last year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'midazolam' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'midazolam' AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
54ed73ce298076765282857a,"When was the last time in the first hospital visit that patient 10007818 had the minimum value of lactate dehydrogenase, ascites?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate dehydrogenase, ascites' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.hospital_expire_flag = 0 ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate dehydrogenase, ascites' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
023f3f0db56f39d9b838b1c0,What is the difference between diastolic blood pressure last measured on the first ICU visit compared to the second to last value measured on the first ICU visit for patient 10012552?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT valuemdvt-last(valuemdvt) OVER (ORDER BY charttime DESC) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Diastolic blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,1"
8a1a5f5b16afc5af43b04d08,"Can you retrieve the top five most frequent lab tests patients had following a diagnosis of cardiac complications, not elsewhere classified during the same month?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cardiac complications, not elsewhere classified' ) ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE diagnoses_icd.icd_code = 'I46' AND labevents.chartdate BETWEEN admissions.admittime AND admissions.dischtime GROUP BY d_labitems.itemid ORDER BY count DESC LIMIT 5"
a0e105397fe459f9ad540eef,What was the senna dose that patient 10021666 was last prescribed in 03/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND prescriptions.drug = 'senna' AND strftime('%Y-%m',prescriptions.starttime) = '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT chartevents.value FROM chartevents WHERE chartevents.subject_id = 10021666 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'senna dose' ) AND chartevents.charttime BETWEEN '03/01/2100' AND '03/31/2100' ORDER BY chartevents.charttime DESC LIMIT 1
fab4f3241b1a4140593a2196,How many days has it been since the last stay of patient 10018081 in the careunit emergency department in the current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'emergency department' ORDER BY transfers.intime DESC LIMIT 1",[],"SELECT DATEDIFF(current_date(), icustays.intime) AS days_since_last_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.dbsource = 'carevue' AND icustays.careunit = 'EMERGENCY DEPARTMENT' ORDER BY icustays.intime DESC LIMIT 1"
89f547ad3bff27fb734acf00,"Patient 10015931, when was your last blood culture microbiology test in 12/this year?","SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '12' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents JOIN microbiologyevents ON chartevents.stay_id = microbiologyevents.stay_id WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'blood culture' ) AND datetime(chartevents.charttime) >= datetime('12-01-2022') AND datetime(chartevents.charttime) <= datetime('12-31-2022') ORDER BY chartevents.charttime DESC LIMIT 1
5a251e4eca446bc174bf6ee3,Can you show me the three most frequently taken lab test since 1 year ago?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) as frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 3"
e86ed01755d7638dbad6517f,"Has patient 10016742 received any treatment of respiratory ventilation, greater than 96 consecutive hours?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'respiratory ventilation, greater than 96 consecutive hours' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM icustays JOIN patients ON patients.subject_id = icustays.subject_id JOIN admissions ON admissions.hadm_id = icustays.hadm_id WHERE patients.subject_id = 10016742 AND icustays.intime <= admissions.admittime AND icustays.outtime >= DATEADD(admissions.admittime, INTERVAL '96' HOUR) AND (SELECT COUNT(*) FROM chartevents WHERE chartevents.stay_id = icustays.stay_id AND chartevents.itemid IN (SELECT itemid FROM d_items WHERE d_items.shortcut = 'VENTMGMNT')) > 0"
6246ddb668aaa2fe1adb0353,How many hours have passed since last time that patient 10004733 stayed in careunit neurology in the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'neurology' ORDER BY transfers.intime DESC LIMIT 1",[],SELECT (SELECT MAX(icustays.intime) FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND icustays.careunit = 'Neurology') FROM dual
72a6cc827b8581d7058c56f4,Have any procedures been performed on patient 10019917 since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND procedures_icd.chartdate >= '2100-01-01'
def1690cfa1cd58ae29ab510,What was the total amount of soln that patient 10014078 has been prescribed in the last hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug = 'soln',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(chartevents.value) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%solution%' AND d_items.linksto = 'chartevents' ) AND chartevents.storetime IN ( SELECT MAX(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10014078 )
eac7992d495c881955ae12b8,Was patient 10021666 treated with insertion of (naso-)intestinal tube in the last year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of (naso-)intestinal tube' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'insertion of (naso-)intestinal tube' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
40adf249c767a37afb9398c6,What do you do to disinfect the quarantine room?,,,
1ec2b4e6ddcdc9a62d1209df,What was the total volume of drainage bag that patient 10021487 had on this month/16?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'drainage bag' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',outputevents.charttime) = '16'",[{'SUM(outputevents.value)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'volume of drainage bag' ) AND chartevents.charttime LIKE '%-%-16%' ORDER BY chartevents.charttime DESC LIMIT 1
1e3b44203311b415f4712cc6,"During their last hospital encounter, was patient 10031404 given any diagnosis?",SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) ORDER BY diagnoses_icd.hadm_id DESC LIMIT 1
74693de7d313f1576fec3036,When was the first time that patient 10005909 has received a red blood cells lab test since 08/2100?,"SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-08' ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cells' AND d_items.linksto = 'labevents' ) AND chartevents.charttime >= '2010-08-01' ORDER BY chartevents.charttime ASC LIMIT 1
506c9dbd5d01f2cf98f45ec5,List the top five most frequent lab tests during this year.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],"SELECT d_labitems.label, COUNT(*) AS frequency FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE labevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01') GROUP BY d_labitems.label ORDER BY frequency DESC LIMIT 5"
a49d3f97e37407754c15cf05,When for the last time since 08/2100 was patient 10015860 prescribed ondansetron and bisacodyl at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ondansetron' AND admissions.subject_id = 10015860 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'bisacodyl' AND admissions.subject_id = 10015860 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-08' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10015860 AND prescriptions.drug IN ('ondansetron','bisacodyl') AND prescriptions.d_start_date >= '2008-01-01' AND prescriptions.d_start_date <= '2008-12-31' GROUP BY prescriptions.startdate HAVING COUNT(*) = 2 ORDER BY prescriptions.startdate DESC LIMIT 1"
3ba708e58388ca50083283e8,Retrieve the top five most frequent lab tests that patients had after being diagnosed with calculus of kidney within the same month since 2100.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'calculus of kidney' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT L1.itemid, L1.label, COUNT(*) AS frequency FROM labevents AS L1 JOIN admissions AS A ON L1.hadm_id = A.hadm_id JOIN diagnoses_icd AS D ON A.hadm_id = D.hadm_id WHERE D.icd_code IN ( SELECT icd_code FROM d_icd_diagnoses WHERE long_title LIKE '%calculus of kidney%' ) AND L1.charttime BETWEEN A.admittime AND DATE_ADD(A.admittime, INTERVAL 1 MONTH) AND L1.charttime >= '2100-01-01' GROUP BY L1.itemid, L1.label ORDER BY frequency DESC LIMIT 5"
7b1b135317d758d40c445a0d,"Last time, what drug was prescribed for patient 10023117 on the last hospital stay?",SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'HYDROmorphone (Dilaudid)'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) ORDER BY prescriptions.starttime DESC LIMIT 1
af0bb751dca92abe9b101475,Count the number of patients who received a procedure in the previous year for closed [percutaneous] [needle] biopsy of kidney.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [percutaneous] [needle] biopsy of kidney' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year') )",,"SELECT COUNT(*) FROM procedures_icd AS P WHERE P.icd_code = (SELECT icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed percutaneous needle biopsy of kidney') AND P.chartdate >= DATE_SUB(CURRENT_DATE(), INTERVAL 1 YEAR)"
c85d0450240f7e339aaec76c,Did patient 10021666 have lab testing in 03/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND strftime('%Y-%m',labevents.charttime) = '2100-03'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND labevents.chartdate BETWEEN '2100-03-01' AND '2100-03-31'
3189eb16865c13742abd3f7a,Is patient 12726 scheduled to have an appointment in another department?,,,
56ec103efc85ce4ed535ee32,"In this year, has patient 10021118 been diagnosed with anything?","SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT DISTINCT admissions.admittime, d_icd_diagnoses.long_title FROM admissions JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE admissions.subject_id = 10021118 AND YEAR(admissions.admittime) = YEAR(CURDATE())"
5e26962b8d9bc2994ab47e5d,Can you calculate how many patients were prescribed ipratropium-albuterol neb during the last year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ipratropium-albuterol neb' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug LIKE '%ipratropium-albuterol neb%' AND datetime(prescriptions.startdate) >= datetime(current_date,'-1 year')"
614926ee15e952ef06fec83f,What does a procedure under the name procedure on single vessel cost?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'procedure on single vessel' ) ),,
a9c112441a88402a143e7d68,When was the first time patient 10006053's heart rate was greater than 105.0 on the last ICU stay?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 105.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 105.0 ORDER BY chartevents.charttime ASC LIMIT 1
4449c0b54dc6e4a7af5dc9d8,What was the first value of a myelocytes lab test of patient 10004235 during their last hospital visit?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'myelocytes' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'myelocytes' ) ORDER BY chartevents.charttime ASC LIMIT 1
ef47010e396a58191a716c15,Show me the top three most commonly prescribed drugs since 1 year ago.,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 3","[{'drug': 'Insulin'}, {'drug': '0.9% Sodium Chloride'}, {'drug': 'Sodium Chloride 0.9%  Flush'}]","SELECT c.name AS drug_name, COUNT(*) AS num_prescribed FROM prescriptions p JOIN drugs d ON p.drug_id = d.id JOIN concepts c ON c.id = d.concept_id WHERE p.order_date >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) GROUP BY c.name ORDER BY num_prescribed DESC LIMIT 3"
f1cc5fc4c2d7e41e0b9536dd,Tell me the name of the specimen test that patient 10022281 last received in their first hospital encounter?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022281 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'MRSA SCREEN'}],SELECT d_items.name FROM chartevents AS ce JOIN d_items ON ce.itemid = d_items.itemid WHERE ce.hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10022281 ORDER BY admittime ASC LIMIT 1) ORDER BY ce.charttime DESC LIMIT 1
96762825c5cbfa3426dc79a2,Is patient 10006580's hematocrit second measured on the first hospital visit less than the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 OFFSET 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (t2.valuenum < t1.valuenum) FROM labevents AS t1 JOIN labevents AS t2 ON t1.hadm_id = t2.hadm_id WHERE t1.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006580 ) AND t1.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND t2.itemid = ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND t2.charttime < t1.charttime ORDER BY t1.charttime ASC LIMIT 1
59b4f366d08a05218ec8287d,Tell me the top three most common lab tests since 1 year ago.,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS test_count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') GROUP BY labevents.itemid ORDER BY test_count DESC LIMIT 3"
61f764dd9a145b1cc50e9c25,What was the first dose of glucagon that patient 10023239 was prescribed on the first hospital stay?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'glucagon' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10023239 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND prescriptions.order_type = 'DIAGNOSTIC TEST' AND prescriptions.drug = 'glucagon' ORDER BY prescriptions.starttime ASC LIMIT 1
177414b028ffe63adf88e436,What is the checklist before the therapeu plasmapheresis procedure?,,,
b9fee2e62bcc843043e0a954,What output did patient 10026354 last have on 10/30/this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '10-30' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],"SELECT chartevents.value, chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026354 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' AND d_items.linksto = 'chartevents' ) AND DATE(chartevents.charttime) = '2023-10-30' ORDER BY chartevents.charttime DESC LIMIT 1"
c68906dafb0c5fe36f9c5d48,What's the price of a procedure referred to as endoscopic control of gastric or duodenal bleeding?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'endoscopic control of gastric or duodenal bleeding' ) ),,
d936f940a2ec69a598302c7c,What is the difference between mean blood pressure on patient 10002495 last measured on the last ICU visit compared to the value second to last measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT (t1.valuenum - t2.valuenum) as difference FROM ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) t1 JOIN ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'mean blood pressure' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ) t2 ON 1=1
9dbe9323c793aa4ded67391f,"Tell me the maximum total cost of a hospital visit involving a total nucleated cells, csf lab test?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total nucleated cells, csf' ) ) GROUP BY cost.hadm_id ) AS T1",,"SELECT MAX(procedures_icd.amount + chartevents.amount) AS max_cost FROM procedures_icd JOIN chartevents ON procedures_icd.hadm_id = chartevents.hadm_id WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%total nucleated cells%' ) OR chartevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'total nucleated cells, csf')"
884dee5de94299004db9a1f2,How many current patients fall into the 60 or above age group?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,
eeac21ba672f8b7b97fbede4,Can you tell me when the first microbiology test for patient 10027445 was held since 16 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-16 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2142-07-31 06:07:00'}],"SELECT MIN(charttime) FROM microbiologyevents WHERE hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE subject_id = 10027445 ) AND charttime >= DATE_SUB(CURDATE(), INTERVAL 16 MONTH)"
00b98d0bf4d50497625b257e,Has patient 10019917 been given any drugs in 04/last year?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year') AND strftime('%m',prescriptions.starttime) = '04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ) AND DATE(medications.starttime) >= DATE('01-04-2021') AND DATE(medications.starttime) < DATE('01-04-2022')
bf54c19771c5bb94ae4d9258,How many iso-osmotic dextrose prescription instances took place this year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'iso-osmotic dextrose' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug IN ( SELECT drugs_generic.name FROM drugs_generic WHERE drugs_generic.isosmole = 'iso-osmotic dextrose' ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
24d90e86a7032d40c367258d,When did patient 10003046 last have their maximum SaO2 in the last ICU stay?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2 from SpO2' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1"
6d8c0ea325ed343de1ad7c30,"Hey, what was patient 10016150's minimum triglycerides value since 02/2100?","SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'triglycerides' ) AND strftime('%Y-%m',labevents.charttime) >= '2100-02'",[{'MIN(labevents.valuenum)': None}],SELECT MIN(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'triglycerides' ) AND chartevents.charttime >= '2021-02-01'
a566581cd7454020e0914ed3,I would love to know the name of the diagnosis that patient 25763 received in the other department.,,,SELECT d_icd_diagnoses.short_title FROM admissions INNER JOIN icd_diagnoses ON admissions.hadm_id = icd_diagnoses.hadm_id INNER JOIN d_icd_diagnoses ON icd_diagnoses.icd_code = d_icd_diagnoses.icd_code WHERE admissions.subject_id = 25763 AND admissions.admittime != ( SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 25763 ORDER BY admissions.admittime ASC LIMIT 1 ) LIMIT 1
001613e40181055fecd8dc18,Tell me the prescriptions patient 88180 has received from the other department.,,,SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 88180 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.hospitalid != ( SELECT admissions.hospitalid FROM admissions WHERE admissions.subject_id = 88180 ) )
8f2bc494dad4b896a4fa2912,What are the top five most common specimens tested after receiving hemodialysis in the same month in 2100?,"SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'hemodialysis' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, COUNT(*) as count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'hemodialysis' ) ) AND chartevents.charttime BETWEEN datetime('2100-01-01') AND datetime('2100-12-31') AND d_items.category = 'Specimen' GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
acb8470937bc4a7d0d9b622d,Can you confirm the gender of patient 10027602?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10027602,[{'gender': 'F'}],SELECT gender FROM patients WHERE subject_id = 10027602
19d8f43d4364b3abf853cd5a,When was the last time patient 10023117 had an minimum bicarbonate in the first hospital visit?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],SELECT labevents.charttime FROM labevents INNER JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10023117 AND admissions.admittime = (SELECT min(admittime) FROM admissions WHERE admissions.subject_id = 10023117) AND labevents.itemid IN (SELECT itemid FROM d_labitems WHERE label = 'BICARBONATE') ORDER BY valuenum ASC LIMIT 1
55c7172525f47f43ab6b752a,What percentile does a alanine aminotransferase (alt) value of 55.0 for patient 10007818 place in today in the first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alanine aminotransferase (alt)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 55.0",,
c7a42a6138402a2496be2e3d,When was the first time patient 10008454 systolic blood pressure was measured less than 123.0 since 142 days ago.,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 123.0 AND datetime(chartevents.charttime) >= datetime(current_time,'-142 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' ) AND chartevents.valuenum < 123 AND chartevents.charttime >= datetime(current_time,'-142 day') ORDER BY chartevents.charttime ASC LIMIT 1"
5a471bc5d991ced2d535cfb7,How many times irbesartan was ordered since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'irbesartan' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 656}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_id = 2100 AND prescriptions.drug = 'irbesartan'
5a5f7cbc98a80e1a4f6e3b31,What total amount of ursodiol was prescribed to patient 10004235 in 07/this year?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) AND prescriptions.drug = 'ursodiol' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '07'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cdrdosage.doseval) FROM cdrdosage JOIN cdrevents ON cdrdosage.eventid = cdrevents.eventid WHERE cdrevents.subject_id = 10004235 AND cdrdosage.drug = 'ursodiol' AND DATE(cdrevents.startdate) BETWEEN '2022-07-01' AND '2022-07-31'
94565cd9b8a667a9b65034a4,I am curious what the protocols for the drugs that work to treat cancer.,,,
8da39f47f61d4bd9b47d1f6e,How many patients were prescribed the drug multivitamins w/minerals since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'multivitamins w/minerals' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'multivitamins w/minerals' AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
8738512f4dab78e20d4a3a23,What are the three most frequently ordered laboratory tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Creatinine'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]",
27f16675ba7f39ec5b46e3bf,What was the first medication that patient 10016150 was prescribed in 05/this year?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT first_cohort.icd_code FROM first_cohort WHERE first_cohort.subject_id = 10016150 AND first_cohort.start_date >= '2022-05-01' AND first_cohort.start_date < '2022-06-01' ORDER BY first_cohort.start_date ASC LIMIT 1
9f046b17ea9354be7cebea95,What was the total void output in patient 10023239 since 03/11/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-11'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'void output' ) AND chartevents.charttime >= '03/11/2100'
bb02020436904947b9602d44,Tell me the percentile of the red blood cells value of 3.03 among patients of the same age as patient 10010471 in the first hospital encounter.,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 3.03",,
259109556cec2005a9ea3db8,What specimen test was first given to patient 10038999?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ORDER BY microbiologyevents.charttime ASC LIMIT 1,"[{'spec_type_desc': 'FLUID,OTHER'}]","SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ORDER BY chartevents.charttime ASC LIMIT 1"
64873d6508dd0dea262a7cd7,"Throughout this year, what are the top five most common microbiology tests that patients were diagnosed with within 2 months after being diagnosed with saddle embolus of pulmonary artery with acute cor pulmonale?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'saddle embolus of pulmonary artery with acute cor pulmonale' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT test, COUNT(*) AS test_count FROM ( SELECT microtests.test FROM microtests JOIN admissions ON microtests.hadm_id = admissions.hadm_id WHERE microtests.chartdate BETWEEN admissions.admittime AND DATE_ADD(admissions.admittime, INTERVAL 2 MONTH) AND admissions.diagnosis LIKE '%saddle embolus of pulmonary artery with acute cor pulmonale%' AND YEAR(microtests.chartdate) = YEAR(CURDATE()) GROUP BY microtests.test ORDER BY test_count DESC LIMIT 5 )"
0679067bdc3a032cbc68f962,Tell me the average total cost of a hospital that contains personal history of methicillin resistant staphylococcus aureus?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of methicillin resistant staphylococcus aureus' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(totalcharges) FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM d_icd_diagnoses WHERE icd_code LIKE 'V03%' )
f3adc97fcfd46233a705b0b8,What was patient 10007818's first peritoneal fluid's microbiology test time during their first hospital visit?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'peritoneal fluid' ORDER BY microbiologyevents.charttime ASC LIMIT 1,[],SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ORDER BY admissions.admittime ASC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'Peritoneal Fluid' ORDER BY microbiologyevents.charttime ASC LIMIT 1
75ad30a366fbe3a6f2ed6f8a,Tell me the top three most common diagnoses for patients aged 30s.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as count FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.admit_age BETWEEN 30 AND 39 GROUP BY d_icd_diagnoses.short_title ORDER BY count DESC LIMIT 3"
c8b3ff2eeceef81045187d16,What were the name of the treatment received by patient 10038081 two or more times in their last hospital encounter?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_cpt.cpt_name FROM d_cpt JOIN ( SELECT cptprocedure.cpt_cd FROM cptprocedure WHERE cptprocedure.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ORDER BY admissions.admittime DESC LIMIT 1 ) GROUP BY cptprocedure.cpt_cd HAVING COUNT(*) >= 2 ) AS t ON t.cpt_cd = d_cpt.cpt_cd
96c87d6620403ab5197e010c,"For the last time in 08/this year, what was the drug that patient 10027445 was prescribed via sc route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND prescriptions.route = 'sc' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT prescriptions.drug, prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10027445 AND prescriptions.route = 'SC' AND prescriptions.startdate BETWEEN '2022-08-01' AND '2022-08-31' ORDER BY prescriptions.startdate DESC LIMIT 1"
83a394225c13181e2fd82725,"List the top three most frequent specimens that patients were tested in the same month after receiving fluoroscopy of superior vena cava using other contrast, guidance since 1 year ago.","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of superior vena cava using other contrast, guidance' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE datetime(microbiologyevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT chartevents.itemid, d_items.label, COUNT(*) AS count FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%specimen%' ) AND chartevents.hadm_id IN ( SELECT hadm_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code IN ( SELECT icd_code FROM d_icd_procedures WHERE long_title LIKE '%fluoroscopy of superior vena cava using other contrast, guidance%' ) ) AND admittime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND CURDATE() ) GROUP BY chartevents.itemid, d_items.label ORDER BY count DESC LIMIT 3"
8ce0acf858783aaaafbc6c86,When was the last time patient 10012552 was measured heart rate greater than 78.0 in the first ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum > 78.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012552 AND admissions.first_icu_stay = 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' ) AND chartevents.valuenum > 78 ORDER BY chartevents.charttime DESC LIMIT 1
f34663f44ea8f4f001b5cd92,When did patient 10005909 receive the first duloxetine and levothyroxine sodium prescription at the same time in 11/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'duloxetine' AND admissions.subject_id = 10005909 AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'levothyroxine sodium' AND admissions.subject_id = 10005909 AND strftime('%Y-%m',prescriptions.starttime) = '2100-11' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],
f617b7296ab248a05c6041c0,What precautions should i take after a closed uterine biopsy procedure?,,,
25c3e1d8afe894678fc6be2a,When was the last time last month that patient 10019172 was prescribed with syringe and 0.9% sodium chloride at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'syringe' AND admissions.subject_id = 10019172 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '0.9% sodium chloride' AND admissions.subject_id = 10019172 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT MAX(a.charttime) AS last_charttime FROM prescriptions AS a JOIN prescriptions AS b ON a.subject_id = b.subject_id AND a.hadm_id = b.hadm_id AND a.icustay_id = b.icustay_id AND a.charttime = b.charttime WHERE a.subject_id = 10019172 AND a.starttime >= datetime(current_time,'-1 month') AND (a.drug = 'syringe' OR b.drug = '0.9% sodium chloride') AND a.drug_type = 'DIAGNOSTIC' AND b.drug_type = 'DIAGNOSTIC'"
e054b776ce8b992288d3a151,What is the outpatient schedule of dr. swain today?,,,
240b36c04ba129e0ec06c297,Tell me the maximum total hospital cost that involves cellulitis and abscess of trunk since 2100.,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'cellulitis and abscess of trunk' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MAX(admissions.totalhospitalcost) FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '764.0' OR diagnoses_icd.icd_code = '682.9' AND admissions.admittime >= '2100-01-01'
7f969459fa4b9cddf822c495,"What are the four frequently prescribed medications for patients diagnosed with septicemia due to escherichia coli [e. coli] previously in the same hospital visit, since 1 year ago?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'septicemia due to escherichia coli [e. coli]' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime, admissions.hadm_id FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 4",,"SELECT m.drug, COUNT(*) as count FROM prescriptions p JOIN medications m ON m.medication_id = p.medication_id JOIN diagnoses d ON d.icd_code = 'A41.4' WHERE p.subject_id IN ( SELECT admissions.subject_id FROM admissions WHERE admissions.hadm_id = d.hadm_id AND admissions.admittime >= datetime(current_time,'-1 year') ) GROUP BY m.drug ORDER BY count DESC LIMIT 4"
99abc2a37fa7ff26ae5a4483,Give me the three most common treatments.,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Insertion of Infusion Device into Superior Vena Cava, Percutaneous Approach'}, {'long_title': 'Venous catheterization, not elsewhere classified'}, {'long_title': 'Other nonoperative respiratory measurements'}]",
1175293359f3af457f69e353,Was any magnesium sulfate (bolus) medication provided to patient 10019172 on the first ICU visit?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'magnesium sulfate (bolus)' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM icu_medications WHERE icu_medications.subject_id = 10019172 AND icu_medications.icustay_id = ( SELECT icustays.icustay_id FROM icustays WHERE icustays.subject_id = 10019172 ORDER BY icustays.intime LIMIT 1 ) AND icu_medications.medication_name = 'magnesium sulfate (bolus)'
304190e81318d73ef0c5f885,What is today's outpatient schedule for dr. knight?,,,
a9632d75ba6d979b5decdf12,Can you name the procedure/treatment that patient 10007795 was given two times in 05/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-05' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 = 2 )",,"SELECT d_procedures.procedure, COUNT(*) FROM procedures INNER JOIN d_procedures ON procedures.procedure_id = d_procedures.procedure_id WHERE procedures.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND DATE(procedures.charttime) LIKE '05/%' AND procedures.charttime LIKE '%2100' GROUP BY d_procedures.procedure HAVING COUNT(*) = 2"
8dea7b9b04a6934cbc300217,What was the total dose of readi-cat 2 (barium sulfate 2% suspension) patient 10038992 had been prescribed last month?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038992 ) AND prescriptions.drug = 'readi-cat 2 (barium sulfate 2% suspension)' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month')",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(orderitems.dose) FROM orderitems JOIN orders ON orderitems.order_id = orders.order_id WHERE orders.subject_id = 10038992 AND orders.orderdate BETWEEN DATE_FORMAT(CURRENT_DATE, '%Y-%m-01') - INTERVAL 1 MONTH AND LAST_DAY(CURRENT_DATE) - INTERVAL 1 MONTH AND orderitems.formulary_drug_cd = 'READI-CAT 2' AND orderitems.order_category_name = 'Medication'"
c873185bf7745af0b9d816fe,When was the last time patient 10025612 had a respiratory rate that was less than 16.0?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 16.0 ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid = 615 AND chartevents.valuenum < 16.0 ORDER BY chartevents.charttime DESC LIMIT 1
9d188dcdbafa3802c326bff0,Do you know the ward id of patient 31854 to which they are admitted?,,,SELECT wardid FROM admissions WHERE subject_id = 31854
1f2e37aaa091d50e833afad1,What was the admission type for patient 10026255's last entry into the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10026255 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'EW EMER.'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10026255 ORDER BY admissions.admittime DESC LIMIT 1
a2556a4a997d1f09c6a72589,How much heparin was given to patient 10020740 for the last time in 06/this year?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND prescriptions.drug = 'heparin' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '06' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT inputevents_mv.amount FROM inputevents_mv WHERE inputevents_mv.subject_id = 10020740 AND inputevents_mv.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%heparin%') AND inputevents_mv.charttime >= '06-01-2023' AND inputevents_mv.charttime <= '06-30-2023' ORDER BY inputevents_mv.charttime DESC LIMIT 1
169d3a6eec5e7a3446cd5c85,Did patient 10021118 have or crystalloid intake input on their first ICU stay?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'or crystalloid intake' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND inputevents_cv.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.first_careunit IS NOT NULL ) AND inputevents_cv.amount IS NOT NULL AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Crystalloid' )
1914be2bfb5f57050076ba8f,Was patient 10020187 admitted into the emergency room in the previous year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admission_location = 'emergency room' AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admittime >= datetime(current_time,'-1 year') AND admissions.admission_type = 'ELECTIVE'"
059ed55281d42669ad25d514,"For the first time in the previous month, what was the drug that patient 10019172 was prescribed via iv drip route?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) AND prescriptions.route = 'iv drip' AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-1 month') ORDER BY prescriptions.starttime ASC LIMIT 1",[],"SELECT first_cohort.icustay_id, first_cohort.starttime, first_cohort.endtime, icustays.hadm_id, icustays.intime, icustays.outtime, first_cohort.prev_adm_date, first_cohort.prev_adm_id, first_cohort.first_dose FROM ( SELECT cohort.icustay_id, cohort.starttime, cohort.endtime, cohort.prev_adm_date, cohort.prev_adm_id, MIN(cohort.first_dose) as first_dose FROM ( SELECT icustays.icustay_id, icustays.hadm_id, icustays.intime, icustays.outtime, admissions.admittime as prev_adm_date, admissions.hadm_id as prev_adm_id, MIN(cpd.starttime) as starttime, MAX(cpd.endtime) as endtime, cpod.first_dose FROM icustays INNER JOIN cpod ON icustays.icustay_id = cpod.icustay_id INNER JOIN cpd ON cpod.cpd_id = cpd.cpd_id INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10019172 AND cpd.route"
8f125e3b053c0f80a6182cc5,What is the recently prescribed medication for patient 10039831 today compared to yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT * FROM (SELECT medevents.*, ROW_NUMBER() OVER (PARTITION BY medevents.subject_id, medevents.charttime::date ORDER BY medevents.charttime DESC) AS rn FROM medevents WHERE medevents.subject_id = 10039831 AND medevents.charttime::date = CURRENT_DATE) AS today JOIN (SELECT medevents.*, ROW_NUMBER() OVER (PARTITION BY medevents.subject_id, medevents.charttime::date ORDER BY medevents.charttime DESC) AS rn FROM medevents WHERE medevents.subject_id = 10039831 AND medevents.charttime::date = CURRENT_DATE - INTERVAL '1 day') AS yesterday ON today.subject_id = yesterday.subject_id WHERE today.rn = 1 AND yesterday.rn = 1"
d064155c1b69cfe53b508d1e,Is the value of o2 flow last measured on the last hospital visit of patient 10015931 less than its value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'o2 flow' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'o2 flow' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'o2 flow' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'o2 flow' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]","SELECT last.valuenum < first.valuenum FROM (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Flow' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1) AS last, (SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'O2 Flow' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1) AS first"
c30028359953f37651a81962,Has patient 10019172 been admitted into the hospital in 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019172 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019172 AND YEAR(admissions.admittime) = 2100
f3e83011de5accbea5625903,"What are the three commonly taken specimens for patients that received excision of right saphenous vein, percutaneous endoscopic approach previously in the same hospital visit since 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right saphenous vein, percutaneous endoscopic approach' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 3",,"SELECT DISTINCT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN admissions_diagnoses ON admissions.hadm_id = admissions_diagnoses.hadm_id JOIN diagnoses_icd ON admissions_diagnoses.diagid = diagnoses_icd.icd_code WHERE diagnoses_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'excision of right saphenous vein, percutaneous endoscopic approach' ) AND admissions.hadm_id > 2100 ) ORDER BY d_items.label LIMIT 3"
d838d9dd02777dbf09b9e81b,How many times acetaminophen-caff-butalbital was ordered in the last year?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'acetaminophen-caff-butalbital' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) AND prescriptions.drug = 'acetaminophen-caff-butalbital'"
0b6c432395ef9fcbfe105e93,Has any side effects been experienced by patient 3267 during a blood transfusion,,,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%blood transfusion%' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 3267 ) AND EXISTS ( SELECT * FROM d_items WHERE d_items.itemid = chartevents.itemid AND d_items.label LIKE '%side effect%' AND chartevents.valuenum > 0 AND chartevents.hadm_id = procedures_icd.hadm_id )
7c769198cdf2ef06b5f1dab3,Has patient 10038081 had a lab test for glucose?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'glucose' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%glucose%' )
4fd5da8b9c864e5a3800f681,"What were the five most commonly performed lab tests for patients who were previously diagnosed with other diseases of bronchus, not elsewhere classified in the same hospital encounter, since 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other diseases of bronchus, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_labitems.label, COUNT(*) as test_count FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id JOIN d_labitems ON chartevents.itemid = d_labitems.itemid WHERE admissions.hospital_expire_flag = 0 AND admissions.diagnoses IN (SELECT icd9_code FROM d_icd_diagnoses WHERE icd_long_title = 'other diseases of bronchus, not elsewhere classified') AND chartevents.charttime >= '2100-01-01' GROUP BY d_labitems.label ORDER BY test_count DESC LIMIT 5"
9da1c2b4d2477e7d54541e82,Show me the top three most frequent diagnoses.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )","[{'long_title': 'Other and unspecified hyperlipidemia'}, {'long_title': 'Unspecified essential hypertension'}, {'long_title': 'Essential (primary) hypertension'}]","SELECT d_icd_diagnoses.short_title, COUNT(diagnoses_icd.icd_code) AS frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code GROUP BY diagnoses_icd.icd_code ORDER BY frequency DESC LIMIT 3"
88a6c24100e056a0cd5afdeb,"What is the number of extirpation of matter from coronary artery, one artery, percutaneous approach procedures carried out?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from coronary artery, one artery, percutaneous approach' )",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'extirpation of matter from coronary artery, one artery, percutaneous approach' )"
a38ecaf9f7fe8c5a81432f27,What is the monthly maximum value of weight for patient 10009049 since 01/2100?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-01' GROUP BY strftime('%Y-%m',chartevents.charttime)",[],"SELECT MAX(chartevents.valuenum), DATE_FORMAT(chartevents.charttime, '%Y-%m') AS month FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009049 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Weight' ) AND chartevents.charttime > '2100-01-01' GROUP BY month ORDER BY month ASC"
13bf5b0281c0d443bd4ea538,"During the last ICU visit, what was the average value of the systolic blood pressure of patient 10038933?",SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ),[{'AVG(chartevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Systolic blood pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.intime = ( SELECT MAX(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) )
30912953ec6a9977cec930db,What was the admission type during patient 10038992's last entry into the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10038992 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.admittime DESC LIMIT 1",[{'admission_type': 'SURGICAL SAME DAY ADMISSION'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10038992 ORDER BY admissions.admittime DESC LIMIT 1
5a930b48e4949a1ed44fe056,What immunotherapies have been used for the past five years?,,,"SELECT DISTINCT procedures_icd.icd_code FROM procedures_icd WHERE procedures_icd.chartdate >= DATE_SUB(CURRENT_DATE, INTERVAL 5 YEAR) AND procedures_icd.icd_code LIKE '99680%'"
d8a47bc9987e7055d48e418b,Show me the top three most frequent output instances during this year.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT outputevents.outputcd, COUNT(*) AS count FROM outputevents JOIN admissions ON admissions.hadm_id = outputevents.hadm_id WHERE outputevents.charttime >= DATE_FORMAT(NOW(),'%Y-01-01') GROUP BY outputevents.outputcd ORDER BY count DESC LIMIT 3"
5ad0b756f0eced9a61f3f0e2,What is the difference between heart rate on patient 10011398 measured at 2100-12-27 10:00:00 compared to the value measured at 2100-12-27 09:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 10:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 09:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 10:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 09:00:00' )"": None}]",SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 10:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10011398 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-12-27 09:00:00' ) AS difference
ad7bed12453ee529baf37784,Has patient 10004457 received any lab tests since 22 months ago?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 ) AND datetime(labevents.charttime) >= datetime(current_time,'-22 month')",[{'COUNT(*)>0': 1}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 ) AND datetime(labevents.charttime) >= datetime(current_time,'-22 month')"
cd7ec076d6dd032a842781fe,"Today compared to yesterday, what new medication does patient 10039831's prescription include?","SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],
207eceda0156cdc649f4b078,When was the first time patient 10018081's respiratory rate was less than 22.0 in this ICU visit?,SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND icustays.outtime IS NULL ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 22.0 ORDER BY chartevents.charttime ASC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081) AND chartevents.itemid = (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate') AND chartevents.valuenum < 22.0 ORDER BY chartevents.charttime ASC LIMIT 1
323d3cb95ad2c7d62dfd8cb3,Tell me the name of the output patient 10039831 had for the first time since 12/29/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-29' ORDER BY outputevents.charttime ASC LIMIT 1 )",[{'label': 'OR EBL'}],
62547959e3baf6a4703c5fbb,How many hours have passed since the first time that patient 10039831 stayed in careunit surgical intensive care unit (sicu) in the current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'surgical intensive care unit (sicu)' ORDER BY transfers.intime ASC LIMIT 1",[],SELECT (JULIANDAY(MAX(chartevents.charttime)) - JULIANDAY(MIN(chartevents.charttime))) * 24 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.intime IN ( SELECT icustays.intime FROM icustays WHERE icustays.icustay_id IN ( SELECT chartevents.icustay_id FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.icustay_id IN ( SELECT chartevents.icustay_id FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) ) AND icustays.careunit = 'surgical intensive care unit' ) ORDER BY icustays.intime ASC LIMIT 1 ) )
458ec4c0b0b1086e917fb739,Tell me the time when patient 10018081's systolic blood pressure was less than 118.0 for the last time yesterday?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 118.0 AND datetime(chartevents.charttime,'start of day') = datetime(current_time,'start of day','-1 day') ORDER BY chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Non Invasive Blood Pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum < 118 AND chartevents.valuenum BETWEEN ( SELECT min(valuenum) FROM chartevents WHERE itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Non Invasive Blood Pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.charttime BETWEEN DATE_SUB(CURDATE(), INTERVAL 1 DAY) AND CURDATE() ) ORDER BY chartevents.charttime DESC LIMIT 1"
5a676f9bd9eb81f901577ab1,Tell me the price of diazepam.,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'prescriptions' AND cost.event_id IN ( SELECT prescriptions.row_id FROM prescriptions WHERE prescriptions.drug = 'diazepam' ),,
a1d4a46462d0cd1e638cddc8,What was the count of patients who were tested for magnesium since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'magnesium' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '15240-7' ) AND datetime(labelevents.charttime) >= datetime(current_time,'-1 year')"
eb31ac4eb5e1f45dc5b80313,What was the name of the medicine that was given to patient 10038933 within 2 days post procedure of percutaneous [endoscopic] gastrostomy [peg]?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,"SELECT adm.d_items_label AS drug_name FROM ( SELECT chartevents.itemid, d_items.label AS d_items_label FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND icustays.intime <= chartevents.charttime AND icustays.outtime >= chartevents.charttime ) AND chartevents.charttime BETWEEN DATE_SUB(( SELECT chartevents.charttime FROM chartevents WHERE chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE 'percutaneous endoscopic"
837051daccd7778c8114f640,What was the admission type when patient 10008287 last entered the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10008287 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admission_type FROM admissions WHERE admissions.subject_id = 10008287 ORDER BY admissions.admittime DESC LIMIT 1
9a8f62c083931e6b853cf083,What is the name of a procedure patient 10029291 underwent two or more times since 30 months ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-30 month') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,"SELECT d_icd_procedures.long_title FROM d_icd_procedures JOIN procedures_icd ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND datetime(procedures_icd.chartdate) >= datetime(current_time,'-30 month') GROUP BY d_icd_procedures.long_title HAVING COUNT(*) >= 2"
6d3fe547b78cd9bdc187e610,"How many instances of drainage of peritoneal cavity, percutaneous approach procedures have been completed since 1 year ago?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of peritoneal cavity, percutaneous approach' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of peritoneal cavity, percutaneous approach' ) AND datetime(procedures_icd.chartdate) >= datetime(current_date,'-1 year')"
b88e4ef160b32df83a1e6e63,How many drugs were given to patient 10004720 since 1 year ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 82}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
62ccca10373d7fea84d98e31,What were the three most frequent events?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]","SELECT d_items.label, COUNT(*) AS frequency FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid GROUP BY d_items.label ORDER BY frequency DESC LIMIT 3"
c4b38e4af79858745e77342a,Calculate the total volume of patient 10014729's input since 03/06/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-06'",[{'SUM(inputevents.totalamount)': 21490.0}],
bad5c823a031437e5a7ff621,What was the last measurement of o2 saturation pulseoxymetry in patient 10015931's body since 10/01/2100?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-10-01' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 sat pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('10/01/2100') ORDER BY chartevents.charttime DESC LIMIT 1
3eaf001189831be5d9a41258,"Give me the top five most frequent treatments patients received within 2 months after being diagnosed with dissection of aorta, abdominal in 2100.","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dissection of aorta, abdominal' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT treatments.text, COUNT(*) AS frequency FROM ( SELECT admissions.subject_id, admissions.hadm_id, admissions.admittime, diagnoses_icd.icd_code FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'dissection of aorta, abdominal' ) AND admissions.admittime BETWEEN '2021-01-01' AND '2021-12-31' ) AS diagnoses INNER JOIN ( SELECT patients.subject_id, patients.dob, patients.dod, patients.gender FROM patients ) AS patient_info ON diagnoses.subject_id = patient_info.subject_id INNER JOIN treatments ON treatments.hadm_id = diagnoses.hadm_id WHERE treatments.charttime BETWEEN diagnoses.admittime AND DATEADD(diagnoses.admittime, INTERVAL '2 MONTH') GROUP BY treatments.text ORDER BY frequency DESC LIMIT 5"
47b3d7f69bda0102d243c44b,Could you provide the top four most common output events in this year?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )",[],"SELECT outputevents.cgid, outputevents.outputcd, COUNT(*) as count FROM outputevents WHERE outputevents.charttime >= DATE_FORMAT(CURDATE(),'%Y-01-01 00:00:00') GROUP BY outputevents.outputcd ORDER BY count DESC LIMIT 4"
39206b0e94f1d50dfd4f7a97,"In the first hospital visit, what age was patient 10021118?",SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,,SELECT admissions.admittime FROM admissions WHERE admissions.subject_id = 10021118 ORDER BY admissions.admittime ASC LIMIT 1
30ed0a6953999ac4024916ae,What is the minimum total cost of the hospital which involves calculus of kidney?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'calculus of kidney' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(costs.total_cost) FROM costs INNER JOIN diagnoses_icd ON diagnoses_icd.icd9_code IN ( SELECT icd9_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title LIKE '%calculus of kidney%' ) ON costs.hadm_id = diagnoses_icd.hadm_id
eed48c889b928f3ee845e151,How much is the total minimum cost for a hospital that includes a white blood cells lab test throughout this year?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'white blood cells' ) ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,SELECT SUM(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.label LIKE '%white blood cells%' AND YEAR(chartevents.charttime) = YEAR(CURRENT_DATE) AND chartevents.valuenum IN ( SELECT MIN(chartevents.valuenum) FROM chartevents WHERE YEAR(chartevents.charttime) = YEAR(CURRENT_DATE) GROUP BY chartevents.itemid )
695b3083856ab31c0cd2853e,"How much does a procedure known as occlusion of right femoral artery with intraluminal device, percutaneous approach cost?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'occlusion of right femoral artery with intraluminal device, percutaneous approach' ) )",,
0e206bae559f3646f2535376,Let me know what i'll need to prepare for the delayed clos abd wound procedure,,,
0d5c93359124d85b4946ec95,Is patient 739 tested for covid-19?,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 739 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'covid-19' )
327a6b8b85b9df578f97d124,"What's the average monthly number of patients who were diagnosed with chronic or unspecified gastric ulcer with hemorrhage, without mention of obstruction?","SELECT AVG(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'chronic or unspecified gastric ulcer with hemorrhage, without mention of obstruction' ) GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,SELECT COUNT(*)/12 AS avg_monthly_patients FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE '5311%' OR diagnoses_icd.icd_code LIKE '5319%'
bd0c2e34f79eadadf992f4e2,How was patient 10005348 admitted in terms of admission type for the last time at the hospital?,SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10005348 ORDER BY admissions.admittime DESC LIMIT 1,[{'admission_type': 'EW EMER.'}],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10005348 ORDER BY admissions.admittime DESC LIMIT 1
ecbdf8f66488345ecb0ba8bf,What drug was patient 10025463 prescribed for during the same day after undergoing catheter based invasive electrophysiologic testing in 11/this year?,"SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'catheter based invasive electrophysiologic testing' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',procedures_icd.charttime) = '11' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '11' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of day') = datetime(T2.starttime,'start of day')",,SELECT medications.given FROM medications WHERE medications.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) AND icustays.intime LIKE '11/%' ) AND medications.charttime IN ( SELECT procedures_icd.chartdate FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'catheter based invasive electrophysiologic testing' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025463 ) )
48965885b40400e08e4d8528,Count the number of hospital visits for patient 10020306 during the last year.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10020306 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10020306 AND admissions.admittime >= datetime(current_time,'-1 year')"
9c7b53fbe9d379b7315c6ec8,What was the organism's name found in the last blood culture test of patient 10038999 in the last hospital encounter?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND microbiologyevents.spec_type_desc = 'Blood culture' ORDER BY microbiologyevents.chartdate DESC LIMIT 1
6460cd5a26ffc1b6bcc56a55,How much 0.9% sodium chloride has patient 10038999 been prescribed since 18 months ago?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND prescriptions.drug = '0.9% sodium chloride' AND datetime(prescriptions.starttime) >= datetime(current_time,'-18 month')",[{'SUM(prescriptions.dose_val_rx)': None}],"SELECT SUM(cases.amount) FROM cases INNER JOIN prescriptions ON cases.prescription_id = prescriptions.prescription_id WHERE prescriptions.subject_id = 10038999 AND prescriptions.startdate >= DATE_SUB(CURRENT_DATE, INTERVAL 18 MONTH) AND cases.medication = '0.9% Sodium Chloride'"
755568f5da1aa36f192dbdd8,Have any lab tests been performed on patient 10027445 in this year?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND labevents.charttime >= datetime(current_date,'-1 year')"
82c36b2b9cc4fe915955f4ec,Inform me about the total amount of patient 10010471's input since 03/19/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-03-19'",[{'SUM(inputevents.totalamount)': 37625.0}],
45cf62bc8aba279eba7b413a,What is the patient count for sotalol prescription since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'sotalol' AND strftime('%Y',prescriptions.starttime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 10}],
b90482cec7b5c892ea5302f4,What percentile is 13.0 urea nitrogen in a patient of the same age as patient 10022017 on their last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10022017 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 13.0",,"SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY admissions.dob, labevents.hadm_id) FROM labevents JOIN admissions ON admissions.hadm_id = labevents.hadm_id WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen' ) AND admissions.subject_id = 10022017 ORDER BY labevents.charttime DESC LIMIT 1"
1f40a273d375689f569acb2e,What culture was patient 10016742 last tested during their first hospital visit?,SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'spec_type_desc': 'STOOL'}],SELECT cultures.org_itemid FROM cultures INNER JOIN admissions ON cultures.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10016742 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10016742 ) ORDER BY cultures.chartdate DESC LIMIT 1
e7db6c421273de71b7f9b8a7,What is the average cost to the hospital that involves personal history of other diseases of digestive system?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'personal history of other diseases of digestive system' ) ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(procedures_costs.amount) FROM procedures_costs JOIN procedures_icd ON procedures_costs.costid = procedures_icd.costid WHERE procedures_icd.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%personal history of other diseases of digestive system%' )
546a49550415320fbb9316ad,What was the last time in 05/this year patient 10018328 was prescribed a medication via the iv route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND prescriptions.route = 'iv' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '05' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10018328 AND prescriptions.route = 'IV' AND prescriptions.startdate >= '2022-05-01' AND prescriptions.startdate <= '2022-05-31' ORDER BY prescriptions.startdate DESC LIMIT 1
5d2dfd7a5a2882eb9da2724d,"Among patients who were given closed [percutaneous] [needle] biopsy of kidney , what are the top five most common specimens tested afterward within 2 months?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'closed [percutaneous] [needle] biopsy of kidney' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, COUNT(*) AS count FROM chartevents INNER JOIN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'closed percutaneous needle biopsy of kidney' ) ) AS biopsy ON chartevents.hadm_id = biopsy.hadm_id WHERE chartevents.charttime BETWEEN biopsy.chartdate AND DATE_ADD(biopsy.chartdate, INTERVAL 2 MONTH) AND chartevents.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Specimen' ) GROUP BY chartevents.itemid ORDER BY count DESC LIMIT 5"
abae98d91941955983212127,Has patient 10022041 received any d5 1/2ns since 05/2100?,"SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'd5 1/2ns' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m',inputevents.starttime) >= '2100-05'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM inputevents_cv WHERE inputevents_cv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022041 ) AND inputevents_cv.starttime >= '2010-05-01' AND inputevents_cv.stoptime <= '2010-10-31' AND inputevents_cv.amount >= 50 AND inputevents_cv.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%D5 1/2NS%' OR d_items.label LIKE '%5%NS and 1/2 Normal Saline%' )
9ab4162dbb0abdcc190c4d21,What did patient 10018845 have last as the output since 279 days ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-279 day') ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'output' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-279 days') ORDER BY chartevents.charttime DESC LIMIT 1"
b3c91b713aa0b269e1c13630,Calculate patient 10007818's total output since 06/07/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-06-07'",[{'SUM(outputevents.value)': 31939.0}],
0814561e80d18ee7b5e8e214,"In 04/2100, when was the last time that patient 10007795 was prescribed medication via the po/ng route?","SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) = '2100-04' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10007795 AND prescriptions.route = 'PO/NG' AND YEAR(prescriptions.startdate) = 2021 AND MONTH(prescriptions.startdate) = 4 ORDER BY prescriptions.startdate DESC LIMIT 1
d0e1bf41e5fd8ca04ae79ba4,What were the total amount of sterile water input that patient 10007818 received in their first ICU visit?,SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'sterile water' AND d_items.linksto = 'inputevents' ),[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.amount) FROM inputevents_cv JOIN icustays ON inputevents_cv.icustay_id = icustays.icustay_id JOIN admissions ON icustays.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007818 AND inputevents_cv.itemid IN ( SELECT itemid FROM d_items WHERE category = 'Infusion fluid' AND label = 'STERILE WATER' ) ORDER BY icustays.intime LIMIT 1
3aa3f14b20280118b146135d,What was the first hematocrit reading during the last hospital visit for patient 10019385?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'hematocrit' ) ORDER BY chartevents.charttime ASC LIMIT 1
00144320e5ae44ed871c5db7,Show me the top three most frequent events that took place.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}]",
e567aa9d37acea95bac0a52f,"What is the maximum total cost of the hospital visits, which include medicines called acetaminophen-caff-butalbital since 2100?","SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'acetaminophen-caff-butalbital' ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
7ae435e691f248d18ab7bec3,How many hours have elapsed since patient 10018081 first received a hematocrit lab test during this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MIN(labevents.charttime), current_time) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname = 'hematocrit' )"
cdc697ea9fbefe7b34b817f1,What drug was first prescribed to patient 10009035 since 05/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-05' ORDER BY prescriptions.starttime ASC LIMIT 1",[{'drug': 'Aspirin'}],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND datetime(prescriptions.startdate) >= datetime('05/2100') ORDER BY prescriptions.startdate ASC LIMIT 1
67a35d73e846d6a5995d2dd4,What percentile is the value of the free calcium of 1.06 among patients of the same age as patient 10026255 in the first hospital visit?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10026255 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 1.06",,SELECT PERCENT_RANK() OVER (ORDER BY labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) AND labevents.valuenum = 1.06 LIMIT 1
49d1bd3a4560ab072f7825a7,What was the last heart rate value patient 10004720 had?,SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10004720 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
488e2a77c6798e98c810e20b,What is the patient count for ascorbic acid prescription during this year?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'ascorbic acid' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drg_type = 'ascorbic acid' AND prescriptions.startdate >= datetime(current_date,'start of year')"
962f54bae45dac154aceeff8,Can you tell me how many days patient 10005909 stayed in the ICU during their last stay?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 3.677384258713573}]","SELECT icustays.intime, icustays.outtime FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ) ORDER BY icustays.intime DESC LIMIT 1"
ab2f0e488953985801236fef,Calculate the length of stay in days for the first stay of patient 10007928 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.859664352145046}]","SELECT TIMESTAMPDIFF(HOUR, icustays.intime, icustays.outtime)/24 FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ORDER BY icustays.intime ASC LIMIT 1"
0406ba9fa1c3ada7f76965a3,What was the name of the last medication that was prescribed to patient 10039708?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039708 ) ORDER BY prescriptions.starttime DESC LIMIT 1,[{'drug': 'Lactulose'}],SELECT adm.drug FROM prescriptions AS adm WHERE adm.subject_id = 10039708 ORDER BY adm.start_date DESC LIMIT 1
217aba84a14d98a4827d6be1,"What are the five commonly taken specimens for patients that were diagnosed with other disorders of neurohypophysis previously during the same hospital encounter, since 2100?","SELECT T3.spec_type_desc FROM ( SELECT T2.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other disorders of neurohypophysis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.spec_type_desc, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.spec_type_desc ) AS T3 WHERE T3.C1 <= 5",,"SELECT chartevents.itemid, d_items.label FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code LIKE 'E23%' AND admissions.admittime < '2100-01-01') GROUP BY chartevents.itemid ORDER BY COUNT(*) DESC LIMIT 5"
73275404fad47edb177ee8d4,When was patient 10021487 prescribed a 5% dextrose and furosemide at the same time for the first time this month?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '5% dextrose' AND admissions.subject_id = 10021487 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'furosemide' AND admissions.subject_id = 10021487 AND datetime(prescriptions.starttime,'start of month') = datetime(current_time,'start of month','-0 month') ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT orders.orderdate FROM orders WHERE orders.subject_id = 10021487 AND orders.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('5% Dextrose', 'Furosemide') AND d_items.linksto = 'medICATIONS' ) AND orders.orderdate BETWEEN current_date - INTERVAL 1 MONTH AND current_date GROUP BY orders.orderdate ORDER BY orders.orderdate ASC LIMIT 1"
ded63a32010e347a3a99d26d,Ist patient 5142 subject to covid-19 testing,,,SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 5142 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label LIKE '%COVID-19%' )
c1ae78fc2d85e6eca4bb40d9,How many patients had thoracoscopic lobectomy of lung done in 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'thoracoscopic lobectomy of lung' ) AND strftime('%Y',procedures_icd.charttime) = '2100' )",,SELECT COUNT(*) FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE p.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'thoracoscopic lobectomy of lung' ) AND a.admittime LIKE '2100%'
592209b6b448207dfea92c06,When did patient 10027602 get input since 07/25/2100 for the last time?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-07-25' ORDER BY inputevents.starttime DESC LIMIT 1",[{'starttime': '2201-12-13 16:51:00'}],
18134bb405cad581e0aaef9f,What is the cost of unspecified protein-calorie malnutrition diagnostic?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'unspecified protein-calorie malnutrition' ) ),,
d3085358f26b085a3251d71d,Count the number of patients who were given the indomethacin since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'indomethacin' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 4}],"SELECT COUNT(DISTINCT c.subject_id) FROM chartevents c JOIN admissions a ON c.hadm_id = a.hadm_id WHERE c.itemid IN ( SELECT itemid FROM d_items WHERE label = 'indomethacin' ) AND c.charttime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
9bcc50dfeada714797755ff0,What is the checklist you need to follow in advance of your egd with closed biopsy procedure?,,,
5e2dc38de1c3863efdd5f7b6,"So, what was the last o2 saturation pulseoxymetry of patient 10004733 since 12/30/2100?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) >= '2100-12-30' ORDER BY chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid = 6435 AND chartevents.charttime <= '12/30/2100' ORDER BY chartevents.charttime DESC LIMIT 1
054b6f8bf46fb8b641b71498,What is the name of the drug that should not be administered during the endovasc embol hd/nk ves?,,,
1cf1e58d245ff59b4d7adc31,How many hours have passed since patient 10039831 last received a laboratory test of amylase during their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, MAX(labevents.charttime), NOW()) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'amylase' )"
aaa971c7a88d9bf7858d0200,So how many days have passed since patient 10004733's last bacteremia diagnosis in the current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'bacteremia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,"SELECT DATEDIFF(CURDATE(), MAX(admissions.admittime)) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10004733 AND diagnoses_icd.icd_code = '038.9'"
4ae4d8179801e38d38744603,What are the three most frequent procedures for patients who are in their 50s since 1 year ago?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 50 AND 59 ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_procedures.short_title, COUNT(*) as frequency FROM procedures_icd JOIN admissions ON admissions.hadm_id = procedures_icd.hadm_id JOIN patients ON patients.subject_id = admissions.subject_id WHERE admissions.admittime >= datetime(current_time,'-1 year') AND patients.dob BETWEEN '1943-01-01' AND '1962-12-31' AND procedures_icd.icd_code IN ( SELECT icd_code FROM d_icd_procedures ) GROUP BY d_icd_procedures.short_title ORDER BY frequency DESC LIMIT 3"
f782fdf63ed4c6c75950ea24,What was the name of the drug that was last prescribed to patient 10007818 through the iv bolus route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND prescriptions.route = 'iv bolus' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT medications.medication FROM medications INNER JOIN d_items ON medications.itemid = d_items.itemid WHERE d_items.category = 'IV medications' AND medications.subject_id = 10007818 ORDER BY medications.stop_datetime DESC LIMIT 1
42338b681fd350441ca9efc0,Do patient 19894 have a appointment in another department?,,,
ddf32de215f19f42c2a8ddf6,Calculate patient 10007928's total amount of foley output on 04/14/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) = '2100-04-14'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents INNER JOIN d_items ON chartevents.itemid = d_items.itemid WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND d_items.label = 'foley output' AND chartevents.charttime >= '04/14/2100 00:00:00' AND chartevents.charttime < '04/15/2100 00:00:00'
17e15ae68d3705f96b36cfb4,What is the patient count in the hospital currently?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT count(*) FROM admissions WHERE admittime < current_timestamp AND dischtime > current_timestamp
ecbcf154c6dfea64fea97371,When was patient 10027445 last prescribed the medication via the sc route during their last hospital visit?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'sc' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT orders.startdate FROM orders INNER JOIN patients ON patients.subject_id = orders.subject_id WHERE orders.subject_id = 10027445 AND orders.route = 'SC' AND orders.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) ORDER BY orders.startdate DESC LIMIT 1
a81a9ceee607e440b6b6e0ef,Count the total patients who were prescribed desmopressin acetate since 1 year ago.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'desmopressin acetate' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug LIKE 'desmopressin acetate%' AND datetime(prescriptions.startdate) >= datetime(current_time,'-1 year')"
cc1b03b3dc9e12a0e0841326,Has patient 10019385 been to the emergency room?,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.admission_location = 'emergency room',[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10019385 AND admissions.admittime IN ( SELECT er_visits.admittime FROM er_visits )
9ecd148b83207e3fbed2a937,What was the condition patient 10020740 was diagnosed with first time since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,"SELECT icd9_code FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10020740 ) AND chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) ORDER BY chartdate LIMIT 1"
625878ba2c323f56d784df19,"For the last time , what was patient 10017492 diagnosed with?",SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10017492 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
29529a65ec54c70785eb5133,Count the number of hospital visits that patient 10029484 had since 1 year ago.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10029484 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 1}],"SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10029484 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year')"
a6e9aa314afc2689dfc084db,Tell me the three most frequent medical diagnoses throughout this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE datetime(admissions.admittime) >= datetime(current_time, '-1 year') ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 3"
9aaa83b804392690737b00fb,"On the current hospital visit, how many hours have passed since patient 10018081's last diagnosis of acute vascular insufficiency of intestine?","SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute vascular insufficiency of intestine' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT (julianday(MAX(chartevents.charttime)) - julianday(MAX(admissions.admittime))) * 24 FROM admissions INNER JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'acute vascular insufficiency of intestine' )
9074ac00135a21bec34e6199,Give me the total volume of output for patient 10022880 on 04/03/this year.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '04-03'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022880 ) AND chartevents.charttime LIKE '04/03/%' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' )
3932e19e4ed3b0175cec67c4,Has patient 10007818 had a hospital admission in 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007818 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10007818 AND admissions.admittime LIKE '2100%'
dd2f29754291be893cdcffa8,How many hours have passed since patient 10004733's last specific gravity laboratory test on their current hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'specific gravity' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'specific gravity' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
ca0b792691b7ae80aefbc093,Is there a genetic test that was given to patient 1561?,,,SELECT COUNT(*)>0 FROM genetic_tests WHERE genetic_tests.subject_id = 1561
4972d1004d8c1ef2af211806,"Tell me the minimum total cost of a hospital that involved dysphagia, unspecified since 2100.","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dysphagia, unspecified' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
975a9d2f0afd09663ee67165,How is nifedipine typically consumed?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'nifedipine',"[{'route': 'PO'}, {'route': 'ORAL'}]",
699d1833d8f298ac738b03d6,How many sodium bicarbonate prescription instances occurred since 1 year ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'sodium bicarbonate' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 8}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.startdate >= datetime(current_date,'-1 year') AND prescriptions.drgid IN ( SELECT drug_strength.drgid FROM drug_strength WHERE drug_strength.generic_name = 'sodium bicarbonate' )"
44c07c98fe50b60cd61a2569,What are patient 10021118's changes in free calcium last measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) ORDER BY labevents.charttime DESC LIMIT 1 ) - ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'free calcium' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT chartevents.valuenum - FIRST_VALUE(chartevents.valuenum) OVER (PARTITION BY chartevents.hadm_id ORDER BY chartevents.charttime ASC) AS delta FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021118 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%free calcium%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = ( SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id = admissions.hadm_id AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%free calcium%' AND d_items.linksto = 'chartevents' ) ) ORDER BY chartevents.charttime DESC LIMIT 1
cb9ef2da0330655eb9c04acb,When did patient 10026354 receive the first prescription of ciprofloxacin 0.3% ophth soln and dexamethasone ophthalmic susp 0.1% at the same time in 10/2100?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ciprofloxacin 0.3% ophth soln' AND admissions.subject_id = 10026354 AND strftime('%Y-%m',prescriptions.starttime) = '2100-10' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'dexamethasone ophthalmic susp 0.1%' AND admissions.subject_id = 10026354 AND strftime('%Y-%m',prescriptions.starttime) = '2100-10' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10026354 AND prescriptions.drug = 'Ciprofloxacin 0.3% Ophth Soln' AND prescriptions.drug = 'Dexamethasone Ophthalmic Susp 0.1%' AND prescriptions.dosage = '10/2100' LIMIT 1
acc452348f26357e7eee2d70,Calculate the total volume of input by patient 10019777 on 03/10/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) = '2100-03-10'",[{'SUM(inputevents.totalamount)': None}],SELECT SUM(inputevents_cv.volume) FROM inputevents_cv INNER JOIN admissions ON inputevents_cv.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10019777 AND inputevents_cv.charttime = '03/10/2100'
23065749b2b2053dc0c8dcbc,Tell me the minimum total hospital cost that includes irbesartan.,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'irbesartan' ) GROUP BY cost.hadm_id ) AS T1,,SELECT MIN(costs.totalcost) FROM costs INNER JOIN d_icd_procedures ON costs.icd9procedure = d_icd_procedures.icd_code WHERE d_icd_procedures.long_title LIKE '%irbesartan%' OR costs.drug = 'irbesartan'
16a44e61297946c6928ab617,What was the name of the specimen test that patient 10026406 had for the first time in 01/this year?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '01' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],
03a5a6bba8bab1a26a453a24,Count the number of patients who were discharged during the previous year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time, '-1 year')"
73482639c89e793869246809,What was the drug that was first prescribed to patient 10029291 via the im route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND prescriptions.route = 'im' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT medications.medication FROM medications WHERE medications.subject_id = 10029291 AND medications.route = 'IM' ORDER BY medications.starttime ASC LIMIT 1
13bee07976257e0b38f5e9b3,What was the procedure conducted on patient 10020740 two or more times in 05/2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, COUNT( procedures_icd.charttime ) AS C1 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND strftime('%Y-%m',procedures_icd.charttime) = '2100-05' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 >= 2 )",,SELECT d_icd_procedures.long_title FROM procedures_icd INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND datetime(procedures_icd.chartdate) >= datetime('2005-01-01') AND datetime(procedures_icd.chartdate) < datetime('2006-01-01') GROUP BY d_icd_procedures.long_title HAVING COUNT(*) >= 2
4ca27aac7d23ace022562d03,What was the first time patient 10020944 received wbc in a lab test on the last hospital stay?,SELECT labevents.charttime FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'wbc' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1,[],SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.name = 'WBC' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ORDER BY admissions.admittime DESC LIMIT 1 ) ORDER BY labevents.charttime ASC LIMIT 1
41a9d1565306cee37678be20,Can you tell me the name of the last output of patient 10009035 since 03/02/2100?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-03-02' ORDER BY outputevents.charttime DESC LIMIT 1 )",[{'label': 'Foley'}],
44760a38638babf2a64cc994,Provide the length in days of the last visit for patient 10009035 in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.186168982181698}]","SELECT DATEDIFF(MAX(chartevents.charttime), MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009035 ))"
2d4e78fac89671a4c99a7d95,Can you tell me when the last microbiology test for patient 10015931 was held since 9 months ago?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-9 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'charttime': '2177-03-27 11:54:00'}],"SELECT microbiologyevents.chartdate FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND datetime(microbiologyevents.chartdate) >= datetime(current_date,'-9 month') ORDER BY microbiologyevents.chartdate DESC LIMIT 1"
38b0a6d72077dca2e36faa92,Show the respiratory rate changes of patient 10023239 last measured on the first ICU visit compared to the value first measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT chartevents.valuenum,chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) AND icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023239 ) ) ) ORDER BY chartevents.charttime ASC LIMIT 2"
cc2dcf3bb997c63533f8349f,"What was the drug that patient 10021118 prescribed for within 2 days after the procedure of bypass coronary artery, two arteries from coronary artery, open approach since 03/2100?","SELECT T2.drug FROM ( SELECT procedures_icd.charttime, procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'bypass coronary artery, two arteries from coronary artery, open approach' ) AND procedures_icd.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',procedures_icd.charttime) >= '2100-03' ) AS T1 JOIN ( SELECT prescriptions.drug, prescriptions.starttime, prescriptions.hadm_id FROM prescriptions WHERE prescriptions.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ) AS T2 ON T1.hadm_id = T2.hadm_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 day')",,SELECT cSQL
3ae2168575144fa7bff0773b,Is patient 4758 subject to the test covid-19?,,,SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 4758 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'covid-19' OR d_items.linksto = 'covid-19' )
4862ed4025ee2b4c353f6545,How much is the minimum total hospital cost with other cysts of jaws since 2100?,"SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other cysts of jaws' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
31fc326ca001513cb405a126,What are the newly prescribed drugs for patient 10039831 today compared to those prescribed yesterday?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-0 day') EXCEPT SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(prescriptions.starttime,'start of day') = datetime(current_time,'start of day','-1 day')",[],"SELECT a.order_status, a.order_time, a.order_category, a.order_type, a.drug, a.rate, a.dose, a.duration, a.units FROM prescriptions a JOIN prescriptions b ON a.subject_id = b.subject_id AND a.hadm_id = b.hadm_id AND a.icustay_id = b.icustay_id WHERE a.subject_id = 10039831 AND a.order_time BETWEEN CURDATE() AND CURDATE() + INTERVAL 1 DAY AND b.order_time BETWEEN CURDATE() - INTERVAL 1 DAY AND CURDATE() AND a.order_status = 'Completed' AND b.order_status = 'Completed' AND a.drug NOT IN (SELECT drug FROM prescriptions WHERE subject_id = 10039831 AND order_time BETWEEN CURDATE() - INTERVAL 1 DAY AND CURDATE())"
fce59dd5045419545d12fe57,Can you give me patient 10004235's monthly minimum platelets input in the first hospital visit?,"SELECT MIN(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'platelets' AND d_items.linksto = 'inputevents' ) GROUP BY strftime('%Y-%m',inputevents.starttime)",[],"SELECT MIN(chartevents.valuenum), DATE_FORMAT(chartevents.charttime, '%Y-%m') AS month FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004235 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'Platelets' ) AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime GROUP BY month ORDER BY month"
39d219c7d6cf5c42a50daf25,Work out the total amount of input patient 10016742 received since 04/15/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-04-15'",[{'SUM(inputevents.totalamount)': 36640.0}],
1532ba3736ece73151250484,When were the drugs sodium chloride 0.9% and pantoprazole prescribed to patient 10036156 for the last time at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'sodium chloride 0.9%' AND admissions.subject_id = 10036156 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'pantoprazole' AND admissions.subject_id = 10036156 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime DESC LIMIT 1",[],"SELECT admints.charttime FROM admints WHERE admints.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10036156 ) AND admints.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('sodium chloride 0.9%', 'pantoprazole') ) GROUP BY admints.charttime HAVING COUNT(*) = 2 ORDER BY admints.charttime DESC LIMIT 1"
f08251f8b3dd5a479060e87b,"Since 12/2100, how much did patient 10015931 weigh during the first measurement?","SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m',chartevents.charttime) >= '2100-12' ORDER BY chartevents.charttime ASC LIMIT 1",[],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' ) AND chartevents.charttime >= '2010-12-01' ORDER BY chartevents.charttime ASC LIMIT 1
fe47357d4996af8b8acb6162,What is the name of the medication that was prescribed to patient 10004422 for the last time via the po route in 01/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004422 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) = '2100-01' ORDER BY prescriptions.starttime DESC LIMIT 1",[],"SELECT admittime, subject_id, drug, route, dospedchar FROM prescriptions WHERE subject_id = 10004422 AND route = 'PO' AND admittime BETWEEN '2021-01-01' AND '2021-01-31' ORDER BY admittime DESC LIMIT 1"
42b27d5b68477ed32b23938a,What was the first respiratory rate in patient 10019172's body since 145 days ago?,"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-145 day') ORDER BY chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019172 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Respiratory Rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-145 days') ORDER BY chartevents.charttime ASC LIMIT 1"
1d3f884b7931238b1dbb1779,Show me the top three most common diagnoses of patients with age 40s this year.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 40 AND 49 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM admissions JOIN d_icd_diagnoses ON admissions.d diagnoses_icd.icd_code = d_icd_diagnoses.icd_code WHERE admissions.admittime >= '2022-01-01' AND admissions.admittime < '2022-12-31' AND FLOOR(DATEDIFF(CURDATE(), admissions.dob) / 365) BETWEEN 40 AND 49 GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 3"
224fe50640fe06e9fd64e1cd,Tell me the name of the last specimen test patient 10014354 had received since 10/2100.,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-10' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'BLOOD CULTURE'}],
b2f05f5bfed93860e52c33a1,Calculate patient 10029291's length of stay in days for the first ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 6.327037037815899}]",SELECT (icustays.outtime - icustays.intime) AS length_of_stay_in_days FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10029291 ) ORDER BY icustays.intime ASC LIMIT 1
861e1a2621058a2c9affd693,"Among patients who were administered extracorporeal circulation auxiliary to open heart surgery since 1 year ago, what were the top five most common treatments that they received during the same month?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extracorporeal circulation auxiliary to open heart surgery' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT T2.short_title, COUNT(*) FROM chartevents AS T1 JOIN d_items AS T2 ON T1.itemid = T2.itemid WHERE T2.short_title IN ( SELECT short_title FROM d_items WHERE short_title LIKE '%extracorporeal circulation auxiliary to open heart surgery%' ) AND T1.charttime >= datetime(current_time,'-1 year') GROUP BY T2.short_title ORDER BY COUNT(*) DESC LIMIT 5"
99dc14e34af5f8b1b714560f,"Since 2100, how many patients received arteriography of femoral and other lower extremity arteries within 2 months after being diagnosed with other specified procedures as the cause of abnormal reaction of patient, or of later complication, without mention of misadventure at time of procedure?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other specified procedures as the cause of abnormal reaction of patient, or of later complication, without mention of misadventure at time of procedure' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'arteriography of femoral and other lower extremity arteries' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM procedures_icd AS p JOIN admissions AS a ON p.hadm_id = a.hadm_id WHERE p.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%arteriography of femoral and other lower extremity arteries%' ) AND a.admittime BETWEEN DATE_SUB(( SELECT MAX(admittime) FROM admissions WHERE admittime > '2100-01-01' ), INTERVAL 2 MONTH ) AND ( SELECT MAX(admittime) FROM admissions WHERE admittime > '2100-01-01' ) AND p.icd_code IN ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%other specified procedures as the cause of abnormal reaction of patient, or of later complication, without mention of misadventure%' )"
09f8601bdd6e63b61b06c516,Calculate the length in days of patient 10016810's first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.488912038039416}]","SELECT TIMESTAMPDIFF(day, icustays.intime, icustays.outtime) AS ICU_stay_length FROM icustays WHERE icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016810) ORDER BY icustays.intime ASC LIMIT 1"
6a7adc80e43e20c9c20e21aa,Tell me the name of the organism found in patient 10007795's last abscess microbiology tests in 05/this year?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007795 ) AND microbiologyevents.spec_type_desc = 'abscess' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',microbiologyevents.charttime) = '05' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT organisms.org_name FROM organisms INNER JOIN microbiology_results ON organisms.org_id = microbiology_results.org_id INNER JOIN admissions ON microbiology_results.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10007795 AND microbiology_results.spec_type_desc = 'ABSCESS' AND microbiology_results.chartdate >= '2022-05-01' AND microbiology_results.chartdate < '2022-06-01' ORDER BY microbiology_results.chartdate DESC LIMIT 1
b49883cb372deacf8d0d0392,What was the total amount of input for patient 10018081 since 09/25/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-09-25'",[{'SUM(inputevents.totalamount)': 171300.0}],
6874b240b1ee6575829fb705,"Which were the three most commonly ordered procedures for patients previously diagnosed with streptococcus infection in conditions classified elsewhere and of unspecified site, streptococcus, group d [enterococcus] during the same month, since 1 year ago?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'streptococcus infection in conditions classified elsewhere and of unspecified site, streptococcus, group d [enterococcus]' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_procedures.long_title, COUNT(*) AS procedure_count FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN chartevents ON icustays.stay_id = chartevents.stay_id INNER JOIN d_items ON chartevents.itemid = d_items.itemid INNER JOIN d_icd_diagnoses ON admissions.hadm_id = d_icd_diagnoses.hadm_id INNER JOIN procedures_icd ON icustays.stay_id = procedures_icd.stay_id INNER JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE d_icd_diagnoses.icd_code LIKE '034.%' AND d_items.label = 'Microorganism' AND chartevents.value = 'Enterococcus group D' AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY d_icd_procedures.long_title ORDER BY procedure_count DESC LIMIT 3"
577572963a504b16ab2aced7,Show me patient 10004733's total volume of output since 12/07/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-07'",[{'SUM(outputevents.value)': 17410.0}],
a301cbb555555b4a30c9dfbe,What is a checklist before lumb/lmbosac fus ant/ant?,,,
0f0a1891025fdcedc7e8ea0d,Tell me the name of the specimen test that patient 10000032 first received since 07/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'spec_type_desc': 'URINE'}],SELECT chartevents.itemid FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND chartevents.charttime >= '2010-07-01' AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Specimen' ) ORDER BY chartevents.charttime ASC LIMIT 1
11b773ce5f673720f4ff1cd9,Has patient 10009628 experienced any procedure since 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND procedures_icd.chartdate >= '2100-01-01'
3e1d007895353da9f631ad02,List the top three most common events this year.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 3 )",[],"SELECT event, COUNT(*) as count FROM events WHERE YEAR(event_date) = YEAR(CURRENT_DATE()) GROUP BY event ORDER BY count DESC LIMIT 3"
799e3b8dccd0212e2b71456d,When was patient 10022017 first urine microbiologic test since 07/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND microbiologyevents.spec_type_desc = 'urine' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-07' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10022017 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology Results' AND d_items.label LIKE '%urine%' ) AND chartevents.charttime > '07/2100' ORDER BY chartevents.charttime ASC LIMIT 1
3751ff2eb0be4c22f7a8f752,How many days has it been since patient 10021487 first received the po2 lab test during their current hospital encounter?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'po2' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT DATEDIFF(CURRENT_DATE, MIN(chartevents.charttime)) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po2' AND d_items.linksto = 'chartevents' )"
810985919f9d2ed07555c4b0,What was the time of patient 10027445's last influenza a/b by dfa microbiology test since 03/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND microbiologyevents.spec_type_desc = 'influenza a/b by dfa' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.subject_id = 10027445 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%influenza a/b by dfa%' AND d_items.linksto = 'microbiologyevents' ) AND chartevents.charttime > '03/2100' ORDER BY chartevents.charttime DESC LIMIT 1
ced779d97cae41941721bd34,"What number of days has it been since the first time patient 10018081 was diagnosed with encephalopathy, unspecified in this hospital encounter?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'encephalopathy, unspecified' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,"SELECT DATEDIFF(current_date, MIN(admissions.admittime)) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10018081 AND diagnoses_icd.icd_code = '799.2' AND diagnoses_icd.icd_version = 9"
fbeef7a4b32462cf2f85c7ab,And what was the first time patient 10038933 was prescribed medication using the td route?,SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 ) AND prescriptions.route = 'td' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT prescriptions.startdate FROM prescriptions INNER JOIN d_cpt ON prescriptions.cpt_cd = d_cpt.cpt_cd WHERE prescriptions.subject_id = 10038933 AND d_cpt.route = 'td' ORDER BY prescriptions.startdate ASC LIMIT 1
e3732452c0c7cbd80082d35c,Could you tell me the gender of patient 10023239?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10023239,[{'gender': 'F'}],SELECT gender FROM patients WHERE subject_id = 10023239
f8334a7c23e689cadd23c209,Was patient 10008454 administered any solution during the first hospital visit?,SELECT COUNT(*)>0 FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'solution' AND d_items.linksto = 'inputevents' ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.formulary_drug_cd LIKE '0%'
0156bbc7fa6f2c54a9587d76,How much does patient 10020187's weight differ from the last value measured on the first hospital visit compared to the first value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","WITH first_visit_weight AS ( SELECT chartevents.valuenum AS first_weight, chartevents.charttime AS first_time FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) , last_visit_weight AS ( SELECT chartevents.valuenum AS last_weight, chartevents.charttime AS last_time FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10020187 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY"
26b5659defc710e97b8055d7,What was the total amount of the output patient 10004733 had since 11/25/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-11-25'",[{'SUM(outputevents.value)': 17410.0}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '11/25/2100'
dcebcd167c495b6e52892fc8,I would like to know the top four diagnoses that have the highest 3-month mortality rate.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS deaths FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id JOIN patients ON admissions.subject_id = patients.subject_id WHERE admissions.admittime <= patients.dod AND patients.dod <= admissions.admittime + INTERVAL 3 MONTH GROUP BY d_icd_diagnoses.long_title ORDER BY deaths DESC LIMIT 4"
2e16f3d29c3aeed69b6e3b78,What was the total volume of foley that patient 10004235 had on 03/21/this year?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004235 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m-%d',outputevents.charttime) = '03-21'",[{'SUM(outputevents.value)': None}],
3355ff6ec63f5859b0030ed5,List the four most frequent specimens that were tested since 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 4","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}, {'spec_type_desc': 'SPUTUM'}]",
6f95b08ff006a4983b0050f6,What was the admission type for patient 10027445's last admission to the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10027445 AND strftime('%Y',admissions.admittime) = '2100' ORDER BY admissions.admittime DESC LIMIT 1",[],SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10027445 ORDER BY admissions.admittime DESC LIMIT 1
02759807d268a649ffbc56e0,Can you tell me the total volume of foley output for patient 10018081 since 12/07/2100?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'foley' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-12-07'",[{'SUM(outputevents.value)': None}],SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%foley%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '12/07/2100'
d736183a8eb133edc418c730,How many days have it been since the first stay of patient 10039831 on this hospital stay in the careunit surgical intensive care unit (sicu)?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', transfers.intime) ) FROM transfers WHERE transfers.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND transfers.careunit = 'surgical intensive care unit (sicu)' ORDER BY transfers.intime ASC LIMIT 1",[],"SELECT MIN(intime), MIN(intime), CURRENT_DATE - MIN(intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND icustays.icu_stay_type = 'First' AND icustays.icustay_id = 'Surgical Intensive Care Unit (SICU)'"
aedb02499fd35b17dcda7ada,What percentile is the creatinine value of 0.6 among patients of the same age as patient 10008454 on their last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 0.6",,"SELECT percentile_cont(0.5) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY admissions.admittime, admissions.dob) as percentile FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Creatinine' ) AND admissions.subject_id = 10008454 AND labevents.valuenum = 0.6 LIMIT 1"
fabc39d4768ddcfc1eaea089,Tell me the amount of po intake input that patient 10018845 received since 01/28/2100.,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) ) AND inputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'po intake' AND d_items.linksto = 'inputevents' ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-01-28'",[{'SUM(inputevents.totalamount)': None}],SELECT chartevents.valuenum FROM chartevents WHERE chartevents.subject_id = 10018845 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'po intake input') AND chartevents.charttime >= '2100-01-28' ORDER BY chartevents.charttime DESC LIMIT 1
409925c52ea74d305cc42742,Tell me the name of an output that patient 10007058 has last had on last month/25?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007058 ) ) AND datetime(outputevents.charttime,'start of month') = datetime(current_time,'start of month','-1 month') AND strftime('%d',outputevents.charttime) = '25' ORDER BY outputevents.charttime DESC LIMIT 1 )",[],"SELECT value FROM outputevents WHERE subject_id = 10007058 AND charttime >= DATE_FORMAT(NOW(),'%Y-%m-') AND charttime <= DATE_FORMAT(NOW(),'%Y-%m-25 23:59:59') ORDER BY charttime DESC LIMIT 1"
c06489b1989596c5c396021d,What code is associated with icd-11 for aphasia in icd-10?,,,
41deb2b6334194be2b87c10f,Count the number of medicines that have been prescribed to patient 10021312.,SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ),[{'COUNT(*)': 126}],SELECT COUNT(DISTINCT medications.medications) FROM medications WHERE medications.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 )
8714a2c8bbdfbe82b744586d,When did patient 10008454 last have a maximum value of diastolic blood pressure on 12/06/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure diastolic' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-12-06' ORDER BY chartevents.valuenum DESC, chartevents.charttime DESC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10008454 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'diastolic blood pressure' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime LIKE '12/06/2100%' ORDER BY chartevents.valuenum DESC LIMIT 1
2195808ddabb497385b40858,Get the count of hospital visits by patient 10017492 since 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10017492 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 2}],SELECT COUNT(*) FROM admissions WHERE subject_id = 10017492 AND admittime >= '2100-01-01'
e449057b794c66a951ffc20d,Can you tell me the total amount of metoprolol succinate xl that patient 10020944 has been prescribed in 03/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND prescriptions.drug = 'metoprolol succinate xl' AND strftime('%Y-%m',prescriptions.starttime) = '2100-03'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(c_amount) FROM prescriptions WHERE prescriptions.subject_id = 10020944 AND prescriptions.drug = 'metoprolol succinate xl' AND prescriptions.dosedate BETWEEN '03/01/2010' AND '03/31/2010'
5df781cee8420b4e67b5b670,Could you show me the top three most common microbiology tests since 2100?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test_name, COUNT(*) AS test_count FROM microbiologyevents WHERE chartdate >= '2100-01-01' GROUP BY test_name ORDER BY test_count DESC LIMIT 3"
e1a987c52eaba2b8697dbc00,What was the first time in 04/this year patient 10012853 was prescribed a medication via the po route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10012853 ) AND prescriptions.route = 'po' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions JOIN d_items ON prescriptions.itemid = d_items.itemid WHERE prescriptions.subject_id = 10012853 AND d_items.formulary_name LIKE '%PO%' AND prescriptions.startdate BETWEEN '2022-04-01' AND '2022-04-30' ORDER BY prescriptions.startdate ASC LIMIT 1
274367d1fab86c9296ee0ceb,How much is the average total hospital bill when it includes a tobramycin lab test since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'tobramycin' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.loinc_code = '814' AND d_labitems.fluid = 'Serum' ) ) AND admissions.admittime >= '2100-01-01'
9b0199c77936ada6960d0213,What was the last specimen test that was given to patient 10018328 since 17 months ago?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-17 month') ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'URINE'}],"SELECT chartevents.itemid, chartevents.charttime, chartevents.value FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018328 ) AND chartevents.charttime >= datetime(current_timestamp,'-17 months') AND chartevents.value like '%specimen%' ORDER BY chartevents.charttime DESC LIMIT 1"
1697a8cad9b6a471e01ec05a,"What was the name of the organism discovered in the first fluid,other test of patient 10021487 since 9 months ago?","SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.spec_type_desc = 'fluid,other' AND microbiologyevents.org_name IS NOT NULL AND datetime(microbiologyevents.charttime) >= datetime(current_time,'-9 month') ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND microbiologyevents.chartdate >= datetime(current_time,'-9 month') AND microbiologyevents.spec_type_desc = 'fluid,other' ORDER BY microbiologyevents.chartdate ASC LIMIT 1"
2f5d42ba584507b3ec8786a4,Show me patient 10038081's total tap output since 10/06/2100.,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) ) AND outputevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'tap' AND d_items.linksto = 'outputevents' ) AND strftime('%Y-%m-%d',outputevents.charttime) >= '2100-10-06'",[{'SUM(outputevents.value)': None}],
0114a64085ec7d751f6e1bfd,What was the change in respiratory rate in patient 10026406 measured at 2100-01-12 13:00:00 compared to the value measured at 2100-01-12 12:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 13:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 12:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 13:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-12 12:00:00' )"": None}]",SELECT (b.valuenum - a.valuenum) AS delta FROM chartevents a JOIN chartevents b ON a.hadm_id = b.hadm_id WHERE a.itemid = b.itemid AND a.itemid IN (SELECT itemid FROM d_items WHERE label = 'Respiratory Rate') AND a.hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id = 10026406) AND a.charttime = '2100-01-12 12:00:00' AND b.charttime = '2100-01-12 13:00:00'
32bd2842efa8e518c4f30155,"How many times was a drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic procedure done?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic' )",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM procedures_icd WHERE icd_code = (SELECT icd_code FROM d_icd_procedures WHERE long_title = 'drainage of right lower lobe bronchus, via natural or artificial opening endoscopic, diagnostic')"
14540374a9d0b9528a6d94fe,How many doses of rifaximin have been prescribed to patient 10038081 since 09/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) AND prescriptions.drug = 'rifaximin' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 10038081 AND prescriptions.startdate >= '09/2100' AND prescriptions.drug = 'rifaximin'
2aa05532775a51572241041f,Tell me the minimum total cost of a hospital that contains patient room in hospital as the place of occurrence of the external cause?,SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'patient room in hospital as the place of occurrence of the external cause' ) ) GROUP BY cost.hadm_id ) AS T1,,
be8cee5520084fc21550d8bb,Has patient 10031404 visited the hospital since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10031404 AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10031404 AND admissions.admittime > '2100-01-01'
53cdff279789d1183c4e5a86,What about the single rooms out there now?,,,
8bc83605b6ede35754a1e843,Has there been any organism found in the first microbiological urine test of patient 10021118 in 12/2100?,"SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND microbiologyevents.spec_type_desc = 'urine' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) = '2100-12' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10021118 AND microbiologyevents.chartdate >= '2012-01-01' AND microbiologyevents.chartdate < '2011-01-01' AND microbiologyevents.spec_itemid = 225374 AND microbiologyevents.org_itemid > 0
0878aade13d38cab157cad47,"After receiving laparoscopic robotic assisted procedure this year, what are the four most common diagnoses that patients received within the same month?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'laparoscopic robotic assisted procedure' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.short_title, COUNT(*) as frequency FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime >= date_format(curdate() - interval 1 year, '%Y-%m-01') AND admissions.admittime < date_format(curdate(), '%Y-%m-01') AND diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'LAPAROSCOPIC ROBOTIC ASSISTED' ) ) GROUP BY d_icd_diagnoses.short_title ORDER BY frequency DESC LIMIT 4"
99282beda9432fdc84953229,Has patient 27146 ever had any side effects while he/she is receiving a blood transfusion?,,,SELECT COUNT(*)>0 FROM transfusions INNER JOIN side_effects ON transfusions.transfusion_id = side_effects.transfusion_id WHERE transfusions.patient_id = 27146
5c8d918b88b696fa22b10f23,What are the four most common prescriptions in 2100?,"SELECT T1.drug FROM ( SELECT prescriptions.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM prescriptions WHERE strftime('%Y',prescriptions.starttime) = '2100' GROUP BY prescriptions.drug ) AS T1 WHERE T1.C1 <= 4",[],
d8cceb3ec5f0418b29f0a459,Do you think patient 31615 has an appointment in another department?,,,
3ab088d1de4a0ae537c766a2,What was the last time that patient 10004733 had a minimum heart rate on this month/30?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '30' ORDER BY chartevents.valuenum ASC, chartevents.charttime DESC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND chartevents.valuenum = ( SELECT min(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Heart Rate' AND d_items.linksto = 'chartevents' ) AND DATE_SUB(CURDATE(), INTERVAL 30 day) <= chartevents.charttime ) ORDER BY chartevents.charttime DESC LIMIT 1"
afe1bb1212af5b8def3b6bca,List the top four most frequent microbiology tests that were given to patients after they were diagnosed with acute embolism and thrombosis of deep veins of right upper extremity during the same hospital encounter.,"SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute embolism and thrombosis of deep veins of right upper extremity' ) ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime, admissions.hadm_id FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 4",,"SELECT mtest.testname, COUNT(*) AS frequency FROM ( SELECT microbiologyevents.spec_itemid, microbiologyevents.charttime, microbiologyevents.hadm_id FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '453.1' ) ) mtest JOIN d_micromethods micromethod ON mtest.spec_itemid = micromethod.spec_itemid GROUP BY mtest.spec_itemid ORDER BY frequency DESC LIMIT 4"
0e87f2737511d219196c8409,What's the weight difference of patient 10038999's body measured at 2100-06-07 05:00:00 compared to the value measured at 2100-06-06 06:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-07 05:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-06 06:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-07 05:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-06-06 06:00:00' )"": None}]","SELECT MAX(CASE WHEN chartevents.charttime = '2100-06-07 05:00:00' THEN chartevents.valuenum ELSE NULL END) - MAX(CASE WHEN chartevents.charttime = '2100-06-06 06:00:00' THEN chartevents.valuenum ELSE NULL END) AS weight_difference FROM chartevents WHERE chartevents.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight') AND chartevents.charttime IN ('2100-06-07 05:00:00', '2100-06-06 06:00:00')"
3ed75cc0aecb87eee22cf8e5,"What are the four frequently ordered treatments for patients who were diagnosed with other and unspecified alcohol dependence, continuous during the same month?","SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified alcohol dependence, continuous' ) ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.icd_code, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icustays.subject_id, icustays.hadm_id, icustays.icustay_id FROM icustays INNER JOIN admissions ON icustays.hadm_id = admissions.hadm_id INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '3039' AND diagnoses_icd.icd_code = '3059' AND diagnoses_icd.icd_code = '3050' AND diagnoses_icd.icd_code = '3051' AND diagnoses_icd.icd_code = '3059' AND diagnoses_icd.icd_code = '3050' AND diagnoses_icd.icd_code = '3051' AND diagnoses_icd.icd_code = '3059' AND diagnoses_icd.icd_code = '3050' AND diagnoses_icd.icd_code = '3051' AND diagnoses_icd.icd_code = '3039' AND diagnoses_icd.icd_code = '3059' AND diagnoses_icd.icd_code = '3050' AND diagnoses_icd.icd_code = '3051' AND diagnoses"
571c7531441ce4b75b1fe333,What was the first drug prescribed to patient 10009628 in 10/this year via the ng route?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) AND prescriptions.route = 'ng' AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '10' ORDER BY prescriptions.starttime ASC LIMIT 1",[],
f22d564ed9f345b78756fe88,"Since 2100, what are the top five most common microbiology tests that patients were diagnosed with within 2 months after being diagnosed with noncompliance with renal dialysis?","SELECT T3.test_name FROM ( SELECT T2.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'noncompliance with renal dialysis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, microbiologyevents.test_name, microbiologyevents.charttime FROM microbiologyevents JOIN admissions ON microbiologyevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',microbiologyevents.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.test_name ) AS T3 WHERE T3.C1 <= 5",,"SELECT d_micro_test.test, COUNT(*) AS count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN d_micro_test ON d_micro_test.test_id = admissions.micro_test_id WHERE diagnoses_icd.icd_code = 'V58.6' AND datetime(admissions.admittime) >= '2100-01-01 00:00:00' AND datetime(admissions.admittime) <= '2100-03-01 23:59:59' GROUP BY d_micro_test.test ORDER BY count DESC LIMIT 5"
48d5f819ed7042b8dca4b7e5,How many days elapsed since patient 10004733 received his red blood cells lab test for the last time in the current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'red blood cells' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT DATEDIFF(NOW(), MAX(chartevents.charttime)) FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10004733 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'red blood cells' AND d_items.linksto = 'chartevents' )"
28f850662f724d2a12bab092,"Among patients diagnosed with essential (primary) hypertension, what are the top five most common lab tests conducted in the same hospital encounter in 2100?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'essential (primary) hypertension' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE strftime('%Y',labevents.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT d_items.label, COUNT(*) AS count FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN chartevents ON admissions.stay_id = chartevents.stay_id JOIN d_items ON chartevents.itemid = d_items.itemid WHERE diagnoses_icd.icd_code = '401.9' AND admissions.hospital_expire_flag = 0 AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime GROUP BY d_items.label ORDER BY count DESC LIMIT 5"
718c27e2ef2f6d9f2a3210f8,When was the last time that patient 10025612 had the minimum pco2 value on the last hospital encounter?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'pco2' ) ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1"
78784fbf49277b83517b9dba,Has patient 10026406 been to the er since 2100?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admission_location = 'emergency room' AND strftime('%Y',admissions.admittime) >= '2100'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.admittime > '2100-01-01'
6716a47fafd5bf2d15dae0e8,Has patient 10005866 gone through any procedure this year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005866 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*) > 0 FROM procedures_icd AS T1 INNER JOIN admissions AS T2 ON T1.hadm_id = T2.hadm_id WHERE T2.subject_id = 10005866 AND YEAR(T1.chartdate) = YEAR(CURRENT_DATE())
e720394bdbfa2cd55a520dc3,"After getting diagnosed with depressive disorder, not elsewhere classified, how many patients were found to have asymptomatic human immunodeficiency virus [hiv] infection status within 2 months since 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'depressive disorder, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'asymptomatic human immunodeficiency virus [hiv] infection status' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(*) FROM admissions AS A JOIN diagnoses_icd AS D ON A.hadm_id = D.hadm_id JOIN patients AS P ON A.subject_id = P.subject_id JOIN icustays AS I ON A.hadm_id = I.hadm_id JOIN outputevents AS O ON I.stay_id = O.stay_id WHERE D.icd9_code = '311' AND A.admittime BETWEEN datetime(P.dob,'+2100 year') AND datetime(P.dob,'+2102 year') AND A.admittime BETWEEN datetime(I.intime) AND datetime(I.outtime) AND O.itemid IN (SELECT itemid FROM d_items WHERE label LIKE '%HIV%') AND O.value = 'Asymptomatic'"
9c7279514181f0cd64efe035,"What is the cost of a altered mental status, unspecified diagnosis?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'altered mental status, unspecified' ) )",,
dedd0a8a0ba377a957737cd9,Show me the top three most frequent diagnoses that patients were diagnosed with within 2 months after receiving other endoscopy of small intestine since 1 year ago.,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endoscopy of small intestine' ) AND datetime(procedures_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 3 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM diagnoses_icd JOIN d_icd_diagnoses ON diagnoses_icd.icd_code = d_icd_diagnoses.icd_code JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE admissions.admittime BETWEEN datetime(current_time, '-1 year') AND current_time AND diagnoses_icd.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'other endoscopy of small intestine' ) AND procedures_icd.chartdate BETWEEN datetime(admissions.admittime) AND datetime(admissions.admittime, '+2 month') ) GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 3"
d66c3f48f55c47d9fb861e1f,Count the ICU visits of patient 10031404 during the last year.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND datetime(icustays.intime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 0}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031404 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
f9308fa63d859b237ccb712b,What were the four most commonly given diagnoses for patients who had received anastomosis of hepatic duct to gastrointestinal tract before in the same month this year?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'anastomosis of hepatic duct to gastrointestinal tract' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT d_icd_diagnoses.long_title, COUNT(*) AS count FROM admissions JOIN d_icd_diagnoses ON admissions.drg_code = d_icd_diagnoses.icd_code WHERE admissions.hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'anastomosis of hepatic duct to gastrointestinal tract' ) ) AND admissions.admittime BETWEEN datetime(current_date, 'start of month') AND datetime(current_date, 'end of month') GROUP BY d_icd_diagnoses.long_title ORDER BY count DESC LIMIT 4"
b92c083ece2259339c38b5c1,"During the first hospital visit, was patient 10039708 admitted to an emergency room?",SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10039708 AND admissions.admittime = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10039708 ) AND admissions.hospital_expire_flag = 1
0a507e5e6d94656aec03e31d,"During the first ICU visit, when did patient 10025612 have their last input?",SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) ORDER BY inputevents.starttime DESC LIMIT 1,[{'starttime': '2125-09-30 15:00:00'}],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.stay_id = ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND icustays.first_careunit = 'ICU' AND icustays.intime <= admissions.admittime ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%input%' ) ORDER BY chartevents.charttime DESC LIMIT 1
84864ac527ad8527348ec48a,What was the name of the organism in the last pleural fluid microbiology test of patient 10014729?,SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND microbiologyevents.spec_type_desc = 'pleural fluid' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014729 ) AND microbiologyevents.spec_type_desc = 'Pleural fluid' ORDER BY microbiologyevents.chartdate DESC LIMIT 1
fec62efd2a043cb3d54efd38,How many days was patient 10020740's first stay in the ICU?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 7.446423612069339}]",SELECT MIN(icustays.outtime) - MIN(icustays.intime) AS ICU_stay_duration FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 )
692d3013b67039704bfb1551,What was the total amount of output from patient 10021312 since 252 days ago?,"SELECT SUM(outputevents.value) FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) ) AND datetime(outputevents.charttime) >= datetime(current_time,'-252 day')",[{'SUM(outputevents.value)': 2675.0}],"SELECT SUM(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 252 DAY) AND CURRENT_DATE"
c56635619ccd4b7ce64652e4,"Since 09/2100, what amount of fluoxetine was prescribed to patient 10014354?","SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014354 ) AND prescriptions.drug = 'fluoxetine' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(cptevents.qty) FROM cptevents JOIN admissions ON cptevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10014354 AND cptevents.chartdate >= '09/01/2010' AND cptevents.cptcd = '90281'
78bac4549cb2e3ad9fa2a04f,When was patient 10005817 discharged from the hospital for the last time?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005817 AND datetime(admissions.admittime) >= datetime(current_time,'-1 year') ORDER BY admissions.dischtime DESC LIMIT 1",[{'dischtime': '2135-01-19 18:36:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10005817 ORDER BY admissions.dischtime DESC LIMIT 1
ef4ea41e6cdc6751ebe50de2,Show me the top three most frequent specimens tested in 2100.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents WHERE strftime('%Y',microbiologyevents.charttime) = '2100' GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3",[],"SELECT chartevents.itemid, COUNT(*) AS frequency FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= '2021-01-01 00:00:00' AND admissions.admittime < '2022-01-01 00:00:00' ) GROUP BY chartevents.itemid ORDER BY frequency DESC LIMIT 3"
90edd0b36b71d1dde04a4381,What are the top five most frequent procedures since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 5 )",,
ab3ab99eb3d4c75a7da40497,When was the first time patient 10038081 had the minimum SaO2 on 10/13/2100?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038081 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) AND strftime('%Y-%m-%d',chartevents.charttime) = '2100-10-13' ORDER BY chartevents.valuenum ASC, chartevents.charttime ASC LIMIT 1",[],
4eaa02f29374fda17d73e7cc,What is the average total hospital cost for a procedure involving single internal mammary-coronary artery bypass since 2100?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'single internal mammary-coronary artery bypass' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT AVG(admissions.totalcharges) FROM admissions WHERE admissions.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title LIKE '%single internal mammary-coronary artery bypass%' ) ) AND admissions.admittime >= '2100-01-01'
ea75ae7fadc90d510e6c9488,What is the price of a diagnosis for other lymphedema?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other lymphedema' ) ),,
5e120295af4004e7fa588d2f,What total amount of sarna lotion was prescribed to patient 10018501 during the first hospital visit?,SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'sarna lotion',[{'SUM(prescriptions.dose_val_rx)': None}],SELECT SUM(prescriptions.dose) FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.subject_id = 10018501 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10018501 ) AND prescriptions.drug = 'Sarna Lotion'
470175d0ccd7f8d9a81e4c14,"Has patient 10038999 undergone the drainage of left pleural cavity, percutaneous approach, diagnostic throughout this year?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach, diagnostic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'drainage of left pleural cavity, percutaneous approach, diagnostic' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ) AND procedures_icd.chartdate >= DATE_FORMAT(NOW(),'%Y-01-01')"
2c1c7ca9c89b574bbf2e0995,What was the minimum monthly number of patients who had hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts) in 2100?,"SELECT MIN(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'hypertrophy (benign) of prostate without urinary obstruction and other lower urinary tract symptom (luts)' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,
8f3012a3f38700d9fef0fbad,Is patient 23070 a person with a family history of any disease?,,,
c469f81f092e3b28dadc05f4,What was diagnosed for patient 10002930 the last time?,SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1 ),,SELECT diagnoses_icd.icd9_cm FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002930 ) ORDER BY diagnoses_icd.seq_num DESC LIMIT 1
94b617e6ff37a625db538e00,"During the last hospital encounter, what was the last time patient 10026406 had a medication via the po/ng route prescribed?",SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.route = 'po/ng' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ORDER BY admissions.admittime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' AND d_items.bodypart = 'po/ng' ) ORDER BY chartevents.charttime DESC LIMIT 1
5b0182b6de80a169f35424ab,What is the name of the drug which should not be administered during the insert intercostal cath procedure?,,,
e96c71afca103a3a2ccb1ec7,"The first time since 09/2100, when was patient 10006053 prescribed 0.9% sodium chloride and midazolam at the same time?","SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = '0.9% sodium chloride' AND admissions.subject_id = 10006053 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'midazolam' AND admissions.subject_id = 10006053 AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT MIN(c1.charttime) FROM chartevents AS c1 JOIN chartevents AS c2 ON c1.subject_id = c2.subject_id WHERE c1.subject_id = 10006053 AND c1.itemid = (SELECT itemid FROM d_items WHERE label = '0.9% sodium chloride') AND c2.itemid = (SELECT itemid FROM d_items WHERE label = 'Midazolam') AND c1.charttime >= '09/2100' AND c2.charttime >= '09/2100' AND c1.charttime BETWEEN c2.charttime - INTERVAL 1 HOUR AND c2.charttime + INTERVAL 1 HOUR
bcbe7556b4dbff73f99a68a6,Count up how many times patient 10018845 was admitted to the ICU since 1 year ago.,"SELECT COUNT( DISTINCT icustays.stay_id ) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')",[{'COUNT( DISTINCT icustays.stay_id )': 1}],"SELECT COUNT(*) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018845 ) AND datetime(icustays.intime) >= datetime(current_time,'-1 year')"
d83e90e0fe19b6017850565d,What is the recorded sex of patient 10020306?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10020306,[{'gender': 'F'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10020306
4741dccccfea59439b0c12b8,What is the maximum total hospital cost that involved a procedure called fluoroscopy of multiple coronary arteries using other contrast since 2100?,"SELECT MAX(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,
828e19c5d77504383bc65778,Give me the length of stay in days for patient 10018501 during their first stay in the ICU.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 1.9412152781151235}]","SELECT icustays.intime, icustays.outtime, (julianday(icustays.outtime) - julianday(icustays.intime)) AS length_of_stay FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 ) ORDER BY icustays.intime ASC LIMIT 1"
28fb3dd077aebb1daf3e9fe4,Where can i find a reimbursement standard for cerebrovascular mri?,,,
ff6ae54dadd27c88cff99254,What are the top four most frequent procedures since 2100?,"SELECT d_icd_procedures.long_title FROM d_icd_procedures WHERE d_icd_procedures.icd_code IN ( SELECT T1.icd_code FROM ( SELECT procedures_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM procedures_icd WHERE strftime('%Y',procedures_icd.charttime) >= '2100' GROUP BY procedures_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT d_icd_procedures.long_title, COUNT(procedures_icd.icd_code) AS frequency FROM procedures_icd JOIN d_icd_procedures ON procedures_icd.icd_code = d_icd_procedures.icd_code WHERE procedures_icd.chartdate >= '2100-01-01' GROUP BY d_icd_procedures.long_title ORDER BY frequency DESC LIMIT 4"
675c3bb58c7f84d6c7abcb76,"Has patient 10016742 been ordered sw, sodium chloride 0.9%, or heparin in 2100?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND prescriptions.drug IN ( 'sw', 'sodium chloride 0.9%', 'heparin' ) AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.subject_id = 10016742 AND chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label IN ('Sodium chloride 0.9%', 'heparin', 'sw') ) AND chartevents.charttime LIKE '%2100%'"
ba17453769db45c0f15880db,"What are the five most commonly prescribed medications for patients who were diagnosed with atherosclerotic heart disease of native coronary artery without angina pectoris previously in the same month, in 2100?","SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atherosclerotic heart disease of native coronary artery without angina pectoris' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 5",,"SELECT prescriptions.drug, COUNT(*) AS count FROM prescriptions INNER JOIN diagnoses_icd ON prescriptions.subject_id = diagnoses_icd.subject_id WHERE diagnoses_icd.icd_code = '414.0' AND prescriptions.startdate >= '2021-01-01' AND prescriptions.startdate < '2021-02-01' GROUP BY prescriptions.drug ORDER BY count DESC LIMIT 5"
1c7af8d5ad19cc00a657ccc2,When did patient 10027445 get a microbiology test for the first time since 02/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[{'charttime': '2142-07-31 06:07:00'}],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Microbiology' ) AND datetime(chartevents.charttime) >= datetime('02/2100', 'unixepoch')"
e60031fe0c3c45aa32032148,Could you list the top five most common lab tests?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 5 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Hemoglobin'}, {'label': 'Platelet Count'}]","SELECT d_labitems.label, COUNT(*) AS count FROM labevents JOIN d_labitems ON labevents.itemid = d_labitems.itemid GROUP BY labevents.itemid ORDER BY count DESC LIMIT 5"
fb1c9ab851ce79aecda9c32e,Tell me the total number of patients who were discharged from the hospital in the previous year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is NOT NULL AND datetime(admissions.dischtime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM admissions WHERE datetime(admissions.dischtime) >= datetime(current_time,'-1 year') AND datetime(admissions.dischtime) < datetime(current_time)"
b91fff10d613c5660031b070,Tell me the dose of an opioid prescribed to patient 13897?,,,SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 13897 AND prescriptions.drug IN ( SELECT drugs_generic.name FROM drugs_generic WHERE drugs_generic.DRUG_CLASS = 'opioids')
e48fc73023f959a4fcf5c5c4,What is the cost of percutaneous [endoscopic] gastrostomy [peg]?,SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'procedures_icd' AND cost.event_id IN ( SELECT procedures_icd.row_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'percutaneous [endoscopic] gastrostomy [peg]' ) ),,
77ae0d9711456146d89f58ea,What was the organism found in patient 10021312's first bronchial washings test since 02/2100?,"SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND microbiologyevents.spec_type_desc = 'bronchial washings' AND microbiologyevents.org_name IS NOT NULL AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-02' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT microbiologyevents.org_name FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) AND microbiologyevents.spec_type_desc = 'bronchial washings' AND datetime(microbiologyevents.chartdate) >= '02/01/2010' ORDER BY microbiologyevents.chartdate ASC LIMIT 1
5c0ef35bdd581b7068ef254e,"What was the last time in 11/2100 patient 10006053 had the minimum potassium, whole blood value?","SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10006053 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' ) AND strftime('%Y-%m',labevents.charttime) = '2100-11' ORDER BY labevents.valuenum ASC, labevents.charttime DESC LIMIT 1",[],
5301d3f2ee9055f024af59a4,How many hours have elapsed since the last time patient 10039831 got a lactate lab test in this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'lactate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime DESC LIMIT 1",[],"SELECT TIMESTAMPDIFF(HOUR, ( SELECT MAX(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'lactate' AND d_items.linksto = 'chartevents' ) ), now() )"
a4ca81eaa8eb676b5fdfee3b,When did patient 10021487 first have a maximum mean blood pressure on this month/22?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of month') = datetime(current_time,'start of month','-0 month') AND strftime('%d',chartevents.charttime) = '22' ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'monthstart') AND datetime(chartevents.charttime) <= datetime(current_time,'monthstart','+22 day')"
4d79af33c083f4da6c760216,Was patient 10037861 provided with any medication on the first hospital visit?,SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ) AND prescriptions.startdate = ( SELECT MIN(admissions.admittime) FROM admissions WHERE admissions.subject_id = 10037861 )
b1ea33dff472a7dc8ff3b3ca,Has any organism been found in the last sputum microbiological test of patient 10026255?,SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026255 ) AND microbiologyevents.spec_type_desc = 'sputum' AND microbiologyevents.org_name IS NOT NULL ORDER BY microbiologyevents.charttime DESC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM microbiologyevents WHERE microbiologyevents.subject_id = 10026255 AND microbiologyevents.spec_itemid = ( SELECT d_microbiologyevents.spec_itemid FROM d_microbiologyevents WHERE d_microbiologyevents.spec_name = 'Sputum' ) AND microbiologyevents.org_itemid > 0 ORDER BY microbiologyevents.chartdate DESC LIMIT 1
0cfe903dde7855d41478137f,How many patients had a ntprobnp lab test since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ntprobnp' ) AND datetime(labevents.charttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM labevents WHERE labevents.charttime >= datetime(current_time,'-1 year') AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname LIKE '%ntprobnp%' )"
ec6751ca286066dda72e0c84,"Was in their last hospital visit 0.9% sodium chloride, docusate sodium (liquid), or sertraline prescribed to patient 10016742?","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug IN ( '0.9% sodium chloride', 'docusate sodium (liquid)', 'sertraline' )",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10016742 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ORDER BY admissions.admittime DESC LIMIT 1 ) AND prescriptions.drug LIKE '0.9% sodium chloride' OR prescriptions.drug LIKE 'docusate sodium (liquid)' OR prescriptions.drug LIKE 'sertraline'
bc8eaff8a367f984fb5ce7ab,What was the first medication that patient 10026406 was prescribed via iv route?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10026406 ) AND prescriptions.route = 'iv' ORDER BY prescriptions.starttime ASC LIMIT 1,[],SELECT medications.generic_name FROM medications INNER JOIN admissions ON admissions.hadm_id = medications.hadm_id WHERE admissions.subject_id = 10026406 AND medications.route = 'IV' ORDER BY medications.starttime ASC LIMIT 1
b7829190559539b14c91b592,Has patient 10037928 had a mch test done since 04/2100?,"SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'mch' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND strftime('%Y-%m',labevents.charttime) >= '2100-04'",[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.testname LIKE '%mch%' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037928 ) AND DATE(labevents.charttime) > '2000-04-01'
ed9a4d3d34a8ae1c9e013631,When was the first time patient 10040025 was prescribed a medication in 03/2100 via the po/ng route?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10040025 ) AND prescriptions.route = 'po/ng' AND strftime('%Y-%m',prescriptions.starttime) = '2100-03' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10040025 AND prescriptions.drug = '03/2100' AND prescriptions.route = 'PO/NG' ORDER BY prescriptions.startdate ASC LIMIT 1
2c0f498a16183e884d741e15,What were the last alkaline phosphatase values of patient 10004733 in their current hospital visit?,SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1,[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'alkaline phosphatase' ) ORDER BY labevents.charttime DESC LIMIT 1
2dcb5e76008ed58c6fcf21ab,How many patients were prescribed the drug polyethylene glycol since 1 year ago?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'polyethylene glycol' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(DISTINCT c.subject_id) FROM prescriptions p JOIN patients c ON p.SUBJECT_ID = c.SUBJECT_ID WHERE p.DRUG = 'polyethylene glycol' AND p.startdate > DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
f7dca6ca66a468ed7f41631a,What is the maximum monthly number of people diagnosed with obstructive sleep apnea (adult)(pediatric) in this year?,"SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'obstructive sleep apnea (adult)(pediatric)' ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY strftime('%Y-%m',diagnoses_icd.charttime) ) AS T1",,"SELECT MAX(monthly_count) FROM (SELECT COUNT(*) AS monthly_count FROM diagnoses_icd WHERE diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title IN ('obstructive sleep apnea (adult)', 'obstructive sleep apnea (pediatric)') ) AND YEAR(diagnoses_icd.hadm_id) = YEAR(CURRENT_DATE) GROUP BY MONTH(diagnoses_icd.hadm_id)) AS subquery"
db74cd1a2f794e17f35ddec4,When was patient 10021666 last mrsa screen microbiologic test?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND microbiologyevents.spec_type_desc = 'mrsa screen' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mrsa screen%' AND d_items.linksto = 'microbiologyevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
618d392ae43e6fe30006328e,When did patient 10020187 have the maximum value of SaO2 for the first time during their first ICU stay?,"SELECT chartevents.charttime FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'o2 saturation pulseoxymetry' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents INNER JOIN icustays ON chartevents.stay_id = icustays.stay_id WHERE icustays.first_icu_stay = 1 AND icustays.hadm_id IN (SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020187) AND chartevents.itemid IN (SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SaO2') ORDER BY chartevents.valuenum DESC, chartevents.charttime ASC LIMIT 1"
bbb5e4ef8fa79866856181d3,Patient 99747 is subject to covid-19 testing,,,SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 99747 AND admissions.hadm_id IN ( SELECT hadm_id FROM microbiologyevents WHERE microbiologyevents.spec_itemid = 44438 )
cc6cddf1a72c4c14b010fdf1,What are the the single rooms that are available now?,,,
5442daaf8455ec924ced4a84,Will patient 99082 be given any additional stool (received in transport system) test?,,,
a6b9ade99c3cfb9b0eddcbec,"In 2100, how many patients received fluoroscopy of multiple coronary arteries using other contrast within the same hospital visit after being diagnosed with severe sepsis with septic shock?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'severe sepsis with septic shock' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, procedures_icd.charttime, admissions.hadm_id FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'fluoroscopy of multiple coronary arteries using other contrast' ) AND strftime('%Y',procedures_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id",,"SELECT COUNT(DISTINCT admissions.subject_id) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id JOIN procedures_icd ON admissions.hadm_id = procedures_icd.hadm_id WHERE diagnoses_icd.icd_code = 'A41.9' AND procedures_icd.icd_code = ( SELECT icd_code FROM d_icd_procedures WHERE long_title = 'fluoroscopy of multiple coronary arteries with other contrast medium, diagnostic' ) AND YEAR(admissions.admittime) = 2100"
d365fe598240a0df514f9daa,Count how many current patients are aged 60 or above.,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime IS NULL AND admissions.age >= 60,,
6560334262dd340b665256e1,List the top five most common events that happened throughout this year.,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 5 )",[],
79028656244bb2aab8bd8d5d,"On the first hospital stay, what was the insurance plan of patient 10006580?",SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10006580 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Medicaid'}],SELECT insurance.planname FROM insurance INNER JOIN admissions ON insurance.hospstay_seq = admissions.hospstay_seq AND insurance.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10006580 AND admissions.hospstay_seq = 1
6a0ee1b4229838dcbe29e41a,What was the number of times cepacol (menthol) was prescribed in 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'cepacol (menthol)' AND strftime('%Y',prescriptions.starttime) = '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'cepacol (menthol)' AND prescriptions.year = 2100
10379bc71183afe73e396f57,What percentile is 0.9 creatinine in a patient of the same age as patient 10020740 during the first hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10020740 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 0.9",,"SELECT percentile_cont(0.9) WITHIN GROUP (ORDER BY labevents.valuenum) OVER (PARTITION BY EXTRACT(YEAR FROM AGE(admissions.admittime, patients.dob)) WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) AND admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020740 AND ROW_NUMBER() OVER (PARTITION BY admissions.subject_id ORDER BY admissions.admittime) = 1) AS percentile"
09c12062e2d66d05c75bba9f,So how many days have passed since patient 10018081's last other and unspecified hyperlipidemia diagnosis on their current hospital visit?,"SELECT 1 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'other and unspecified hyperlipidemia' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018081 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime DESC LIMIT 1",,SELECT julianday('now') - julianday(last_charttime) FROM ( SELECT MAX(chartevents.charttime) AS last_charttime FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018081 AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%other and unspecified hyperlipidemia%' AND d_items.linksto = 'chartevents' ) )
908ae520eb086d09751ea4b9,What are the top four diagnoses of patients in their 30s since 2100?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,
86c0624f79d2e1a57bd72381,What are the consumption methods of ampicillin sodium?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'ampicillin sodium',[{'route': 'IM'}],
1cf9f8c80c784082726a6dde,Has patient 10014078 received any treatment of continuous invasive mechanical ventilation for less than 96 consecutive hours in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'continuous invasive mechanical ventilation for less than 96 consecutive hours' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM therapies WHERE therapies.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10014078 ) AND therapies.starttime >= '2021-01-01' AND therapies.endtime <= '2021-12-31' AND therapies.therapyname = 'continuous invasive mechanical ventilation' AND julianday(therapies.endtime) - julianday(therapies.starttime) < 4
8b6ecc1e8d51fdbbd657d6be,What was the last hospital discharge time for patient 10011398?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10011398 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year') ORDER BY admissions.dischtime DESC LIMIT 1",[],SELECT admittime FROM admissions WHERE subject_id = 10011398 ORDER BY admittime DESC LIMIT 1
ded7c37a33a0d81b227fca60,"What's the maximum yearly number of admissions for respiratory failure, unspecified, unspecified whether with hypoxia or hypercapnia since 2100?","SELECT MAX(T1.C1) FROM ( SELECT COUNT( DISTINCT diagnoses_icd.hadm_id ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'respiratory failure, unspecified, unspecified whether with hypoxia or hypercapnia' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' GROUP BY strftime('%Y',diagnoses_icd.charttime) ) AS T1",,
47e52d08523b3df6810e4e7b,Tell me the top three most common specimens tested.,"SELECT T1.spec_type_desc FROM ( SELECT microbiologyevents.spec_type_desc, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.spec_type_desc ) AS T1 WHERE T1.C1 <= 3","[{'spec_type_desc': 'URINE'}, {'spec_type_desc': 'BLOOD CULTURE'}, {'spec_type_desc': 'SWAB'}]","SELECT d_items.label, COUNT(*) as count FROM chartevents JOIN d_items ON chartevents.itemid = d_items.itemid WHERE d_items.category = 'Specimen' GROUP BY d_items.label ORDER BY count DESC LIMIT 3"
9f7b99f3d5e3095f6d354747,"Since 2100, what was patient 10016150 diagnosed with for the first time?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT diagnoses_icd.icd_code FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016150 ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ORDER BY diagnoses_icd.charttime ASC LIMIT 1 )",,"SELECT admissions.admittime, admissions.diagnosis FROM admissions WHERE admissions.subject_id = 10016150 AND admissions.admittime > '2100-01-01' ORDER BY admissions.admittime LIMIT 1"
3cec04d92cd89035dc5758b1,What were the four most frequent output events since 1 year ago?,"SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT T1.itemid FROM ( SELECT outputevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM outputevents WHERE datetime(outputevents.charttime) >= datetime(current_time,'-1 year') GROUP BY outputevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Foley'}, {'label': 'Void'}, {'label': 'Chest Tube #1'}, {'label': 'Cerebral Ventricular #1'}]","SELECT outputevents.outputevent_id, outputevents.hadm_id, outputevents.charttime, outputevents.value, outputevents.valueuom, COUNT(*) as freq FROM outputevents GROUP BY outputevent_id ORDER BY freq DESC LIMIT 4 OFFSET 0"
36c7455252fe5e86cee2f9ff,Could you count the number of times patient 10016810 visited the hospital during the previous year?,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10016810 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-1 year')",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],"SELECT COUNT(*) AS count FROM admissions WHERE admissions.subject_id = 10016810 AND admissions.admittime BETWEEN datetime('now','-1 year') AND datetime('now')"
d6c2a396d94d370d6f2348f2,How many patients were present in the vascular since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'vascular' AND strftime('%Y',transfers.intime) >= '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM icustays WHERE icustays.intime >= '2100-01-01 00:00:00' AND icustays.icustay_id IN ( SELECT icustays.icustay_id FROM icustays INNER JOIN d_icustays ON icustays.icustay_id = d_icustays.icustay_id WHERE d_icustays.first_careunit = 'VASC' )
e50c094ffc2b4008e3005839,What is the reimbursement standard for cerebrovascular mri,,,
9ac29fcc00066ee270a82758,Has patient 26262 been provided with additional eye test?,,,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.short_title = 'eye test' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 26262 )
e24e59d7e21364890399468e,How much is the difference of patient 10003046's mean blood pressure measured at 2100-01-17 14:00:00 compared to the value measured at 2100-01-17 13:00:00?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-17 14:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-17 13:00:00' ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-17 14:00:00' ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime = '2100-01-17 13:00:00' )"": None}]","WITH time_filtered AS ( SELECT chartevents.charttime ,chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' ) AND chartevents.charttime >= '2100-01-17 13:00:00' AND chartevents.charttime <= '2100-01-17 14:00:00' ) SELECT time_filtered.valuenum - ( SELECT valuenum FROM time_filtered WHERE charttime = '2100-01-17 13:00:00' ) AS diff FROM time_filtered WHERE charttime = '2100-01-17 14:00:00'"
4d08394da0f7341675850575,When did patient 10007795 first leave the hospital?,"SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10007795 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.dischtime ASC LIMIT 1",[{'dischtime': '2136-05-02 16:35:00'}],SELECT admissions.dischtime FROM admissions WHERE admissions.subject_id = 10007795 ORDER BY admissions.dischtime ASC LIMIT 1
8a93df214af665f8defd91d1,What was the change in systolic blood pressure in patient 10037975 second measured on the first ICU visit compared to the first value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure systolic' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT (chartevents.valuenum - first_bp.valuenum) AS change_in_sbp FROM chartevents JOIN ( SELECT valuenum AS first_bp_value, charttime AS first_bp_charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037975 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'SysBP (mmHg)' ) ORDER BY chartevents.charttime ASC LIMIT 1 ) AS first_bp ON chartevents.hadm_id = first_bp.hadm_id AND chartevents.itemid = first_bp.itemid WHERE chartevents.hadm_id = first_bp.hadm_id AND chartevents.itemid = first_bp.itemid AND chartevents.charttime > first_bp.first_bp_charttime ORDER BY chartevents.charttime ASC LIMIT 1"
c27b7ef096a3a3f132083738,"In 07/2100, levothyroxine sodium, 0.45% sodium chloride, or lisinopril was prescribed for patient 10002428.","SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND prescriptions.drug IN ( 'levothyroxine sodium', '0.45% sodium chloride', 'lisinopril' ) AND strftime('%Y-%m',prescriptions.starttime) = '2100-07'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*) > 0 FROM prescriptions WHERE prescriptions.subject_id = 10002428 AND prescriptions.startdate LIKE '07/%/2100' AND prescriptions.drug IN ('levothyroxine sodium', '0.45% sodium chloride', 'lisinopril')"
39d4a4bdf91208fe3d0468a5,"What are the four most common diagnoses for patients who previously had the performance of cardiac output, continuous procedure within 2 months since 2100?","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND strftime('%Y',procedures_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT icd9_code, COUNT(*) AS frequency FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN chartevents ON icustays.stay_id = chartevents.stay_id WHERE chartevents.itemid IN ( SELECT itemid FROM d_items WHERE label = 'Performance of Cardiac Output, Continuous' ) AND chartevents.charttime BETWEEN DATE_SUB('2100-01-01', INTERVAL 2 MONTH) AND '2100-01-01' ) GROUP BY icd9_code ORDER BY frequency DESC LIMIT 4"
e2f69e562ea54caf705bd0c2,How many patients are there presently admitted?,SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.dischtime is null,[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admittime < current_timestamp AND dischtime > current_timestamp
91985b654c4167748be8c66b,"During the first hospital encounter, was patient 10008454 admitted to an emergency room?",SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.admission_location = 'emergency room' AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10008454 AND admissions.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10008454 ) AND admissions.admission_type = 'EMERGENCY'
2aa7ae5c7002d9117a347f9e,Could you retrieve the top four diagnoses that have the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 4 )",,"SELECT diagnosis, COUNT(*) as mortality_count FROM ( SELECT hadm_id FROM admissions WHERE subject_id IN ( SELECT subject_id FROM diagnoses_icd WHERE icd_code IN ( SELECT icd_code FROM mortality WHERE mortality_time < '90 days' ) ) ) AS deaths JOIN diagnoses_icd ON diagnoses_icd.hadm_id = deaths.hadm_id GROUP BY diagnosis ORDER BY mortality_count DESC LIMIT 4"
d27110d877b8d72776989d66,Please count the hospital visits made by patient 10027445 in 2100.,"SELECT COUNT( DISTINCT admissions.hadm_id ) FROM admissions WHERE admissions.subject_id = 10027445 AND strftime('%Y',admissions.admittime) = '2100'",[{'COUNT( DISTINCT admissions.hadm_id )': 0}],SELECT COUNT(*) FROM admissions WHERE admissions.subject_id = 10027445 AND admissions.admittime BETWEEN '2100-01-01' AND '2100-12-31 23:59:59'
bad209f7f1a2e0361719a243,Was there a procedure that patient 10031757 had in the last year?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND procedures_icd.chartdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
40aa706064637ead2ae39af7,How many patients were diagnosed with atherosclerotic heart disease of native coronary artery with unspecified angina pectoris within 2 months after first being diagnosed with atherosclerotic heart disease of native coronary artery with unstable angina pectoris since 2100?,"SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atherosclerotic heart disease of native coronary artery with unstable angina pectoris' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'atherosclerotic heart disease of native coronary artery with unspecified angina pectoris' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month')",,"SELECT COUNT(DISTINCT first_encounter.subject_id) FROM ( SELECT admissions.subject_id, admissions.admittime AS first_admittime FROM admissions INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%atherosclerotic heart disease of native coronary artery with unstable angina pectoris%' ) AND admissions.admittime >= '2100-01-01' GROUP BY admissions.subject_id ) AS first_encounter INNER JOIN admissions ON first_encounter.subject_id = admissions.subject_id AND admissions.admittime > first_encounter.first_admittime INNER JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code IN ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title LIKE '%atherosclerotic heart disease of native coronary artery with unspecified angina pectoris%' ) AND admissions.admittime <= DATE_ADD(first_encounter.first_admittime, INTERVAL 2 MONTH)"
0221f690fdea162c568ad8dc,What was the admission type when patient 10004422 first entered the hospital?,"SELECT admissions.admission_type FROM admissions WHERE admissions.subject_id = 10004422 AND strftime('%Y',admissions.admittime) >= '2100' ORDER BY admissions.admittime ASC LIMIT 1",[{'admission_type': 'EW EMER.'}],SELECT admission_type FROM admissions WHERE subject_id = 10004422 ORDER BY admittime ASC LIMIT 1
031f4556ea1fe707a94f58bb,When did patient 10007818 receive a serology/blood microbiology test last?,SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND microbiologyevents.spec_type_desc = 'serology/blood' ORDER BY microbiologyevents.charttime DESC LIMIT 1,[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007818 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Serology/Blood Microbiology' ) ORDER BY chartevents.charttime DESC LIMIT 1
4769deceed9b3988f20fff62,Have any diagnoses been made for patient 10039831 during this year?,"SELECT COUNT(*)>0 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND datetime(diagnoses_icd.charttime,'start of year') = datetime(current_time,'start of year','-0 year')",,SELECT COUNT(*)>0 AS has_diagnosis FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.subject_id = 10039831 AND YEAR(admissions.admittime) = YEAR(CURRENT_DATE)
05a0dd22ccfcd8bac854d247,"Did patient 10018423 have a performance of cardiac output, continuous procedure on the first hospital stay?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'performance of cardiac output, continuous' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018423 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 )",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM procedures_icd AS pi JOIN admissions AS a ON pi.hadm_id = a.hadm_id WHERE pi.icd_code = ( SELECT di.icd_code FROM d_icd_procedures AS di WHERE di.long_title = 'performance of cardiac output, continuous' ) AND a.subject_id = 10018423 AND a.admittime = ( SELECT MIN(admittime) FROM admissions WHERE admissions.subject_id = 10018423 )"
65e654ff18e5887458e5aa25,Could you tell me the three most frequent microbiology tests?,"SELECT T1.test_name FROM ( SELECT microbiologyevents.test_name, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM microbiologyevents GROUP BY microbiologyevents.test_name ) AS T1 WHERE T1.C1 <= 3","[{'test_name': 'URINE CULTURE'}, {'test_name': 'Blood Culture, Routine'}, {'test_name': 'WOUND CULTURE'}]","SELECT test_name, COUNT(*) as count FROM microbiologyevents GROUP BY test_name ORDER BY count DESC LIMIT 3"
abf1227f05449e3179b9185d,Was patient 10037861 involved in any medical procedure during the last hospital encounter?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10037861 ORDER BY admissions.admittime DESC LIMIT 1 )
0179af361778345171c9542a,Is the creatinine value last measured on the first hospital visit in patient 10018501 less than the value from the second to last measurement on the first hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 ) < ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10018501 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ) ORDER BY labevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT last_value<second_last_value FROM ( SELECT MAX(chartevents.charttime) AS last_time, MAX(chartevents.valuenum) FILTER (WHERE chartevents.charttime = last_time) AS last_value, MAX(chartevents.charttime) FILTER (WHERE chartevents.charttime < last_time) AS second_last_time, MAX(chartevents.valuenum) FILTER (WHERE chartevents.charttime = second_last_time) AS second_last_value FROM chartevents JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10018501 AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Creatinine' AND d_items.linksto = 'chartevents' ) AND admissions.admittime <= admissions.dischtime AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime ) AS subquery"
7866a9173d7aff1bce72d3a6,What was the name of the specimen test that patient 10020944 had for the last time since 03/2100?,"SELECT microbiologyevents.spec_type_desc FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-03' ORDER BY microbiologyevents.charttime DESC LIMIT 1",[{'spec_type_desc': 'STOOL'}],SELECT d_labitems.label FROM d_labitems JOIN labevents ON labevents.itemid = d_labitems.itemid WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND labevents.charttime <= '03/2100' ORDER BY labevents.charttime DESC LIMIT 1
2dab95be5e31c24b8faf79af,How many days was patient 10020944 in the intensive care unit during their first visit?,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 9.076828703749925}]","SELECT DATEDIFF(icustays.outtime, icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020944 ) ORDER BY icustays.intime ASC LIMIT 1"
94556faa4ba7d0ff0917653d,When did patient 10002428 get a blood culture microbial test for the first time since 05/2100?,"SELECT microbiologyevents.charttime FROM microbiologyevents WHERE microbiologyevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND microbiologyevents.spec_type_desc = 'blood culture' AND strftime('%Y-%m',microbiologyevents.charttime) >= '2100-05' ORDER BY microbiologyevents.charttime ASC LIMIT 1",[],SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002428 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%blood culture%' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime('05/2100') ORDER BY chartevents.charttime ASC LIMIT 1
4711376d06c7dea356e7adee,Was patient 10000032 bicarbonate tested on the first hospital stay?,SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ),[{'COUNT(*)>0': 0}],SELECT COUNT(*)>0 FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10000032 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'bicarbonate' ) ORDER BY labevents.charttime ASC LIMIT 1
563335adf3dce85aa6c280d0,What were the top four diagnoses of patients with age 30s since 1 year ago?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T1.icd_code FROM ( SELECT diagnoses_icd.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM diagnoses_icd WHERE diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age BETWEEN 30 AND 39 ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') GROUP BY diagnoses_icd.icd_code ) AS T1 WHERE T1.C1 <= 4 )",,"SELECT diag_icd.icd_code, COUNT(*) AS count FROM (SELECT admissions.subject_id, admissions.hadm_id, admissions.admittime, admissions.dob FROM admissions WHERE admissions.dob BETWEEN DATE_SUB(CURRENT_DATE, INTERVAL 30 YEAR) AND DATE_SUB(CURRENT_DATE, INTERVAL 20 YEAR) AND admissions.admittime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR) ) AS patients JOIN diagnoses_icd AS diag_icd ON patients.hadm_id = diag_icd.hadm_id GROUP BY diag_icd.icd_code ORDER BY count DESC LIMIT 4"
71e9ec4174f7ac09f0636302,What are patient 10019385's changes in respiratory rate second measured on the first ICU visit compared to the first value measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019385 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'respiratory rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]","SELECT chartevents.valuenum-second_value FROM chartevents AS first_chartevents INNER JOIN (SELECT valuenum AS second_value FROM chartevents WHERE subject_id = 10019385 AND itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory rate') ORDER BY charttime ASC LIMIT 1) AS second_chartevents INNER JOIN (SELECT charttime AS first_chartevents_charttime FROM chartevents WHERE subject_id = 10019385 AND itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory rate') ORDER BY charttime ASC LIMIT 1) AS first_chartevents_charttime ON chartevents.charttime > first_chartevents_charttime.charttime AND chartevents.charttime < (SELECT charttime FROM chartevents WHERE subject_id = 10019385 AND itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory rate') ORDER BY charttime ASC LIMIT 1,1) WHERE chartevents.subject_id = 10019385 AND chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'Respiratory rate') ORDER BY chartevents.charttime ASC LIMIT 1"
c060af6a8bb23ffdee50e730,What was the first input time of patient 10004733 since 10/30/2100?,"SELECT inputevents.starttime FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-10-30' ORDER BY inputevents.starttime ASC LIMIT 1",[{'starttime': '2174-12-04 12:34:00'}],SELECT inputevents_mv.inputtime FROM inputevents_mv WHERE inputevents_mv.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004733 ) AND inputevents_mv.inputtime >= '10/30/2100' ORDER BY inputevents_mv.inputtime ASC LIMIT 1
07c43928bf97ed8bc8540e78,Tell me the name of the output patient 10025612 had for the last time?,SELECT d_items.label FROM d_items WHERE d_items.itemid IN ( SELECT outputevents.itemid FROM outputevents WHERE outputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) ) ORDER BY outputevents.charttime DESC LIMIT 1 ),[{'label': 'Foley'}],SELECT chartevents.text FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10025612 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%output%' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
4278528d67400edefc633789,How often was the last time patient 20801 had a medication that should be regularly taken?,,,
392945487423b16d5daec3fe,"For patient 10039831, what was the first hematocrit, calculated reading in their current hospital encounter?","SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 AND admissions.dischtime IS NULL ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'hematocrit, calculated' ) ORDER BY labevents.charttime ASC LIMIT 1",[],SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039831 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'Hematocrit' AND d_labitems.fluid = 'Calculation' ) ORDER BY labevents.charttime ASC LIMIT 1
9e442d16828a578f4b27bb6f,What is the difference in patient 10019777's weights last measured on the first hospital visit compared to the second to last value measured on the first hospital visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]","SELECT chartevents.valuenum - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1,1 ) AS weight_difference FROM chartevents WHERE chartevents.hadm_id = ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019777 ORDER BY admissions.admittime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'weight' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1"
46c7a622bf32b53e152dc112,When patient 10027445 was prescribed for the first time in 08/this year glucagon and insulin at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'glucagon' AND admissions.subject_id = 10027445 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'insulin' AND admissions.subject_id = 10027445 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '08' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT admissions.admittime, prescriptions.startdate FROM admissions JOIN prescriptions ON admissions.hadm_id = prescriptions.hadm_id WHERE admissions.subject_id = 10027445 AND prescriptions.drug = 'glucagon' AND prescriptions.drug = 'insulin' AND prescriptions.stopped = 'N' AND datetime(prescriptions.startdate) >= datetime('2022-08-01') AND datetime(prescriptions.startdate) < datetime('2022-09-01') LIMIT 1"
e14e80dd4ca4e48a6ecac19b,Can you tell me the average total hospital cost that involves lactated ringers this year?,"SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'lactated ringers' ) AND datetime(cost.chargetime,'start of year') = datetime(current_time,'start of year','-0 year') GROUP BY cost.hadm_id ) AS T1",,"SELECT AVG(item_cost) FROM charges WHERE charges.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime >= DATE_FORMAT(NOW(),'%Y-01-01') ) AND charges.icustay_id IN ( SELECT icustays.icustay_id FROM icustays WHERE icustays.first_care_hunits = 'ml' AND icustays.first_care_hgroopname = 'lactated ringers' )"
3d81d416bd9cb490c9afa856,How often was morphine sulfate (oral solution) 2 mg/ml prescribed since 2100?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'morphine sulfate (oral solution) 2 mg/ml' AND strftime('%Y',prescriptions.starttime) >= '2100'",[{'COUNT(*)': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id = 2100 AND prescriptions.drug = 'morphine sulfate (oral solution) 2 mg/ml'
a09c071ef325a1bc1e1417a1,"Provide a list of the four most common diagnoses that patients were diagnosed with within 2 months after undergoing the extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic procedure.","SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T3.icd_code FROM ( SELECT T2.icd_code, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, procedures_icd.charttime FROM procedures_icd JOIN admissions ON procedures_icd.hadm_id = admissions.hadm_id WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T2.charttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.icd_code ) AS T3 WHERE T3.C1 <= 4 )",,"SELECT diagnoses_icd.icd_code, COUNT(diagnoses_icd.subject_id) AS diagnosis_count FROM diagnoses_icd WHERE diagnoses_icd.subject_id IN ( SELECT hadm_id FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) ) AND admittime >= datetime( ( SELECT dischtime FROM admissions WHERE hadm_id IN ( SELECT hadm_id FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'extirpation of matter from right lower lung lobe, via natural or artificial opening endoscopic' ) ) ), '-2 months' ) GROUP BY diagnoses_icd.icd_code ORDER BY diagnosis_count DESC LIMIT 4"
cc37854387e108740577c491,When was last time patient 65759 had a medication that is something to take all the time...,,,
6260379332c5d91d2221013d,What was the last dose of glyburide that during their first hospital encounter was prescribed to patient 10038933?,SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038933 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.drug = 'glyburide' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT MAX(cpoevents.DOSAGE) FROM cpoevents INNER JOIN admissions ON cpoevents.HADM_ID = admissions.HADM_ID INNER JOIN patients ON admissions.SUBJECT_ID = patients.SUBJECT_ID WHERE patients.SUBJECT_ID = 10038933 AND cpoevents.ITEMID IN (SELECT ITEMID FROM d_items WHERE short_title = 'GLYBURIDE') AND admissions.HADM_ID = (SELECT HADM_ID FROM admissions WHERE SUBJECT_ID = 10038933 ORDER BY ADMITTIME ASC LIMIT 1)
6ed7efd8318499e011227c1c,When was the first time patient 10004457 had been prescribed medication through the po route since 09/2100?,"SELECT prescriptions.starttime FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004457 ) AND prescriptions.route = 'po' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-09' ORDER BY prescriptions.starttime ASC LIMIT 1",[],SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.subject_id = 10004457 AND prescriptions.route = 'PO' AND prescriptions.startdate >= '09/01/2010' ORDER BY prescriptions.startdate ASC LIMIT 1
bef2c1e139eac11ba6f699ee,Do you know the minimum albumin value of patient 10002495 on the first hospital encounter?,SELECT MIN(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10002495 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'albumin' ),[{'MIN(labevents.valuenum)': None}],SELECT MIN(valuenum) FROM labevents WHERE itemid IN ( SELECT itemid FROM d_labitems WHERE label = 'Albumin' ) AND hadm_id IN ( SELECT hadm_id FROM admissions WHERE subject_id = 10002495 LIMIT 1 )
876fc2621bff0c8dd69e9b66,Count the number of patients in neuro stepdown in the previous year.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT transfers.hadm_id FROM transfers WHERE transfers.careunit = 'neuro stepdown' AND datetime(transfers.intime,'start of year') = datetime(current_time,'start of year','-1 year') )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],"SELECT COUNT(*) FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN icustays ON admissions.hadm_id = icustays.hadm_id INNER JOIN d_caregivers ON icustays.careunit = d_caregivers.deptname WHERE d_caregivers.deptname = 'Neuro Stepdown' AND icustays.intime >= DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)"
1858b068f17e456b42371330,Show the mean blood pressure changes of patient 10031757 last measured on the first ICU visit compared to the value second to last measured on the first ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'arterial blood pressure mean' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1 OFFSET 1 )"": None}]",SELECT avg(chartevents.valuenum) as mean_bp FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) AND icustays.intime = ( SELECT MIN(icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10031757 ) ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label LIKE '%mean blood pressure%' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime DESC LIMIT 1
29a1dcd96e7a8c556183b81f,Tell me the protocol of anti cancer drugs?,,,
aae494e615785b0b4e7f5bd8,Tell me the insurance plan of patient 10007928 on their first hospital encounter.,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10007928 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT insurance.planname FROM patients INNER JOIN admissions ON patients.subject_id = admissions.subject_id INNER JOIN insurance ON admissions.insurance_id = insurance.insurance_id WHERE patients.subject_id = 10007928 ORDER BY admissions.admittime ASC LIMIT 1
311010fa82081b7438a008c0,"How much is the cost of the family history of malignant neoplasm of trachea, bronchus, and lung diagnosing?","SELECT DISTINCT cost.cost FROM cost WHERE cost.event_type = 'diagnoses_icd' AND cost.event_id IN ( SELECT diagnoses_icd.row_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'family history of malignant neoplasm of trachea, bronchus, and lung' ) )",,
b63dbd1722b760241e7465c7,When were the drugs pantoprazole and ondansetron prescribed to patient 10007928 for the first time in 04/this year at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'pantoprazole' AND admissions.subject_id = 10007928 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'ondansetron' AND admissions.subject_id = 10007928 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '04' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],"SELECT chartevents.charttime FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut IN ('PANTOPRAZOLE', 'ONDANSETRON') ) AND datetime(chartevents.charttime) >= datetime('2023-04-01') AND datetime(chartevents.charttime) < datetime('2023-05-01') GROUP BY chartevents.charttime HAVING COUNT(DISTINCT d_items.shortcut) = 2 ORDER BY chartevents.charttime ASC LIMIT 1"
010b98b4248d540f98a42319,What was the overall amount of input for patient 10021666 since 01/16/2100?,"SELECT SUM(inputevents.totalamount) FROM inputevents WHERE inputevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021666 ) ) AND strftime('%Y-%m-%d',inputevents.starttime) >= '2100-01-16'",[{'SUM(inputevents.totalamount)': 6140.0}],
988d06c4434babbd7c78a275,"Has patient 10016742 gone through a urea nitrogen, urine test in 07/this year?","SELECT COUNT(*)>0 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'urea nitrogen, urine' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '07'",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'Urea nitrogen, urine' ) AND chartevents.charttime BETWEEN '2022-07-01' AND '2022-07-31'"
34b93ea1246f25eeebd0e8c9,Provide me with the name of the diagnosis patient 3277 received in the other department.,,,
b8fc22b947af56744b197ad0,Has patient 10022041 been admitted into the hospital throughout this year?,"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND datetime(admissions.admittime,'start of year') = datetime(current_time,'start of year','-0 year')",[{'COUNT(*)>0': 0}],"SELECT COUNT(*)>0 FROM admissions WHERE admissions.subject_id = 10022041 AND admissions.admittime BETWEEN datetime(current_date,'start of year') AND datetime(current_date,'end of day')"
271c09dde1ad0ae0ce21d6e5,Can you list patient 10009628's daily maximum weight since 1 year ago?,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT chartevents.charttime, MAX(chartevents.valuenum) OVER (PARTITION BY chartevents.charttime::date) AS max_weight FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10009628 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime) >= datetime(current_time,'-1 year') GROUP BY chartevents.charttime::date ORDER BY chartevents.charttime::date ASC"
a8572111c6db24cf56d0391e,Is patient 10010471's sodium value last measured on the last hospital visit greater than the value first measured on the last hospital visit?,SELECT ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) ORDER BY labevents.charttime ASC LIMIT 1 ),"[{""( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) ORDER BY labevents.charttime DESC LIMIT 1 ) > ( SELECT labevents.valuenum FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10010471 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'sodium' ) ORDER BY labevents.charttime ASC LIMIT 1 )"": None}]",SELECT (max(sodium_value) > min(sodium_value)) AS result FROM (SELECT CASE WHEN chartevents.itemid = (SELECT itemid FROM d_items WHERE label = 'SODIUM') THEN chartevents.valuenum END AS sodium_value FROM chartevents INNER JOIN admissions ON chartevents.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10010471 AND chartevents.charttime BETWEEN admissions.admittime AND admissions.dischtime) AS sodium_data
243503fcb552e825a3b62d0c,Is the patient 10018423 a male or female?,SELECT patients.gender FROM patients WHERE patients.subject_id = 10018423,[{'gender': 'M'}],SELECT admissions.gender FROM admissions WHERE admissions.subject_id = 10018423
47dbc50e60c6491af7433121,Find out the number of drugs given to patient 10039997 since 02/2100.,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.hadm_id IN( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-02'",[{'COUNT(*)': 59}],SELECT COUNT(*) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10039997 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.category = 'Medications' ) AND chartevents.charttime >= '02/2100'
38cab6c7f7f7fe731b55ebde,What is the code that corresponds to icd-11 for ac dvt/emb distl low ext in icd-10?,,,
60e23877ec81a6c1b852706e,When pantoprazole and vial were prescribed to patient 10021312 for the first time at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'pantoprazole' AND admissions.subject_id = 10021312 ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'vial' AND admissions.subject_id = 10021312 ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],SELECT admissions.admittime FROM admissions INNER JOIN prescriptions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.subject_id = 10021312 AND prescriptions.item = 'PANTOPRAZOLE' AND prescriptions.formulary_drug_cd = 'VIAL' AND prescriptions.startdate = ( SELECT prescriptions.startdate FROM prescriptions WHERE prescriptions.item = 'PANTOPRAZOLE' AND prescriptions.formulary_drug_cd = 'VIAL' AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021312 ) GROUP BY prescriptions.startdate ORDER BY COUNT(*) DESC LIMIT 1 )
eeb43c515ff535d263e55711,"What is the minimum total cost of hospitalization that includes the reticulocyte count, absolute laboratory test since 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT labevents.hadm_id FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'reticulocyte count, absolute' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(hospital_cost.total_cost) FROM hospital_cost INNER JOIN labevents ON hospital_cost.hadm_id = labevents.hadm_id WHERE labevents.itemid = 2205877 AND labevents.charttime >= '2100-01-01'
a0ba285d46d08d5da3b63d69,Which are the top four most common lab tests since 2100?,"SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T1.itemid FROM ( SELECT labevents.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM labevents WHERE strftime('%Y',labevents.charttime) >= '2100' GROUP BY labevents.itemid ) AS T1 WHERE T1.C1 <= 4 )","[{'label': 'Creatinine'}, {'label': 'Urea Nitrogen'}, {'label': 'Hematocrit'}, {'label': 'Platelet Count'}]",
26befa90776e4ef7c35488fc,What were the top five diagnoses with the highest 3-month mortality rate?,"SELECT d_icd_diagnoses.long_title FROM d_icd_diagnoses WHERE d_icd_diagnoses.icd_code IN ( SELECT T4.icd_code FROM ( SELECT T3.icd_code, DENSE_RANK() OVER ( ORDER BY T3.C2 ASC ) AS C3 FROM ( SELECT T2.icd_code, AVG(C1) AS C2 FROM ( SELECT T1.icd_code, ( CASE WHEN strftime('%J',patients.dod) - strftime('%J',T1.charttime) < 1 * 365/4 THEN 0 ELSE 1 END ) as C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.icd_code, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE strftime('%J',current_time) - strftime('%J',diagnoses_icd.charttime) >= 1 * 365/4 GROUP BY admissions.subject_id, diagnoses_icd.icd_code HAVING MIN(diagnoses_icd.charttime) = diagnoses_icd.charttime ) AS T1 JOIN patients ON T1.subject_id = patients.subject_id ) AS T2 GROUP BY T2.icd_code ) AS T3 ) AS T4 WHERE T4.C3 <= 5 )",,"SELECT icd9, COUNT(*) AS deaths, COUNT(*) / CAST(SUM(CASE WHEN<=90 THEN 1 ELSE 0 END) AS REAL) AS mortality_rate FROM ( SELECT hadm_id, admittime, dischtime, icd9, ROW_NUMBER() OVER (PARTITION BY hadm_id ORDER BY dischtime) as row_num FROM diagnoses_icd WHERE hadm_id IN ( SELECT hadm_id FROM diagnoses_icd WHERE icd9 IN ( SELECT icd9 FROM diagnoses_icd WHERE icd9 LIKE 'E%' OR icd9 LIKE 'V%' ) ) ) t WHERE row_num = 1 GROUP BY icd9 ORDER BY mortality_rate DESC LIMIT 5"
4e9096d82b904f68fcb8006c,What is the average value of creatinine on patient 10023117?,SELECT AVG(labevents.valuenum) FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatinine' ),[{'AVG(labevents.valuenum)': None}],SELECT AVG(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10023117 ) AND chartevents.itemid = ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'creatinine' )
567c419acd4847f820befc6f,"How many people were diagnosed with depressive disorder, not elsewhere classified in 2100?","SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'depressive disorder, not elsewhere classified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' )",,SELECT COUNT(DISTINCT hadm_id) FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE admissions.admittime LIKE '2100%' AND diagnoses_icd.icd_code = '311'
935c667c51ade2f8d9a18b79,"Calculate the number of inspection of larynx, via natural or artificial opening endoscopic procedures performed since 2100.","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'inspection of larynx, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,
5459dfb5c9c49adbe57a0564,Can you tell me the average total hospital cost that involves oxycodone sr (oxycontin)?,SELECT AVG(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'oxycodone sr (oxycontin)' ) GROUP BY cost.hadm_id ) AS T1,,SELECT AVG(costs.totalcost) FROM costs INNER JOIN d_items ON costs.itemid = d_items.itemid WHERE d_items.label LIKE '%oxycodone sr%' OR d_items.label LIKE '%oxycontin%'
d668c80dc28d9c4f1a984524,Does patient 73693 have any travel history abroad?,,,
c8b66e1569afc7477b2048fb,What was the last drug that patient 10019917 had been prescribed via the sc route on the first hospital encounter?,SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'sc' ORDER BY prescriptions.starttime DESC LIMIT 1,[],SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.subject_id = 10019917 AND prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10019917 ORDER BY admissions.admittime ASC LIMIT 1 ) AND prescriptions.route = 'SC' ORDER BY prescriptions.startdate DESC LIMIT 1
b555ee213c4e95edc4e8b7e9,How many hours has it been since the first time that patient 10021487 was diagnosed with acute and subacute necrosis of liver in this hospital visit?,"SELECT 24 * ( strftime('%J',current_time) - strftime('%J', diagnoses_icd.charttime) ) FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute and subacute necrosis of liver' ) AND diagnoses_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY diagnoses_icd.charttime ASC LIMIT 1",,SELECT julianday('now') - julianday(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.shortcut = 'ANL' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1
05a9aa5bb494b962444ac354,What was the dose of docusate sodium (liquid) that was last prescribed to patient 10016742 since 03/2100?,"SELECT prescriptions.dose_val_rx FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10016742 ) AND prescriptions.drug = 'docusate sodium (liquid)' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03' ORDER BY prescriptions.starttime DESC LIMIT 1",[],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10016742 AND prescriptions.drug LIKE '%docusate sodium%' AND prescriptions.formulary_drug_cd = 'LIQUID' AND datetime(prescriptions.startdate) >= datetime('03/2100') ORDER BY prescriptions.startdate DESC LIMIT 1
4712867863ba837a91019c8f,When furosemide and albuterol inhaler were prescribed to patient 10037975 for the first time in 02/this year at the same time?,"SELECT T1.starttime FROM ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'furosemide' AND admissions.subject_id = 10037975 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '02' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE prescriptions.drug = 'albuterol inhaler' AND admissions.subject_id = 10037975 AND datetime(prescriptions.starttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',prescriptions.starttime) = '02' ) AS T2 ON T1.subject_id = T2.subject_id WHERE datetime(T1.starttime) = datetime(T2.starttime) ORDER BY T1.starttime ASC LIMIT 1",[],
db32ddeefc60ef2e085d547a,What is the common method for taking nystatin cream?,SELECT DISTINCT prescriptions.route FROM prescriptions WHERE prescriptions.drug = 'nystatin cream',[],
412c53a53a3b1c06f1f68772,What was the time it took for patient 13528 to undergo c.a.t. scan of thorax?,,,SELECT MIN(chartevents.charttime) - MAX(admissions.admittime) as time_difference FROM admissions JOIN chartevents ON admissions.hadm_id = chartevents.hadm_id WHERE admissions.subject_id = 13528 AND chartevents.itemid = ( SELECT itemid FROM d_items WHERE label = 'c.a.t. scan of thorax' )
98703366748022f38c396dfa,How much is the difference of patient 10027602's heart rate second measured on the last ICU visit compared to the value first measured on the last ICU visit?,SELECT ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 ),"[{""( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 OFFSET 1 ) - ( SELECT chartevents.valuenum FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime DESC LIMIT 1 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'heart rate' AND d_items.linksto = 'chartevents' ) ORDER BY chartevents.charttime ASC LIMIT 1 )"": None}]",SELECT (t2.valuenum - t1.valuenum) as heart_rate_difference FROM chartevents t1 JOIN chartevents t2 ON t1.hadm_id = t2.hadm_id WHERE t1.subject_id = 10027602 AND t1.icustay_id = ( SELECT icustays.icustay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027602 ) ORDER BY icustays.intime DESC LIMIT 1 ) AND t1.itemid = 220045 AND t2.subject_id = 10027602 AND t2.icustay_id = t1.icustay_id AND t2.itemid = 220045 AND t2.charttime > t1.charttime ORDER BY t2.charttime ASC LIMIT 1
f22796c3c0a1bd93d011883d,Has patient 10038999 experienced any surgeries?,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10038999 ),[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM surgeries WHERE surgeries.subject_id = 10038999
eec94693605289856658f678,Show me the daily maximum weight of patient 10003046 in 01/this year.,"SELECT MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.stay_id IN ( SELECT icustays.stay_id FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND datetime(chartevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',chartevents.charttime) = '01' GROUP BY strftime('%Y-%m-%d',chartevents.charttime)",[],"SELECT DATE(chartevents.charttime), MAX(chartevents.valuenum) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10003046 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'daily weight' AND d_items.linksto = 'chartevents' ) AND chartevents.charttime >= '2022-01-01 00:00:00' AND chartevents.charttime < '2022-02-01 00:00:00' GROUP BY DATE(chartevents.charttime)"
0063d54603cf0f791a4f2d03,Has patient 10027445 had a right heart cardiac catheterization procedure in 2100?,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'right heart cardiac catheterization' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10027445 ) AND YEAR(procedures_icd.chartdate) = 2100
08afa3fcbebe341dfdf62b15,Can you find the three most frequent drugs that were prescribed during the same month after a gastro-esophageal reflux disease without esophagitis diagnosis was given since 2100?,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'gastro-esophageal reflux disease without esophagitis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE strftime('%Y',prescriptions.starttime) >= '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T1.charttime,'start of month') = datetime(T2.starttime,'start of month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT itemid, count(*) FROM prescriptions WHERE hadm_id IN (SELECT hadm_id FROM admissions WHERE subject_id IN (SELECT subject_id FROM diagnoses_icd WHERE ICD9_CODE = '530.81')) AND admittime >= '2100-01-01' GROUP BY itemid ORDER BY count(*) DESC LIMIT 3"
7fafde7941ee8321b6875326,"Tell me the number of cases of dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic that occurred in 2100.","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' ) AND strftime('%Y',procedures_icd.charttime) = '2100'",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.admittime BETWEEN '2021-01-01' AND '2021-12-31' ) AND procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of lower esophagus with intraluminal device, via natural or artificial opening endoscopic' )"
0bcf658b419c2cb56787d659,Tell me the insurance plan in place for patient 10005909 in the first hospital encounter.,SELECT admissions.insurance FROM admissions WHERE admissions.subject_id = 10005909 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime ASC LIMIT 1,[{'insurance': 'Other'}],SELECT insurance.planname FROM insurance WHERE insurance.subject_id = 10005909 AND insurance.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10005909 ORDER BY admissions.admittime ASC LIMIT 1 )
6ee1790753b54f997c67b31c,"What are the five most frequently given lab tests for patients that were diagnosed with dislocation of jaw, initial encounter previously during the same hospital visit, since 1 year ago?","SELECT d_labitems.label FROM d_labitems WHERE d_labitems.itemid IN ( SELECT T3.itemid FROM ( SELECT T2.itemid, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime, admissions.hadm_id FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'dislocation of jaw, initial encounter' ) AND datetime(diagnoses_icd.charttime) >= datetime(current_time,'-1 year') ) AS T1 JOIN ( SELECT admissions.subject_id, labevents.itemid, labevents.charttime, admissions.hadm_id FROM labevents JOIN admissions ON labevents.hadm_id = admissions.hadm_id WHERE datetime(labevents.charttime) >= datetime(current_time,'-1 year') ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND T1.hadm_id = T2.hadm_id GROUP BY T2.itemid ) AS T3 WHERE T3.C1 <= 5 )",,"SELECT labevents.itemid, d_labitems.label, COUNT(*) AS frequency FROM admissions JOIN icustays ON admissions.hadm_id = icustays.hadm_id JOIN labevents ON icustays.stay_id = labevents.stay_id JOIN d_labitems ON labevents.itemid = d_labitems.itemid WHERE admissions.subject_id IN ( SELECT subject_id FROM admissions JOIN diagnoses_icd ON admissions.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = 'S03.000A' AND diagnoses_icd.icd_version = 10 AND admissions.admittime >= datetime(current_time,'-1 year') ) GROUP BY labevents.itemid ORDER BY frequency DESC LIMIT 5"
e4f4aa529c397e3b7d0ddcd2,"What is the minimum total hospital cost for a person with jaundice, unspecified, not of newborn since 2100?","SELECT MIN(T1.C1) FROM ( SELECT SUM(cost.cost) AS C1 FROM cost WHERE cost.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'jaundice, unspecified, not of newborn' ) ) AND strftime('%Y',cost.chargetime) >= '2100' GROUP BY cost.hadm_id ) AS T1",,SELECT MIN(hospital_charges.total_charges) FROM hospital_charges INNER JOIN diagnoses_icd ON hospital_charges.hadm_id = diagnoses_icd.hadm_id WHERE diagnoses_icd.icd_code = '270.00' AND diagnoses_icd.icd_version = 9 AND diagnoses_icd.icd_code != '771.2'
f98f47f9d3ab7a1af147e5ac,How many prescriptions for nifedipine cr were made since 1 year ago?,"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'nifedipine cr' AND datetime(prescriptions.starttime) >= datetime(current_time,'-1 year')",[{'COUNT(*)': 0}],"SELECT COUNT(*) FROM prescriptions WHERE prescriptions.drug = 'nifedipine cr' AND prescriptions.startdate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"
c13460734de88497b6d17501,How many people were diagnosed with acute kidney failure with lesion of tubular necrosis since 2100?,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT diagnoses_icd.hadm_id FROM diagnoses_icd WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'acute kidney failure with lesion of tubular necrosis' ) AND strftime('%Y',diagnoses_icd.charttime) >= '2100' )",,
861a7b73edbd60ca44e59f7c,"How many patients with candidal stomatitis were diagnosed in the same month after previously being diagnosed with anxiety disorder, unspecified in 2100?","SELECT COUNT( DISTINCT T1.subject_id ) FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'anxiety disorder, unspecified' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T1 JOIN ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'candidal stomatitis' ) AND strftime('%Y',diagnoses_icd.charttime) = '2100' ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.charttime AND datetime(T1.charttime,'start of month') = datetime(T2.charttime,'start of month')",,SELECT COUNT(*) FROM admissions WHERE month(admissions.admittime) = month((SELECT admissions.admittime FROM admissions WHERE admissions.subject_id IN (SELECT icustays.subject_id FROM icustays WHERE icustays.hadm_id IN (SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN (SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'anxiety disorder unspecified'))) AND admissions.admittime > '2100-01-01')) AND admissions.subject_id IN (SELECT icustays.subject_id FROM icustays WHERE icustays.hadm_id IN (SELECT procedures_icd.hadm_id FROM procedures_icd WHERE procedures_icd.icd_code IN (SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.short_title = 'candidal stomatitis'))) AND admissions.admittime > '2100-01-01'
8b1866c740133c63f16df25c,What's the percentile of 153.0 in a creatine kinase (ck) lab test at the same age as patient 10024043 on the last hospital encounter?,"SELECT DISTINCT T1.C1 FROM ( SELECT labevents.valuenum, PERCENT_RANK() OVER ( ORDER BY labevents.valuenum ) AS C1 FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'creatine kinase (ck)' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.age = ( SELECT admissions.age FROM admissions WHERE admissions.subject_id = 10024043 AND admissions.dischtime IS NOT NULL ORDER BY admissions.admittime DESC LIMIT 1 ) ) ) AS T1 WHERE T1.valuenum = 153.0",,
4d8620a9b634b4449be0b4bd,What exactly was the last drug that patient 10021118 was prescribed since 12/2100?,"SELECT prescriptions.drug FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-12' ORDER BY prescriptions.starttime DESC LIMIT 1",[{'drug': 'Furosemide'}],SELECT prescriptions.drgid FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021118 ) AND datetime(prescriptions.startdate) >= '12/2100' ORDER BY prescriptions.startdate DESC LIMIT 1
30604ac94506d0892a2fd65e,"How many instances of the dilation of left common iliac vein with intraluminal device, percutaneous approach procedure were there during the last year?","SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND datetime(procedures_icd.charttime,'start of year') = datetime(current_time,'start of year','-1 year')",,"SELECT COUNT(*) FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'dilation of left common iliac vein with intraluminal device, percutaneous approach' ) AND procedures_icd.chartdate >= date(current_date, '-1 year')"
6c892975c433bd0b8960e8d5,What was the amount of lidocaine 1% dose prescribed to patient 10001217 since 03/2100?,"SELECT SUM(prescriptions.dose_val_rx) FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10001217 ) AND prescriptions.drug = 'lidocaine 1%' AND strftime('%Y-%m',prescriptions.starttime) >= '2100-03'",[{'SUM(prescriptions.dose_val_rx)': None}],SELECT prescriptions.dose FROM prescriptions WHERE prescriptions.subject_id = 10001217 AND prescriptions.drug LIKE 'LIDOCAINE 1%' AND prescriptions.startdate >= '03/2100' LIMIT 1
d080d1e38919b6a529de708c,When did patient 10015931 first have the minimum amount of ph in 12/this year?,"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'ph' ) AND datetime(labevents.charttime,'start of year') = datetime(current_time,'start of year','-0 year') AND strftime('%m',labevents.charttime) = '12' ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1",[],"SELECT labevents.charttime FROM labevents WHERE labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10015931 ) AND labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.name = 'ph' ) AND STRFTIME('%m/%Y', labevents.charttime) = '12/%Y' ORDER BY labevents.valuenum ASC, labevents.charttime ASC LIMIT 1"
870ff7dd4c46ed086c2c0376,Calculate patient 10007928's length of stay in days for the first ICU stay.,"SELECT strftime('%J', icustays.outtime) - strftime('%J', icustays.intime) FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) AND icustays.outtime IS NOT NULL ORDER BY icustays.intime ASC LIMIT 1","[{""strftime('%J', icustays.outtime) - strftime('%J', icustays.intime)"": 2.859664352145046}]","SELECT TIMESTAMPDIFF(HOUR,icustays.intime,icustays.outtime)/24 AS days FROM icustays WHERE icustays.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10007928 ) ORDER BY icustays.intime ASC LIMIT 1"
27c48e778f2f116680270dd6,Give me the top three most frequently prescribed drugs within 2 months for patients in their 20s who were diagnosed with long-term (current) use of anticoagulants.,"SELECT T3.drug FROM ( SELECT T2.drug, DENSE_RANK() OVER ( ORDER BY COUNT(*) DESC ) AS C1 FROM ( SELECT admissions.subject_id, diagnoses_icd.charttime FROM diagnoses_icd JOIN admissions ON diagnoses_icd.hadm_id = admissions.hadm_id WHERE diagnoses_icd.icd_code = ( SELECT d_icd_diagnoses.icd_code FROM d_icd_diagnoses WHERE d_icd_diagnoses.long_title = 'long-term (current) use of anticoagulants' ) ) AS T1 JOIN ( SELECT admissions.subject_id, prescriptions.drug, prescriptions.starttime FROM prescriptions JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE admissions.age BETWEEN 20 AND 29 ) AS T2 ON T1.subject_id = T2.subject_id WHERE T1.charttime < T2.starttime AND datetime(T2.starttime) BETWEEN datetime(T1.charttime) AND datetime(T1.charttime,'+2 month') GROUP BY T2.drug ) AS T3 WHERE T3.C1 <= 3",,"SELECT top 3 drugs.drug_name, COUNT(*) as prescription_count FROM prescriptions JOIN patients ON prescriptions.subject_id = patients.subject_id JOIN admissions ON prescriptions.hadm_id = admissions.hadm_id WHERE patients.dob BETWEEN '1983-01-01' AND '1999-12-31' AND admissions.admittime >= datetime(current_time,'-2 month') AND drugs.drug_class = 'anticoagulants' AND admissions.adm_type = 'ELECTIVE' GROUP BY drugs.drug_name ORDER BY prescription_count DESC LIMIT 3"
4c5c196bc7d2b79d1ed73ecf,Has any medication been prescribed to patient 10020786 since 07/2100?,"SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10020786 ) AND strftime('%Y-%m',prescriptions.starttime) >= '2100-07'",[{'COUNT(*)>0': 1}],SELECT COUNT(*)>0 FROM prescriptions WHERE prescriptions.subject_id = 10020786 AND datetime(prescriptions.startdate) >= datetime('2000-07-01')
e9f3ecc3ec11c4b3396e2825,"Has patient 10004720 received the procedure of a introduction of nutritional substance into upper gi, via natural or artificial opening since 2100?","SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into upper gi, via natural or artificial opening' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND strftime('%Y',procedures_icd.charttime) >= '2100'",,"SELECT COUNT(*)>0 FROM procedures_icd WHERE procedures_icd.icd_code = ( SELECT d_icd_procedures.icd_code FROM d_icd_procedures WHERE d_icd_procedures.long_title = 'introduction of nutritional substance into upper gi, via natural or artificial opening' ) AND procedures_icd.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10004720 ) AND procedures_icd.chartdate >= '2100-01-01'"
0920f71c3325e1a9f1fa383b,Count the number of patients who took neutra-phos in 2100.,"SELECT COUNT( DISTINCT admissions.subject_id ) FROM admissions WHERE admissions.hadm_id IN ( SELECT prescriptions.hadm_id FROM prescriptions WHERE prescriptions.drug = 'neutra-phos' AND strftime('%Y',prescriptions.starttime) = '2100' )",[{'COUNT( DISTINCT admissions.subject_id )': 0}],SELECT COUNT(*) FROM prescriptions WHERE prescriptions.subject_id IN ( SELECT patients.subject_id FROM patients WHERE patients.dob = '2100-01-01' ) AND prescriptions.drug LIKE 'neutra-phos%'
7d2d2036da24495b7017dd89,"What is the total number of days that have passed since patient 10021487's first potassium, whole blood lab test in their current hospital visit?","SELECT 1 * ( strftime('%J',current_time) - strftime('%J', labevents.charttime) ) FROM labevents WHERE labevents.itemid IN ( SELECT d_labitems.itemid FROM d_labitems WHERE d_labitems.label = 'potassium, whole blood' ) AND labevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 AND admissions.dischtime IS NULL ) ORDER BY labevents.charttime ASC LIMIT 1",[],"SELECT MIN(chartevents.charttime) FROM chartevents WHERE chartevents.hadm_id IN ( SELECT admissions.hadm_id FROM admissions WHERE admissions.subject_id = 10021487 ) AND chartevents.itemid IN ( SELECT d_items.itemid FROM d_items WHERE d_items.label = 'potassium, whole blood' AND d_items.linksto = 'chartevents' ) AS first_test_time SELECT DATEDIFF(CURRENT_DATE, first_test_time) AS days_since_first_test"
